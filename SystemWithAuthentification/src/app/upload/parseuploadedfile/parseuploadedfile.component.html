<ng-container *ngIf='topdisplay; else loadingtop'>
	<mat-grid-list cols="9" rowHeight="100px">
		<mat-grid-tile [colspan]="3">
			<button mat-mini-fab color="primary" class="visbutton" matTooltip="{{displaydescbutton}}"
				(click)="displayTransactionInput()">{{displaybutton}}</button>
		</mat-grid-tile>
		<mat-grid-tile [colspan]="3">
			<button mat-mini-fab color="primary" class="submit-btn" (click)="fetchInformation()"
				matTooltip="{{loadfromdatabase}}">
				{{load}}
			</button>
		</mat-grid-tile>
		<mat-grid-tile [colspan]="3">
			<button mat-mini-fab color="primary" class="submitbutton" matTooltip="{{parsedescbutton}}"
				(click)="submitParse()">{{parsebutton}}</button>
		</mat-grid-tile>
	</mat-grid-list>
	<ng-container *ngIf='repdisplay; else loading'>
		<form [formGroup]="parseinfoform" class="infoform">
			<mat-grid-list cols="8" rowHeight="100px">
				<mat-grid-tile [colspan]="8">
					<mat-form-field class="title">
						<mat-label>{{annoinfo['dataset:DescriptionTitle'][rdfslabel]}}</mat-label>
						<input matInput formControlName="DescriptionTitle">
						<mat-hint>{{annoinfo['dataset:DescriptionTitle'][rdfscomment]}}</mat-hint>
					</mat-form-field>
				</mat-grid-tile>
				<mat-grid-tile [colspan]="4">
					<mat-form-field appearance="fill" class="fileformat">
						<mat-label>{{annoinfo['dataset:FileSourceFormat'][rdfslabel]}}</mat-label>
						<mat-select formControlName="FileSourceFormat">
							<mat-option *ngFor="let choice of filesourcetypechoices" [value]="choice">{{choice}}
							</mat-option>
						</mat-select>
						<mat-hint>{{annoinfo['dataset:FileSourceFormat'][rdfscomment]}}</mat-hint>
					</mat-form-field>
				</mat-grid-tile>
				<mat-grid-tile [colspan]="4">
					<mat-form-field class="version">
						<mat-label>{{annoinfo['dataset:FilePartitionMethod'][rdfslabel]}}</mat-label>
						<input matInput formControlName="FilePartitionMethod" [readonly]="true">
						<mat-hint>{{annoinfo['dataset:FilePartitionMethod'][rdfscomment]}}</mat-hint>
					</mat-form-field>
				</mat-grid-tile>
				<!--
				<mat-grid-tile [colspan]="4">
					<mat-form-field class="version">
						<mat-label>{{annoinfo['dataset:DatasetCollectionObjectType'][rdfslabel]}}</mat-label>
						<input matInput formControlName="DatasetCollectionObjectType" [readonly]="true">
						<mat-hint>{{annoinfo['dataset:DatasetCollectionObjectType'][rdfscomment]}}</mat-hint>
					</mat-form-field>
				</mat-grid-tile>
				-->
				
			<mat-grid-tile [colspan]="3">
				<mat-form-field class="generic">
					<mat-label>{{annoinfo['dataset:CatalogObjectUniqueGenericLabel'][rdfslabel]}}</mat-label>
					<input matInput formControlName="CatalogObjectUniqueGenericLabel"
						placeholder="ThisSourceUniqueName'">
					<mat-hint>{{annoinfo['dataset:CatalogObjectUniqueGenericLabel'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>
			<mat-grid-tile [colspan]="3">
				<mat-form-field class="datasetname">
					<mat-label>{{annoinfo['dataset:DatasetName'][rdfslabel]}}</mat-label>
					<input matInput formControlName="DatasetName" placeholder="SourceSetData">
					<mat-hint>{{annoinfo['dataset:DatasetName'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>
			<mat-grid-tile [colspan]="2">
				<mat-form-field class="version">
					<mat-label>{{annoinfo['dataset:DatasetVersion'][rdfslabel]}}</mat-label>
					<input matInput formControlName="DatasetVersion" placeholder="1.0">
					<mat-hint>{{annoinfo['dataset:DatasetVersion'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>

				
				
				
			</mat-grid-list>
		</form>
	</ng-container>
	<ng-template #loading>
		<mat-grid-tile [colspan]="8" class="loading">
			<mat-label>{{nostaginginfo}}</mat-label>
		</mat-grid-tile>
	</ng-template>

	<ng-container *ngIf='repdisplay'>
		<app-gcsblobfileinformationstaging #gcs [(anno)]="repannoinfo"></app-gcsblobfileinformationstaging>
		<mat-divider></mat-divider>
		<mat-card>
			<mat-card-header>
				<mat-card-title-group class="title">
					<mat-card-subtitle>{{stagingprerequiitesubtitle}}</mat-card-subtitle>
				</mat-card-title-group>
			</mat-card-header>
			<mat-card-content>
				<app-firesytorecatalogid #prereqfirestoreid [(anno)]="repannoinfo"></app-firesytorecatalogid>
			</mat-card-content>
		</mat-card>
	</ng-container>
</ng-container>
<ng-template #loadingtop>
	<div>
		Loading: {{message}}
	</div>
</ng-template>