<ng-container *ngIf='annoinfo != null; else loading'>
	<form [formGroup]="uploadinfoform" class="infoform">

		<mat-grid-list cols="6" rowHeight="100px">
			<mat-grid-tile [colspan]="4">
				<mat-form-field class="filesourcetitle">
					<mat-label>{{annoinfo['dataset:DescriptionTitleFileStaging'][rdfslabel]}}</mat-label>
					<input matInput formControlName="FileSourceTitle">
					<mat-hint>{{annoinfo['dataset:DescriptionTitleFileStaging'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>
			<mat-grid-tile [colspan]="2">
				<mat-form-field class="namefield">
					<mat-label>{{annoinfo['dataset:FileSourceFormat'][rdfslabel]}}</mat-label>
					<input matInput formControlName="FileSourceFormat" [matMenuTriggerFor]="menu.childMenu"
						[readonly]="fixedtype">
					<mat-hint>{{annoinfo['dataset:FileSourceFormat'][rdfscomment]}}</mat-hint>
				</mat-form-field>
				<app-menu-item #menu [items]="items" (selectionEvent)="setFileFormat($event)"></app-menu-item>
			</mat-grid-tile>
			<mat-grid-tile [colspan]="6">
				<mat-form-field class="filesourcetitle">
					<mat-label>{{annoinfo['dataset:DescriptionAbstractFileStaging'][rdfslabel]}}</mat-label>
					<textarea matInput formControlName="FileSourceAbstract"></textarea>
					<mat-hint>{{annoinfo['dataset:DescriptionAbstractFileStaging'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>
			<!--
			<mat-grid-tile [colspan]="3">
				<mat-form-field class="generic">
					<mat-label>{{annoinfo['dataset:CatalogObjectUniqueGenericLabel'][rdfslabel]}}</mat-label>
					<input matInput formControlName="CatalogObjectUniqueGenericLabel"
						placeholder="ThisSourceUniqueName'">
					<mat-hint>{{annoinfo['dataset:CatalogObjectUniqueGenericLabel'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>
			<mat-grid-tile [colspan]="2">
				<mat-form-field class="datasetname">
					<mat-label>{{annoinfo['dataset:DatasetName'][rdfslabel]}}</mat-label>
					<input matInput formControlName="DatasetName" placeholder="SourceSetData">
					<mat-hint>{{annoinfo['dataset:DatasetName'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>
			<mat-grid-tile [colspan]="1">
				<mat-form-field class="version">
					<mat-label>{{annoinfo['dataset:DatasetVersion'][rdfslabel]}}</mat-label>
					<input matInput formControlName="DatasetVersion" placeholder="1.0">
					<mat-hint>{{annoinfo['dataset:DatasetVersion'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>
			-->
		</mat-grid-list>
	</form>
	<app-datasettransactionspecificationforcollection #transspec [(annoinfo)]="annoinfo"></app-datasettransactionspecificationforcollection>
	<app-keywordlistprimitive #keywords></app-keywordlistprimitive>
	<app-setofsitereferences #weblinks [(anno)]="annoinfo"></app-setofsitereferences>
	<app-setofdataobjectlinks #objectlinks [(anno)]="annoinfo"></app-setofdataobjectlinks>
	<app-datasetreference #references [(anno)]="annoinfo"></app-datasetreference>

</ng-container>
<ng-template #loading>
	<div>
		Repository: {{message}}
	</div>
</ng-template>