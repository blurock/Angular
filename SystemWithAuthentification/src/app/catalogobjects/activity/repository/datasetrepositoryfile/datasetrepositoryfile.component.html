<ng-container *ngIf='annoinfo != null; else loading'>
	<form [formGroup]="infoform">

		<mat-grid-list cols="6" rowHeight="100px">
			<mat-grid-tile [colspan]="6">
				<mat-form-field class="filesourcetitle">
					<mat-label>{{annoinfo['dataset:DescriptionTitleFileStaging'][rdfslabel]}}</mat-label>
					<input matInput formControlName="DescriptionTitleFileStaging">
					<mat-hint>{{annoinfo['dataset:DescriptionTitleFileStaging'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>
			<mat-grid-tile [colspan]="6">
				<mat-form-field class="filesourcetitle">
					<mat-label>{{annoinfo['dataset:DescriptionAbstractFileStaging'][rdfslabel]}}</mat-label>
					<textarea matInput formControlName="DescriptionAbstractFileStaging"></textarea>
					<mat-hint>{{annoinfo['dataset:DescriptionAbstractFileStaging'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>
			<mat-grid-tile [colspan]="3">
				<mat-form-field class="filesourcetitle">
					<mat-label>{{annoinfo['dataset:DatasetCollectionObjectType'][rdfslabel]}}</mat-label>
					<input matInput formControlName="DatasetCollectionObjectType">
					<mat-hint>{{annoinfo['dataset:DatasetCollectionObjectType'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>
			<ng-container *ngIf='catalogtypes != null;'>
			<mat-grid-tile [colspan]="3">
				<mat-form-field class="full-width">
					<mat-label>{{annoinfo['dataset:FileSourceFormat'][rdfslabel]}}</mat-label>
				    <mat-select [(ngModel)]="selectedValue" formControlName="FileSourceFormat" (ngModelChange)="selectionPicked($event)">
				      <mat-option *ngFor="let catalogtype of catalogtypes" [value]="catalogtype">
				        {{catalogtype.label}}
				      </mat-option>
				  </mat-select>
			  <mat-hint>{{annoinfo['dataset:FileSourceFormat'][rdfscomment]}}</mat-hint>
				</mat-form-field>
			</mat-grid-tile>
			</ng-container>
		</mat-grid-list>
	</form>
	<app-specificationfordataset #datasetspec [(annoinfo)]="annoinfo"></app-specificationfordataset>
	<app-keywordlistprimitive #keywords></app-keywordlistprimitive>
	<app-setofsitereferences #weblinks [(anno)]="annoinfo"></app-setofsitereferences>
	<app-setofdataobjectlinks #objectlinks [(anno)]="annoinfo"></app-setofdataobjectlinks>
	<app-datasetreference #references [(anno)]="annoinfo"></app-datasetreference>
</ng-container>
<ng-template #loading>
	<div>
		Repository: {{message}}
	</div>
</ng-template>