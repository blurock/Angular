"use strict";(self.webpackChunkSystemWithAuthentification=self.webpackChunkSystemWithAuthentification||[]).push([[179],{2011:(ht,Se,j)=>{j.d(Se,{Dh:()=>re,GT:()=>ae,cc:()=>Ce,hO:()=>ge,on:()=>q,pX:()=>ue,xv:()=>se});var n=j(4650),J=j(9260),B=j(8405);ht=j.hmd(ht);const ce=["ngOnDestroy"],ue=(Ae,Dt,Mt,sn={})=>new Proxy(Ae,{get:(ii,bn)=>Mt.runOutsideAngular(()=>{var ai;if(Ae[bn])return!(null===(ai=sn?.spy)||void 0===ai)&&ai.get&&sn.spy.get(bn,Ae[bn]),Ae[bn];if(ce.indexOf(bn)>-1)return()=>{};const Vt=Dt.toPromise().then(Mn=>{const _t=Mn&&Mn[bn];return"function"==typeof _t?_t.bind(Mn):_t&&_t.then?_t.then(pn=>Mt.run(()=>pn)):Mt.run(()=>_t)});return new Proxy(()=>{},{get:(Mn,_t)=>Vt[_t],apply:(Mn,_t,pn)=>Vt.then(xt=>{var Sn;const ut=xt&&xt(...pn);return!(null===(Sn=sn?.spy)||void 0===Sn)&&Sn.apply&&sn.spy.apply(bn,pn,ut),ut})})})}),ae=(Ae,Dt)=>{Dt.forEach(Mt=>{Object.getOwnPropertyNames(Mt.prototype||Mt).forEach(sn=>{Object.defineProperty(Ae.prototype,sn,Object.getOwnPropertyDescriptor(Mt.prototype||Mt,sn))})})};class ne{constructor(Dt){return Dt}}const re=new n.OlP("angularfire2.app.options"),se=new n.OlP("angularfire2.app.name");function q(Ae,Dt,Mt){const ii="object"==typeof Mt&&Mt||{};ii.name=ii.name||"string"==typeof Mt&&Mt||"[DEFAULT]";const ai=J.Z.apps.filter(Vt=>Vt&&Vt.name===ii.name)[0]||Dt.runOutsideAngular(()=>J.Z.initializeApp(Ae,ii));try{JSON.stringify(Ae)!==JSON.stringify(ai.options)&&z("error",`${ai.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(ai)}const z=(Ae,...Dt)=>{(0,n.X6Q)()&&typeof console<"u"&&console[Ae](...Dt)},K={provide:ne,useFactory:q,deps:[re,n.R0b,[new n.FiY,se]]};let ge=(()=>{class Ae{constructor(Mt){J.Z.registerVersion("angularfire",B.q4.full,"core"),J.Z.registerVersion("angularfire",B.q4.full,"app-compat"),J.Z.registerVersion("angular",n.q4F.full,Mt.toString())}static initializeApp(Mt,sn){return{ngModule:Ae,providers:[{provide:re,useValue:Mt},{provide:se,useValue:sn}]}}}return Ae.\u0275fac=function(Mt){return new(Mt||Ae)(n.LFG(n.Lbi))},Ae.\u0275mod=n.oAB({type:Ae}),Ae.\u0275inj=n.cJS({providers:[K]}),Ae})();function Ce(Ae,Dt,Mt,sn,ii){const[,bn,ai]=globalThis.\u0275AngularfireInstanceCache.find(Vt=>Vt[0]===Ae)||[];if(bn)return function Ee(Ae,Dt){try{return Ae.toString()===Dt.toString()}catch{return Ae===Dt}}(ii,ai)||(ye("error",`${Dt} was already initialized on the ${Mt} Firebase App with different settings.${Ie?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:ii,was:ai})),bn;{const Vt=sn();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Vt,ii]),Vt}}const Ie=!!ht.hot,ye=(Ae,...Dt)=>{(0,n.X6Q)()&&typeof console<"u"&&console[Ae](...Dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8405:(ht,Se,j)=>{j.d(Se,{q4:()=>Og,iC:()=>Pg,fc:()=>Ia,HU:()=>bi,vb:()=>Zh,JM:()=>Dp});var n=j(4650),J=j(259),B=j(5861),ce=j(6881),ue=j(2090),ae=j(4859),ne=j(1877);let se,q;const ge=new WeakMap,Ce=new WeakMap,Ee=new WeakMap,Ie=new WeakMap,ye=new WeakMap;let Mt={get(D,A,k){if(D instanceof IDBTransaction){if("done"===A)return Ce.get(D);if("objectStoreNames"===A)return D.objectStoreNames||Ee.get(D);if("store"===A)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return ai(D[A])},set:(D,A,k)=>(D[A]=k,!0),has:(D,A)=>D instanceof IDBTransaction&&("done"===A||"store"===A)||A in D};function bn(D){return"function"==typeof D?function ii(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...A){return D.apply(Vt(this),A),ai(ge.get(this))}:function(...A){return ai(D.apply(Vt(this),A))}:function(A,...k){const H=D.call(Vt(this),A,...k);return Ee.set(H,A.sort?A.sort():[A]),ai(H)}}(D):(D instanceof IDBTransaction&&function Dt(D){if(Ce.has(D))return;const A=new Promise((k,H)=>{const ee=()=>{D.removeEventListener("complete",le),D.removeEventListener("error",be),D.removeEventListener("abort",be)},le=()=>{k(),ee()},be=()=>{H(D.error||new DOMException("AbortError","AbortError")),ee()};D.addEventListener("complete",le),D.addEventListener("error",be),D.addEventListener("abort",be)});Ce.set(D,A)}(D),((D,A)=>A.some(k=>D instanceof k))(D,function z(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Mt):D)}function ai(D){if(D instanceof IDBRequest)return function Ae(D){const A=new Promise((k,H)=>{const ee=()=>{D.removeEventListener("success",le),D.removeEventListener("error",be)},le=()=>{k(ai(D.result)),ee()},be=()=>{H(D.error),ee()};D.addEventListener("success",le),D.addEventListener("error",be)});return A.then(k=>{k instanceof IDBCursor&&ge.set(k,D)}).catch(()=>{}),ye.set(A,D),A}(D);if(Ie.has(D))return Ie.get(D);const A=bn(D);return A!==D&&(Ie.set(D,A),ye.set(A,D)),A}const Vt=D=>ye.get(D),pn=["get","getKey","getAll","getAllKeys","count"],xt=["put","add","delete","clear"],Sn=new Map;function ut(D,A){if(!(D instanceof IDBDatabase)||A in D||"string"!=typeof A)return;if(Sn.get(A))return Sn.get(A);const k=A.replace(/FromIndex$/,""),H=A!==k,ee=xt.includes(k);if(!(k in(H?IDBIndex:IDBObjectStore).prototype)||!ee&&!pn.includes(k))return;const le=function(){var be=(0,B.Z)(function*(Re,...Ye){const dt=this.transaction(Re,ee?"readwrite":"readonly");let $t=dt.store;return H&&($t=$t.index(Ye.shift())),(yield Promise.all([$t[k](...Ye),ee&&dt.done]))[0]});return function(Ye){return be.apply(this,arguments)}}();return Sn.set(A,le),le}!function sn(D){Mt=D(Mt)}(D=>({...D,get:(A,k,H)=>ut(A,k)||D.get(A,k,H),has:(A,k)=>!!ut(A,k)||D.has(A,k)}));const Wo="@firebase/installations",ja="w:0.6.4",Li="FIS_v2",Ai=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Bi(D){return D instanceof ue.ZR&&D.code.includes("request-failed")}function Qi({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ha(D){return{token:D.token,requestStatus:2,expiresIn:qe(D.expiresIn),creationTime:Date.now()}}function Kr(D,A){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,B.Z)(function*(D,A){const H=(yield A.json()).error;return Ai.create("request-failed",{requestName:D,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Wi({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ho(D,{refreshToken:A}){const k=Wi(D);return k.append("Authorization",function es(D){return`${Li} ${D}`}(A)),k}function Ki(D){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,B.Z)(function*(D){const A=yield D();return A.status>=500&&A.status<600?D():A})).apply(this,arguments)}function qe(D){return Number(D.replace("s","000"))}function tt(D,A){return br.apply(this,arguments)}function br(){return(br=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:A},{fid:k}){const H=Qi(D),ee=Wi(D),le=A.getImmediate({optional:!0});if(le){const dt=yield le.getHeartbeatsHeader();dt&&ee.append("x-firebase-client",dt)}const Re={method:"POST",headers:ee,body:JSON.stringify({fid:k,authVersion:Li,appId:D.appId,sdkVersion:ja})},Ye=yield Ki(()=>fetch(H,Re));if(Ye.ok){const dt=yield Ye.json();return{fid:dt.fid||k,registrationStatus:2,refreshToken:dt.refreshToken,authToken:Ha(dt.authToken)}}throw yield Kr("Create Installation",Ye)})).apply(this,arguments)}function wi(D){return new Promise(A=>{setTimeout(A,D)})}const Xo=/^[cdef][\w-]{21}$/;function hi(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function Wn(D){return function Ei(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Xo.test(k)?k:""}catch{return""}}function Nn(D){return`${D.appName}!${D.appId}`}const ft=new Map;function St(D,A){const k=Nn(D);Ir(k,A),function lr(D,A){const k=function Kn(){return!It&&"BroadcastChannel"in self&&(It=new BroadcastChannel("[Firebase] FID Change"),It.onmessage=D=>{Ir(D.data.key,D.data.fid)}),It}();k&&k.postMessage({key:D,fid:A}),function on(){0===ft.size&&It&&(It.close(),It=null)}()}(k,A)}function Ir(D,A){const k=ft.get(D);if(k)for(const H of k)H(A)}let It=null;const fi="firebase-installations-store";let pi=null;function ts(){return pi||(pi=function Mn(D,A,{blocked:k,upgrade:H,blocking:ee,terminated:le}={}){const be=indexedDB.open(D,A),Re=ai(be);return H&&be.addEventListener("upgradeneeded",Ye=>{H(ai(be.result),Ye.oldVersion,Ye.newVersion,ai(be.transaction))}),k&&be.addEventListener("blocked",()=>k()),Re.then(Ye=>{le&&Ye.addEventListener("close",()=>le()),ee&&Ye.addEventListener("versionchange",()=>ee())}).catch(()=>{}),Re}("firebase-installations-database",1,{upgrade:(D,A)=>{0===A&&D.createObjectStore(fi)}})),pi}function vr(D,A){return ns.apply(this,arguments)}function ns(){return(ns=(0,B.Z)(function*(D,A){const k=Nn(D),ee=(yield ts()).transaction(fi,"readwrite"),le=ee.objectStore(fi),be=yield le.get(k);return yield le.put(A,k),yield ee.done,(!be||be.fid!==A.fid)&&St(D,A.fid),A})).apply(this,arguments)}function fo(D){return is.apply(this,arguments)}function is(){return(is=(0,B.Z)(function*(D){const A=Nn(D),H=(yield ts()).transaction(fi,"readwrite");yield H.objectStore(fi).delete(A),yield H.done})).apply(this,arguments)}function Xi(D,A){return po.apply(this,arguments)}function po(){return(po=(0,B.Z)(function*(D,A){const k=Nn(D),ee=(yield ts()).transaction(fi,"readwrite"),le=ee.objectStore(fi),be=yield le.get(k),Re=A(be);return void 0===Re?yield le.delete(k):yield le.put(Re,k),yield ee.done,Re&&(!be||be.fid!==Re.fid)&&St(D,Re.fid),Re})).apply(this,arguments)}function X(D){return $.apply(this,arguments)}function $(){return($=(0,B.Z)(function*(D){let A;const k=yield Xi(D.appConfig,H=>{const ee=V(H),le=U(D,ee);return A=le.registrationPromise,le.installationEntry});return""===k.fid?{installationEntry:yield A}:{installationEntry:k,registrationPromise:A}})).apply(this,arguments)}function V(D){return xe(D||{fid:hi(),registrationStatus:0})}function U(D,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ai.create("app-offline"))};const k={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},H=function F(D,A){return ie.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:H}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:De(D)}:{installationEntry:A}}function ie(){return(ie=(0,B.Z)(function*(D,A){try{const k=yield tt(D,A);return vr(D.appConfig,k)}catch(k){throw Bi(k)&&409===k.customData.serverCode?yield fo(D.appConfig):yield vr(D.appConfig,{fid:A.fid,registrationStatus:0}),k}})).apply(this,arguments)}function De(D){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,B.Z)(function*(D){let A=yield gt(D.appConfig);for(;1===A.registrationStatus;)yield wi(100),A=yield gt(D.appConfig);if(0===A.registrationStatus){const{installationEntry:k,registrationPromise:H}=yield X(D);return H||k}return A})).apply(this,arguments)}function gt(D){return Xi(D,A=>{if(!A)throw Ai.create("installation-not-found");return xe(A)})}function xe(D){return function Ke(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function ot(D,A){return vn.apply(this,arguments)}function vn(){return(vn=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:A},k){const H=qt(D,k),ee=ho(D,k),le=A.getImmediate({optional:!0});if(le){const dt=yield le.getHeartbeatsHeader();dt&&ee.append("x-firebase-client",dt)}const Re={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:ja,appId:D.appId}})},Ye=yield Ki(()=>fetch(H,Re));if(Ye.ok)return Ha(yield Ye.json());throw yield Kr("Generate Auth Token",Ye)})).apply(this,arguments)}function qt(D,{fid:A}){return`${Qi(D)}/${A}/authTokens:generate`}function In(D){return ms.apply(this,arguments)}function ms(){return(ms=(0,B.Z)(function*(D,A=!1){let k;const H=yield Xi(D.appConfig,le=>{if(!an(le))throw Ai.create("not-registered");const be=le.authToken;if(!A&&_n(be))return le;if(1===be.requestStatus)return k=pe(D,A),le;{if(!navigator.onLine)throw Ai.create("app-offline");const Re=Cn(le);return k=Ue(D,Re),Re}});return k?yield k:H.authToken})).apply(this,arguments)}function pe(D,A){return fe.apply(this,arguments)}function fe(){return(fe=(0,B.Z)(function*(D,A){let k=yield Le(D.appConfig);for(;1===k.authToken.requestStatus;)yield wi(100),k=yield Le(D.appConfig);const H=k.authToken;return 0===H.requestStatus?In(D,A):H})).apply(this,arguments)}function Le(D){return Xi(D,A=>{if(!an(A))throw Ai.create("not-registered");return function Cr(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Ue(D,A){return yt.apply(this,arguments)}function yt(){return(yt=(0,B.Z)(function*(D,A){try{const k=yield ot(D,A),H=Object.assign(Object.assign({},A),{authToken:k});return yield vr(D.appConfig,H),k}catch(k){if(!Bi(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const H=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield vr(D.appConfig,H)}else yield fo(D.appConfig);throw k}})).apply(this,arguments)}function an(D){return void 0!==D&&2===D.registrationStatus}function _n(D){return 2===D.requestStatus&&!function Vi(D){const A=Date.now();return A<D.creationTime||D.creationTime+D.expiresIn<A+36e5}(D)}function Cn(D){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:A})}function gs(){return(gs=(0,B.Z)(function*(D){const A=D,{installationEntry:k,registrationPromise:H}=yield X(A);return H?H.catch(console.error):In(A).catch(console.error),k.fid})).apply(this,arguments)}function qa(){return(qa=(0,B.Z)(function*(D,A=!1){const k=D;return yield Fn(k),(yield In(k,A)).token})).apply(this,arguments)}function Fn(D){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,B.Z)(function*(D){const{registrationPromise:A}=yield X(D);A&&(yield A)})).apply(this,arguments)}function kr(D){return Ai.create("missing-app-config-values",{valueName:D})}const rs="installations",Is=D=>{const A=D.getProvider("app").getImmediate(),k=function sp(D){if(!D||!D.options)throw kr("App Configuration");if(!D.name)throw kr("App Name");const A=["projectId","apiKey","appId"];for(const k of A)if(!D.options[k])throw kr(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(A);return{app:A,appConfig:k,heartbeatServiceProvider:(0,ce._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Ca=D=>{const A=D.getProvider("app").getImmediate(),k=(0,ce._getProvider)(A,rs).getImmediate();return{getId:()=>function Hr(D){return gs.apply(this,arguments)}(k),getToken:ee=>function Pl(D){return qa.apply(this,arguments)}(k,ee)}};(function Ys(){(0,ce._registerComponent)(new ae.wA(rs,Is,"PUBLIC")),(0,ce._registerComponent)(new ae.wA("installations-internal",Ca,"PRIVATE"))})(),(0,ce.registerVersion)(Wo,"0.6.4"),(0,ce.registerVersion)(Wo,"0.6.4","esm2017");const Mc="@firebase/remote-config",mi=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Bl{constructor(A,k,H,ee){this.client=A,this.storage=k,this.storageCache=H,this.logger=ee}isCachedDataFresh(A,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-k,ee=H<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ee}.`),ee}fetch(A){var k=this;return(0,B.Z)(function*(){const[H,ee]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(ee&&k.isCachedDataFresh(A.cacheMaxAgeMillis,H))return ee;A.eTag=ee&&ee.eTag;const le=yield k.client.fetch(A),be=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&be.push(k.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(be),le})()}}function fh(D=navigator){return D.languages&&D.languages[0]||D.language}class Ic{constructor(A,k,H,ee,le,be){this.firebaseInstallations=A,this.sdkVersion=k,this.namespace=H,this.projectId=ee,this.apiKey=le,this.appId=be}fetch(A){var k=this;return(0,B.Z)(function*(){const[H,ee]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Re={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Ye={sdk_version:k.sdkVersion,app_instance_id:H,app_instance_id_token:ee,app_id:k.appId,language_code:fh()},dt={method:"POST",headers:Re,body:JSON.stringify(Ye)},$t=fetch(be,dt),Kt=new Promise((Cs,hr)=>{A.signal.addEventListener(()=>{const Tr=new Error("The operation was aborted.");Tr.name="AbortError",hr(Tr)})});let Ft;try{yield Promise.race([$t,Kt]),Ft=yield $t}catch(Cs){let hr="fetch-client-network";throw"AbortError"===Cs?.name&&(hr="fetch-timeout"),mi.create(hr,{originalErrorMessage:Cs?.message})}let xi=Ft.status;const md=Ft.headers.get("ETag")||void 0;let Ii,al;if(200===Ft.status){let Cs;try{Cs=yield Ft.json()}catch(hr){throw mi.create("fetch-client-parse",{originalErrorMessage:hr?.message})}Ii=Cs.entries,al=Cs.state}if("INSTANCE_STATE_UNSPECIFIED"===al?xi=500:"NO_CHANGE"===al?xi=304:("NO_TEMPLATE"===al||"EMPTY_CONFIG"===al)&&(Ii={}),304!==xi&&200!==xi)throw mi.create("fetch-status",{httpStatus:xi});return{status:xi,eTag:md,config:Ii}})()}}class mh{constructor(A,k){this.client=A,this.storage=k}fetch(A){var k=this;return(0,B.Z)(function*(){const H=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(A,H)})()}attemptFetch(A,{throttleEndTimeMillis:k,backoffCount:H}){var ee=this;return(0,B.Z)(function*(){yield function ph(D,A){return new Promise((k,H)=>{const ee=Math.max(A-Date.now(),0),le=setTimeout(k,ee);D.addEventListener(()=>{clearTimeout(le),H(mi.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,k);try{const le=yield ee.client.fetch(A);return yield ee.storage.deleteThrottleMetadata(),le}catch(le){if(!function Lu(D){if(!(D instanceof ue.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}(le))throw le;const be={throttleEndTimeMillis:Date.now()+(0,ue.$s)(H),backoffCount:H+1};return yield ee.storage.setThrottleMetadata(be),ee.attemptFetch(A,be)}})()}}class gh{constructor(A,k,H,ee,le){this.app=A,this._client=k,this._storageCache=H,this._storage=ee,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ss(D,A){const k=D.target.error||void 0;return mi.create(A,{originalErrorMessage:k&&k?.message})}const mo="app_namespace_store";class vg{constructor(A,k,H,ee=function hp(){return new Promise((D,A)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=H=>{A(ss(H,"storage-open"))},k.onsuccess=H=>{D(H.target.result)},k.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(mo,{keyPath:"compositeKey"})}}catch(k){A(mi.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=A,this.appName=k,this.namespace=H,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var k=this;return(0,B.Z)(function*(){const H=yield k.openDbPromise;return new Promise((ee,le)=>{const Re=H.transaction([mo],"readonly").objectStore(mo),Ye=k.createCompositeKey(A);try{const dt=Re.get(Ye);dt.onerror=$t=>{le(ss($t,"storage-get"))},dt.onsuccess=$t=>{const Kt=$t.target.result;ee(Kt?Kt.value:void 0)}}catch(dt){le(mi.create("storage-get",{originalErrorMessage:dt?.message}))}})})()}set(A,k){var H=this;return(0,B.Z)(function*(){const ee=yield H.openDbPromise;return new Promise((le,be)=>{const Ye=ee.transaction([mo],"readwrite").objectStore(mo),dt=H.createCompositeKey(A);try{const $t=Ye.put({compositeKey:dt,value:k});$t.onerror=Kt=>{be(ss(Kt,"storage-set"))},$t.onsuccess=()=>{le()}}catch($t){be(mi.create("storage-set",{originalErrorMessage:$t?.message}))}})})()}delete(A){var k=this;return(0,B.Z)(function*(){const H=yield k.openDbPromise;return new Promise((ee,le)=>{const Re=H.transaction([mo],"readwrite").objectStore(mo),Ye=k.createCompositeKey(A);try{const dt=Re.delete(Ye);dt.onerror=$t=>{le(ss($t,"storage-delete"))},dt.onsuccess=()=>{ee()}}catch(dt){le(mi.create("storage-delete",{originalErrorMessage:dt?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class cr{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,B.Z)(function*(){const k=A.storage.getLastFetchStatus(),H=A.storage.getLastSuccessfulFetchTimestampMillis(),ee=A.storage.getActiveConfig(),le=yield k;le&&(A.lastFetchStatus=le);const be=yield H;be&&(A.lastSuccessfulFetchTimestampMillis=be);const Re=yield ee;Re&&(A.activeConfig=Re)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function ks(){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,B.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}let ys,wr;!function _h(){(0,ce._registerComponent)(new ae.wA("remote-config",function D(A,{instanceIdentifier:k}){const H=A.getProvider("app").getImmediate(),ee=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mi.create("registration-window");if(!(0,ue.hl)())throw mi.create("indexed-db-unavailable");const{projectId:le,apiKey:be,appId:Re}=H.options;if(!le)throw mi.create("registration-project-id");if(!be)throw mi.create("registration-api-key");if(!Re)throw mi.create("registration-app-id");const Ye=new vg(Re,H.name,k=k||"firebase"),dt=new cr(Ye),$t=new ne.Yd(Mc);$t.logLevel=ne.in.ERROR;const Kt=new Ic(ee,ce.SDK_VERSION,k,le,be,Re),Ft=new mh(Kt,Ye),xi=new Bl(Ft,Ye,dt,$t),md=new gh(H,xi,dt,Ye,$t);return function bg(D){const A=(0,ue.m9)(D);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(md),md},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Mc,"0.4.4"),(0,ce.registerVersion)(Mc,"0.4.4","esm2017")}();const fp=new WeakMap,zs=new WeakMap,Vl=new WeakMap,za=new WeakMap,Zt=new WeakMap;let pp={get(D,A,k){if(D instanceof IDBTransaction){if("done"===A)return zs.get(D);if("objectStoreNames"===A)return D.objectStoreNames||Vl.get(D);if("store"===A)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return ta(D[A])},set:(D,A,k)=>(D[A]=k,!0),has:(D,A)=>D instanceof IDBTransaction&&("done"===A||"store"===A)||A in D};function mp(D){return"function"==typeof D?function $a(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rs(){return wr||(wr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...A){return D.apply(Zl(this),A),ta(fp.get(this))}:function(...A){return ta(D.apply(Zl(this),A))}:function(A,...k){const H=D.call(Zl(this),A,...k);return Vl.set(H,A.sort?A.sort():[A]),ta(H)}}(D):(D instanceof IDBTransaction&&function eb(D){if(zs.has(D))return;const A=new Promise((k,H)=>{const ee=()=>{D.removeEventListener("complete",le),D.removeEventListener("error",be),D.removeEventListener("abort",be)},le=()=>{k(),ee()},be=()=>{H(D.error||new DOMException("AbortError","AbortError")),ee()};D.addEventListener("complete",le),D.addEventListener("error",be),D.addEventListener("abort",be)});zs.set(D,A)}(D),((D,A)=>A.some(k=>D instanceof k))(D,function Xy(){return ys||(ys=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,pp):D)}function ta(D){if(D instanceof IDBRequest)return function Vu(D){const A=new Promise((k,H)=>{const ee=()=>{D.removeEventListener("success",le),D.removeEventListener("error",be)},le=()=>{k(ta(D.result)),ee()},be=()=>{H(D.error),ee()};D.addEventListener("success",le),D.addEventListener("error",be)});return A.then(k=>{k instanceof IDBCursor&&fp.set(k,D)}).catch(()=>{}),Zt.set(A,D),A}(D);if(za.has(D))return za.get(D);const A=mp(D);return A!==D&&(za.set(D,A),Zt.set(A,D)),A}const Zl=D=>Zt.get(D);function Oe(D,A,{blocked:k,upgrade:H,blocking:ee,terminated:le}={}){const be=indexedDB.open(D,A),Re=ta(be);return H&&be.addEventListener("upgradeneeded",Ye=>{H(ta(be.result),Ye.oldVersion,Ye.newVersion,ta(be.transaction))}),k&&be.addEventListener("blocked",()=>k()),Re.then(Ye=>{le&&Ye.addEventListener("close",()=>le()),ee&&Ye.addEventListener("versionchange",()=>ee())}).catch(()=>{}),Re}function wn(D,{blocked:A}={}){const k=indexedDB.deleteDatabase(D);return A&&k.addEventListener("blocked",()=>A()),ta(k).then(()=>{})}const ko=["get","getKey","getAll","getAllKeys","count"],Qa=["put","add","delete","clear"],gi=new Map;function bh(D,A){if(!(D instanceof IDBDatabase)||A in D||"string"!=typeof A)return;if(gi.get(A))return gi.get(A);const k=A.replace(/FromIndex$/,""),H=A!==k,ee=Qa.includes(k);if(!(k in(H?IDBIndex:IDBObjectStore).prototype)||!ee&&!ko.includes(k))return;const le=function(){var be=(0,B.Z)(function*(Re,...Ye){const dt=this.transaction(Re,ee?"readwrite":"readonly");let $t=dt.store;return H&&($t=$t.index(Ye.shift())),(yield Promise.all([$t[k](...Ye),ee&&dt.done]))[0]});return function(Ye){return be.apply(this,arguments)}}();return gi.set(A,le),le}!function yh(D){pp=D(pp)}(D=>({...D,get:(A,k,H)=>bh(A,k)||D.get(A,k,H),has:(A,k)=>!!bh(A,k)||D.has(A,k)}));const kc="/firebase-messaging-sw.js",Ro="/firebase-cloud-messaging-push-scope",Zu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Cg="google.c.a.c_id",_i="google.c.a.c_l",w0="google.c.a.ts",ju="google.c.a.e";var yi=(()=>{return(D=yi||(yi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",yi;var D})();function No(D){const A=new Uint8Array(D);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rc(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(k),ee=new Uint8Array(H.length);for(let le=0;le<H.length;++le)ee[le]=H.charCodeAt(le);return ee}const Ns="fcm_token_details_db",Ch="fcm_token_object_Store";function wg(D){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,B.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Ns))return null;let A=null;return(yield Oe(Ns,5,{upgrade:(H=(0,B.Z)(function*(ee,le,be,Re){var Ye;if(le<2||!ee.objectStoreNames.contains(Ch))return;const dt=Re.objectStore(Ch),$t=yield dt.index("fcmSenderId").get(D);if(yield dt.clear(),$t)if(2===le){const Kt=$t;if(!Kt.auth||!Kt.p256dh||!Kt.endpoint)return;A={token:Kt.fcmToken,createTime:null!==(Ye=Kt.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:Kt.auth,p256dh:Kt.p256dh,endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:"string"==typeof Kt.vapidKey?Kt.vapidKey:No(Kt.vapidKey)}}}else if(3===le){const Kt=$t;A={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:No(Kt.auth),p256dh:No(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:No(Kt.vapidKey)}}}else if(4===le){const Kt=$t;A={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:No(Kt.auth),p256dh:No(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:No(Kt.vapidKey)}}}}),function(le,be,Re,Ye){return H.apply(this,arguments)})})).close(),yield wn(Ns),yield wn("fcm_vapid_details_db"),yield wn("undefined"),Nc(A)?A:null;var H}),Hu.apply(this,arguments)}function Nc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:A}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const qr="firebase-messaging-store";let qu=null;function Gu(){return qu||(qu=Oe("firebase-messaging-database",1,{upgrade:(D,A)=>{0===A&&D.createObjectStore(qr)}})),qu}function Ka(D){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,B.Z)(function*(D){const A=Ju(D),H=yield(yield Gu()).transaction(qr).objectStore(qr).get(A);if(H)return H;{const ee=yield wg(D.appConfig.senderId);if(ee)return yield Fc(D,ee),ee}})).apply(this,arguments)}function Fc(D,A){return ql.apply(this,arguments)}function ql(){return(ql=(0,B.Z)(function*(D,A){const k=Ju(D),ee=(yield Gu()).transaction(qr,"readwrite");return yield ee.objectStore(qr).put(A,k),yield ee.done,A})).apply(this,arguments)}function Yu(D){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,B.Z)(function*(D){const A=Ju(D),H=(yield Gu()).transaction(qr,"readwrite");yield H.objectStore(qr).delete(A),yield H.done})).apply(this,arguments)}function Ju({appConfig:D}){return D.appId}const Vn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function el(D,A){return si.apply(this,arguments)}function si(){return(si=(0,B.Z)(function*(D,A){const k=yield Ta(D),H=tl(A),ee={method:"POST",headers:k,body:JSON.stringify(H)};let le;try{le=yield(yield fetch(Qu(D.appConfig),ee)).json()}catch(be){throw Vn.create("token-subscribe-failed",{errorInfo:be?.toString()})}if(le.error)throw Vn.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw Vn.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function Dg(D,A){return zu.apply(this,arguments)}function zu(){return(zu=(0,B.Z)(function*(D,A){const k=yield Ta(D),H=tl(A.subscriptionOptions),ee={method:"PATCH",headers:k,body:JSON.stringify(H)};let le;try{le=yield(yield fetch(`${Qu(D.appConfig)}/${A.token}`,ee)).json()}catch(be){throw Vn.create("token-update-failed",{errorInfo:be?.toString()})}if(le.error)throw Vn.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw Vn.create("token-update-no-token");return le.token})).apply(this,arguments)}function Gl(D,A){return $u.apply(this,arguments)}function $u(){return($u=(0,B.Z)(function*(D,A){const H={method:"DELETE",headers:yield Ta(D)};try{const le=yield(yield fetch(`${Qu(D.appConfig)}/${A}`,H)).json();if(le.error)throw Vn.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(ee){throw Vn.create("token-unsubscribe-failed",{errorInfo:ee?.toString()})}})).apply(this,arguments)}function Qu({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Ta(D){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,B.Z)(function*({appConfig:D,installations:A}){const k=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function tl({p256dh:D,auth:A,endpoint:k,vapidKey:H}){const ee={web:{endpoint:k,auth:A,p256dh:D}};return H!==Zu&&(ee.web.applicationPubKey=H),ee}const Wu=6048e5;function Ku(D){return wh.apply(this,arguments)}function wh(){return(wh=(0,B.Z)(function*(D){const A=yield Xu(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:A.endpoint,auth:No(A.getKey("auth")),p256dh:No(A.getKey("p256dh"))},H=yield Ka(D.firebaseDependencies);if(H){if(xg(H.subscriptionOptions,k))return Date.now()>=H.createTime+Wu?Yl(D,{token:H.token,createTime:Date.now(),subscriptionOptions:k}):H.token;try{yield Gl(D.firebaseDependencies,H.token)}catch(ee){console.warn(ee)}return Dh(D.firebaseDependencies,k)}return Dh(D.firebaseDependencies,k)})).apply(this,arguments)}function Th(D){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,B.Z)(function*(D){const A=yield Ka(D.firebaseDependencies);A&&(yield Gl(D.firebaseDependencies,A.token),yield Yu(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Yl(D,A){return gp.apply(this,arguments)}function gp(){return(gp=(0,B.Z)(function*(D,A){try{const k=yield Dg(D.firebaseDependencies,A),H=Object.assign(Object.assign({},A),{token:k,createTime:Date.now()});return yield Fc(D.firebaseDependencies,H),k}catch(k){throw yield Th(D),k}})).apply(this,arguments)}function Dh(D,A){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,B.Z)(function*(D,A){const H={token:yield el(D,A),createTime:Date.now(),subscriptionOptions:A};return yield Fc(D,H),H.token})).apply(this,arguments)}function Xu(D,A){return _p.apply(this,arguments)}function _p(){return(_p=(0,B.Z)(function*(D,A){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rc(A)})})).apply(this,arguments)}function xg(D,A){return A.vapidKey===D.vapidKey&&A.endpoint===D.endpoint&&A.auth===D.auth&&A.p256dh===D.p256dh}function Lc(D){const A={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function ed(D,A){if(!A.notification)return;D.notification={};const k=A.notification.title;k&&(D.notification.title=k);const H=A.notification.body;H&&(D.notification.body=H);const ee=A.notification.image;ee&&(D.notification.image=ee);const le=A.notification.icon;le&&(D.notification.icon=le)}(A,D),function td(D,A){!A.data||(D.data=A.data)}(A,D),function nl(D,A){var k,H,ee,le,be;if(!(A.fcmOptions||null!==(k=A.notification)&&void 0!==k&&k.click_action))return;D.fcmOptions={};const Re=null!==(ee=null===(H=A.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==ee?ee:null===(le=A.notification)||void 0===le?void 0:le.click_action;Re&&(D.fcmOptions.link=Re);const Ye=null===(be=A.fcmOptions)||void 0===be?void 0:be.analytics_label;Ye&&(D.fcmOptions.analyticsLabel=Ye)}(A,D),A}function yp(D){return"object"==typeof D&&!!D&&Cg in D}function Da(D,A){const k=[];for(let H=0;H<D.length;H++)k.push(D.charAt(H)),H<A.length&&k.push(A.charAt(H));return k.join("")}function zl(D){return Vn.create("missing-app-config-values",{valueName:D})}Da("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Da("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $l{constructor(A,k,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function bp(D){if(!D||!D.options)throw zl("App Configuration Object");if(!D.name)throw zl("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const H of A)if(!k[H])throw zl(H);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ee,installations:k,analyticsProvider:H}}_delete(){return Promise.resolve()}}function nd(D){return go.apply(this,arguments)}function go(){return(go=(0,B.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(kc,{scope:Ro}),D.swRegistration.update().catch(()=>{})}catch(A){throw Vn.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function xa(D,A){return il.apply(this,arguments)}function il(){return(il=(0,B.Z)(function*(D,A){if(!A&&!D.swRegistration&&(yield nd(D)),A||!D.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");D.swRegistration=A}})).apply(this,arguments)}function xh(D,A){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,B.Z)(function*(D,A){A?D.vapidKey=A:D.vapidKey||(D.vapidKey=Zu)})).apply(this,arguments)}function Bc(){return(Bc=(0,B.Z)(function*(D,A){if(!navigator)throw Vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vn.create("permission-blocked");return yield xh(D,A?.vapidKey),yield xa(D,A?.serviceWorkerRegistration),Ku(D)})).apply(this,arguments)}function $s(D,A,k){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,B.Z)(function*(D,A,k){const H=Aa(A);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:k[Cg],message_name:k[_i],message_time:k[w0],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Aa(D){switch(D){case yi.NOTIFICATION_CLICKED:return"notification_open";case yi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Fo(){return(Fo=(0,B.Z)(function*(D,A){const k=A.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===yi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Lc(k)):D.onMessageHandler.next(Lc(k)));const H=k.data;yp(H)&&"1"===H[ju]&&(yield $s(D,k.messageType,H))})).apply(this,arguments)}const Wl="@firebase/messaging",id=D=>{const A=new $l(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Sh(D,A){return Fo.apply(this,arguments)}(A,k)),A},Ah=D=>{const A=D.getProvider("messaging").getImmediate();return{getToken:H=>function Ql(D,A){return Bc.apply(this,arguments)}(A,H)}};function Kl(){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,B.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sg(){(0,ce._registerComponent)(new ae.wA("messaging",id,"PUBLIC")),(0,ce._registerComponent)(new ae.wA("messaging-internal",Ah,"PRIVATE")),(0,ce.registerVersion)(Wl,"0.12.4"),(0,ce.registerVersion)(Wl,"0.12.4","esm2017")}();const sl="analytics",na="firebase_id",vp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ia="https://www.googletagmanager.com/gtag/js",ji=new ne.Yd("@firebase/analytics"),Gr=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function qc(D){if(!D.startsWith(ia)){const A=Gr.create("invalid-gtag-resource",{gtagURL:D});return ji.warn(A.message),""}return D}function Po(D){return Promise.all(D.map(A=>A.catch(k=>k)))}function Gc(D,A){const k=function ib(D,A){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(D,A)),k}("firebase-js-sdk-policy",{createScriptURL:qc}),H=document.createElement("script"),ee=`${ia}?l=${D}&id=${A}`;H.src=k?k?.createScriptURL(ee):ee,H.async=!0,document.head.appendChild(H)}function Eg(D,A,k,H,ee,le){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,B.Z)(function*(D,A,k,H,ee,le){const be=H[ee];try{if(be)yield A[be];else{const Ye=(yield Po(k)).find(dt=>dt.measurementId===ee);Ye&&(yield A[Ye.appId])}}catch(Re){ji.error(Re)}D("config",ee,le)})).apply(this,arguments)}function x0(D,A,k,H,ee){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,B.Z)(function*(D,A,k,H,ee){try{let le=[];if(ee&&ee.send_to){let be=ee.send_to;Array.isArray(be)||(be=[be]);const Re=yield Po(k);for(const Ye of be){const dt=Re.find(Kt=>Kt.measurementId===Ye),$t=dt&&A[dt.appId];if(!$t){le=[];break}le.push($t)}}0===le.length&&(le=Object.values(A)),yield Promise.all(le),D("event",H,ee||{})}catch(le){ji.error(le)}})).apply(this,arguments)}function Ih(D){const A=window.document.getElementsByTagName("script");for(const k of Object.values(A))if(k.src&&k.src.includes(ia)&&k.src.includes(D))return k;return null}const ur=new class kh{constructor(A={},k=1e3){this.throttleMetadata=A,this.intervalMillis=k}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,k){this.throttleMetadata[A]=k}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Ti(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Qs(D){return rd.apply(this,arguments)}function rd(){return(rd=(0,B.Z)(function*(D){var A;const{appId:k,apiKey:H}=D,ee={method:"GET",headers:Ti(H)},le=vp.replace("{app-id}",k),be=yield fetch(le,ee);if(200!==be.status&&304!==be.status){let Re="";try{const Ye=yield be.json();null!==(A=Ye.error)&&void 0!==A&&A.message&&(Re=Ye.error.message)}catch{}throw Gr.create("config-fetch-failed",{httpStatus:be.status,responseMessage:Re})}return be.json()})).apply(this,arguments)}function Ig(D){return dr.apply(this,arguments)}function dr(){return(dr=(0,B.Z)(function*(D,A=ur,k){const{appId:H,apiKey:ee,measurementId:le}=D.options;if(!H)throw Gr.create("no-app-id");if(!ee){if(le)return{measurementId:le,appId:H};throw Gr.create("no-api-key")}const be=A.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new Jc;return setTimeout((0,B.Z)(function*(){Re.abort()}),void 0!==k?k:6e4),_o({appId:H,apiKey:ee,measurementId:le},be,Re,A)})).apply(this,arguments)}function _o(D,A,k){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,B.Z)(function*(D,{throttleEndTimeMillis:A,backoffCount:k},H,ee=ur){var le;const{appId:be,measurementId:Re}=D;try{yield sd(H,A)}catch(Ye){if(Re)return ji.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:be,measurementId:Re};throw Ye}try{const Ye=yield Qs(D);return ee.deleteThrottleMetadata(be),Ye}catch(Ye){const dt=Ye;if(!od(dt)){if(ee.deleteThrottleMetadata(be),Re)return ji.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${dt?.message}]`),{appId:be,measurementId:Re};throw Ye}const $t=503===Number(null===(le=dt?.customData)||void 0===le?void 0:le.httpStatus)?(0,ue.$s)(k,ee.intervalMillis,30):(0,ue.$s)(k,ee.intervalMillis),Kt={throttleEndTimeMillis:Date.now()+$t,backoffCount:k+1};return ee.setThrottleMetadata(be,Kt),ji.debug(`Calling attemptFetch again in ${$t} millis`),_o(D,Kt,H,ee)}})).apply(this,arguments)}function sd(D,A){return new Promise((k,H)=>{const ee=Math.max(A-Date.now(),0),le=setTimeout(k,ee);D.addEventListener(()=>{clearTimeout(le),H(Gr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function od(D){if(!(D instanceof ue.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}class Jc{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Nh,cd;function ld(){return(ld=(0,B.Z)(function*(D,A,k,H,ee){if(ee&&ee.global)D("event",k,H);else{const le=yield A;D("event",k,Object.assign(Object.assign({},H),{send_to:le}))}})).apply(this,arguments)}function Fh(D){cd=D}function kg(D){Nh=D}function Pn(){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,B.Z)(function*(){if(!(0,ue.hl)())return ji.warn(Gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(D){return ji.warn(Gr.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function yo(){return(yo=(0,B.Z)(function*(D,A,k,H,ee,le,be){var Re;const Ye=Ig(D);Ye.then(xi=>{k[xi.measurementId]=xi.appId,D.options.measurementId&&xi.measurementId!==D.options.measurementId&&ji.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${xi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xi=>ji.error(xi)),A.push(Ye);const dt=Pn().then(xi=>{if(xi)return H.getId()}),[$t,Kt]=yield Promise.all([Ye,dt]);Ih(le)||Gc(le,$t.measurementId),cd&&(ee("consent","default",cd),Fh(void 0)),ee("js",new Date);const Ft=null!==(Re=be?.config)&&void 0!==Re?Re:{};return Ft.origin="firebase",Ft.update=!0,null!=Kt&&(Ft[na]=Kt),ee("config",$t.measurementId,Ft),Nh&&(ee("set",Nh),kg(void 0)),$t.measurementId})).apply(this,arguments)}class li{constructor(A){this.app=A}_delete(){return delete Ws[this.app.options.appId],Promise.resolve()}}let Ws={},Qc=[];const ol={};let Ea,as,ra="dataLayer",Ph=!1;function dd(D,A,k){!function ud(){const D=[];if((0,ue.ru)()&&D.push("This is a browser extension environment."),(0,ue.zI)()||D.push("Cookies are not available."),D.length>0){const A=D.map((H,ee)=>`(${ee+1}) ${H}`).join(" "),k=Gr.create("invalid-analytics-context",{errorInfo:A});ji.warn(k.message)}}();const H=D.options.appId;if(!H)throw Gr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Gr.create("no-api-key");ji.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ws[H])throw Gr.create("already-exists",{id:H});if(!Ph){!function $n(D){let A=[];Array.isArray(window[D])?A=window[D]:window[D]=A}(ra);const{wrappedGtag:le,gtagCore:be}=function S0(D,A,k,H,ee){let le=function(...be){window[H].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(le=window[ee]),window[ee]=function rb(D,A,k,H){function le(){return(le=(0,B.Z)(function*(be,...Re){try{if("event"===be){const[Ye,dt]=Re;yield x0(D,A,k,Ye,dt)}else if("config"===be){const[Ye,dt]=Re;yield Eg(D,A,k,H,Ye,dt)}else if("consent"===be){const[Ye]=Re;D("consent","update",Ye)}else if("get"===be){const[Ye,dt,$t]=Re;D("get",Ye,dt,$t)}else if("set"===be){const[Ye]=Re;D("set",Ye)}else D(be,...Re)}catch(Ye){ji.error(Ye)}})).apply(this,arguments)}return function ee(be){return le.apply(this,arguments)}}(le,D,A,k),{gtagCore:le,wrappedGtag:window[ee]}}(Ws,Qc,ol,ra,"gtag");as=le,Ea=be,Ph=!0}return Ws[H]=function Fe(D,A,k,H,ee,le,be){return yo.apply(this,arguments)}(D,Qc,ol,A,Ea,ra,k),new li(D)}function Rg(){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,B.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const Di="@firebase/analytics";!function Ng(){(0,ce._registerComponent)(new ae.wA(sl,(A,{options:k})=>dd(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ce._registerComponent)(new ae.wA("analytics-internal",function D(A){try{const k=A.getProvider(sl).getImmediate();return{logEvent:(H,ee,le)=>function sa(D,A,k,H){D=(0,ue.m9)(D),function ad(D,A,k,H,ee){return ld.apply(this,arguments)}(as,Ws[D.app.options.appId],A,k,H).catch(ee=>ji.error(ee))}(k,H,ee,le)}}catch(k){throw Gr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ce.registerVersion)(Di,"0.10.0"),(0,ce.registerVersion)(Di,"0.10.0","esm2017")}();var rc=j(341),fd=j(353),pd=j(2994),tn=j(7770),Tp=j(3334);const Og=new n.GfV("7.6.1"),yn="__angularfire_symbol__analyticsIsSupportedValue",Lt="__angularfire_symbol__analyticsIsSupported",Xc="__angularfire_symbol__remoteConfigIsSupportedValue",Uh="__angularfire_symbol__remoteConfigIsSupported",Mi="__angularfire_symbol__messagingIsSupportedValue",oa="__angularfire_symbol__messagingIsSupported";function Dp(D,A,k){if(A){if(1===A.length)return A[0];const le=A.filter(be=>be.app===k);if(1===le.length)return le[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[Lt]||(globalThis[Lt]=Rg().then(D=>globalThis[yn]=D).catch(()=>globalThis[yn]=!1)),globalThis[oa]||(globalThis[oa]=Kl().then(D=>globalThis[Mi]=D).catch(()=>globalThis[Mi]=!1)),globalThis[Uh]||(globalThis[Uh]=ks().then(D=>globalThis[Xc]=D).catch(()=>globalThis[Xc]=!1));const Zh=(D,A)=>{const k=A?[A]:(0,J.C6)(),H=[];return k.forEach(ee=>{ee.container.getProvider(D).instances.forEach(be=>{H.includes(be)||H.push(be)})}),H};function aa(){}class Ks{constructor(A,k=rc.N){this.zone=A,this.delegate=k}now(){return this.delegate.now()}schedule(A,k,H){const ee=this.zone;return this.delegate.schedule(function(be){ee.runGuarded(()=>{A.apply(this,[be])})},k,H)}}class Ma{constructor(A){this.zone=A,this.task=null}call(A,k){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aa,{},aa,aa)),k.pipe((0,pd.b)({next:H,complete:H,error:H})).subscribe(A).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bi=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Ks(Zone.current)),this.insideAngular=k.run(()=>new Ks(Zone.current,fd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(n.LFG(n.R0b))},D.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function tr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ia(D){return D.pipe((0,tn.QV)(tr().outsideAngular))}function Pg(D){return tr(),function tu(D){return function(k){return(k=k.lift(new Ma(D.ngZone))).pipe((0,Tp.R)(D.outsideAngular),(0,tn.QV)(D.insideAngular))}}(tr())(D)}},9781:(ht,Se,j)=>{j.d(Se,{$:()=>ql,A:()=>Tn,D:()=>js,I:()=>up,J:()=>Js,L:()=>Rs,N:()=>Cn,P:()=>Je,Q:()=>wn,R:()=>dd,U:()=>bh,V:()=>kc,W:()=>Ro,X:()=>gi,Y:()=>_i,Z:()=>w0,_:()=>Rc,a:()=>Ih,a0:()=>Xa,a1:()=>Tg,a2:()=>Dg,a3:()=>Pc,a4:()=>Wu,a5:()=>wh,a6:()=>Oo,a7:()=>gp,a8:()=>Jl,a9:()=>_p,aA:()=>qe,aB:()=>Ye,aC:()=>_n,aD:()=>Cr,aE:()=>H,aF:()=>Ma,aG:()=>Ks,aH:()=>Zi,aL:()=>kh,aO:()=>Wa,aa:()=>xg,ab:()=>ed,ac:()=>td,ad:()=>bp,ae:()=>$l,af:()=>go,ai:()=>Sa,aj:()=>Bc,ak:()=>$s,an:()=>Hu,ao:()=>Kl,aq:()=>Ag,ar:()=>ib,as:()=>tt,at:()=>ln,au:()=>Ou,av:()=>Ui,aw:()=>ka,ax:()=>Ft,ay:()=>Ga,az:()=>Wi,b:()=>rb,c:()=>Og,d:()=>Uh,e:()=>Lt,f:()=>lb,g:()=>xp,h:()=>E0,i:()=>cd,j:()=>A,k:()=>Gh,l:()=>hd,m:()=>Mp,o:()=>P0,p:()=>Ko,r:()=>vo,s:()=>Rg,u:()=>ic});var n=j(5861),J=j(2090),B=j(6881);function ne(v,m){var y={};for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&m.indexOf(w)<0&&(y[w]=v[w]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(w=Object.getOwnPropertySymbols(v);M<w.length;M++)m.indexOf(w[M])<0&&Object.prototype.propertyIsEnumerable.call(v,w[M])&&(y[w[M]]=v[w[M]])}return y}var ut=j(1877),Wo=j(4859);const Ko={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Tn={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const js=function Ec(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ri=function Fl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ai=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qi=new ut.Yd("@firebase/auth");function Kr(v,...m){Qi.logLevel<=ut.in.ERROR&&Qi.error(`Auth (${B.SDK_VERSION}): ${v}`,...m)}function Ui(v,...m){throw Xr(v,...m)}function Wi(v,...m){return Xr(v,...m)}function ho(v,m,y){const w=Object.assign(Object.assign({},ri()),{[m]:y});return new J.LL("auth","Firebase",w).create(m,{appName:v.name})}function Ki(v,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Ui(v,"argument-error"),ho(v,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xr(v,...m){if("string"!=typeof v){const y=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(y,...w)}return Ai.create(v,...m)}function qe(v,m,...y){if(!v)throw Xr(m,...y)}function es(v){const m="INTERNAL ASSERTION FAILED: "+v;throw Kr(m),new Error(m)}function tt(v,m){v||es(m)}function br(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function wi(){return"http:"===Ei()||"https:"===Ei()}function Ei(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class hi{constructor(m,y){this.shortDelay=m,this.longDelay=y,tt(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function Xo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wi()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wn(v,m){tt(v.emulator,"Emulator should always be set here");const{url:y}=v.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class Nn{static initialize(m,y,w){this.fetchImpl=m,y&&(this.headersImpl=y),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},St=new hi(3e4,6e4);function mt(v,m){return v.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:v.tenantId}):m}function On(v,m,y,w){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,n.Z)(function*(v,m,y,w,M={}){return lr(v,M,(0,n.Z)(function*(){let N={},Q={};w&&("GET"===m?Q=w:N={body:JSON.stringify(w)});const de=(0,J.xO)(Object.assign({key:v.config.apiKey},Q)).slice(1),Be=yield v._getAdditionalHeaders();return Be["Content-Type"]="application/json",v.languageCode&&(Be["X-Firebase-Locale"]=v.languageCode),Nn.fetch()(qs(v,v.config.apiHost,y,de),Object.assign({method:m,headers:Be,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function lr(v,m,y){return It.apply(this,arguments)}function It(){return(It=(0,n.Z)(function*(v,m,y){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},ft),m);try{const M=new An(v),N=yield Promise.race([y(),M.promise]);M.clearNetworkTimeout();const Q=yield N.json();if("needConfirmation"in Q)throw fi(v,"account-exists-with-different-credential",Q);if(N.ok&&!("errorMessage"in Q))return Q;{const de=N.ok?Q.errorMessage:Q.error.message,[Be,Me]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw fi(v,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Be)throw fi(v,"email-already-in-use",Q);if("USER_DISABLED"===Be)throw fi(v,"user-disabled",Q);const it=w[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Me)throw ho(v,it,Me);Ui(v,it)}}catch(M){if(M instanceof J.ZR)throw M;Ui(v,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function Kn(v,m,y,w){return on.apply(this,arguments)}function on(){return(on=(0,n.Z)(function*(v,m,y,w,M={}){const N=yield On(v,m,y,w,M);return"mfaPendingCredential"in N&&Ui(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function qs(v,m,y,w){const M=`${m}${y}?${w}`;return v.config.emulator?Wn(v.config,M):`${v.config.apiScheme}://${M}`}class An{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,w)=>{this.timer=setTimeout(()=>w(Wi(this.auth,"network-request-failed")),St.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fi(v,m,y){const w={appName:v.name};y.email&&(w.email=y.email),y.phoneNumber&&(w.phoneNumber=y.phoneNumber);const M=Wi(v,m,w);return M.customData._tokenResponse=y,M}function ts(){return(ts=(0,n.Z)(function*(v,m){return On(v,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function vr(v,m){return ns.apply(this,arguments)}function ns(){return(ns=(0,n.Z)(function*(v,m){return On(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function fo(v,m){return is.apply(this,arguments)}function is(){return(is=(0,n.Z)(function*(v,m){return On(v,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Xi(v){if(v)try{const m=new Date(Number(v));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function $(){return($=(0,n.Z)(function*(v,m=!1){const y=(0,J.m9)(v),w=yield y.getIdToken(m),M=U(w);qe(M&&M.exp&&M.auth_time&&M.iat,y.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,Q=N?.sign_in_provider;return{claims:M,token:w,authTime:Xi(V(M.auth_time)),issuedAtTime:Xi(V(M.iat)),expirationTime:Xi(V(M.exp)),signInProvider:Q||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function V(v){return 1e3*Number(v)}function U(v){const[m,y,w]=v.split(".");if(void 0===m||void 0===y||void 0===w)return Kr("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,J.tV)(y);return M?JSON.parse(M):(Kr("Failed to decode base64 JWT payload"),null)}catch(M){return Kr("Caught error parsing JWT payload as JSON",M?.toString()),null}}function ie(v,m){return De.apply(this,arguments)}function De(){return(De=(0,n.Z)(function*(v,m,y=!1){if(y)return m;try{return yield m}catch(w){throw w instanceof J.ZR&&Qe(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Qe({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class gt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,n.Z)(function*(){yield y.iteration()}),w)}iteration(){var m=this;return(0,n.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&m.schedule(!0))}m.schedule()})()}}class xe{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xi(this.lastLoginAt),this.creationTime=Xi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ke(v){return ot.apply(this,arguments)}function ot(){return(ot=(0,n.Z)(function*(v){var m;const y=v.auth,w=yield v.getIdToken(),M=yield ie(v,fo(y,{idToken:w}));qe(M?.users.length,y,"internal-error");const N=M.users[0];v._notifyReloadListener(N);const Q=null!==(m=N.providerUserInfo)&&void 0!==m&&m.length?ms(N.providerUserInfo):[],de=In(v.providerData,Q),it=!!v.isAnonymous&&!(v.email&&N.passwordHash||de?.length),nn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:de,metadata:new xe(N.createdAt,N.lastLoginAt),isAnonymous:it};Object.assign(v,nn)})).apply(this,arguments)}function qt(){return(qt=(0,n.Z)(function*(v){const m=(0,J.m9)(v);yield Ke(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function In(v,m){return[...v.filter(w=>!m.some(M=>M.providerId===w.providerId)),...m]}function ms(v){return v.map(m=>{var{providerId:y}=m,w=ne(m,["providerId"]);return{providerId:y,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function fe(){return(fe=(0,n.Z)(function*(v,m){const y=yield lr(v,{},(0,n.Z)(function*(){const w=(0,J.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:N}=v.config,Q=qs(v,M,"/v1/token",`key=${N}`),de=yield v._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",Nn.fetch()(Q,{method:"POST",headers:de,body:w})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){qe(m.idToken,"internal-error"),qe(typeof m.idToken<"u","internal-error"),qe(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function F(v){const m=U(v);return qe(m,"internal-error"),qe(typeof m.exp<"u","internal-error"),qe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var w=this;return(0,n.Z)(function*(){return qe(!w.accessToken||w.refreshToken,m,"user-token-expired"),y||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var w=this;return(0,n.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:Q}=yield function pe(v,m){return fe.apply(this,arguments)}(m,y);w.updateTokensAndExpiration(M,N,Number(Q))})()}updateTokensAndExpiration(m,y,w){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,y){const{refreshToken:w,accessToken:M,expirationTime:N}=y,Q=new Le;return w&&(qe("string"==typeof w,"internal-error",{appName:m}),Q.refreshToken=w),M&&(qe("string"==typeof M,"internal-error",{appName:m}),Q.accessToken=M),N&&(qe("number"==typeof N,"internal-error",{appName:m}),Q.expirationTime=N),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Le,this.toJSON())}_performRefresh(){return es("not implemented")}}function Ue(v,m){qe("string"==typeof v||typeof v>"u","internal-error",{appName:m})}class yt{constructor(m){var{uid:y,auth:w,stsTokenManager:M}=m,N=ne(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new xe(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,n.Z)(function*(){const w=yield ie(y,y.stsTokenManager.getToken(y.auth,m));return qe(w,y.auth,"internal-error"),y.accessToken!==w&&(y.accessToken=w,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),w})()}getIdTokenResult(m){return function X(v){return $.apply(this,arguments)}(this,m)}reload(){return function vn(v){return qt.apply(this,arguments)}(this)}_assign(m){this!==m&&(qe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const y=new yt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(m){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var w=this;return(0,n.Z)(function*(){let M=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),M=!0),y&&(yield Ke(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,n.Z)(function*(){const y=yield m.getIdToken();return yield ie(m,function pi(v,m){return ts.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var w,M,N,Q,de,Be,Me,it;const nn=null!==(w=y.displayName)&&void 0!==w?w:void 0,En=null!==(M=y.email)&&void 0!==M?M:void 0,cs=null!==(N=y.phoneNumber)&&void 0!==N?N:void 0,Lo=null!==(Q=y.photoURL)&&void 0!==Q?Q:void 0,$h=null!==(de=y.tenantId)&&void 0!==de?de:void 0,kp=null!==(Be=y._redirectEventId)&&void 0!==Be?Be:void 0,Rp=null!==(Me=y.createdAt)&&void 0!==Me?Me:void 0,yd=null!==(it=y.lastLoginAt)&&void 0!==it?it:void 0,{uid:Np,emailVerified:bd,isAnonymous:Qh,providerData:vd,stsTokenManager:ul}=y;qe(Np&&ul,m,"internal-error");const dl=Le.fromJSON(this.name,ul);qe("string"==typeof Np,m,"internal-error"),Ue(nn,m.name),Ue(En,m.name),qe("boolean"==typeof bd,m,"internal-error"),qe("boolean"==typeof Qh,m,"internal-error"),Ue(cs,m.name),Ue(Lo,m.name),Ue($h,m.name),Ue(kp,m.name),Ue(Rp,m.name),Ue(yd,m.name);const Wh=new yt({uid:Np,auth:m,email:En,emailVerified:bd,displayName:nn,isAnonymous:Qh,photoURL:Lo,phoneNumber:cs,tenantId:$h,stsTokenManager:dl,createdAt:Rp,lastLoginAt:yd});return vd&&Array.isArray(vd)&&(Wh.providerData=vd.map(Cd=>Object.assign({},Cd))),kp&&(Wh._redirectEventId=kp),Wh}static _fromIdTokenResponse(m,y,w=!1){return(0,n.Z)(function*(){const M=new Le;M.updateFromServerResponse(y);const N=new yt({uid:y.localId,auth:m,stsTokenManager:M,isAnonymous:w});return yield Ke(N),N})()}}const an=new Map;function _n(v){tt(v instanceof Function,"Expected a class definition");let m=an.get(v);return m?(tt(m instanceof v,"Instance stored in cache mismatched with class"),m):(m=new v,an.set(v,m),m)}const Cn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,n.Z)(function*(){return!0})()}_set(y,w){var M=this;return(0,n.Z)(function*(){M.storage[y]=w})()}_get(y){var w=this;return(0,n.Z)(function*(){const M=w.storage[y];return void 0===M?null:M})()}_remove(y){var w=this;return(0,n.Z)(function*(){delete w.storage[y]})()}_addListener(y,w){}_removeListener(y,w){}}return v.type="NONE",v})();function Cr(v,m,y){return`firebase:${v}:${m}:${y}`}class Hr{constructor(m,y,w){this.persistence=m,this.auth=y,this.userKey=w;const{config:M,name:N}=this.auth;this.fullUserKey=Cr(this.userKey,M.apiKey,N),this.fullPersistenceKey=Cr("persistence",M.apiKey,N),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,n.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?yt._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,n.Z)(function*(){if(y.persistence===m)return;const w=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,w?y.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,w="authUser"){return(0,n.Z)(function*(){if(!y.length)return new Hr(_n(Cn),m,w);const M=(yield Promise.all(y.map(function(){var Me=(0,n.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return Me.apply(this,arguments)}}()))).filter(Me=>Me);let N=M[0]||_n(Cn);const Q=Cr(w,m.config.apiKey,m.name);let de=null;for(const Me of y)try{const it=yield Me._get(Q);if(it){const nn=yt._fromJSON(m,it);Me!==N&&(de=nn),N=Me;break}}catch{}const Be=M.filter(Me=>Me._shouldAllowMigration);return N._shouldAllowMigration&&Be.length?(N=Be[0],de&&(yield N._set(Q,de.toJSON())),yield Promise.all(y.map(function(){var Me=(0,n.Z)(function*(it){if(it!==N)try{yield it._remove(Q)}catch{}});return function(it){return Me.apply(this,arguments)}}())),new Hr(N,m,w)):new Hr(N,m,w)})()}}function gs(v){const m=v.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Nu(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Pl(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(va(m))return"Blackberry";if(Fu(m))return"Webos";if(qa(m))return"Safari";if((m.includes("chrome/")||Fn(m))&&!m.includes("edge/"))return"Chrome";if(Ou(m))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Pl(v=(0,J.z$)()){return/firefox\//i.test(v)}function qa(v=(0,J.z$)()){const m=v.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Fn(v=(0,J.z$)()){return/crios\//i.test(v)}function Nu(v=(0,J.z$)()){return/iemobile/i.test(v)}function Ou(v=(0,J.z$)()){return/android/i.test(v)}function va(v=(0,J.z$)()){return/blackberry/i.test(v)}function Fu(v=(0,J.z$)()){return/webos/i.test(v)}function ln(v=(0,J.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Ga(v=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function sp(v=(0,J.z$)()){return ln(v)||Ou(v)||Fu(v)||va(v)||/windows phone/i.test(v)||Nu(v)}function rs(v,m=[]){let y;switch(v){case"Browser":y=gs((0,J.z$)());break;case"Worker":y=`${gs((0,J.z$)())}-${v}`;break;default:y=v}const w=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${B.SDK_VERSION}/${w}`}function Is(){return(Is=(0,n.Z)(function*(v){return(yield On(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ca(v,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,n.Z)(function*(v,m){return On(v,"GET","/v2/recaptchaConfig",mt(v,m))})).apply(this,arguments)}function Mc(v){return void 0!==v&&void 0!==v.getResponse}function op(v){return void 0!==v&&void 0!==v.enterprise}class ap{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function yg(v){return new Promise((m,y)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=m,w.onerror=M=>{const N=Wi("internal-error");N.customData=M,y(N)},w.type="text/javascript",w.charset="UTF-8",function _s(){var v,m;return null!==(m=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==m?m:document}().appendChild(w)})}function mi(v){return`__${v}${Math.floor(1e6*Math.random())}`}class lp{constructor(m){this.type="recaptcha-enterprise",this.auth=Zi(m)}verify(m="verify",y=!1){var w=this;return(0,n.Z)(function*(){function N(){return N=(0,n.Z)(function*(de){if(!y){if(null==de.tenantId&&null!=de._agentRecaptchaConfig)return de._agentRecaptchaConfig.siteKey;if(null!=de.tenantId&&void 0!==de._tenantRecaptchaConfigs[de.tenantId])return de._tenantRecaptchaConfigs[de.tenantId].siteKey}return new Promise(function(){var Be=(0,n.Z)(function*(Me,it){Ca(de,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(nn=>{if(void 0!==nn.recaptchaKey){const En=new ap(nn);return null==de.tenantId?de._agentRecaptchaConfig=En:de._tenantRecaptchaConfigs[de.tenantId]=En,Me(En.siteKey)}it(new Error("recaptcha Enterprise site key undefined"))}).catch(nn=>{it(nn)})});return function(Me,it){return Be.apply(this,arguments)}}())}),N.apply(this,arguments)}function Q(de,Be,Me){const it=window.grecaptcha;op(it)?it.enterprise.ready(()=>{it.enterprise.execute(de,{action:m}).then(nn=>{Be(nn)}).catch(()=>{Be("NO_RECAPTCHA")})}):Me(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((de,Be)=>{(function M(de){return N.apply(this,arguments)})(w.auth).then(Me=>{if(!y&&op(window.grecaptcha))Q(Me,de,Be);else{if(typeof window>"u")return void Be(new Error("RecaptchaVerifier is only supported in browser"));yg("https://www.google.com/recaptcha/enterprise.js?render="+Me).then(()=>{Q(Me,de,Be)}).catch(it=>{Be(it)})}}).catch(Me=>{Be(Me)})})})()}}function Io(v,m,y){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,n.Z)(function*(v,m,y,w=!1){const M=new lp(v);let N;try{N=yield M.verify(y)}catch{N=yield M.verify(y,!0)}const Q=Object.assign({},m);return Object.assign(Q,w?{captchaResp:N}:{captchaResponse:N}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}class v0{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const w=N=>new Promise((Q,de)=>{try{Q(m(N))}catch(Be){de(Be)}});w.onAbort=y,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,n.Z)(function*(){if(y.auth.currentUser===m)return;const w=[];try{for(const M of y.queue)yield M(m),M.onAbort&&w.push(M.onAbort)}catch(M){w.reverse();for(const N of w)try{N()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Wy{constructor(m,y,w,M){this.app=m,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=w,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bg(this),this.idTokenSubscription=new bg(this),this.beforeStateQueue=new v0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ai,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(m,y){var w=this;return y&&(this._popupRedirectResolver=_n(y)),this._initializationPromise=this.queue((0,n.Z)(function*(){var M,N;if(!w._deleted&&(w.persistenceManager=yield Hr.create(w,m),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(y),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,n.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,n.Z)(function*(){var w;const M=yield y.assertedPersistence.getCurrentUser();let N=M,Q=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const de=null===(w=y.redirectUser)||void 0===w?void 0:w._redirectEventId,Be=N?._redirectEventId,Me=yield y.tryRedirectSignIn(m);(!de||de===Be)&&Me?.user&&(N=Me.user,Q=!0)}if(!N)return y.directlySetCurrentUser(null);if(!N._redirectEventId){if(Q)try{yield y.beforeStateQueue.runMiddleware(N)}catch(de){N=M,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(de))}return N?y.reloadAndSetCurrentUserOrClear(N):y.directlySetCurrentUser(null)}return qe(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===N._redirectEventId?y.directlySetCurrentUser(N):y.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(m){var y=this;return(0,n.Z)(function*(){let w=null;try{w=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,n.Z)(function*(){try{yield Ke(m)}catch(w){if("auth/network-request-failed"!==w?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Hs(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var m=this;return(0,n.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,n.Z)(function*(){const w=m?(0,J.m9)(m):null;return w&&qe(w.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(w&&w._clone(y))})()}_updateCurrentUser(m,y=!1){var w=this;return(0,n.Z)(function*(){if(!w._deleted)return m&&qe(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),y||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,n.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,n.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,n.Z)(function*(){yield y.assertedPersistence.setPersistence(_n(m))}))}initializeRecaptchaConfig(){var m=this;return(0,n.Z)(function*(){const y=yield Ca(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new ap(y);null==m.tenantId?m._agentRecaptchaConfig=w:m._tenantRecaptchaConfigs[m.tenantId]=w,w.emailPasswordEnabled&&new lp(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new J.LL("auth","Firebase",m())}onAuthStateChanged(m,y,w){return this.registerStateListener(this.authStateSubscription,m,y,w)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,w){return this.registerStateListener(this.idTokenSubscription,m,y,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var w=this;return(0,n.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(y);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,n.Z)(function*(){if(!y.redirectPersistenceManager){const w=m&&_n(m)||y._popupRedirectResolver;qe(w,y,"argument-error"),y.redirectPersistenceManager=yield Hr.create(y,[_n(w._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,n.Z)(function*(){var w,M;return y._isInitialized&&(yield y.queue((0,n.Z)(function*(){}))),(null===(w=y._currentUser)||void 0===w?void 0:w._redirectEventId)===m?y._currentUser:(null===(M=y.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,n.Z)(function*(){if(m===y.currentUser)return y.queue((0,n.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,w,M){if(this._deleted)return()=>{};const N="function"==typeof y?y:y.next.bind(y),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return qe(Q,this,"internal-error"),Q.then(()=>N(this.currentUser)),"function"==typeof y?m.addObserver(y,w,M):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,n.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=rs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,n.Z)(function*(){var y;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();M&&(w["X-Firebase-Client"]=M);const N=yield m._getAppCheckToken();return N&&(w["X-Firebase-AppCheck"]=N),w})()}_getAppCheckToken(){var m=this;return(0,n.Z)(function*(){var y;const w=yield null===(y=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return w?.error&&function Ha(v,...m){Qi.logLevel<=ut.in.WARN&&Qi.warn(`Auth (${B.SDK_VERSION}): ${v}`,...m)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Zi(v){return(0,J.m9)(v)}class bg{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,J.ne)(y=>this.observer=y)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function up(v,m,y){const w=Zi(v);qe(w._canInitEmulator,w,"emulator-config-failed"),qe(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const M=!!y?.disableWarnings,N=dh(m),{host:Q,port:de}=function Ya(v){const m=dh(v),y=/(\/\/)?([^?#/]+)/.exec(v.substr(m.length));if(!y)return{host:"",port:null};const w=y[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const N=M[1];return{host:N,port:Ky(w.substr(N.length+1))}}{const[N,Q]=w.split(":");return{host:N,port:Ky(Q)}}}(m);w.config.emulator={url:`${N}//${Q}${null===de?"":`:${de}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Q,port:de,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function hh(){function v(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function dh(v){const m=v.indexOf(":");return m<0?"":v.substr(0,m+1)}function Ky(v){if(!v)return null;const m=Number(v);return isNaN(m)?null:m}class Js{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return es("not implemented")}_getIdTokenResponse(m){return es("not implemented")}_linkToIdToken(m,y){return es("not implemented")}_getReauthenticationResolver(m){return es("not implemented")}}function dp(v,m){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,n.Z)(function*(v,m){return On(v,"POST","/v1/accounts:resetPassword",mt(v,m))})).apply(this,arguments)}function fh(v,m){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,n.Z)(function*(v,m){return On(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ph(v,m){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,n.Z)(function*(v,m){return On(v,"POST","/v1/accounts:update",mt(v,m))})).apply(this,arguments)}function mh(v,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,n.Z)(function*(v,m){return Kn(v,"POST","/v1/accounts:signInWithPassword",mt(v,m))})).apply(this,arguments)}function Ja(v,m){return gh.apply(this,arguments)}function gh(){return(gh=(0,n.Z)(function*(v,m){return On(v,"POST","/v1/accounts:sendOobCode",mt(v,m))})).apply(this,arguments)}function ss(v,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,n.Z)(function*(v,m){return Ja(v,m)})).apply(this,arguments)}function Bu(v,m){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,n.Z)(function*(v,m){return Ja(v,m)})).apply(this,arguments)}function hp(v,m){return vg.apply(this,arguments)}function vg(){return(vg=(0,n.Z)(function*(v,m){return Ja(v,m)})).apply(this,arguments)}function cr(v,m){return _h.apply(this,arguments)}function _h(){return(_h=(0,n.Z)(function*(v,m){return Ja(v,m)})).apply(this,arguments)}function ea(){return(ea=(0,n.Z)(function*(v,m){return Kn(v,"POST","/v1/accounts:signInWithEmailLink",mt(v,m))})).apply(this,arguments)}function Uu(){return(Uu=(0,n.Z)(function*(v,m){return Kn(v,"POST","/v1/accounts:signInWithEmailLink",mt(v,m))})).apply(this,arguments)}class wa extends Js{constructor(m,y,w,M=null){super("password",w),this._email=m,this._password=y,this._tenantId=M}static _fromEmailAndPassword(m,y){return new wa(m,y,"password")}static _fromEmailAndCode(m,y,w=null){return new wa(m,y,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,n.Z)(function*(){var w;switch(y.signInMethod){case"password":const M={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=m._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const N=yield Io(m,M,"signInWithPassword");return mh(m,N)}return mh(m,M).catch(function(){var N=(0,n.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const de=yield Io(m,M,"signInWithPassword");return mh(m,de)}return Promise.reject(Q)});return function(Q){return N.apply(this,arguments)}}());case"emailLink":return function C0(v,m){return ea.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Ui(m,"internal-error")}})()}_linkToIdToken(m,y){var w=this;return(0,n.Z)(function*(){switch(w.signInMethod){case"password":return fh(m,{idToken:y,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function ks(v,m){return Uu.apply(this,arguments)}(m,{idToken:y,email:w._email,oobCode:w._password});default:Ui(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ys(v,m){return wr.apply(this,arguments)}function wr(){return(wr=(0,n.Z)(function*(v,m){return Kn(v,"POST","/v1/accounts:signInWithIdp",mt(v,m))})).apply(this,arguments)}class Rs extends Js{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new Rs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Ui("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:M}=y,N=ne(y,["providerId","signInMethod"]);if(!w||!M)return null;const Q=new Rs(w,M);return Q.idToken=N.idToken||void 0,Q.accessToken=N.accessToken||void 0,Q.secret=N.secret,Q.nonce=N.nonce,Q.pendingToken=N.pendingToken||null,Q}_getIdTokenResponse(m){return ys(m,this.buildRequest())}_linkToIdToken(m,y){const w=this.buildRequest();return w.idToken=y,ys(m,w)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,ys(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,J.xO)(y)}return m}}function fp(v,m){return zs.apply(this,arguments)}function zs(){return(zs=(0,n.Z)(function*(v,m){return On(v,"POST","/v1/accounts:sendVerificationCode",mt(v,m))})).apply(this,arguments)}function za(){return(za=(0,n.Z)(function*(v,m){return Kn(v,"POST","/v1/accounts:signInWithPhoneNumber",mt(v,m))})).apply(this,arguments)}function Vu(){return(Vu=(0,n.Z)(function*(v,m){const y=yield Kn(v,"POST","/v1/accounts:signInWithPhoneNumber",mt(v,m));if(y.temporaryProof)throw fi(v,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const eb={USER_NOT_FOUND:"user-not-found"};function yh(){return(yh=(0,n.Z)(function*(v,m){return Kn(v,"POST","/v1/accounts:signInWithPhoneNumber",mt(v,Object.assign(Object.assign({},m),{operation:"REAUTH"})),eb)})).apply(this,arguments)}class $a extends Js{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new $a({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new $a({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function Vl(v,m){return za.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function Zt(v,m){return Vu.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function pp(v,m){return yh.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:w,verificationCode:M}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:w,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:w,phoneNumber:M,temporaryProof:N}=m;return w||y||M||N?new $a({verificationId:y,verificationCode:w,phoneNumber:M,temporaryProof:N}):null}}class Zl{constructor(m){var y,w,M,N,Q,de;const Be=(0,J.zd)((0,J.pd)(m)),Me=null!==(y=Be.apiKey)&&void 0!==y?y:null,it=null!==(w=Be.oobCode)&&void 0!==w?w:null,nn=function mp(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Be.mode)&&void 0!==M?M:null);qe(Me&&it&&nn,"argument-error"),this.apiKey=Me,this.operation=nn,this.code=it,this.continueUrl=null!==(N=Be.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Q=Be.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(de=Be.tenantId)&&void 0!==de?de:null}static parseLink(m){const y=function ta(v){const m=(0,J.zd)((0,J.pd)(v)).link,y=m?(0,J.zd)((0,J.pd)(m)).deep_link_id:null,w=(0,J.zd)((0,J.pd)(v)).deep_link_id;return(w?(0,J.zd)((0,J.pd)(w)).link:null)||w||y||m||v}(m);try{return new Zl(y)}catch{return null}}}let wn=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(y,w){return wa._fromEmailAndPassword(y,w)}static credentialWithLink(y,w){const M=Zl.parseLink(w);return qe(M,"argument-error"),wa._fromEmailAndCode(y,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ko{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Qa extends ko{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class gi extends Qa{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return qe("providerId"in y&&"signInMethod"in y,"argument-error"),Rs._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return qe(m.idToken||m.accessToken,"argument-error"),Rs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return gi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return gi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:N,nonce:Q,providerId:de}=m;if(!w&&!M&&!y&&!N||!de)return null;try{return new gi(de)._credential({idToken:y,accessToken:w,nonce:Q,pendingToken:N})}catch{return null}}}let bh=(()=>{class v extends Qa{constructor(){super("facebook.com")}static credential(y){return Rs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return v.credential(y.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),kc=(()=>{class v extends Qa{constructor(){super("google.com"),this.addScope("profile")}static credential(y,w){return Rs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:w})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:w,oauthAccessToken:M}=y;if(!w&&!M)return null;try{return v.credential(w,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Ro=(()=>{class v extends Qa{constructor(){super("github.com")}static credential(y){return Rs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return v.credential(y.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Wa extends Js{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return ys(m,this.buildRequest())}_linkToIdToken(m,y){const w=this.buildRequest();return w.idToken=y,ys(m,w)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,ys(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:M,pendingToken:N}=y;return w&&M&&N&&w===M?new Wa(w,N):null}static _create(m,y){return new Wa(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _i extends ko{constructor(m){qe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return _i.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return _i.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=Wa.fromJSON(m);return qe(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:w}=m;if(!y||!w)return null;try{return Wa._create(w,y)}catch{return null}}}let w0=(()=>{class v extends Qa{constructor(){super("twitter.com")}static credential(y,w){return Rs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:w})}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=y;if(!w||!M)return null;try{return v.credential(w,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ju(v,m){return os.apply(this,arguments)}function os(){return(os=(0,n.Z)(function*(v,m){return Kn(v,"POST","/v1/accounts:signUp",mt(v,m))})).apply(this,arguments)}class yi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,w,M=!1){return(0,n.Z)(function*(){const N=yield yt._fromIdTokenResponse(m,w,M),Q=No(w);return new yi({user:N,providerId:Q,_tokenResponse:w,operationType:y})})()}static _forOperation(m,y,w){return(0,n.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const M=No(w);return new yi({user:m,providerId:M,_tokenResponse:w,operationType:y})})()}}function No(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Rc(v){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,n.Z)(function*(v){var m;const y=Zi(v);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new yi({user:y.currentUser,providerId:null,operationType:"signIn"});const w=yield ju(y,{returnSecureToken:!0}),M=yield yi._fromIdTokenResponse(y,"signIn",w,!0);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}class vh extends J.ZR{constructor(m,y,w,M){var N;super(y.code,y.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:m.name,tenantId:null!==(N=m.tenantId)&&void 0!==N?N:void 0,_serverResponse:y.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,y,w,M){return new vh(m,y,w,M)}}function Ch(v,m,y,w){return("reauthenticate"===m?y._getReauthenticationResolver(v):y._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?vh._fromErrorAndOperation(v,N,m,w):N})}function wg(v){return new Set(v.map(({providerId:m})=>m).filter(m=>!!m))}function Hu(v,m){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,n.Z)(function*(v,m){const y=(0,J.m9)(v);yield qr(!0,y,m);const{providerUserInfo:w}=yield vr(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),M=wg(w||[]);return y.providerData=y.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Oc(v,m){return jl.apply(this,arguments)}function jl(){return(jl=(0,n.Z)(function*(v,m,y=!1){const w=yield ie(v,m._linkToIdToken(v.auth,yield v.getIdToken()),y);return yi._forOperation(v,"link",w)})).apply(this,arguments)}function qr(v,m,y){return qu.apply(this,arguments)}function qu(){return(qu=(0,n.Z)(function*(v,m,y){yield Ke(m);const M=!1===v?"provider-already-linked":"no-such-provider";qe(wg(m.providerData).has(y)===v,m.auth,M)})).apply(this,arguments)}function Gu(v,m){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,n.Z)(function*(v,m,y=!1){const{auth:w}=v,M="reauthenticate";try{const N=yield ie(v,Ch(w,M,m,v),y);qe(N.idToken,w,"internal-error");const Q=U(N.idToken);qe(Q,w,"internal-error");const{sub:de}=Q;return qe(v.uid===de,w,"user-mismatch"),yi._forOperation(v,M,N)}catch(N){throw"auth/user-not-found"===N?.code&&Ui(w,"user-mismatch"),N}})).apply(this,arguments)}function Hl(v,m){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,n.Z)(function*(v,m,y=!1){const w="signIn",M=yield Ch(v,w,m),N=yield yi._fromIdTokenResponse(v,w,M);return y||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function ql(v,m){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,n.Z)(function*(v,m){return Hl(Zi(v),m)})).apply(this,arguments)}function Xa(v,m){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,n.Z)(function*(v,m){const y=(0,J.m9)(v);return yield qr(!1,y,m.providerId),Oc(y,m)})).apply(this,arguments)}function Tg(v,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,n.Z)(function*(v,m){return Gu((0,J.m9)(v),m)})).apply(this,arguments)}function el(v,m){return si.apply(this,arguments)}function si(){return(si=(0,n.Z)(function*(v,m){return Kn(v,"POST","/v1/accounts:signInWithCustomToken",mt(v,m))})).apply(this,arguments)}function Dg(v,m){return zu.apply(this,arguments)}function zu(){return(zu=(0,n.Z)(function*(v,m){const y=Zi(v),w=yield el(y,{token:m,returnSecureToken:!0}),M=yield yi._fromIdTokenResponse(y,"signIn",w);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}class Gl{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?$u._fromServerResponse(m,y):"totpInfo"in y?Qu._fromServerResponse(m,y):Ui(m,"internal-error")}}class $u extends Gl{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new $u(y)}}class Qu extends Gl{constructor(m){super("totp",m)}static _fromServerResponse(m,y){return new Qu(y)}}function Ta(v,m,y){var w;qe((null===(w=y.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),qe(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(qe(y.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(qe(y.android.packageName.length>0,v,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function Pc(v,m,y){return tl.apply(this,arguments)}function tl(){return tl=(0,n.Z)(function*(v,m,y){var w;const M=Zi(v),N={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Q=yield Io(M,N,"getOobCode",!0);y&&Ta(M,Q,y),yield Bu(M,Q)}else y&&Ta(M,N,y),yield Bu(M,N).catch(function(){var Q=(0,n.Z)(function*(de){if("auth/missing-recaptcha-token"!==de.code)return Promise.reject(de);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Be=yield Io(M,N,"getOobCode",!0);y&&Ta(M,Be,y),yield Bu(M,Be)}});return function(de){return Q.apply(this,arguments)}}())}),tl.apply(this,arguments)}function Wu(v,m,y){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,n.Z)(function*(v,m,y){yield dp((0,J.m9)(v),{oobCode:m,newPassword:y})})).apply(this,arguments)}function wh(v,m){return Th.apply(this,arguments)}function Th(){return(Th=(0,n.Z)(function*(v,m){yield ph((0,J.m9)(v),{oobCode:m})})).apply(this,arguments)}function Oo(v,m){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,n.Z)(function*(v,m){const y=(0,J.m9)(v),w=yield dp(y,{oobCode:m}),M=w.requestType;switch(qe(M,y,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":qe(w.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":qe(w.mfaInfo,y,"internal-error");default:qe(w.email,y,"internal-error")}let N=null;return w.mfaInfo&&(N=Gl._fromServerResponse(Zi(y),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function gp(v,m){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,n.Z)(function*(v,m){const{data:y}=yield Oo((0,J.m9)(v),m);return y.email})).apply(this,arguments)}function Jl(v,m,y){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,n.Z)(function*(v,m,y){var w;const M=Zi(v),N={returnSecureToken:!0,email:m,password:y,clientType:"CLIENT_TYPE_WEB"};let Q;if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Me=yield Io(M,N,"signUpPassword");Q=ju(M,Me)}else Q=ju(M,N).catch(function(){var Me=(0,n.Z)(function*(it){if("auth/missing-recaptcha-token"===it.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const nn=yield Io(M,N,"signUpPassword");return ju(M,nn)}return Promise.reject(it)});return function(it){return Me.apply(this,arguments)}}());const de=yield Q.catch(Me=>Promise.reject(Me)),Be=yield yi._fromIdTokenResponse(M,"signIn",de);return yield M._updateCurrentUser(Be.user),Be}),Xu.apply(this,arguments)}function _p(v,m,y){return ql((0,J.m9)(v),wn.credential(m,y))}function xg(v,m,y){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,n.Z)(function*(v,m,y){var w;const M=Zi(v),N={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function Q(de,Be){qe(Be.handleCodeInApp,M,"argument-error"),Be&&Ta(M,de,Be)}if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const de=yield Io(M,N,"getOobCode",!0);Q(de,y),yield hp(M,de)}else Q(N,y),yield hp(M,N).catch(function(){var de=(0,n.Z)(function*(Be){if("auth/missing-recaptcha-token"!==Be.code)return Promise.reject(Be);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Me=yield Io(M,N,"getOobCode",!0);Q(Me,y),yield hp(M,Me)}});return function(Be){return de.apply(this,arguments)}}())}),Lc.apply(this,arguments)}function ed(v,m){return"EMAIL_SIGNIN"===Zl.parseLink(m)?.operation}function td(v,m,y){return nl.apply(this,arguments)}function nl(){return(nl=(0,n.Z)(function*(v,m,y){const w=(0,J.m9)(v),M=wn.credentialWithLink(m,y||br());return qe(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ql(w,M)})).apply(this,arguments)}function yp(v,m){return Da.apply(this,arguments)}function Da(){return(Da=(0,n.Z)(function*(v,m){return On(v,"POST","/v1/accounts:createAuthUri",mt(v,m))})).apply(this,arguments)}function bp(v,m){return zl.apply(this,arguments)}function zl(){return(zl=(0,n.Z)(function*(v,m){const w={identifier:m,continueUri:wi()?br():"http://localhost"},{signinMethods:M}=yield yp((0,J.m9)(v),w);return M||[]})).apply(this,arguments)}function $l(v,m){return nd.apply(this,arguments)}function nd(){return(nd=(0,n.Z)(function*(v,m){const y=(0,J.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};m&&Ta(y.auth,M,m);const{email:N}=yield ss(y.auth,M);N!==v.email&&(yield v.reload())})).apply(this,arguments)}function go(v,m,y){return xa.apply(this,arguments)}function xa(){return(xa=(0,n.Z)(function*(v,m,y){const w=(0,J.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:m};y&&Ta(w.auth,N,y);const{email:Q}=yield cr(w.auth,N);Q!==v.email&&(yield v.reload())})).apply(this,arguments)}function il(v,m){return xh.apply(this,arguments)}function xh(){return(xh=(0,n.Z)(function*(v,m){return On(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Sa(v,m){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,n.Z)(function*(v,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const w=(0,J.m9)(v),N={idToken:yield w.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},Q=yield ie(w,il(w.auth,N));w.displayName=Q.displayName||null,w.photoURL=Q.photoUrl||null;const de=w.providerData.find(({providerId:Be})=>"password"===Be);de&&(de.displayName=w.displayName,de.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Q)})).apply(this,arguments)}function Bc(v,m){return Uc((0,J.m9)(v),m,null)}function $s(v,m){return Uc((0,J.m9)(v),null,m)}function Uc(v,m,y){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,n.Z)(function*(v,m,y){const{auth:w}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};m&&(N.email=m),y&&(N.password=y);const Q=yield ie(v,fh(w,N));yield v._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class Fo{constructor(m,y,w={}){this.isNewUser=m,this.providerId=y,this.profile=w}}class Wl extends Fo{constructor(m,y,w,M){super(m,y,w),this.username=M}}class Vc extends Fo{constructor(m,y){super(m,"facebook.com",y)}}class id extends Wl{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Ah extends Fo{constructor(m,y){super(m,"google.com",y)}}class Sg extends Wl{constructor(m,y,w){super(m,"twitter.com",y,w)}}function Kl(v){const{user:m,_tokenResponse:y}=v;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Sh(v){var m,y;if(!v)return null;const{providerId:w}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const Q=null===(y=null===(m=U(v.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(Q)return new Fo(N,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!w)return null;switch(w){case"facebook.com":return new Vc(N,M);case"github.com":return new id(N,M);case"google.com":return new Ah(N,M);case"twitter.com":return new Sg(N,M,v.screenName||null);case"custom":case"anonymous":return new Fo(N,null);default:return new Fo(N,w,M)}}(y)}class na{constructor(m,y,w){this.type=m,this.credential=y,this.auth=w}static _fromIdtoken(m,y){return new na("enroll",m,y)}static _fromMfaPendingCredential(m){return new na("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,w;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return na._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return na._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Hc{constructor(m,y,w){this.session=m,this.hints=y,this.signInResolver=w}static _fromError(m,y){const w=Zi(m),M=y.customData._serverResponse,N=(M.mfaInfo||[]).map(de=>Gl._fromServerResponse(w,de));qe(M.mfaPendingCredential,w,"internal-error");const Q=na._fromMfaPendingCredential(M.mfaPendingCredential);return new Hc(Q,N,function(){var de=(0,n.Z)(function*(Be){const Me=yield Be._process(w,Q);delete M.mfaInfo,delete M.mfaPendingCredential;const it=Object.assign(Object.assign({},M),{idToken:Me.idToken,refreshToken:Me.refreshToken});switch(y.operationType){case"signIn":const nn=yield yi._fromIdTokenResponse(w,y.operationType,it);return yield w._updateCurrentUser(nn.user),nn;case"reauthenticate":return qe(y.user,w,"internal-error"),yi._forOperation(y.user,y.operationType,it);default:Ui(w,"internal-error")}});return function(Be){return de.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,n.Z)(function*(){return y.signInResolver(m)})()}}function Ag(v,m){var y;const w=(0,J.m9)(v),M=m;return qe(m.customData.operationType,w,"argument-error"),qe(null===(y=M.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,w,"argument-error"),Hc._fromError(w,M)}function vp(v,m){return On(v,"POST","/v2/accounts/mfaEnrollment:start",mt(v,m))}class qc{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(w=>Gl._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new qc(m)}getSession(){var m=this;return(0,n.Z)(function*(){return na._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,y){var w=this;return(0,n.Z)(function*(){const M=m,N=yield w.getSession(),Q=yield ie(w.user,M._process(w.user.auth,N,y));return yield w.user._updateTokensIfNecessary(Q),w.user.reload()})()}unenroll(m){var y=this;return(0,n.Z)(function*(){const w="string"==typeof m?m:m.uid,M=yield y.user.getIdToken();try{const N=yield ie(y.user,function Gr(v,m){return On(v,"POST","/v2/accounts/mfaEnrollment:withdraw",mt(v,m))}(y.user.auth,{idToken:M,mfaEnrollmentId:w}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Q})=>Q!==w),yield y.user._updateTokensIfNecessary(N),yield y.user.reload()}catch(N){throw N}})()}}const Po=new WeakMap;function ib(v){const m=(0,J.m9)(v);return Po.has(m)||Po.set(m,qc._fromUser(m)),Po.get(m)}const Gc="__sak";class $n{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const rb=(()=>{class v extends $n{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,w)=>this.onStorageEvent(y,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Eg(){const v=(0,J.z$)();return qa(v)||ln(v)}()&&function kr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=sp(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),N=this.localCache[w];M!==N&&y(w,N,M)}}onStorageEvent(y,w=!1){if(!y.key)return void this.forAllChangedKeys((de,Be,Me)=>{this.notifyListeners(de,Me)});const M=y.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(M);if(y.newValue!==de)null!==y.newValue?this.storage.setItem(M,y.newValue):this.storage.removeItem(M);else if(this.localCache[M]===y.newValue&&!w)return}const N=()=>{const de=this.storage.getItem(M);!w&&this.localCache[M]===de||this.notifyListeners(M,de)},Q=this.storage.getItem(M);!function ke(){return(0,J.w1)()&&10===document.documentMode}()||Q===y.newValue||y.newValue===y.oldValue?N():setTimeout(N,10)}notifyListeners(y,w){this.localCache[y]=w;const M=this.listeners[y];if(M)for(const N of Array.from(M))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,w){var M=()=>super._set,N=this;return(0,n.Z)(function*(){yield M().call(N,y,w),N.localCache[y]=JSON.stringify(w)})()}_get(y){var w=()=>super._get,M=this;return(0,n.Z)(function*(){const N=yield w().call(M,y);return M.localCache[y]=JSON.stringify(N),N})()}_remove(y){var w=()=>super._remove,M=this;return(0,n.Z)(function*(){yield w().call(M,y),delete M.localCache[y]})()}}return v.type="LOCAL",v})(),Ih=(()=>{class v extends $n{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,w){}_removeListener(y,w){}}return v.type="SESSION",v})();let sb=(()=>{class v{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const w=this.receivers.find(N=>N.isListeningto(y));if(w)return w;const M=new v(y);return this.receivers.push(M),M}isListeningto(y){return this.eventTarget===y}handleEvent(y){var w=this;return(0,n.Z)(function*(){const M=y,{eventId:N,eventType:Q,data:de}=M.data,Be=w.handlersMap[Q];if(!Be?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:Q});const Me=Array.from(Be).map(function(){var nn=(0,n.Z)(function*(En){return En(M.origin,de)});return function(En){return nn.apply(this,arguments)}}()),it=yield function Yc(v){return Promise.all(v.map(function(){var m=(0,n.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(w){return{fulfilled:!1,reason:w}}});return function(y){return m.apply(this,arguments)}}()))}(Me);M.ports[0].postMessage({status:"done",eventId:N,eventType:Q,response:it})})()}_subscribe(y,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(w)}_unsubscribe(y,w){this.handlersMap[y]&&w&&this.handlersMap[y].delete(w),(!w||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function kh(v="",m=10){let y="";for(let w=0;w<m;w++)y+=Math.floor(10*Math.random());return v+y}class ur{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,w=50){var M=this;return(0,n.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Q,de;return new Promise((Be,Me)=>{const it=kh("",20);N.port1.start();const nn=setTimeout(()=>{Me(new Error("unsupported_event"))},w);de={messageChannel:N,onMessage(En){const cs=En;if(cs.data.eventId===it)switch(cs.data.status){case"ack":clearTimeout(nn),Q=setTimeout(()=>{Me(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Be(cs.data.response);break;default:clearTimeout(nn),clearTimeout(Q),Me(new Error("invalid_response"))}}},M.handlers.add(de),N.port1.addEventListener("message",de.onMessage),M.target.postMessage({eventType:m,eventId:it,data:y},[N.port2])}).finally(()=>{de&&M.removeMessageHandler(de)})})()}}function Ti(){return window}function rd(){return typeof Ti().WorkerGlobalScope<"u"&&"function"==typeof Ti().importScripts}function dr(){return(dr=(0,n.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sd="firebaseLocalStorageDb",Jc="firebaseLocalStorage",Nh="fbase_key";class ad{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ld(v,m){return v.transaction([Jc],m?"readwrite":"readonly").objectStore(Jc)}function zc(){const v=indexedDB.open(sd,1);return new Promise((m,y)=>{v.addEventListener("error",()=>{y(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Jc,{keyPath:Nh})}catch(M){y(M)}}),v.addEventListener("success",(0,n.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Jc)?m(w):(w.close(),yield function A0(){const v=indexedDB.deleteDatabase(sd);return new ad(v).toPromise()}(),m(yield zc()))}))})}function bs(v,m,y){return tc.apply(this,arguments)}function tc(){return(tc=(0,n.Z)(function*(v,m,y){const w=ld(v,!0).put({[Nh]:m,value:y});return new ad(w).toPromise()})).apply(this,arguments)}function Oh(){return(Oh=(0,n.Z)(function*(v,m){const y=ld(v,!1).get(m),w=yield new ad(y).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Cp(v,m){const y=ld(v,!0).delete(m);return new ad(y).toPromise()}const cd=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,n.Z)(function*(){return y.db||(y.db=yield zc()),y.db})()}_withRetries(y){var w=this;return(0,n.Z)(function*(){let M=0;for(;;)try{const N=yield w._openDb();return yield y(N)}catch(N){if(M++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,n.Z)(function*(){return rd()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,n.Z)(function*(){y.receiver=sb._getInstance(function Rh(){return rd()?self:null}()),y.receiver._subscribe("keyChanged",function(){var w=(0,n.Z)(function*(M,N){return{keyProcessed:(yield y._poll()).includes(N.key)}});return function(M,N){return w.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var w=(0,n.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return w.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,n.Z)(function*(){var w,M;if(y.activeServiceWorker=yield function Ig(){return dr.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new ur(y.activeServiceWorker);const N=yield y.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var w=this;return(0,n.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function _o(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:y},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,n.Z)(function*(){try{if(!indexedDB)return!1;const y=yield zc();return yield bs(y,Gc,"1"),yield Cp(y,Gc),!0}catch{}return!1})()}_withPendingWrite(y){var w=this;return(0,n.Z)(function*(){w.pendingWrites++;try{yield y()}finally{w.pendingWrites--}})()}_set(y,w){var M=this;return(0,n.Z)(function*(){return M._withPendingWrite((0,n.Z)(function*(){return yield M._withRetries(N=>bs(N,y,w)),M.localCache[y]=w,M.notifyServiceWorker(y)}))})()}_get(y){var w=this;return(0,n.Z)(function*(){const M=yield w._withRetries(N=>function $c(v,m){return Oh.apply(this,arguments)}(N,y));return w.localCache[y]=M,M})()}_remove(y){var w=this;return(0,n.Z)(function*(){return w._withPendingWrite((0,n.Z)(function*(){return yield w._withRetries(M=>Cp(M,y)),delete w.localCache[y],w.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,n.Z)(function*(){const w=yield y._withRetries(Q=>{const de=ld(Q,!1).getAll();return new ad(de).toPromise()});if(!w)return[];if(0!==y.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:Q,value:de}of w)N.add(Q),JSON.stringify(y.localCache[Q])!==JSON.stringify(de)&&(y.notifyListeners(Q,de),M.push(Q));for(const Q of Object.keys(y.localCache))y.localCache[Q]&&!N.has(Q)&&(y.notifyListeners(Q,null),M.push(Q));return M})()}notifyListeners(y,w){this.localCache[y]=w;const M=this.listeners[y];if(M)for(const N of Array.from(M))N(w)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,n.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Fh(v,m){return On(v,"POST","/v2/accounts/mfaSignIn:start",mt(v,m))}const yo=1e12;class li{constructor(m){this.auth=m,this.counter=yo,this._widgets=new Map}render(m,y){const w=this.counter;return this._widgets.set(w,new Ws(m,this.auth.name,y||{})),this.counter++,w}reset(m){var y;const w=m||yo;null===(y=this._widgets.get(w))||void 0===y||y.delete(),this._widgets.delete(w)}getResponse(m){var y;return(null===(y=this._widgets.get(m||yo))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,n.Z)(function*(){var w;return null===(w=y._widgets.get(m||yo))||void 0===w||w.execute(),""})()}}class Ws{constructor(m,y,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;qe(M,"argument-error",{appName:y}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qc(v){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ol=mi("rcb"),ra=new hi(3e4,6e4);class Ea{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Ti().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return qe(function as(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(y),m,"argument-error"),this.shouldResolveImmediately(y)&&Mc(Ti().grecaptcha)?Promise.resolve(Ti().grecaptcha):new Promise((w,M)=>{const N=Ti().setTimeout(()=>{M(Wi(m,"network-request-failed"))},ra.get());Ti()[ol]=()=>{Ti().clearTimeout(N),delete Ti()[ol];const de=Ti().grecaptcha;if(!de||!Mc(de))return void M(Wi(m,"internal-error"));const Be=de.render;de.render=(Me,it)=>{const nn=Be(Me,it);return this.counter++,nn},this.hostLanguage=y,w(de)},yg(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:ol,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(N),M(Wi(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=Ti().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ph{load(m){return(0,n.Z)(function*(){return new li(m)})()}clearedOneInstance(){}}const mn="recaptcha",ud={theme:"light",type:"image"};class dd{constructor(m,y=Object.assign({},ud),w){this.parameters=y,this.type=mn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zi(w),this.isInvisible="invisible"===this.parameters.size,qe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;qe(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ph:new Ea,this.validateStartingState()}verify(){var m=this;return(0,n.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(y)||new Promise(N=>{const Q=de=>{!de||(m.tokenChangeListeners.delete(Q),N(de))};m.tokenChangeListeners.add(Q),m.isInvisible&&w.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){qe(!this.parameters.sitekey,this.auth,"argument-error"),qe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),qe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(w=>w(y)),"function"==typeof m)m(y);else if("string"==typeof m){const w=Ti()[m];"function"==typeof w&&w(y)}}}assertNotDestroyed(){qe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,n.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const w=document.createElement("div");y.appendChild(w),y=w}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,n.Z)(function*(){qe(wi()&&!rd(),m.auth,"internal-error"),yield function Lh(){let v=null;return new Promise(m=>{"complete"!==document.readyState?(v=()=>m(),window.addEventListener("load",v)):m()}).catch(m=>{throw v&&window.removeEventListener("load",v),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function Gs(v){return Is.apply(this,arguments)}(m.auth);qe(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return qe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bo{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=$a._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function Rg(v,m,y){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,n.Z)(function*(v,m,y){const w=Zi(v),M=yield Co(w,m,(0,J.m9)(y));return new bo(M,N=>ql(w,N))})).apply(this,arguments)}function hd(v,m,y){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,n.Z)(function*(v,m,y){const w=(0,J.m9)(v);yield qr(!1,w,"phone");const M=yield Co(w.auth,m,(0,J.m9)(y));return new bo(M,N=>Xa(w,N))})).apply(this,arguments)}function vo(v,m,y){return vs.apply(this,arguments)}function vs(){return(vs=(0,n.Z)(function*(v,m,y){const w=(0,J.m9)(v),M=yield Co(w.auth,m,(0,J.m9)(y));return new bo(M,N=>Tg(w,N))})).apply(this,arguments)}function Co(v,m,y){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,n.Z)(function*(v,m,y){var w;const M=yield y.verify();try{let N;if(qe("string"==typeof M,v,"argument-error"),qe(y.type===mn,v,"argument-error"),N="string"==typeof m?{phoneNumber:m}:m,"session"in N){const Q=N.session;if("phoneNumber"in N)return qe("enroll"===Q.type,v,"internal-error"),(yield vp(v,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{qe("signin"===Q.type,v,"internal-error");const de=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return qe(de,v,"missing-multi-factor-info"),(yield Fh(v,{mfaPendingCredential:Q.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield fp(v,{phoneNumber:N.phoneNumber,recaptchaToken:M});return Q}}finally{y._reset()}})).apply(this,arguments)}function ic(v,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,n.Z)(function*(v,m){yield Oc((0,J.m9)(v),m)})).apply(this,arguments)}let Je=(()=>{class v{constructor(y){this.providerId=v.PROVIDER_ID,this.auth=Zi(y)}verifyPhoneNumber(y,w){return Co(this.auth,y,(0,J.m9)(w))}static credential(y,w){return $a._fromVerification(y,w)}static credentialFromResult(y){return v.credentialFromTaggedObject(y)}static credentialFromError(y){return v.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:w,temporaryProof:M}=y;return w&&M?$a._fromTokenResponse(w,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Di(v,m){return m?_n(m):(qe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class kn extends Js{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ys(m,this._buildIdpRequest())}_linkToIdToken(m,y){return ys(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return ys(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function Ng(v){return Hl(v.auth,new kn(v),v.bypassAuthState)}function rc(v){const{auth:m,user:y}=v;return qe(y,m,"internal-error"),Gu(y,new kn(v),v.bypassAuthState)}function fd(v){return pd.apply(this,arguments)}function pd(){return(pd=(0,n.Z)(function*(v){const{auth:m,user:y}=v;return qe(y,m,"internal-error"),Oc(y,new kn(v),v.bypassAuthState)})).apply(this,arguments)}class tn{constructor(m,y,w,M,N=!1){this.auth=m,this.resolver=w,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,n.Z)(function*(w,M){m.pendingPromise={resolve:w,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(N){m.reject(N)}});return function(w,M){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,n.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:N,tenantId:Q,error:de,type:Be}=m;if(de)return void y.reject(de);const Me={auth:y.auth,requestUri:w,sessionId:M,tenantId:Q||void 0,postBody:N||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Be)(Me))}catch(it){y.reject(it)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Ng;case"linkViaPopup":case"linkViaRedirect":return fd;case"reauthViaPopup":case"reauthViaRedirect":return rc;default:Ui(this.auth,"internal-error")}}resolve(m){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tp=new hi(2e3,1e4);function Og(v,m,y){return yn.apply(this,arguments)}function yn(){return(yn=(0,n.Z)(function*(v,m,y){const w=Zi(v);Ki(v,m,ko);const M=Di(w,y);return new oa(w,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function Lt(v,m,y){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,n.Z)(function*(v,m,y){const w=(0,J.m9)(v);Ki(w.auth,m,ko);const M=Di(w.auth,y);return new oa(w.auth,"reauthViaPopup",m,M,w).executeNotNull()})).apply(this,arguments)}function Uh(v,m,y){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,n.Z)(function*(v,m,y){const w=(0,J.m9)(v);Ki(w.auth,m,ko);const M=Di(w.auth,y);return new oa(w.auth,"linkViaPopup",m,M,w).executeNotNull()})).apply(this,arguments)}let oa=(()=>{class v extends tn{constructor(y,w,M,N,Q){super(y,w,N,Q),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var y=this;return(0,n.Z)(function*(){const w=yield y.execute();return qe(w,y.auth,"internal-error"),w})()}onExecution(){var y=this;return(0,n.Z)(function*(){tt(1===y.filter.length,"Popup operations only handle one event");const w=kh();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],w),y.authWindow.associatedEvent=w,y.resolver._originValidation(y.auth).catch(M=>{y.reject(M)}),y.resolver._isIframeWebStorageSupported(y.auth,M=>{M||y.reject(Wi(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const y=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,Tp.get())};y()}}return v.currentPopupAction=null,v})();const eu=new Map;class ab extends tn{constructor(m,y,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,n.Z)(function*(){let w=eu.get(y.auth._key());if(!w){try{const N=(yield function Fg(v,m){return Dp.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;w=()=>Promise.resolve(N)}catch(M){w=()=>Promise.reject(M)}eu.set(y.auth._key(),w)}return y.bypassAuthState||eu.set(y.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,w=this;return(0,n.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(w,m);if("unknown"!==m.type){if(m.eventId){const M=yield w.auth._redirectUserForId(m.eventId);if(M)return w.user=M,y().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,n.Z)(function*(){})()}cleanUp(){}}function Dp(){return(Dp=(0,n.Z)(function*(v,m){const y=tr(m),w=bi(v);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(y));return yield w._remove(y),M})).apply(this,arguments)}function Zh(v,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,n.Z)(function*(v,m){return bi(v)._set(tr(m),"true")})).apply(this,arguments)}function Ks(){eu.clear()}function Ma(v,m){eu.set(v._key(),m)}function bi(v){return _n(v._redirectPersistence)}function tr(v){return Cr("pendingRedirect",v.config.apiKey,v.name)}function lb(v,m,y){return function sc(v,m,y){return Ia.apply(this,arguments)}(v,m,y)}function Ia(){return(Ia=(0,n.Z)(function*(v,m,y){const w=Zi(v);Ki(v,m,ko),yield w._initializationPromise;const M=Di(w,y);return yield Zh(M,w),M._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function E0(v,m,y){return function Pg(v,m,y){return tu.apply(this,arguments)}(v,m,y)}function tu(){return(tu=(0,n.Z)(function*(v,m,y){const w=(0,J.m9)(v);Ki(w.auth,m,ko),yield w.auth._initializationPromise;const M=Di(w.auth,y);yield Zh(M,w.auth);const N=yield le(w);return M._openRedirect(w.auth,m,"reauthViaRedirect",N)})).apply(this,arguments)}function xp(v,m,y){return function Sp(v,m,y){return D.apply(this,arguments)}(v,m,y)}function D(){return(D=(0,n.Z)(function*(v,m,y){const w=(0,J.m9)(v);Ki(w.auth,m,ko),yield w.auth._initializationPromise;const M=Di(w.auth,y);yield qr(!1,w,m.providerId),yield Zh(M,w.auth);const N=yield le(w);return M._openRedirect(w.auth,m,"linkViaRedirect",N)})).apply(this,arguments)}function A(v,m){return k.apply(this,arguments)}function k(){return(k=(0,n.Z)(function*(v,m){return yield Zi(v)._initializationPromise,H(v,m,!1)})).apply(this,arguments)}function H(v,m){return ee.apply(this,arguments)}function ee(){return(ee=(0,n.Z)(function*(v,m,y=!1){const w=Zi(v),M=Di(w,m),Q=yield new ab(w,M,y).execute();return Q&&!y&&(delete Q.user._redirectEventId,yield w._persistUserIfCurrent(Q.user),yield w._setRedirectUser(null,m)),Q})).apply(this,arguments)}function le(v){return be.apply(this,arguments)}function be(){return(be=(0,n.Z)(function*(v){const m=kh(`${v.uid}:::`);return v._redirectEventId=m,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),m})).apply(this,arguments)}class Ye{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(y=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Kt(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $t(v);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var w;if(m.error&&!$t(m)){const M=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";y.onError(Wi(this.auth,M))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const w=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dt(m))}saveEventToCache(m){this.cachedEventUids.add(dt(m)),this.lastProcessedEventTime=Date.now()}}function dt(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(m=>m).join("-")}function $t({type:v,error:m}){return"unknown"===v&&"auth/no-auth-event"===m?.code}function Ft(v){return xi.apply(this,arguments)}function xi(){return(xi=(0,n.Z)(function*(v,m={}){return On(v,"GET","/v1/projects",m)})).apply(this,arguments)}const md=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ii=/^https?/;function Cs(){return(Cs=(0,n.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:m}=yield Ft(v);for(const y of m)try{if(hr(y))return}catch{}Ui(v,"unauthorized-domain")})).apply(this,arguments)}function hr(v){const m=br(),{protocol:y,hostname:w}=new URL(m);if(v.startsWith("chrome-extension://")){const Q=new URL(v);return""===Q.hostname&&""===w?"chrome-extension:"===y&&v.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&Q.hostname===w}if(!Ii.test(y))return!1;if(md.test(v))return w===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Tr=new hi(3e4,6e4);function nu(){const v=Ti().___jsl;if(v?.H)for(const m of Object.keys(v.H))if(v.H[m].r=v.H[m].r||[],v.H[m].L=v.H[m].L||[],v.H[m].r=[...v.H[m].L],v.CP)for(let y=0;y<v.CP.length;y++)v.CP[y]=null}let Bg=null;function ls(v){return Bg=Bg||function Lg(v){return new Promise((m,y)=>{var w,M,N;function Q(){nu(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{nu(),y(Wi(v,"network-request-failed"))},timeout:Tr.get()})}if(null!==(M=null===(w=Ti().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(N=Ti().gapi)||void 0===N||!N.load){const de=mi("iframefcb");return Ti()[de]=()=>{gapi.load?Q():y(Wi(v,"network-request-failed"))},yg(`https://apis.google.com/js/api.js?onload=${de}`).catch(Be=>y(Be))}Q()}}).catch(m=>{throw Bg=null,m})}(v),Bg}const ll=new hi(5e3,15e3),M0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ub(v){const m=v.config;qe(m.authDomain,v,"auth-domain-config-required");const y=m.emulator?Wn(m,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:m.apiKey,appName:v.name,v:B.SDK_VERSION},M=Vg.get(v.config.apiHost);M&&(w.eid=M);const N=v._getFrameworks();return N.length&&(w.fw=N.join(",")),`${y}?${(0,J.xO)(w).slice(1)}`}function gd(){return gd=(0,n.Z)(function*(v){const m=yield ls(v),y=Ti().gapi;return qe(y,v,"internal-error"),m.open({where:document.body,url:ub(v),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M0,dontclear:!0},w=>new Promise(function(){var M=(0,n.Z)(function*(N,Q){yield w.restyle({setHideOnLeave:!1});const de=Wi(v,"network-request-failed"),Be=Ti().setTimeout(()=>{Q(de)},ll.get());function Me(){Ti().clearTimeout(Be),N(w)}w.ping(Me).then(Me,()=>{Q(de)})});return function(N,Q){return M.apply(this,arguments)}}()))}),gd.apply(this,arguments)}const Zg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dn{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const k0=encodeURIComponent("fac");function ka(v,m,y,w,M,N){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,n.Z)(function*(v,m,y,w,M,N){qe(v.config.authDomain,v,"auth-domain-config-required"),qe(v.config.apiKey,v,"invalid-api-key");const Q={apiKey:v.config.apiKey,appName:v.name,authType:y,redirectUrl:w,v:B.SDK_VERSION,eventId:M};if(m instanceof ko){m.setDefaultLanguage(v.languageCode),Q.providerId=m.providerId||"",(0,J.xb)(m.getCustomParameters())||(Q.customParameters=JSON.stringify(m.getCustomParameters()));for(const[it,nn]of Object.entries(N||{}))Q[it]=nn}if(m instanceof Qa){const it=m.getScopes().filter(nn=>""!==nn);it.length>0&&(Q.scopes=it.join(","))}v.tenantId&&(Q.tid=v.tenantId);const de=Q;for(const it of Object.keys(de))void 0===de[it]&&delete de[it];const Be=yield v._getAppCheckToken(),Me=Be?`#${k0}=${encodeURIComponent(Be)}`:"";return`${qh(v)}?${(0,J.xO)(de).slice(1)}${Me}`})).apply(this,arguments)}function qh({config:v}){return v.emulator?Wn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}const iu="webStorageSupport",Gh=class Ep{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ih,this._completeRedirectFn=H,this._overrideRedirectResult=Ma}_openPopup(m,y,w,M){var N=this;return(0,n.Z)(function*(){var Q;tt(null===(Q=N.eventManagers[m._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const de=yield ka(m,y,w,br(),M);return function jh(v,m,y,w=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),Q=Math.max((window.screen.availWidth-w)/2,0).toString();let de="";const Be=Object.assign(Object.assign({},Zg),{width:w.toString(),height:M.toString(),top:N,left:Q}),Me=(0,J.z$)().toLowerCase();y&&(de=Fn(Me)?"_blank":y),Pl(Me)&&(m=m||"http://localhost",Be.scrollbars="yes");const it=Object.entries(Be).reduce((En,[cs,Lo])=>`${En}${cs}=${Lo},`,"");if(function Ll(v=(0,J.z$)()){var m;return ln(v)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Me)&&"_self"!==de)return function Hg(v,m){const y=document.createElement("a");y.href=v,y.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(w)}(m||"",de),new Dn(null);const nn=window.open(m||"",de,it);qe(nn,v,"popup-blocked");try{nn.focus()}catch{}return new Dn(nn)}(m,de,kh())})()}_openRedirect(m,y,w,M){var N=this;return(0,n.Z)(function*(){return yield N._originValidation(m),function Qs(v){Ti().location.href=v}(yield ka(m,y,w,br(),M)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:M,promise:N}=this.eventManagers[y];return M?Promise.resolve(M):(tt(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(m);return this.eventManagers[y]={promise:w},w.catch(()=>{delete this.eventManagers[y]}),w}initAndGetManager(m){var y=this;return(0,n.Z)(function*(){const w=yield function I0(v){return gd.apply(this,arguments)}(m),M=new Ye(m);return w.register("authEvent",N=>(qe(N?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:M},y.iframes[m._key()]=w,M})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(iu,{type:iu},M=>{var N;const Q=null===(N=M?.[0])||void 0===N?void 0:N[iu];void 0!==Q&&y(!!Q),Ui(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function al(v){return Cs.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return sp()||qa()||ln()}};class Yh extends class R0{constructor(m){this.factorId=m}_process(m,y,w){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,w);case"signin":return this._finalizeSignIn(m,y.credential);default:return es("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Yh(m)}_finalizeEnroll(m,y,w){return function ia(v,m){return On(v,"POST","/v2/accounts/mfaEnrollment:finalize",mt(v,m))}(m,{idToken:y,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function kg(v,m){return On(v,"POST","/v2/accounts/mfaSignIn:finalize",mt(v,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Mp=(()=>{class v{constructor(){}static assertion(y){return Yh._fromCredential(y)}}return v.FACTOR_ID="phone",v})();var Gg="@firebase/auth";class O0{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,n.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);!y||(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const su=(0,J.Pz)("authIdTokenMaxAge")||300;let Jh=null;const zh=v=>function(){var m=(0,n.Z)(function*(y){const w=y&&(yield y.getIdTokenResult()),M=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(M&&M>su)return;const N=w?.token;Jh!==N&&(Jh=N,yield fetch(v,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(y){return m.apply(this,arguments)}}();function P0(v=(0,B.getApp)()){const m=(0,B._getProvider)(v,"auth");if(m.isInitialized())return m.getImmediate();const y=function uh(v,m){const y=(0,B._getProvider)(v,"auth");if(y.isInitialized()){const M=y.getImmediate(),N=y.getOptions();if((0,J.vZ)(N,m??{}))return M;Ui(M,"already-initialized")}return y.initialize({options:m})}(v,{popupRedirectResolver:Gh,persistence:[cd,rb,Ih]}),w=(0,J.Pz)("authTokenSyncURL");if(w){const N=zh(w);(function Xl(v,m,y){(0,J.m9)(v).beforeAuthStateChanged(m,y)})(y,N,()=>N(y.currentUser)),function rl(v,m,y,w){(0,J.m9)(v).onIdTokenChanged(m,y,w)}(y,Q=>N(Q))}const M=(0,J.q4)("auth");return M&&up(y,`http://${M}`),y}!function fb(v){(0,B._registerComponent)(new Wo.wA("auth",(m,{options:y})=>{const w=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),N=m.getProvider("app-check-internal"),{apiKey:Q,authDomain:de}=w.options;qe(Q&&!Q.includes(":"),"invalid-api-key",{appName:w.name});const Be={apiKey:Q,authDomain:de,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rs(v)},Me=new Wy(w,M,N,Be);return function cp(v,m){const y=m?.persistence||[],w=(Array.isArray(y)?y:[y]).map(_n);m?.errorMap&&v._updateErrorMap(m.errorMap),v._initializeWithPersistence(w,m?.popupRedirectResolver)}(Me,y),Me},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,w)=>{m.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new Wo.wA("auth-internal",m=>{const y=Zi(m.getProvider("auth").getImmediate());return new O0(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(Gg,"0.23.2",function F0(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,B.registerVersion)(Gg,"0.23.2","esm2017")}("Browser")},2090:(ht,Se,j)=>{j.d(Se,{$s:()=>fo,BH:()=>bn,DV:()=>qe,Dv:()=>Ir,G6:()=>ja,GJ:()=>Ki,L:()=>se,LL:()=>ri,Pz:()=>ii,Sg:()=>ai,UG:()=>_t,UI:()=>tt,US:()=>ae,Wj:()=>Kn,Wl:()=>Ha,Yr:()=>Ko,ZB:()=>K,ZR:()=>js,aH:()=>sn,b$:()=>Sn,cI:()=>Qi,dS:()=>qs,eu:()=>Tn,g5:()=>B,gK:()=>lr,gQ:()=>Wn,h$:()=>re,hl:()=>Li,hu:()=>J,jU:()=>pn,lb:()=>on,m9:()=>po,ne:()=>Nn,p$:()=>z,pd:()=>hi,q4:()=>Dt,r3:()=>Xr,ru:()=>xt,tV:()=>q,uI:()=>Mn,ug:()=>An,vZ:()=>br,w1:()=>Wo,w9:()=>ho,xO:()=>Xo,xb:()=>es,z$:()=>Vt,zI:()=>Ec,zd:()=>Hs});const J=function(X,$){if(!X)throw B($)},B=function(X){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+X)},ce=function(X){const $=[];let V=0;for(let U=0;U<X.length;U++){let F=X.charCodeAt(U);F<128?$[V++]=F:F<2048?($[V++]=F>>6|192,$[V++]=63&F|128):55296==(64512&F)&&U+1<X.length&&56320==(64512&X.charCodeAt(U+1))?(F=65536+((1023&F)<<10)+(1023&X.charCodeAt(++U)),$[V++]=F>>18|240,$[V++]=F>>12&63|128,$[V++]=F>>6&63|128,$[V++]=63&F|128):($[V++]=F>>12|224,$[V++]=F>>6&63|128,$[V++]=63&F|128)}return $},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,$){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let F=0;F<X.length;F+=3){const ie=X[F],De=F+1<X.length,Qe=De?X[F+1]:0,gt=F+2<X.length,xe=gt?X[F+2]:0;let vn=(15&Qe)<<2|xe>>6,qt=63&xe;gt||(qt=64,De||(vn=64)),U.push(V[ie>>2],V[(3&ie)<<4|Qe>>4],V[vn],V[qt])}return U.join("")},encodeString(X,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(X):this.encodeByteArray(ce(X),$)},decodeString(X,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(X):function(X){const $=[];let V=0,U=0;for(;V<X.length;){const F=X[V++];if(F<128)$[U++]=String.fromCharCode(F);else if(F>191&&F<224){const ie=X[V++];$[U++]=String.fromCharCode((31&F)<<6|63&ie)}else if(F>239&&F<365){const gt=((7&F)<<18|(63&X[V++])<<12|(63&X[V++])<<6|63&X[V++])-65536;$[U++]=String.fromCharCode(55296+(gt>>10)),$[U++]=String.fromCharCode(56320+(1023&gt))}else{const ie=X[V++],De=X[V++];$[U++]=String.fromCharCode((15&F)<<12|(63&ie)<<6|63&De)}}return $.join("")}(this.decodeStringToByteArray(X,$))},decodeStringToByteArray(X,$){this.init_();const V=$?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let F=0;F<X.length;){const ie=V[X.charAt(F++)],Qe=F<X.length?V[X.charAt(F)]:0;++F;const xe=F<X.length?V[X.charAt(F)]:64;++F;const ot=F<X.length?V[X.charAt(F)]:64;if(++F,null==ie||null==Qe||null==xe||null==ot)throw new ne;U.push(ie<<2|Qe>>4),64!==xe&&(U.push(Qe<<4&240|xe>>2),64!==ot&&U.push(xe<<6&192|ot))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const re=function(X){const $=ce(X);return ae.encodeByteArray($,!0)},se=function(X){return re(X).replace(/\./g,"")},q=function(X){try{return ae.decodeString(X,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function z(X){return K(void 0,X)}function K(X,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return $}for(const V in $)!$.hasOwnProperty(V)||!ge(V)||(X[V]=K(X[V],$[V]));return X}function ge(X){return"__proto__"!==X}const Ae=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const X=process.env.__FIREBASE_DEFAULTS__;return X?JSON.parse(X):void 0})()||(()=>{if(typeof document>"u")return;let X;try{X=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=X&&q(X[1]);return $&&JSON.parse($)})()}catch(X){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${X}`)}},Dt=X=>{var $,V;return null===(V=null===($=Ae())||void 0===$?void 0:$.emulatorHosts)||void 0===V?void 0:V[X]},sn=()=>{var X;return null===(X=Ae())||void 0===X?void 0:X.config},ii=X=>{var $;return null===($=Ae())||void 0===$?void 0:$[`_${X}`]};class bn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,V)=>{this.resolve=$,this.reject=V})}wrapCallback($){return(V,U)=>{V?this.reject(V):this.resolve(U),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(V):$(V,U))}}}function ai(X,$){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=$||"demo-project",F=X.iat||0,ie=X.sub||X.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const De=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:F,exp:F+3600,auth_time:F,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},X);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(De)),""].join(".")}function Vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function _t(){var X;const $=null===(X=Ae())||void 0===X?void 0:X.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pn(){return"object"==typeof self&&self.self===self}function xt(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function Sn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wo(){const X=Vt();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function Ko(){return!1}function ja(){return!_t()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Li(){try{return"object"==typeof indexedDB}catch{return!1}}function Tn(){return new Promise((X,$)=>{try{let V=!0;const U="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(U);F.onsuccess=()=>{F.result.close(),V||self.indexedDB.deleteDatabase(U),X(!0)},F.onupgradeneeded=()=>{V=!1},F.onerror=()=>{var ie;$((null===(ie=F.error)||void 0===ie?void 0:ie.message)||"")}}catch(V){$(V)}})}function Ec(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class js extends Error{constructor($,V,U){super(V),this.code=$,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ri.prototype.create)}}class ri{constructor($,V,U){this.service=$,this.serviceName=V,this.errors=U}create($,...V){const U=V[0]||{},F=`${this.service}/${$}`,ie=this.errors[$],De=ie?function Ai(X,$){return X.replace(Bi,(V,U)=>{const F=$[U];return null!=F?String(F):`<${U}?>`})}(ie,U):"Error";return new js(F,`${this.serviceName}: ${De} (${F}).`,U)}}const Bi=/\{\$([^}]+)}/g;function Qi(X){return JSON.parse(X)}function Ha(X){return JSON.stringify(X)}const Kr=function(X){let $={},V={},U={},F="";try{const ie=X.split(".");$=Qi(q(ie[0])||""),V=Qi(q(ie[1])||""),F=ie[2],U=V.d||{},delete V.d}catch{}return{header:$,claims:V,data:U,signature:F}},ho=function(X){const V=Kr(X).claims;return!!V&&"object"==typeof V&&V.hasOwnProperty("iat")},Ki=function(X){const $=Kr(X).claims;return"object"==typeof $&&!0===$.admin};function Xr(X,$){return Object.prototype.hasOwnProperty.call(X,$)}function qe(X,$){if(Object.prototype.hasOwnProperty.call(X,$))return X[$]}function es(X){for(const $ in X)if(Object.prototype.hasOwnProperty.call(X,$))return!1;return!0}function tt(X,$,V){const U={};for(const F in X)Object.prototype.hasOwnProperty.call(X,F)&&(U[F]=$.call(V,X[F],F,X));return U}function br(X,$){if(X===$)return!0;const V=Object.keys(X),U=Object.keys($);for(const F of V){if(!U.includes(F))return!1;const ie=X[F],De=$[F];if(wi(ie)&&wi(De)){if(!br(ie,De))return!1}else if(ie!==De)return!1}for(const F of U)if(!V.includes(F))return!1;return!0}function wi(X){return null!==X&&"object"==typeof X}function Xo(X){const $=[];for(const[V,U]of Object.entries(X))Array.isArray(U)?U.forEach(F=>{$.push(encodeURIComponent(V)+"="+encodeURIComponent(F))}):$.push(encodeURIComponent(V)+"="+encodeURIComponent(U));return $.length?"&"+$.join("&"):""}function Hs(X){const $={};return X.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[F,ie]=U.split("=");$[decodeURIComponent(F)]=decodeURIComponent(ie)}}),$}function hi(X){const $=X.indexOf("?");if(!$)return"";const V=X.indexOf("#",$);return X.substring($,V>0?V:void 0)}class Wn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,V){V||(V=0);const U=this.W_;if("string"==typeof $)for(let ot=0;ot<16;ot++)U[ot]=$.charCodeAt(V)<<24|$.charCodeAt(V+1)<<16|$.charCodeAt(V+2)<<8|$.charCodeAt(V+3),V+=4;else for(let ot=0;ot<16;ot++)U[ot]=$[V]<<24|$[V+1]<<16|$[V+2]<<8|$[V+3],V+=4;for(let ot=16;ot<80;ot++){const vn=U[ot-3]^U[ot-8]^U[ot-14]^U[ot-16];U[ot]=4294967295&(vn<<1|vn>>>31)}let xe,Ke,F=this.chain_[0],ie=this.chain_[1],De=this.chain_[2],Qe=this.chain_[3],gt=this.chain_[4];for(let ot=0;ot<80;ot++){ot<40?ot<20?(xe=Qe^ie&(De^Qe),Ke=1518500249):(xe=ie^De^Qe,Ke=1859775393):ot<60?(xe=ie&De|Qe&(ie|De),Ke=2400959708):(xe=ie^De^Qe,Ke=3395469782);const vn=(F<<5|F>>>27)+xe+gt+Ke+U[ot]&4294967295;gt=Qe,Qe=De,De=4294967295&(ie<<30|ie>>>2),ie=F,F=vn}this.chain_[0]=this.chain_[0]+F&4294967295,this.chain_[1]=this.chain_[1]+ie&4294967295,this.chain_[2]=this.chain_[2]+De&4294967295,this.chain_[3]=this.chain_[3]+Qe&4294967295,this.chain_[4]=this.chain_[4]+gt&4294967295}update($,V){if(null==$)return;void 0===V&&(V=$.length);const U=V-this.blockSize;let F=0;const ie=this.buf_;let De=this.inbuf_;for(;F<V;){if(0===De)for(;F<=U;)this.compress_($,F),F+=this.blockSize;if("string"==typeof $){for(;F<V;)if(ie[De]=$.charCodeAt(F),++De,++F,De===this.blockSize){this.compress_(ie),De=0;break}}else for(;F<V;)if(ie[De]=$[F],++De,++F,De===this.blockSize){this.compress_(ie),De=0;break}}this.inbuf_=De,this.total_+=V}digest(){const $=[];let V=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let F=this.blockSize-1;F>=56;F--)this.buf_[F]=255&V,V/=256;this.compress_(this.buf_);let U=0;for(let F=0;F<5;F++)for(let ie=24;ie>=0;ie-=8)$[U]=this.chain_[F]>>ie&255,++U;return $}}function Nn(X,$){const V=new ft(X,$);return V.subscribe.bind(V)}class ft{constructor($,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{$(this)}).catch(U=>{this.error(U)})}next($){this.forEachObserver(V=>{V.next($)})}error($){this.forEachObserver(V=>{V.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,V,U){let F;if(void 0===$&&void 0===V&&void 0===U)throw new Error("Missing Observer.");F=function mt(X,$){if("object"!=typeof X||null===X)return!1;for(const V of $)if(V in X&&"function"==typeof X[V])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:V,complete:U},void 0===F.next&&(F.next=On),void 0===F.error&&(F.error=On),void 0===F.complete&&(F.complete=On);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),ie}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,$)}sendOne($,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{V(this.observers[$])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}const Ir=function(X,$,V,U){let F;if(U<$?F="at least "+$:U>V&&(F=0===V?"none":"no more than "+V),F)throw new Error(X+" failed: Was called with "+U+(1===U?" argument.":" arguments.")+" Expects "+F+".")};function lr(X,$){return`${X} failed: ${$} argument `}function Kn(X,$,V,U){if((!U||V)&&"function"!=typeof V)throw new Error(lr(X,$)+"must be a valid function.")}function on(X,$,V,U){if((!U||V)&&("object"!=typeof V||null===V))throw new Error(lr(X,$)+"must be a valid context object.")}const qs=function(X){const $=[];let V=0;for(let U=0;U<X.length;U++){let F=X.charCodeAt(U);if(F>=55296&&F<=56319){const ie=F-55296;U++,J(U<X.length,"Surrogate pair missing trail surrogate."),F=65536+(ie<<10)+(X.charCodeAt(U)-56320)}F<128?$[V++]=F:F<2048?($[V++]=F>>6|192,$[V++]=63&F|128):F<65536?($[V++]=F>>12|224,$[V++]=F>>6&63|128,$[V++]=63&F|128):($[V++]=F>>18|240,$[V++]=F>>12&63|128,$[V++]=F>>6&63|128,$[V++]=63&F|128)}return $},An=function(X){let $=0;for(let V=0;V<X.length;V++){const U=X.charCodeAt(V);U<128?$++:U<2048?$+=2:U>=55296&&U<=56319?($+=4,V++):$+=3}return $};function fo(X,$=1e3,V=2){const U=$*Math.pow(V,X),F=Math.round(.5*U*(Math.random()-.5)*2);return Math.min(144e5,U+F)}function po(X){return X&&X._delegate?X._delegate:X}},1502:(ht,Se,j)=>{var n=j(4650);let J=null;function B(){return J}const ne=new n.OlP("DocumentToken");let re=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:function(){return function se(){return(0,n.LFG)(z)}()},providedIn:"platform"}),r})();const q=new n.OlP("Location Initialized");let z=(()=>{class r extends re{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){K()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){K()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne))},r.\u0275prov=n.Yz7({token:r,factory:function(){return function ge(){return new z((0,n.LFG)(ne))}()},providedIn:"platform"}),r})();function K(){return!!window.history.pushState}function Ce(r,t){if(0==r.length)return t;if(0==t.length)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?r+t.substring(1):1==e?r+t:r+"/"+t}function Ee(r){const t=r.match(/#|\?|$/),e=t&&t.index||r.length;return r.slice(0,e-("/"===r[e-1]?1:0))+r.slice(e)}function Ie(r){return r&&"?"!==r[0]?"?"+r:r}let ye=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:function(){return(0,n.f3M)(Dt)},providedIn:"root"}),r})();const Ae=new n.OlP("appBaseHref");let Dt=(()=>{class r extends ye{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,n.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ce(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ie(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,o){const a=this.prepareExternalUrl(s+Ie(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,s,o){const a=this.prepareExternalUrl(s+Ie(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(re),n.LFG(Ae,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Mt=(()=>{class r extends ye{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ce(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,o){let a=this.prepareExternalUrl(s+Ie(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,s,o){let a=this.prepareExternalUrl(s+Ie(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(re),n.LFG(Ae,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),sn=(()=>{class r{constructor(e){this._subject=new n.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ee(ai(i)),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ie(i))}normalize(e){return r.stripTrailingSlash(function bn(r,t){return r&&t.startsWith(r)?t.substring(r.length):t}(this._baseHref,ai(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._locationStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ie(i)),s)}replaceState(e,i="",s=null){this._locationStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ie(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return r.normalizeQueryParams=Ie,r.joinWithSlash=Ce,r.stripTrailingSlash=Ee,r.\u0275fac=function(e){return new(e||r)(n.LFG(ye))},r.\u0275prov=n.Yz7({token:r,factory:function(){return function ii(){return new sn((0,n.LFG)(ye))}()},providedIn:"root"}),r})();function ai(r){return r.replace(/\/index.html$/,"")}var pn=(()=>((pn=pn||{})[pn.Format=0]="Format",pn[pn.Standalone=1]="Standalone",pn))(),xt=(()=>((xt=xt||{})[xt.Narrow=0]="Narrow",xt[xt.Abbreviated=1]="Abbreviated",xt[xt.Wide=2]="Wide",xt[xt.Short=3]="Short",xt))(),Sn=(()=>((Sn=Sn||{})[Sn.Short=0]="Short",Sn[Sn.Medium=1]="Medium",Sn[Sn.Long=2]="Long",Sn[Sn.Full=3]="Full",Sn))(),ut=(()=>((ut=ut||{})[ut.Decimal=0]="Decimal",ut[ut.Group=1]="Group",ut[ut.List=2]="List",ut[ut.PercentSign=3]="PercentSign",ut[ut.PlusSign=4]="PlusSign",ut[ut.MinusSign=5]="MinusSign",ut[ut.Exponential=6]="Exponential",ut[ut.SuperscriptingExponent=7]="SuperscriptingExponent",ut[ut.PerMille=8]="PerMille",ut[ut.Infinity=9]="Infinity",ut[ut.NaN=10]="NaN",ut[ut.TimeSeparator=11]="TimeSeparator",ut[ut.CurrencyDecimal=12]="CurrencyDecimal",ut[ut.CurrencyGroup=13]="CurrencyGroup",ut))();function Ko(r,t,e){const i=(0,n.cg1)(r),o=tt([i[n.wAp.DayPeriodsFormat],i[n.wAp.DayPeriodsStandalone]],t);return tt(o,e)}function ja(r,t,e){const i=(0,n.cg1)(r),o=tt([i[n.wAp.DaysFormat],i[n.wAp.DaysStandalone]],t);return tt(o,e)}function Li(r,t,e){const i=(0,n.cg1)(r),o=tt([i[n.wAp.MonthsFormat],i[n.wAp.MonthsStandalone]],t);return tt(o,e)}function js(r,t){return tt((0,n.cg1)(r)[n.wAp.DateFormat],t)}function ri(r,t){return tt((0,n.cg1)(r)[n.wAp.TimeFormat],t)}function Ai(r,t){return tt((0,n.cg1)(r)[n.wAp.DateTimeFormat],t)}function Bi(r,t){const e=(0,n.cg1)(r),i=e[n.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ut.CurrencyDecimal)return e[n.wAp.NumberSymbols][ut.Decimal];if(t===ut.CurrencyGroup)return e[n.wAp.NumberSymbols][ut.Group]}return i}function Ki(r){if(!r[n.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[n.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tt(r,t){for(let e=t;e>-1;e--)if(typeof r[e]<"u")return r[e];throw new Error("Locale data API: locale data undefined")}function br(r){const[t,e]=r.split(":");return{hours:+t,minutes:+e}}const Hs=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hi={},Wn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Nn=(()=>((Nn=Nn||{})[Nn.Short=0]="Short",Nn[Nn.ShortGMT=1]="ShortGMT",Nn[Nn.Long=2]="Long",Nn[Nn.Extended=3]="Extended",Nn))(),ft=(()=>((ft=ft||{})[ft.FullYear=0]="FullYear",ft[ft.Month=1]="Month",ft[ft.Date=2]="Date",ft[ft.Hours=3]="Hours",ft[ft.Minutes=4]="Minutes",ft[ft.Seconds=5]="Seconds",ft[ft.FractionalSeconds=6]="FractionalSeconds",ft[ft.Day=7]="Day",ft))(),St=(()=>((St=St||{})[St.DayPeriods=0]="DayPeriods",St[St.Days=1]="Days",St[St.Months=2]="Months",St[St.Eras=3]="Eras",St))();function mt(r,t,e,i){let s=function F(r){if(De(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[s,o=1,a=1]=r.split("-").map(d=>+d);return On(s,o-1,a)}const e=parseFloat(r);if(!isNaN(r-e))return new Date(e);let i;if(i=r.match(Hs))return function ie(r){const t=new Date(0);let e=0,i=0;const s=r[8]?t.setUTCFullYear:t.setFullYear,o=r[8]?t.setUTCHours:t.setHours;r[9]&&(e=Number(r[9]+r[10]),i=Number(r[9]+r[11])),s.call(t,Number(r[1]),Number(r[2])-1,Number(r[3]));const a=Number(r[4]||0)-e,d=Number(r[5]||0)-i,f=Number(r[6]||0),g=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return o.call(t,a,d,f,g),t}(i)}const t=new Date(r);if(!De(t))throw new Error(`Unable to convert "${r}" into a date`);return t}(r);t=Ir(e,t)||t;let d,a=[];for(;t;){if(d=Wn.exec(t),!d){a.push(t);break}{a=a.concat(d.slice(1));const b=a.pop();if(!b)break;t=b}}let f=s.getTimezoneOffset();i&&(f=$(i,f),s=function U(r,t,e){const i=e?-1:1,s=r.getTimezoneOffset();return function V(r,t){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+t),r}(r,i*($(t,s)-s))}(s,i,!0));let g="";return a.forEach(b=>{const T=function X(r){if(po[r])return po[r];let t;switch(r){case"G":case"GG":case"GGG":t=An(St.Eras,xt.Abbreviated);break;case"GGGG":t=An(St.Eras,xt.Wide);break;case"GGGGG":t=An(St.Eras,xt.Narrow);break;case"y":t=on(ft.FullYear,1,0,!1,!0);break;case"yy":t=on(ft.FullYear,2,0,!0,!0);break;case"yyy":t=on(ft.FullYear,3,0,!1,!0);break;case"yyyy":t=on(ft.FullYear,4,0,!1,!0);break;case"Y":t=Xi(1);break;case"YY":t=Xi(2,!0);break;case"YYY":t=Xi(3);break;case"YYYY":t=Xi(4);break;case"M":case"L":t=on(ft.Month,1,1);break;case"MM":case"LL":t=on(ft.Month,2,1);break;case"MMM":t=An(St.Months,xt.Abbreviated);break;case"MMMM":t=An(St.Months,xt.Wide);break;case"MMMMM":t=An(St.Months,xt.Narrow);break;case"LLL":t=An(St.Months,xt.Abbreviated,pn.Standalone);break;case"LLLL":t=An(St.Months,xt.Wide,pn.Standalone);break;case"LLLLL":t=An(St.Months,xt.Narrow,pn.Standalone);break;case"w":t=is(1);break;case"ww":t=is(2);break;case"W":t=is(1,!0);break;case"d":t=on(ft.Date,1);break;case"dd":t=on(ft.Date,2);break;case"c":case"cc":t=on(ft.Day,1);break;case"ccc":t=An(St.Days,xt.Abbreviated,pn.Standalone);break;case"cccc":t=An(St.Days,xt.Wide,pn.Standalone);break;case"ccccc":t=An(St.Days,xt.Narrow,pn.Standalone);break;case"cccccc":t=An(St.Days,xt.Short,pn.Standalone);break;case"E":case"EE":case"EEE":t=An(St.Days,xt.Abbreviated);break;case"EEEE":t=An(St.Days,xt.Wide);break;case"EEEEE":t=An(St.Days,xt.Narrow);break;case"EEEEEE":t=An(St.Days,xt.Short);break;case"a":case"aa":case"aaa":t=An(St.DayPeriods,xt.Abbreviated);break;case"aaaa":t=An(St.DayPeriods,xt.Wide);break;case"aaaaa":t=An(St.DayPeriods,xt.Narrow);break;case"b":case"bb":case"bbb":t=An(St.DayPeriods,xt.Abbreviated,pn.Standalone,!0);break;case"bbbb":t=An(St.DayPeriods,xt.Wide,pn.Standalone,!0);break;case"bbbbb":t=An(St.DayPeriods,xt.Narrow,pn.Standalone,!0);break;case"B":case"BB":case"BBB":t=An(St.DayPeriods,xt.Abbreviated,pn.Format,!0);break;case"BBBB":t=An(St.DayPeriods,xt.Wide,pn.Format,!0);break;case"BBBBB":t=An(St.DayPeriods,xt.Narrow,pn.Format,!0);break;case"h":t=on(ft.Hours,1,-12);break;case"hh":t=on(ft.Hours,2,-12);break;case"H":t=on(ft.Hours,1);break;case"HH":t=on(ft.Hours,2);break;case"m":t=on(ft.Minutes,1);break;case"mm":t=on(ft.Minutes,2);break;case"s":t=on(ft.Seconds,1);break;case"ss":t=on(ft.Seconds,2);break;case"S":t=on(ft.FractionalSeconds,1);break;case"SS":t=on(ft.FractionalSeconds,2);break;case"SSS":t=on(ft.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=pi(Nn.Short);break;case"ZZZZZ":t=pi(Nn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=pi(Nn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=pi(Nn.Long);break;default:return null}return po[r]=t,t}(b);g+=T?T(s,e,f):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}function On(r,t,e){const i=new Date(0);return i.setFullYear(r,t,e),i.setHours(0,0,0),i}function Ir(r,t){const e=function Wr(r){return(0,n.cg1)(r)[n.wAp.LocaleId]}(r);if(hi[e]=hi[e]||{},hi[e][t])return hi[e][t];let i="";switch(t){case"shortDate":i=js(r,Sn.Short);break;case"mediumDate":i=js(r,Sn.Medium);break;case"longDate":i=js(r,Sn.Long);break;case"fullDate":i=js(r,Sn.Full);break;case"shortTime":i=ri(r,Sn.Short);break;case"mediumTime":i=ri(r,Sn.Medium);break;case"longTime":i=ri(r,Sn.Long);break;case"fullTime":i=ri(r,Sn.Full);break;case"short":const s=Ir(r,"shortTime"),o=Ir(r,"shortDate");i=lr(Ai(r,Sn.Short),[s,o]);break;case"medium":const a=Ir(r,"mediumTime"),d=Ir(r,"mediumDate");i=lr(Ai(r,Sn.Medium),[a,d]);break;case"long":const f=Ir(r,"longTime"),g=Ir(r,"longDate");i=lr(Ai(r,Sn.Long),[f,g]);break;case"full":const b=Ir(r,"fullTime"),T=Ir(r,"fullDate");i=lr(Ai(r,Sn.Full),[b,T])}return i&&(hi[e][t]=i),i}function lr(r,t){return t&&(r=r.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),r}function It(r,t,e="-",i,s){let o="";(r<0||s&&r<=0)&&(s?r=1-r:(r=-r,o=e));let a=String(r);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),o+a}function on(r,t,e=0,i=!1,s=!1){return function(o,a){let d=function qs(r,t){switch(r){case ft.FullYear:return t.getFullYear();case ft.Month:return t.getMonth();case ft.Date:return t.getDate();case ft.Hours:return t.getHours();case ft.Minutes:return t.getMinutes();case ft.Seconds:return t.getSeconds();case ft.FractionalSeconds:return t.getMilliseconds();case ft.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,o);if((e>0||d>-e)&&(d+=e),r===ft.Hours)0===d&&-12===e&&(d=12);else if(r===ft.FractionalSeconds)return function Kn(r,t){return It(r,3).substring(0,t)}(d,t);const f=Bi(a,ut.MinusSign);return It(d,t,f,i,s)}}function An(r,t,e=pn.Format,i=!1){return function(s,o){return function fi(r,t,e,i,s,o){switch(e){case St.Months:return Li(t,s,i)[r.getMonth()];case St.Days:return ja(t,s,i)[r.getDay()];case St.DayPeriods:const a=r.getHours(),d=r.getMinutes();if(o){const g=function Xr(r){const t=(0,n.cg1)(r);return Ki(t),(t[n.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?br(i):[br(i[0]),br(i[1])])}(t),b=function qe(r,t,e){const i=(0,n.cg1)(r);Ki(i);const o=tt([i[n.wAp.ExtraData][0],i[n.wAp.ExtraData][1]],t)||[];return tt(o,e)||[]}(t,s,i),T=g.findIndex(E=>{if(Array.isArray(E)){const[R,L]=E,Y=a>=R.hours&&d>=R.minutes,W=a<L.hours||a===L.hours&&d<L.minutes;if(R.hours<L.hours){if(Y&&W)return!0}else if(Y||W)return!0}else if(E.hours===a&&E.minutes===d)return!0;return!1});if(-1!==T)return b[T]}return Ko(t,s,i)[a<12?0:1];case St.Eras:return function Tn(r,t){return tt((0,n.cg1)(r)[n.wAp.Eras],t)}(t,i)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(s,o,r,t,e,i)}}function pi(r){return function(t,e,i){const s=-1*i,o=Bi(e,ut.MinusSign),a=s>0?Math.floor(s/60):Math.ceil(s/60);switch(r){case Nn.Short:return(s>=0?"+":"")+It(a,2,o)+It(Math.abs(s%60),2,o);case Nn.ShortGMT:return"GMT"+(s>=0?"+":"")+It(a,1,o);case Nn.Long:return"GMT"+(s>=0?"+":"")+It(a,2,o)+":"+It(Math.abs(s%60),2,o);case Nn.Extended:return 0===i?"Z":(s>=0?"+":"")+It(a,2,o)+":"+It(Math.abs(s%60),2,o);default:throw new Error(`Unknown zone width "${r}"`)}}}function fo(r){return On(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))}function is(r,t=!1){return function(e,i){let s;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();s=1+Math.floor((a+o)/7)}else{const o=fo(e),a=function ns(r){const t=On(r,0,1).getDay();return On(r,0,1+(t<=4?4:11)-t)}(o.getFullYear()),d=o.getTime()-a.getTime();s=1+Math.round(d/6048e5)}return It(s,r,Bi(i,ut.MinusSign))}}function Xi(r,t=!1){return function(e,i){return It(fo(e).getFullYear(),r,Bi(i,ut.MinusSign),t)}}const po={};function $(r,t){r=r.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(e)?t:e}function De(r){return r instanceof Date&&!isNaN(r.valueOf())}function qa(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const i=e.indexOf("="),[s,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(o)}return null}let Fn=(()=>{class r{constructor(e,i,s,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,n.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,n.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.ZZ4),n.Y36(n.aQg),n.Y36(n.SBq),n.Y36(n.Qsj))},r.\u0275dir=n.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),r})();class Fu{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ln=(()=>{class r{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Fu(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const d=i.get(o);i.move(d,a),Ga(d,s)}});for(let s=0,o=i.length;s<o;s++){const d=i.get(s).context;d.index=s,d.count=o,d.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{Ga(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,i){return!0}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(n.ZZ4))},r.\u0275dir=n.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function Ga(r,t){r.context.$implicit=t.item}let ke=(()=>{class r{constructor(e,i){this._viewContainer=e,this._context=new sp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){kr("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){kr("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b),n.Y36(n.Rgc))},r.\u0275dir=n.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class sp{constructor(){this.$implicit=null,this.ngIf=null}}function kr(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,n.AaK)(t)}'.`)}class rs{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Gs=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),r})(),Is=(()=>{class r{constructor(e,i,s){this.ngSwitch=s,s._addCase(),this._view=new rs(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(Gs,9))},r.\u0275dir=n.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),r})(),Ca=(()=>{class r{constructor(e,i,s){s._addDefault(new rs(e,i))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(Gs,9))},r.\u0275dir=n.lG2({type:r,selectors:[["","ngSwitchDefault",""]],standalone:!0}),r})(),_s=(()=>{class r{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(s,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b))},r.\u0275dir=n.lG2({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[n.TTD]}),r})();function mi(r,t){return new n.vHH(2100,!1)}class zy{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class $y{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Qy=new $y,lp=new zy;let Io=(()=>{class r{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,n.QGY)(e))return Qy;if((0,n.F4k)(e))return lp;throw mi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.sBO,16))},r.\u0275pipe=n.Yjl({name:"async",type:r,pure:!1,standalone:!0}),r})();const bg=new n.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let uh=(()=>{class r{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",s,o){if(null==e||""===e||e!=e)return null;try{return mt(e,i,o||this.locale,s??this.defaultTimezone??void 0)}catch(a){throw mi()}}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.soG,16),n.Y36(bg,24))},r.\u0275pipe=n.Yjl({name:"date",type:r,pure:!0,standalone:!0}),r})(),Ya=(()=>{class r{transform(e){return JSON.stringify(e,null,2)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=n.Yjl({name:"json",type:r,pure:!1,standalone:!0}),r})(),Yn=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})();const Ja="browser";function Ul(r){return"server"===r}let _h=(()=>{class r{}return r.\u0275prov=(0,n.Yz7)({token:r,providedIn:"root",factory:()=>new C0((0,n.LFG)(ne),window)}),r})();class C0{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ks(r,t){const e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const i=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const o=s.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],s-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ea(this.window.history)||ea(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ea(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class wa{}class Lc extends class xg extends class ae{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ue(r){J||(J=r)}(new Lc)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function td(){return ed=ed||document.querySelector("base"),ed?ed.getAttribute("href"):null}();return null==e?null:function yp(r){nl=nl||document.createElement("a"),nl.setAttribute("href",r);const t=nl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ed=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return qa(document.cookie,t)}}let nl,ed=null;const Da=new n.OlP("TRANSITION_ID"),zl=[{provide:n.ip1,useFactory:function bp(r,t,e){return()=>{e.get(n.CZH).donePromise.then(()=>{const i=B(),s=t.querySelectorAll(`style[ng-transition="${r}"]`);for(let o=0;o<s.length;o++)i.remove(s[o])})}},deps:[Da,ne,n.zs3],multi:!0}];let nd=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();const go=new n.OlP("EventManagerPlugins");let xa=(()=>{class r{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let o=0;o<s.length;o++){const a=s[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(go),n.LFG(n.R0b))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();class il{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=B().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let xh=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),Sa=(()=>{class r extends xh{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,s.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ql),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ql))}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();function Ql(r){B().remove(r)}const Bc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$s=/%COMP%/g;function id(r,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?id(r,s,e):(s=s.replace($s,r),e.push(s))}return e}function Ah(r){return t=>{if("__ngUnwrap__"===t)return r;!1===r(t)&&(t.preventDefault(),t.returnValue=!1)}}let Kl=(()=>{class r{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Zc(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case n.ifc.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new T0(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case n.ifc.ShadowDom:return new nb(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=id(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(xa),n.LFG(Sa),n.LFG(n.AFp))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();class Zc{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Bc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Xl(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Xl(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const o=Bc[s];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=Bc[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(n.JOm.DashCase|n.JOm.Important)?t.style.setProperty(e,i,s&n.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&n.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ah(i)):this.eventManager.addEventListener(t,e,Ah(i))}}function Xl(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class T0 extends Zc{constructor(t,e,i,s){super(t),this.component=i;const o=id(s+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Wl(r){return"_ngcontent-%COMP%".replace($s,r)}(s+"-"+i.id),this.hostAttr=function Vc(r){return"_nghost-%COMP%".replace($s,r)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class nb extends Zc{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=id(s.id,s.styles,[]);for(let a=0;a<o.length;a++){const d=document.createElement("style");d.textContent=o[a],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Eh=(()=>{class r extends il{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();const jc=["alt","control","meta","shift"],D0={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sl={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let na=(()=>{class r extends il{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,i,s){const o=r.parseEventName(i),a=r.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=r._normalizeKey(i.pop());let a="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),a="code."),jc.forEach(g=>{const b=i.indexOf(g);b>-1&&(i.splice(b,1),a+=g+".")}),a+=o,0!=i.length||0===o.length)return null;const f={};return f.domEventName=s,f.fullKey=a,f}static matchEventFullKeyCode(e,i){let s=D0[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(s=e.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),jc.forEach(a=>{a!==s&&(0,sl[a])(e)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(e,i,s){return o=>{r.matchEventFullKeyCode(o,e)&&s.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();const ib=(0,n.eFA)(n._c5,"browser",[{provide:n.Lbi,useValue:Ja},{provide:n.g9A,useValue:function ec(){Lc.makeCurrent()},multi:!0},{provide:ne,useFactory:function qc(){return(0,n.RDi)(document),document},deps:[]}]),Gc=new n.OlP(""),$n=[{provide:n.rWj,useClass:class $l{addToWindow(t){n.dqk.getAngularTestability=(i,s=!0)=>{const o=t.findTestabilityInTree(i,s);if(null==o)throw new Error("Could not find testability for element.");return o},n.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),n.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),n.dqk.frameworkStabilizers||(n.dqk.frameworkStabilizers=[]),n.dqk.frameworkStabilizers.push(i=>{const s=n.dqk.getAllAngularTestabilities();let o=s.length,a=!1;const d=function(f){a=a||f,o--,0==o&&i(a)};s.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?B().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:n.lri,useClass:n.dDg,deps:[n.R0b,n.eoX,n.rWj]},{provide:n.dDg,useClass:n.dDg,deps:[n.R0b,n.eoX,n.rWj]}],Eg=[{provide:n.zSh,useValue:"root"},{provide:n.qLn,useFactory:function Gr(){return new n.qLn},deps:[]},{provide:go,useClass:Eh,multi:!0,deps:[ne,n.R0b,n.Lbi]},{provide:go,useClass:na,multi:!0,deps:[ne]},{provide:Kl,useClass:Kl,deps:[xa,Sa,n.AFp]},{provide:n.FYo,useExisting:Kl},{provide:xh,useExisting:Sa},{provide:Sa,useClass:Sa,deps:[ne]},{provide:xa,useClass:xa,deps:[go,n.R0b]},{provide:wa,useClass:nd,deps:[]},[]];let Mh=(()=>{class r{constructor(e){}static withServerTransition(e){return{ngModule:r,providers:[{provide:n.AFp,useValue:e.appId},{provide:Da,useExisting:n.AFp},zl]}}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Gc,12))},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[...Eg,...$n],imports:[Yn,n.hGG]}),r})(),Ih=(()=>{class r{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne))},r.\u0275prov=n.Yz7({token:r,factory:function(e){let i=null;return i=e?new e:function S0(){return new Ih((0,n.LFG)(ne))}(),i},providedIn:"root"}),r})();typeof window<"u"&&window;let nc=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:function(e){let i=null;return i=e?new(e||r):n.LFG(Fh),i},providedIn:"root"}),r})(),Fh=(()=>{class r extends nc{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case n.q3G.NONE:return i;case n.q3G.HTML:return(0,n.qzn)(i,"HTML")?(0,n.z3N)(i):(0,n.EiD)(this._doc,String(i)).toString();case n.q3G.STYLE:return(0,n.qzn)(i,"Style")?(0,n.z3N)(i):i;case n.q3G.SCRIPT:if((0,n.qzn)(i,"Script"))return(0,n.z3N)(i);throw new Error("unsafe value used in a script context");case n.q3G.URL:return(0,n.qzn)(i,"URL")?(0,n.z3N)(i):(0,n.mCW)(String(i));case n.q3G.RESOURCE_URL:if((0,n.qzn)(i,"ResourceURL"))return(0,n.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,n.JVY)(e)}bypassSecurityTrustStyle(e){return(0,n.L6k)(e)}bypassSecurityTrustScript(e){return(0,n.eBb)(e)}bypassSecurityTrustUrl(e){return(0,n.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,n.pB0)(e)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne))},r.\u0275prov=n.Yz7({token:r,factory:function(e){let i=null;return i=e?new e:function cd(r){return new Fh(r.get(ne))}(n.LFG(n.zs3)),i},providedIn:"root"}),r})();var Pn=j(5254),Ve=j(1086),Fe=j(8929),yo=j(5279);class li extends Fe.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new yo.N;return this._value}next(t){super.next(this._value=t)}}const Qc=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})();var ol=j(2866),ra=j(6688),er=j(3489);class Ea extends er.L{notifyNext(t,e,i,s,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class as extends er.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ph=j(9249),mn=j(6498);function ud(r,t,e,i,s=new as(r,e,i)){if(!s.closed)return t instanceof mn.y?t.subscribe(s):(0,Ph.s)(t)(s)}var dd=j(3009);const Lh={};function bo(...r){let t,e;return(0,ol.K)(r[r.length-1])&&(e=r.pop()),"function"==typeof r[r.length-1]&&(t=r.pop()),1===r.length&&(0,ra.k)(r[0])&&(r=r[0]),(0,dd.n)(r,e).lift(new Rg(t))}class Rg{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Wc(t,this.resultSelector))}}class Wc extends Ea{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Lh),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(ud(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const s=this.values,a=this.toRespond?s[i]===Lh?--this.toRespond:this.toRespond:0;s[i]=e,0===a&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}var hd=j(9146);function vo(...r){return function Kc(){return(0,hd.J)(1)}()((0,Ve.of)(...r))}var vs=j(8896);function Co(r){return new mn.y(t=>{let e;try{e=r()}catch(s){return void t.error(s)}return(e?(0,Pn.D)(e):(0,vs.c)()).subscribe(t)})}var Bh=j(4843),ic=j(1737),sa=j(1762),Je=j(4850),Di=j(1177);function kn(r,t){return"function"==typeof t?e=>e.pipe(kn((i,s)=>(0,Pn.D)(r(i,s)).pipe((0,Je.U)((o,a)=>t(i,o,s,a))))):e=>e.lift(new Ng(r))}class Ng{constructor(t){this.project=t}call(t,e){return e.subscribe(new rc(t,this.project))}}class rc extends Di.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Di.IY(this),s=this.destination;s.add(i),this.innerSubscription=(0,Di.ft)(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const pd=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();function tn(r){return t=>0===r?(0,vs.c)():t.lift(new Tp(r))}class Tp{constructor(t){if(this.total=t,this.total<0)throw new pd}call(t,e){return e.subscribe(new Og(t,this.total))}}class Og extends er.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function yn(...r){const t=r[r.length-1];return(0,ol.K)(t)?(r.pop(),e=>vo(r,e,t)):e=>vo(r,e)}function Lt(r,t){return function(i){return i.lift(new Xc(r,t))}}class Xc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Uh(t,this.predicate,this.thisArg))}}class Uh extends er.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}var Mi=j(1709);function oa(r=null){return t=>t.lift(new Vh(r))}class Vh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new eu(t,this.defaultValue))}}class eu extends er.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ab(r=Zh){return t=>t.lift(new Fg(r))}class Fg{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Dp(t,this.errorFactory))}}class Dp extends er.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Zh(){return new Qc}var aa=j(5379);function Ks(r,t){const e=arguments.length>=2;return i=>i.pipe(r?Lt((s,o)=>r(s,o,i)):aa.y,tn(1),e?oa(t):ab(()=>new Qc))}function Ma(r,t){return(0,Mi.zg)(r,t,1)}var bi=j(2994);function tr(r){return function(e){const i=new lb(r),s=e.lift(i);return i.caught=s}}class lb{constructor(t){this.selector=t}call(t,e){return e.subscribe(new sc(t,this.selector,this.caught))}}class sc extends Di.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const i=new Di.IY(this);this.add(i);const s=(0,Di.ft)(e,i);s!==i&&this.add(s)}}}function Ia(r,t){let e=!1;return arguments.length>=2&&(e=!0),function(s){return s.lift(new E0(r,t,e))}}class E0{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new Pg(t,this.accumulator,this.seed,this.hasSeed))}}class Pg extends er.L{constructor(t,e,i,s){super(t),this.accumulator=e,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function tu(r){return function(e){return 0===r?(0,vs.c)():e.lift(new xp(r))}}class xp{constructor(t){if(this.total=t,this.total<0)throw new pd}call(t,e){return e.subscribe(new Sp(t,this.total))}}class Sp extends er.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,s=this.count++;e.length<i?e.push(t):e[s%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let o=0;o<i;o++){const a=e++%i;t.next(s[a])}}t.complete()}}function D(r,t){const e=arguments.length>=2;return i=>i.pipe(r?Lt((s,o)=>r(s,o,i)):aa.y,tu(1),e?oa(t):ab(()=>new Qc))}function A(r,t=!1){return e=>e.lift(new k(r,t))}class k{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new H(t,this.predicate,this.inclusive))}}class H extends er.L{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(s){return void e.error(s)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}function ee(r){return t=>t.lift(new le(r))}class le{constructor(t){this.value=t}call(t,e){return e.subscribe(new be(t,this.value))}}class be extends er.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}var Re=j(2654);function Ye(r){return t=>t.lift(new dt(r))}class dt{constructor(t){this.callback=t}call(t,e){return e.subscribe(new $t(t,this.callback))}}class $t extends er.L{constructor(t,e){super(t),this.add(new Re.w(e))}}var Kt=j(4327);const Ft="primary",xi=Symbol("RouteTitle");class md{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ii(r){return new md(r)}function al(r,t,e){const i=e.path.split("/");if(i.length>r.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<r.length))return null;const s={};for(let o=0;o<i.length;o++){const a=i[o],d=r[o];if(a.startsWith(":"))s[a.substring(1)]=d;else if(a!==d.path)return null}return{consumed:r.slice(0,i.length),posParams:s}}function hr(r,t){const e=r?Object.keys(r):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let o=0;o<e.length;o++)if(s=e[o],!Tr(r[s],t[s]))return!1;return!0}function Tr(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;const e=[...r].sort(),i=[...t].sort();return e.every((s,o)=>i[o]===s)}return r===t}function nu(r){return Array.prototype.concat.apply([],r)}function Lg(r){return r.length>0?r[r.length-1]:null}function ls(r,t){for(const e in r)r.hasOwnProperty(e)&&t(r[e],e)}function ll(r){return(0,n.CqO)(r)?r:(0,n.QGY)(r)?(0,Pn.D)(Promise.resolve(r)):(0,Ve.of)(r)}const M0={exact:function gd(r,t,e){if(!cl(r.segments,t.segments)||!Ap(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!r.children[i]||!gd(r.children[i],t.children[i],e))return!1;return!0},subset:db},Vg={exact:function I0(r,t){return hr(r,t)},subset:function Zg(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>Tr(r[e],t[e]))},ignored:()=>!0};function ub(r,t,e){return M0[e.paths](r.root,t.root,e.matrixParams)&&Vg[e.queryParams](r.queryParams,t.queryParams)&&!("exact"===e.fragment&&r.fragment!==t.fragment)}function db(r,t,e){return jg(r,t,t.segments,e)}function jg(r,t,e,i){if(r.segments.length>e.length){const s=r.segments.slice(0,e.length);return!(!cl(s,e)||t.hasChildren()||!Ap(s,e,i))}if(r.segments.length===e.length){if(!cl(r.segments,e)||!Ap(r.segments,e,i))return!1;for(const s in t.children)if(!r.children[s]||!db(r.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,r.segments.length),o=e.slice(r.segments.length);return!!(cl(r.segments,s)&&Ap(r.segments,s,i)&&r.children[Ft])&&jg(r.children[Ft],t,o,i)}}function Ap(r,t,e){return t.every((i,s)=>Vg[e](r[s].parameters,i.parameters))}class la{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ii(this.queryParams)),this._queryParamMap}toString(){return Hh.serialize(this)}}class Dn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ls(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qh(this)}}class jh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ii(this.parameters)),this._parameterMap}toString(){return Ip(this)}}function cl(r,t){return r.length===t.length&&r.every((e,i)=>e.path===t[i].path)}let k0=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:function(){return new ka},providedIn:"root"}),r})();class ka{parse(t){const e=new su(t);return new la(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${iu(t.root,!0)}`,i=function _d(r){const t=Object.keys(r).map(e=>{const i=r[e];return Array.isArray(i)?i.map(s=>`${Gh(e)}=${Gh(s)}`).join("&"):`${Gh(e)}=${Gh(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function R0(r){return encodeURI(r)}(t.fragment)}`:""}`}}const Hh=new ka;function qh(r){return r.segments.map(t=>Ip(t)).join("/")}function iu(r,t){if(!r.hasChildren())return qh(r);if(t){const e=r.children[Ft]?iu(r.children[Ft],!1):"",i=[];return ls(r.children,(s,o)=>{o!==Ft&&i.push(`${o}:${iu(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function hb(r,t){let e=[];return ls(r.children,(i,s)=>{s===Ft&&(e=e.concat(t(i,s)))}),ls(r.children,(i,s)=>{s!==Ft&&(e=e.concat(t(i,s)))}),e}(r,(i,s)=>s===Ft?[iu(r.children[Ft],!1)]:[`${s}:${iu(i,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Ft]?`${qh(r)}/${e[0]}`:`${qh(r)}/(${e.join("//")})`}}function Ep(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gh(r){return Ep(r).replace(/%3B/gi,";")}function Yh(r){return Ep(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mp(r){return decodeURIComponent(r)}function N0(r){return Mp(r.replace(/\+/g,"%20"))}function Ip(r){return`${Yh(r.path)}${function qg(r){return Object.keys(r).map(t=>`;${Yh(t)}=${Yh(r[t])}`).join("")}(r.parameters)}`}const Gg=/^[^\/()?;=#]+/;function ru(r){const t=r.match(Gg);return t?t[0]:""}const O0=/^[^=?&#]+/,fb=/^[^&#]+/;class su{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ft]=new Dn(t,e)),i}parseSegment(){const t=ru(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new n.vHH(4009,!1);return this.capture(t),new jh(Mp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ru(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=ru(this.remaining);s&&(i=s,this.capture(i))}t[Mp(e)]=Mp(i)}parseQueryParam(t){const e=function F0(r){const t=r.match(O0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function pb(r){const t=r.match(fb);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const s=N0(e),o=N0(i);if(t.hasOwnProperty(s)){let a=t[s];Array.isArray(a)||(a=[a],t[s]=a),a.push(o)}else t[s]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ru(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new n.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ft);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[Ft]:new Dn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new n.vHH(4011,!1)}}function Jh(r){return r.segments.length>0?new Dn([],{[Ft]:r}):r}function zh(r){const t={};for(const i of Object.keys(r.children)){const o=zh(r.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function P0(r){if(1===r.numberOfChildren&&r.children[Ft]){const t=r.children[Ft];return new Dn(r.segments.concat(t.segments),t.children)}return r}(new Dn(r.segments,t))}function v(r){return r instanceof la}const m=!1;function N(r,t,e,i,s){if(0===e.length)return Be(t.root,t.root,t.root,i,s);const o=function nn(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new it(!0,0,r);let t=0,e=!1;const i=r.reduce((s,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return ls(o.outlets,(f,g)=>{d[g]="string"==typeof f?f.split("/"):f}),[...s,{outlets:d}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===a?(o.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?e=!0:".."===d?t++:""!=d&&s.push(d))}),s):[...s,o]},[]);return new it(e,t,i)}(e);return o.toRoot()?Be(t.root,t.root,new Dn([],{}),i,s):function a(f){const g=function Lo(r,t,e,i){if(r.isAbsolute)return new En(t.root,!0,0);if(-1===i)return new En(e,e===t.root,0);return function $h(r,t,e){let i=r,s=t,o=e;for(;o>s;){if(o-=s,i=i.parent,!i)throw new n.vHH(4005,m);s=i.segments.length}return new En(i,!1,s-o)}(e,i+(Q(r.commands[0])?0:1),r.numberOfDoubleDots)}(o,t,r.snapshot?._urlSegment,f),b=g.processChildren?yd(g.segmentGroup,g.index,o.commands):Rp(g.segmentGroup,g.index,o.commands);return Be(t.root,g.segmentGroup,b,i,s)}(r.snapshot?._lastPathIndex)}function Q(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function de(r){return"object"==typeof r&&null!=r&&r.outlets}function Be(r,t,e,i,s){let a,o={};i&&ls(i,(f,g)=>{o[g]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),a=r===t?e:Me(r,t,e);const d=Jh(zh(a));return new la(d,o,s)}function Me(r,t,e){const i={};return ls(r.children,(s,o)=>{i[o]=s===t?e:Me(s,t,e)}),new Dn(r.segments,i)}class it{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Q(i[0]))throw new n.vHH(4003,m);const s=i.find(de);if(s&&s!==Lg(i))throw new n.vHH(4004,m)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class En{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Rp(r,t,e){if(r||(r=new Dn([],{})),0===r.segments.length&&r.hasChildren())return yd(r,t,e);const i=function Np(r,t,e){let i=0,s=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<r.segments.length;){if(i>=e.length)return o;const a=r.segments[s],d=e[i];if(de(d))break;const f=`${d}`,g=i<e.length-1?e[i+1]:null;if(s>0&&void 0===f)break;if(f&&g&&"object"==typeof g&&void 0===g.outlets){if(!ul(f,g,a))return o;i+=2}else{if(!ul(f,{},a))return o;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(r,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){const o=new Dn(r.segments.slice(0,i.pathIndex),{});return o.children[Ft]=new Dn(r.segments.slice(i.pathIndex),r.children),yd(o,0,s)}return i.match&&0===s.length?new Dn(r.segments,{}):i.match&&!r.hasChildren()?bd(r,t,e):i.match?yd(r,0,s):bd(r,t,e)}function yd(r,t,e){if(0===e.length)return new Dn(r.segments,{});{const i=function kp(r){return de(r[0])?r[0].outlets:{[Ft]:r}}(e),s={};return ls(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(s[a]=Rp(r.children[a],t,o))}),ls(r.children,(o,a)=>{void 0===i[a]&&(s[a]=o)}),new Dn(r.segments,s)}}function bd(r,t,e){const i=r.segments.slice(0,t);let s=0;for(;s<e.length;){const o=e[s];if(de(o)){const f=Qh(o.outlets);return new Dn(i,f)}if(0===s&&Q(e[0])){i.push(new jh(r.segments[t].path,vd(e[0]))),s++;continue}const a=de(o)?o.outlets[Ft]:`${o}`,d=s<e.length-1?e[s+1]:null;a&&d&&Q(d)?(i.push(new jh(a,vd(d))),s+=2):(i.push(new jh(a,{})),s++)}return new Dn(i,{})}function Qh(r){const t={};return ls(r,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=bd(new Dn([],{}),0,e))}),t}function vd(r){const t={};return ls(r,(e,i)=>t[i]=`${e}`),t}function ul(r,t,e){return r==e.path&&hr(t,e.parameters)}class dl{constructor(t,e){this.id=t,this.url=e}}class Wh extends dl{constructor(t,e,i="imperative",s=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cd extends dl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mb extends dl{constructor(t,e,i,s){super(t,e),this.reason=i,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gb extends dl{constructor(t,e,i,s){super(t,e),this.error=i,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eR extends dl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bx extends dl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _b extends dl{constructor(t,e,i,s,o){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class L0 extends dl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vx extends dl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cx{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wx{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kh{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tR{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nR{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iR{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tx{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oc{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wd(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=wd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=B0(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return B0(t,this._root).map(e=>e.value)}}function wd(r,t){if(r===t.value)return t;for(const e of t.children){const i=wd(r,e);if(i)return i}return null}function B0(r,t){if(r===t.value)return[t];for(const e of t.children){const i=B0(r,e);if(i.length)return i.unshift(t),i}return[]}class ou{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Op(r){const t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}class Dx extends oc{constructor(t,e){super(t),this.snapshot=e,Fp(this,t)}toString(){return this.snapshot.toString()}}function xx(r,t){const e=function sR(r,t){const a=new yb([],{},{},"",{},Ft,t,null,r.root,-1,{});return new Ax("",new ou(a,[]))}(r,t),i=new li([new jh("",{})]),s=new li({}),o=new li({}),a=new li({}),d=new li(""),f=new au(i,s,a,d,o,Ft,t,e.root);return f.snapshot=e.root,new Dx(new ou(f,[]),e)}class au{constructor(t,e,i,s,o,a,d,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=a,this.component=d,this.title=this.data?.pipe((0,Je.U)(g=>g[xi]))??(0,Ve.of)(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(t=>Ii(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(t=>Ii(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sx(r,t="emptyOnly"){const e=r.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],o=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(o.component)break;i--}}return function oR(r){return r.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class yb{constructor(t,e,i,s,o,a,d,f,g,b,T,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=a,this.component=d,this.title=this.data?.[xi],this.routeConfig=f,this._urlSegment=g,this._lastPathIndex=b,this._correctedLastPathIndex=E??b,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ii(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ii(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ax extends oc{constructor(t,e){super(e),this.url=t,Fp(this,e)}toString(){return ac(this._root)}}function Fp(r,t){t.value._routerState=r,t.children.forEach(e=>Fp(r,e))}function ac(r){const t=r.children.length>0?` { ${r.children.map(ac).join(", ")} } `:"";return`${r.value}${t}`}function Xh(r){if(r.snapshot){const t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,hr(t.queryParams,e.queryParams)||r.queryParams.next(e.queryParams),t.fragment!==e.fragment&&r.fragment.next(e.fragment),hr(t.params,e.params)||r.params.next(e.params),function Cs(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!hr(r[e],t[e]))return!1;return!0}(t.url,e.url)||r.url.next(e.url),hr(t.data,e.data)||r.data.next(e.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function bb(r,t){const e=hr(r.params,t.params)&&function Hg(r,t){return cl(r,t)&&r.every((e,i)=>hr(e.parameters,t[i].parameters))}(r.url,t.url);return e&&!(!r.parent!=!t.parent)&&(!r.parent||bb(r.parent,t.parent))}function Pp(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function X3(r,t,e){return t.children.map(i=>{for(const s of e.children)if(r.shouldReuseRoute(i.value,s.value.snapshot))return Pp(r,i,s);return Pp(r,i)})}(r,t,e);return new ou(i,s)}{if(r.shouldAttach(t.value)){const o=r.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(d=>Pp(r,d)),a}}const i=function eB(r){return new au(new li(r.url),new li(r.params),new li(r.queryParams),new li(r.fragment),new li(r.data),r.outlet,r.component,r)}(t.value),s=t.children.map(o=>Pp(r,o));return new ou(i,s)}}const Mx="ngNavigationCancelingError";function vb(r,t){const{redirectTo:e,navigationBehaviorOptions:i}=v(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=Cb(!1,0,t);return s.url=e,s.navigationBehaviorOptions=i,s}function Cb(r,t,e){const i=new Error("NavigationCancelingError: "+(r||""));return i[Mx]=!0,i.cancellationCode=t,e&&(i.url=e),i}function aR(r){return lR(r)&&v(r.url)}function lR(r){return r&&r[Mx]}class Ix{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yg,this.attachRef=null}}let Yg=(()=>{class r{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const s=this.getOrCreateContext(e);s.outlet=i,this.contexts.set(e,s)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Ix,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const wb=!1;let U0=(()=>{class r{constructor(e,i,s,o,a){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new n.vpe,this.deactivateEvents=new n.vpe,this.attachEvents=new n.vpe,this.detachEvents=new n.vpe,this.name=s||Ft,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new n.vHH(4012,wb);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new n.vHH(4012,wb);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new n.vHH(4012,wb);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new n.vHH(4013,wb);this._activatedRoute=e;const s=this.location,a=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new cR(e,d,s.injector);if(i&&function kx(r){return!!r.resolveComponentFactory}(i)){const g=i.resolveComponentFactory(a);this.activated=s.createComponent(g,s.length,f)}else this.activated=s.createComponent(a,{index:s.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Yg),n.Y36(n.s_b),n.$8M("name"),n.Y36(n.sBO),n.Y36(n.lqb))},r.\u0275dir=n.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),r})();class cR{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===au?this.route:t===Yg?this.childContexts:this.parent.get(t,e)}}let Lp=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[n.jDz],decls:1,vars:0,template:function(e,i){1&e&&n._UZ(0,"router-outlet")},dependencies:[U0],encapsulation:2}),r})();function V0(r,t){return r.providers&&!r._injector&&(r._injector=(0,n.MMx)(r.providers,t,`Route: ${r.path}`)),r._injector??t}function H0(r){const t=r.children&&r.children.map(H0),e=t?{...r,children:t}:{...r};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ft&&(e.component=Lp),e}function Ra(r){return r.outlet||Ft}function Ox(r,t){const e=r.filter(i=>Ra(i)===t);return e.push(...r.filter(i=>Ra(i)!==t)),e}function Jg(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class iB{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Xh(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=Op(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,s[a],i),delete s[a]}),ls(s,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const s=t.value,o=e?e.value:null;if(s===o)if(s.component){const a=i.getContext(s.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,o=Op(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],s);if(i&&i.outlet){const a=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,o=Op(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=Op(e);t.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],i),this.forwardEvent(new iR(o.value.snapshot))}),t.children.length&&this.forwardEvent(new tR(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,o=e?e.value:null;if(Xh(s),s===o)if(s.component){const a=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const a=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const d=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),a.children.onOutletReAttached(d.contexts),a.attachRef=d.componentRef,a.route=d.route.value,a.outlet&&a.outlet.attach(d.componentRef,d.route.value),Xh(d.route.value),this.activateChildRoutes(t,null,a.children)}else{const d=Jg(s.snapshot),f=d?.get(n._Vd)??null;a.attachRef=null,a.route=s,a.resolver=f,a.injector=d,a.outlet&&a.outlet.activateWith(s,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class Bp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Up{constructor(t,e){this.component=t,this.route=e}}function q0(r,t,e){const i=r._root;return zg(i,t?t._root:null,e,[i.value])}function ef(r,t){const e=Symbol(),i=t.get(r,e);return i===e?"function"!=typeof r||(0,n.Z0I)(r)?t.get(r):r:i}function zg(r,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Op(t);return r.children.forEach(a=>{(function Px(r,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=r.value,a=t?t.value:null,d=e?e.getContext(r.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const f=function Lx(r,t,e){if("function"==typeof e)return e(r,t);switch(e){case"pathParamsChange":return!cl(r.url,t.url);case"pathParamsOrQueryParamsChange":return!cl(r.url,t.url)||!hr(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bb(r,t)||!hr(r.queryParams,t.queryParams);default:return!bb(r,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);f?s.canActivateChecks.push(new Bp(i)):(o.data=a.data,o._resolvedData=a._resolvedData),zg(r,t,o.component?d?d.children:null:e,i,s),f&&d&&d.outlet&&d.outlet.isActivated&&s.canDeactivateChecks.push(new Up(d.outlet.component,a))}else a&&tf(t,d,s),s.canActivateChecks.push(new Bp(i)),zg(r,null,o.component?d?d.children:null:e,i,s)})(a,o[a.value.outlet],e,i.concat([a.value]),s),delete o[a.value.outlet]}),ls(o,(a,d)=>tf(a,e.getContext(d),s)),s}function tf(r,t,e){const i=Op(r),s=r.value;ls(i,(o,a)=>{tf(o,s.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new Up(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function Tb(r){return"function"==typeof r}function Y0(r){return r instanceof Qc||"EmptyError"===r?.name}const Vp=Symbol("INITIAL_VALUE");function lu(){return kn(r=>bo(r.map(t=>t.pipe(tn(1),yn(Vp)))).pipe((0,Je.U)(t=>{for(const e of t)if(!0!==e){if(e===Vp)return Vp;if(!1===e||e instanceof la)return e}return!0}),Lt(t=>t!==Vp),tn(1)))}function Hx(r){return(0,Bh.z)((0,bi.b)(t=>{if(v(t))throw vb(0,t)}),(0,Je.U)(t=>!0===t))}const $g={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qx(r,t,e,i,s){const o=xb(r,t,e);return o.matched?function yR(r,t,e,i){const s=t.canMatch;if(!s||0===s.length)return(0,Ve.of)(!0);const o=s.map(a=>{const d=ef(a,r);return ll(function fR(r){return r&&Tb(r.canMatch)}(d)?d.canMatch(t,e):r.runInContext(()=>d(t,e)))});return(0,Ve.of)(o).pipe(lu(),Hx())}(i=V0(t,i),t,e).pipe((0,Je.U)(a=>!0===a?o:{...$g})):(0,Ve.of)(o)}function xb(r,t,e){if(""===t.path)return"full"===t.pathMatch&&(r.hasChildren()||e.length>0)?{...$g}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||al)(e,r,t);if(!s)return{...$g};const o={};ls(s.posParams,(d,f)=>{o[f]=d.path});const a=s.consumed.length>0?{...o,...s.consumed[s.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:a,positionalParamSegments:s.posParams??{}}}function Sb(r,t,e,i,s="corrected"){if(e.length>0&&function bR(r,t,e){return e.some(i=>Ab(r,t,i)&&Ra(i)!==Ft)}(r,e,i)){const a=new Dn(t,function rB(r,t,e,i){const s={};s[Ft]=i,i._sourceSegment=r,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Ra(o)!==Ft){const a=new Dn([],{});a._sourceSegment=r,a._segmentIndexShift=t.length,s[Ra(o)]=a}return s}(r,t,i,new Dn(e,r.children)));return a._sourceSegment=r,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function Qg(r,t,e){return e.some(i=>Ab(r,t,i))}(r,e,i)){const a=new Dn(r.segments,function Gx(r,t,e,i,s,o){const a={};for(const d of i)if(Ab(r,e,d)&&!s[Ra(d)]){const f=new Dn([],{});f._sourceSegment=r,f._segmentIndexShift="legacy"===o?r.segments.length:t.length,a[Ra(d)]=f}return{...s,...a}}(r,t,e,i,r.children,s));return a._sourceSegment=r,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const o=new Dn(r.segments,r.children);return o._sourceSegment=r,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Ab(r,t,e){return(!(r.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function sf(r,t,e,i){return!!(Ra(r)===i||i!==Ft&&Ab(t,e,r))&&("**"===r.path||xb(t,r,e).matched)}function jp(r,t,e){return 0===t.length&&!r.children[e]}const Eb=!1;class z0{constructor(t){this.segmentGroup=t||null}}class $0{constructor(t){this.urlTree=t}}function Wg(r){return(0,ic._)(new z0(r))}function Yx(r){return(0,ic._)(new $0(r))}class Q0{constructor(t,e,i,s,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=o,this.allowRedirects=!0}apply(){const t=Sb(this.urlTree.root,[],[],this.config).segmentGroup,e=new Dn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ft).pipe((0,Je.U)(o=>this.createUrlTree(zh(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tr(o=>{if(o instanceof $0)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof z0?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ft).pipe((0,Je.U)(s=>this.createUrlTree(zh(s),t.queryParams,t.fragment))).pipe(tr(s=>{throw s instanceof z0?this.noMatchError(s):s}))}noMatchError(t){return new n.vHH(4002,Eb)}createUrlTree(t,e,i){const s=Jh(t);return new la(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Je.U)(o=>new Dn([],o))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const o of Object.keys(i.children))"primary"===o?s.unshift(o):s.push(o);return(0,Pn.D)(s).pipe(Ma(o=>{const a=i.children[o],d=Ox(e,o);return this.expandSegmentGroup(t,d,a,o).pipe((0,Je.U)(f=>({segment:f,outlet:o})))}),Ia((o,a)=>(o[a.outlet]=a.segment,o),{}),D())}expandSegment(t,e,i,s,o,a){return(0,Pn.D)(i).pipe(Ma(d=>this.expandSegmentAgainstRoute(t,e,i,d,s,o,a).pipe(tr(g=>{if(g instanceof z0)return(0,Ve.of)(null);throw g}))),Ks(d=>!!d),tr((d,f)=>{if(Y0(d))return jp(e,s,o)?(0,Ve.of)(new Dn([],{})):Wg(e);throw d}))}expandSegmentAgainstRoute(t,e,i,s,o,a,d){return sf(s,e,o,a)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,o,a):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,o,a):Wg(e):Wg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,o,a){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Yx(o):this.lineralizeSegments(i,o).pipe((0,Mi.zg)(a=>{const d=new Dn(a,{});return this.expandSegment(t,d,e,a,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,o,a){const{matched:d,consumedSegments:f,remainingSegments:g,positionalParamSegments:b}=xb(e,s,o);if(!d)return Wg(e);const T=this.applyRedirectCommands(f,s.redirectTo,b);return s.redirectTo.startsWith("/")?Yx(T):this.lineralizeSegments(s,T).pipe((0,Mi.zg)(E=>this.expandSegment(t,e,i,E.concat(g),a,!1)))}matchSegmentAgainstRoute(t,e,i,s,o){return"**"===i.path?(t=V0(i,t),i.loadChildren?(i._loadedRoutes?(0,Ve.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Je.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Dn(s,{})))):(0,Ve.of)(new Dn(s,{}))):qx(e,i,s,t).pipe(kn(({matched:a,consumedSegments:d,remainingSegments:f})=>a?this.getChildConfig(t=i._injector??t,i,s).pipe((0,Mi.zg)(b=>{const T=b.injector??t,E=b.routes,{segmentGroup:R,slicedSegments:L}=Sb(e,d,f,E),Y=new Dn(R.segments,R.children);if(0===L.length&&Y.hasChildren())return this.expandChildren(T,E,Y).pipe((0,Je.U)(He=>new Dn(d,He)));if(0===E.length&&0===L.length)return(0,Ve.of)(new Dn(d,{}));const W=Ra(i)===o;return this.expandSegment(T,Y,E,L,W?Ft:o,!0).pipe((0,Je.U)(Ze=>new Dn(d.concat(Ze.segments),Ze.children)))})):Wg(e)))}getChildConfig(t,e,i){return e.children?(0,Ve.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,Ve.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function _R(r,t,e,i){const s=t.canLoad;if(void 0===s||0===s.length)return(0,Ve.of)(!0);const o=s.map(a=>{const d=ef(a,r);return ll(function G0(r){return r&&Tb(r.canLoad)}(d)?d.canLoad(t,e):r.runInContext(()=>d(t,e)))});return(0,Ve.of)(o).pipe(lu(),Hx())}(t,e,i).pipe((0,Mi.zg)(s=>s?this.configLoader.loadChildren(t,e).pipe((0,bi.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Jx(r){return(0,ic._)(Cb(Eb,3))}())):(0,Ve.of)({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return(0,Ve.of)(i);if(s.numberOfChildren>1||!s.children[Ft])return(0,ic._)(new n.vHH(4e3,Eb));s=s.children[Ft]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,s){const o=this.createSegmentGroup(t,e.root,i,s);return new la(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ls(t,(s,o)=>{if("string"==typeof s&&s.startsWith(":")){const d=s.substring(1);i[o]=e[d]}else i[o]=s}),i}createSegmentGroup(t,e,i,s){const o=this.createSegments(t,e.segments,i,s);let a={};return ls(e.children,(d,f)=>{a[f]=this.createSegmentGroup(t,d,i,s)}),new Dn(o,a)}createSegments(t,e,i,s){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,s):this.findOrReturn(o,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new n.vHH(4001,Eb);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}class K0{}class wR{constructor(t,e,i,s,o,a,d,f){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=s,this.url=o,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d,this.urlSerializer=f}recognize(){const t=Sb(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ft).pipe((0,Je.U)(e=>{if(null===e)return null;const i=new yb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ou(i,e),o=new Ax(this.url,s);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=Sx(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,s)}processChildren(t,e,i){return(0,Pn.D)(Object.keys(i.children)).pipe(Ma(s=>{const o=i.children[s],a=Ox(e,s);return this.processSegmentGroup(t,a,o,s)}),Ia((s,o)=>s&&o?(s.push(...o),s):null),A(s=>null!==s),oa(null),D(),(0,Je.U)(s=>{if(null===s)return null;const o=$x(s);return function TR(r){r.sort((t,e)=>t.value.outlet===Ft?-1:e.value.outlet===Ft?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,s,o){return(0,Pn.D)(e).pipe(Ma(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,s,o)),Ks(a=>!!a),tr(a=>{if(Y0(a))return jp(i,s,o)?(0,Ve.of)([]):(0,Ve.of)(null);throw a}))}processSegmentAgainstRoute(t,e,i,s,o){if(e.redirectTo||!sf(e,i,s,o))return(0,Ve.of)(null);let a;if("**"===e.path){const d=s.length>0?Lg(s).parameters:{},f=lc(i)+s.length,g=new yb(s,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wx(e),Ra(e),e.component??e._loadedComponent??null,e,af(i),f,AR(e),f);a=(0,Ve.of)({snapshot:g,consumedSegments:[],remainingSegments:[]})}else a=qx(i,e,s,t).pipe((0,Je.U)(({matched:d,consumedSegments:f,remainingSegments:g,parameters:b})=>{if(!d)return null;const T=lc(i)+f.length;return{snapshot:new yb(f,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wx(e),Ra(e),e.component??e._loadedComponent??null,e,af(i),T,AR(e),T),consumedSegments:f,remainingSegments:g}}));return a.pipe(kn(d=>{if(null===d)return(0,Ve.of)(null);const{snapshot:f,consumedSegments:g,remainingSegments:b}=d;t=e._injector??t;const T=e._loadedInjector??t,E=function DR(r){return r.children?r.children:r.loadChildren?r._loadedRoutes:[]}(e),{segmentGroup:R,slicedSegments:L}=Sb(i,g,b,E.filter(W=>void 0===W.redirectTo),this.relativeLinkResolution);if(0===L.length&&R.hasChildren())return this.processChildren(T,E,R).pipe((0,Je.U)(W=>null===W?null:[new ou(f,W)]));if(0===E.length&&0===L.length)return(0,Ve.of)([new ou(f,[])]);const Y=Ra(e)===o;return this.processSegment(T,E,R,L,Y?Ft:o).pipe((0,Je.U)(W=>null===W?null:[new ou(f,W)]))}))}}function xR(r){const t=r.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function $x(r){const t=[],e=new Set;for(const i of r){if(!xR(i)){t.push(i);continue}const s=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=$x(i.children);t.push(new ou(i.value,s))}return t.filter(i=>!e.has(i))}function af(r){let t=r;for(;t._sourceSegment;)t=t._sourceSegment;return t}function lc(r){let t=r,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Wx(r){return r.data||{}}function AR(r){return r.resolve||{}}function tS(r){return"string"==typeof r.title||null===r.title}function Ib(r){return kn(t=>{const e=r(t);return e?(0,Pn.D)(e).pipe((0,Je.U)(()=>t)):(0,Ve.of)(t)})}let nS=(()=>{class r{buildTitle(e){let i,s=e.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Ft);return i}getResolvedTitleForRoute(e){return e.data[xi]}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:function(){return(0,n.f3M)(iS)},providedIn:"root"}),r})(),iS=(()=>{class r extends nS{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Ih))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class ER{}class MR extends class rS{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const kb=new n.OlP("",{providedIn:"root",factory:()=>({})}),Rb=new n.OlP("ROUTES");let X0=(()=>{class r{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Ve.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ll(e.loadComponent()).pipe((0,bi.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ye(()=>{this.componentLoaders.delete(e)})),s=new sa.c(i,()=>new Fe.xQ).pipe((0,Kt.x)());return this.componentLoaders.set(e,s),s}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Ve.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Je.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,g,b=!1;Array.isArray(d)?g=d:(f=d.create(e).injector,g=nu(f.get(Rb,[],n.XFs.Self|n.XFs.Optional)));return{routes:g.map(H0),injector:f}}),Ye(()=>{this.childrenLoaders.delete(i)})),a=new sa.c(o,()=>new Fe.xQ).pipe((0,Kt.x)());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return ll(e()).pipe((0,Mi.zg)(i=>i instanceof n.YKP||Array.isArray(i)?(0,Ve.of)(i):(0,Pn.D)(this.compiler.compileModuleAsync(i))))}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(n.zs3),n.LFG(n.Sil))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class kR{}class RR{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function oS(r){throw r}function aS(r,t,e){return t.parse("/")}const lS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function e1(){const r=(0,n.f3M)(k0),t=(0,n.f3M)(Yg),e=(0,n.f3M)(sn),i=(0,n.f3M)(n.zs3),s=(0,n.f3M)(n.Sil),o=(0,n.f3M)(Rb,{optional:!0})??[],a=(0,n.f3M)(kb,{optional:!0})??{},d=(0,n.f3M)(iS),f=(0,n.f3M)(nS,{optional:!0}),g=(0,n.f3M)(kR,{optional:!0}),b=(0,n.f3M)(ER,{optional:!0}),T=new jn(null,r,t,e,i,s,nu(o));return g&&(T.urlHandlingStrategy=g),b&&(T.routeReuseStrategy=b),T.titleStrategy=f??d,function OR(r,t){r.errorHandler&&(t.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(t.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(t.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(t.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(t.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(t.canceledNavigationResolution=r.canceledNavigationResolution)}(a,T),T}let jn=(()=>{class r{constructor(e,i,s,o,a,d,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=o,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fe.xQ,this.errorHandler=oS,this.malformedUriErrorHandler=aS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Ve.of)(void 0),this.urlHandlingStrategy=new RR,this.routeReuseStrategy=new MR,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(X0),this.configLoader.onLoadEndListener=E=>this.triggerEvent(new wx(E)),this.configLoader.onLoadStartListener=E=>this.triggerEvent(new Cx(E)),this.ngModule=a.get(n.h0i),this.console=a.get(n.c2e);const T=a.get(n.R0b);this.isNgZoneEnabled=T instanceof n.R0b&&n.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function cb(){return new la(new Dn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xx(this.currentUrlTree,this.rootComponentType),this.transitions=new li({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Lt(s=>0!==s.id),(0,Je.U)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),kn(s=>{let o=!1,a=!1;return(0,Ve.of)(s).pipe((0,bi.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kn(d=>{const f=this.browserUrlTree.toString(),g=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||g)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return uS(d.source)&&(this.browserUrlTree=d.extractedUrl),(0,Ve.of)(d).pipe(kn(T=>{const E=this.transitions.getValue();return i.next(new Wh(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),E!==this.transitions.getValue()?vs.E:Promise.resolve(T)}),function W0(r,t,e,i){return kn(s=>function zx(r,t,e,i,s){return new Q0(r,t,e,i,s).apply()}(r,t,e,s.extractedUrl,i).pipe((0,Je.U)(o=>({...s,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bi.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},s.urlAfterRedirects=T.urlAfterRedirects}),function sB(r,t,e,i,s,o){return(0,Mi.zg)(a=>function CR(r,t,e,i,s,o,a="emptyOnly",d="legacy"){return new wR(r,t,e,i,s,a,d,o).recognize().pipe(kn(f=>null===f?function Kg(r){return new mn.y(t=>t.error(r))}(new K0):(0,Ve.of)(f)))}(r,t,e,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,s,o).pipe((0,Je.U)(d=>({...a,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bi.b)(T=>{if(s.targetSnapshot=T.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const R=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(R,T)}this.browserUrlTree=T.urlAfterRedirects}const E=new eR(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(E)}));if(g&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:R,source:L,restoredState:Y,extras:W}=d,ve=new Wh(E,this.serializeUrl(R),L,Y);i.next(ve);const Ze=xx(R,this.rootComponentType).snapshot;return s={...d,targetSnapshot:Ze,urlAfterRedirects:R,extras:{...W,skipLocationChange:!1,replaceUrl:!1}},(0,Ve.of)(s)}return this.rawUrlTree=d.rawUrl,d.resolve(null),vs.E}),(0,bi.b)(d=>{const f=new bx(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,Je.U)(d=>s={...d,guards:q0(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function rf(r,t){return(0,Mi.zg)(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?(0,Ve.of)({...e,guardsResult:!0}):function Zx(r,t,e,i){return(0,Pn.D)(r).pipe((0,Mi.zg)(s=>function gR(r,t,e,i,s){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Ve.of)(!0);const a=o.map(d=>{const f=Jg(t)??s,g=ef(d,f);return ll(function nf(r){return r&&Tb(r.canDeactivate)}(g)?g.canDeactivate(r,t,e,i):f.runInContext(()=>g(r,t,e,i))).pipe(Ks())});return(0,Ve.of)(a).pipe(lu())}(s.component,s.route,e,t,i)),Ks(s=>!0!==s,!0))}(a,i,s,r).pipe((0,Mi.zg)(d=>d&&function hR(r){return"boolean"==typeof r}(d)?function J0(r,t,e,i){return(0,Pn.D)(t).pipe(Ma(s=>vo(function mR(r,t){return null!==r&&t&&t(new Kh(r)),(0,Ve.of)(!0)}(s.route.parent,i),function pR(r,t){return null!==r&&t&&t(new nR(r)),(0,Ve.of)(!0)}(s.route,i),function Zp(r,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function Fx(r){const t=r.routeConfig?r.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:r,guards:t}:null}(a)).filter(a=>null!==a).map(a=>Co(()=>{const d=a.guards.map(f=>{const g=Jg(a.node)??e,b=ef(f,g);return ll(function Ux(r){return r&&Tb(r.canActivateChild)}(b)?b.canActivateChild(i,r):g.runInContext(()=>b(i,r))).pipe(Ks())});return(0,Ve.of)(d).pipe(lu())}));return(0,Ve.of)(o).pipe(lu())}(r,s.path,e),function jx(r,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Ve.of)(!0);const s=i.map(o=>Co(()=>{const a=Jg(t)??e,d=ef(o,a);return ll(function Bx(r){return r&&Tb(r.canActivate)}(d)?d.canActivate(t,r):a.runInContext(()=>d(t,r))).pipe(Ks())}));return(0,Ve.of)(s).pipe(lu())}(r,s.route,e))),Ks(s=>!0!==s,!0))}(i,o,r,t):(0,Ve.of)(d)),(0,Je.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,bi.b)(d=>{if(s.guardsResult=d.guardsResult,v(d.guardsResult))throw vb(0,d.guardsResult);const f=new _b(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),Lt(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Ib(d=>{if(d.guards.canActivateChecks.length)return(0,Ve.of)(d).pipe((0,bi.b)(f=>{const g=new L0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),kn(f=>{let g=!1;return(0,Ve.of)(f).pipe(function Kx(r,t){return(0,Mi.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return(0,Ve.of)(e);let o=0;return(0,Pn.D)(s).pipe(Ma(a=>function oB(r,t,e,i){const s=r.routeConfig,o=r._resolve;return void 0!==s?.title&&!tS(s)&&(o[xi]=s.title),function Xx(r,t,e,i){const s=function aB(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===s.length)return(0,Ve.of)({});const o={};return(0,Pn.D)(s).pipe((0,Mi.zg)(a=>function eS(r,t,e,i){const s=Jg(t)??i,o=ef(r,s);return ll(o.resolve?o.resolve(t,e):s.runInContext(()=>o(t,e)))}(r[a],t,e,i).pipe(Ks(),(0,bi.b)(d=>{o[a]=d}))),tu(1),ee(o),tr(a=>Y0(a)?vs.E:(0,ic._)(a)))}(o,r,t,i).pipe((0,Je.U)(a=>(r._resolvedData=a,r.data=Sx(r,e).resolve,s&&tS(s)&&(r.data[xi]=s.title),null)))}(a.route,i,r,t)),(0,bi.b)(()=>o++),tu(1),(0,Mi.zg)(a=>o===s.length?(0,Ve.of)(e):vs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bi.b)({next:()=>g=!0,complete:()=>{g||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,bi.b)(f=>{const g=new vx(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}))}),Ib(d=>{const f=g=>{const b=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,bi.b)(T=>{g.component=T}),(0,Je.U)(()=>{})));for(const T of g.children)b.push(...f(T));return b};return bo(f(d.targetSnapshot.root)).pipe(oa(),tn(1))}),Ib(()=>this.afterPreactivation()),(0,Je.U)(d=>{const f=function Ex(r,t,e){const i=Pp(r,t._root,e?e._root:void 0);return new Dx(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return s={...d,targetRouterState:f}}),(0,bi.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((r,t,e)=>(0,Je.U)(i=>(new iB(t,i.targetRouterState,i.currentRouterState,e).activate(r),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,bi.b)({next(){o=!0},complete(){o=!0}}),Ye(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),tr(d=>{if(a=!0,lR(d)){aR(d)||(this.navigated=!0,this.restoreHistory(s,!0));const f=new mb(s.id,this.serializeUrl(s.extractedUrl),d.message,d.cancellationCode);if(i.next(f),aR(d)){const g=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uS(s.source)};this.scheduleNavigation(g,"imperative",null,b,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{this.restoreHistory(s,!0);const f=new gb(s.id,this.serializeUrl(s.extractedUrl),d,s.targetSnapshot??void 0);i.next(f);try{s.resolve(this.errorHandler(d))}catch(g){s.reject(g)}}return vs.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const s={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const d={...o};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(H0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:d,preserveFragment:f}=i,g=s||this.routerState.root,b=f?this.currentUrlTree.fragment:a;let T=null;switch(d){case"merge":T={...this.currentUrlTree.queryParams,...o};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=o||null}return null!==T&&(T=this.removeEmptyProps(T)),N(g,this.currentUrlTree,e,T,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=v(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function cS(r){for(let t=0;t<r.length;t++){if(null==r[t])throw new n.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?{...lS}:!1===i?{...NR}:i,v(e))return ub(this.currentUrlTree,e,s);const o=this.parseUrl(e);return ub(this.currentUrlTree,o,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const o=e[s];return null!=o&&(i[s]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Cd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let d,f,g;a?(d=a.resolve,f=a.reject,g=a.promise):g=new Promise((E,R)=>{d=E,f=R});const b=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),T=s&&s.\u0275routerPageId?s.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):T=0,this.setTransition({id:b,targetPageId:T,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:d,reject:f,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(E=>Promise.reject(E))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",o):this.location.go(s,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===s?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,s){const o=new mb(e.id,this.serializeUrl(e.extractedUrl),i,s);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return r.\u0275fac=function(e){n.$Z()},r.\u0275prov=n.Yz7({token:r,factory:function(){return e1()},providedIn:"root"}),r})();function uS(r){return"imperative"!==r}class Td{}let n1=(()=>{class r{constructor(e,i,s,o,a){this.router=e,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(e=>e instanceof Cd),Ma(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,n.MMx)(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,d=o._loadedInjector??a;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?s.push(this.preloadConfig(a,o)):(o.children||o._loadedRoutes)&&s.push(this.processRoutes(d,o.children??o._loadedRoutes))}return(0,Pn.D)(s).pipe((0,hd.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,Ve.of)(null);const o=s.pipe((0,Mi.zg)(a=>null===a?(0,Ve.of)(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,Pn.D)([o,a]).pipe((0,hd.J)())}return o})}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(jn),n.LFG(n.Sil),n.LFG(n.lqb),n.LFG(Td),n.LFG(X0))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const r1=new n.OlP("");let FR=(()=>{class r{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Wh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Cd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Tx&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Tx(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(e){n.$Z()},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();function lf(r,t){return{\u0275kind:r,\u0275providers:t}}function gS(r){return[{provide:Rb,multi:!0,useValue:r}]}function cf(){const r=(0,n.f3M)(n.zs3);return t=>{const e=r.get(n.z2F);if(t!==e.components[0])return;const i=r.get(jn),s=r.get(_S);1===r.get(Nb)&&i.initialNavigation(),r.get(bS,null,n.XFs.Optional)?.setUpPreloading(),r.get(r1,null,n.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),s.closed||(s.next(),s.unsubscribe())}}const _S=new n.OlP("",{factory:()=>new Fe.xQ}),Nb=new n.OlP("",{providedIn:"root",factory:()=>1});const bS=new n.OlP("");function LR(r){return lf(0,[{provide:bS,useExisting:n1},{provide:Td,useExisting:r}])}const o1=new n.OlP("ROUTER_FORROOT_GUARD"),BR=[sn,{provide:k0,useClass:ka},{provide:jn,useFactory:e1},Yg,{provide:au,useFactory:function mS(r){return r.routerState.root},deps:[jn]},X0];function vS(){return new n.PXZ("Router",jn)}let Pb=(()=>{class r{constructor(e){}static forRoot(e,i){return{ngModule:r,providers:[BR,[],gS(e),{provide:o1,useFactory:UR,deps:[[jn,new n.FiY,new n.tp0]]},{provide:kb,useValue:i||{}},i?.useHash?{provide:ye,useClass:Mt}:{provide:ye,useClass:Dt},{provide:r1,useFactory:()=>{const r=(0,n.f3M)(jn),t=(0,n.f3M)(_h),e=(0,n.f3M)(kb);return e.scrollOffset&&t.setOffset(e.scrollOffset),new FR(r,t,e)}},i?.preloadingStrategy?LR(i.preloadingStrategy).\u0275providers:[],{provide:n.PXZ,multi:!0,useFactory:vS},i?.initialNavigation?fB(i):[],[{provide:uf,useFactory:cf},{provide:n.tb,multi:!0,useExisting:uf}]]}}static forChild(e){return{ngModule:r,providers:[gS(e)]}}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(o1,8))},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Lp]}),r})();function UR(r){return"guarded"}function fB(r){return["disabled"===r.initialNavigation?lf(3,[{provide:n.ip1,multi:!0,useFactory:()=>{const t=(0,n.f3M)(jn);return()=>{t.setUpLocationChangeListener()}}},{provide:Nb,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?lf(2,[{provide:Nb,useValue:0},{provide:n.ip1,multi:!0,deps:[n.zs3],useFactory:t=>{const e=t.get(q,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(o=>{const a=t.get(jn),d=t.get(_S);(function s(o){t.get(jn).events.pipe(Lt(d=>d instanceof Cd||d instanceof mb||d instanceof gb),(0,Je.U)(d=>d instanceof Cd||d instanceof mb&&(0===d.code||1===d.code)&&null),Lt(d=>null!==d),tn(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),a.afterPreactivation=()=>(o(!0),i||d.closed?(0,Ve.of)(void 0):d),a.initialNavigation()}))}}]).\u0275providers:[]]}const uf=new n.OlP("");var ci=j(6787),wo=j(7770),wS=j(341),ZR=j(5283);class c1 extends Fe.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new cu(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length;let a;if(this.closed)throw new yo.N;if(this.isStopped||this.hasError?a=Re.w.EMPTY:(this.observers.push(t),a=new ZR.W(this,t)),s&&t.add(t=new wo.ht(t,s)),e)for(let d=0;d<o&&!t.closed;d++)t.next(i[d]);else for(let d=0;d<o&&!t.closed;d++)t.next(i[d].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a}_getNow(){return(this.scheduler||wS.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,s=this._events,o=s.length;let a=0;for(;a<o&&!(t-s[a].time<i);)a++;return o>e&&(a=Math.max(a,o-e)),a>0&&s.splice(0,a),s}}class cu{constructor(t,e){this.time=t,this.value=e}}function Lb(r,t,e){let i;return i=r&&"object"==typeof r?r:{bufferSize:r,windowTime:t,refCount:!1,scheduler:e},s=>s.lift(function TS({bufferSize:r=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let s,a,o=0,d=!1,f=!1;return function(b){let T;o++,!s||d?(d=!1,s=new c1(r,t,i),T=s.subscribe(this),a=b.subscribe({next(E){s.next(E)},error(E){d=!0,s.error(E)},complete(){f=!0,a=void 0,s.complete()}}),f&&(a=void 0)):T=s.subscribe(this),this.add(()=>{o--,T.unsubscribe(),T=void 0,a&&!f&&e&&0===o&&(a.unsubscribe(),a=void 0,s=void 0)})}}(i))}function Bb(r,t){return t?kn(()=>r,t):kn(()=>r)}var DS=j(3334),Qn=j(8405),Rr=j(2011);j(259);var we=j(5861),Bo=j(6881),uc=j(4859),Z=j(2090),dc=j(1877);const ES=new Map,JR={activated:!1,tokenObservers:[]},yB={initialized:!1,enabled:!1};function Nr(r){return ES.get(r)||Object.assign({},JR)}function hl(){return yB}class $R{constructor(t,e,i,s,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=s,s>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,we.Z)(function*(){e.stop();try{e.pending=new Z.BH,yield function Dd(r){return new Promise(t=>{setTimeout(t,r)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Z.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Os=new Z.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Vb(r){if(!Nr(r).activated)throw Os.create("use-before-activation",{appName:r.name})}function hf(r,t){return xd.apply(this,arguments)}function xd(){return(xd=(0,we.Z)(function*({url:r,body:t},e){const i={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});if(s){const T=yield s.getHeartbeatsHeader();T&&(i["X-Firebase-Client"]=T)}const o={method:"POST",body:JSON.stringify(t),headers:i};let a,d;try{a=yield fetch(r,o)}catch(T){throw Os.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==a.status)throw Os.create("fetch-status-error",{httpStatus:a.status});try{d=yield a.json()}catch(T){throw Os.create("fetch-parse-error",{originalErrorMessage:T?.message})}const f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Os.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const g=1e3*Number(f[1]),b=Date.now();return{token:d.token,expireTimeMillis:b+g,issuedAtTimeMillis:b}})).apply(this,arguments)}function jb(r,t){const{projectId:e,appId:i,apiKey:s}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${s}`,body:{debug_token:t}}}const qp="firebase-app-check-store";let Gp=null;function _1(){return Gp||(Gp=new Promise((r,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{r(i.target.result)},e.onerror=i=>{var s;t(Os.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(qp,{keyPath:"compositeKey"})}}catch(e){t(Os.create("storage-open",{originalErrorMessage:e?.message}))}}),Gp)}function v1(){return(v1=(0,we.Z)(function*(r,t){const i=(yield _1()).transaction(qp,"readwrite"),o=i.objectStore(qp).put({compositeKey:r,value:t});return new Promise((a,d)=>{o.onsuccess=f=>{a()},i.onerror=f=>{var g;d(Os.create("storage-set",{originalErrorMessage:null===(g=f.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const Fs=new dc.Yd("@firebase/app-check");function OS(r,t){return(0,Z.hl)()?function QR(r,t){return function b1(r,t){return v1.apply(this,arguments)}(function RS(r){return`${r.options.appId}-${r.name}`}(r),t)}(r,t).catch(e=>{Fs.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Yb(){return hl().enabled}function T1(){return D1.apply(this,arguments)}function D1(){return(D1=(0,we.Z)(function*(){const r=hl();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const FS={error:"UNKNOWN_ERROR"};function eN(r){return Z.US.encodeString(JSON.stringify(r),!1)}function n_(r){return x1.apply(this,arguments)}function x1(){return(x1=(0,we.Z)(function*(r,t=!1){const e=r.app;Vb(e);const i=Nr(e);let o,s=i.token;if(s&&!Yp(s)&&(i.token=void 0,s=void 0),!s){const f=yield i.cachedTokenPromise;f&&(Yp(f)?s=f:yield OS(e,void 0))}if(!t&&s&&Yp(s))return{token:s.token};let d,a=!1;if(Yb()){i.exchangeTokenPromise||(i.exchangeTokenPromise=hf(jb(e,yield T1()),r.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const f=yield i.exchangeTokenPromise;return yield OS(e,f),i.token=f,{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield Nr(e).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Fs.warn(f.message):Fs.error(f),o=f}return s?o?d=Yp(s)?{token:s.token,internalError:o}:tN(o):(d={token:s.token},i.token=s,yield OS(e,s)):d=tN(o),a&&LS(e,d),d})).apply(this,arguments)}function Jb(){return(Jb=(0,we.Z)(function*(r){const t=r.app;Vb(t);const{provider:e}=Nr(t);if(Yb()){const i=yield T1(),{token:s}=yield hf(jb(t,i),r.heartbeatServiceProvider);return{token:s}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function S1(r,t){const e=Nr(r),i=e.tokenObservers.filter(s=>s.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function fl(r){const{app:t}=r,e=Nr(t);let i=e.tokenRefresher;i||(i=function A1(r){const{app:t}=r;return new $R((0,we.Z)(function*(){let i;if(i=Nr(t).token?yield n_(r,!0):yield n_(r),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Nr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(r),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function LS(r,t){const e=Nr(r).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function Yp(r){return r.expireTimeMillis-Date.now()>0}function tN(r){return{token:eN(FS),error:r}}class BS{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Nr(this.app);for(const e of t)S1(this.app,e.next);return Promise.resolve()}}const dN="app-check-internal";!function hN(){(0,Bo._registerComponent)(new uc.wA("app-check",r=>function nN(r,t){return new BS(r,t)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,t,e)=>{r.getProvider(dN).initialize()})),(0,Bo._registerComponent)(new uc.wA(dN,r=>function iN(r){return{getToken:t=>n_(r,t),getLimitedUseToken:()=>function PS(r){return Jb.apply(this,arguments)}(r),addTokenListener:t=>function zb(r,t,e,i){const{app:s}=r,o=Nr(s);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&Yp(o.token)){const d=o.token;Promise.resolve().then(()=>{e({token:d.token}),fl(r)}).catch(()=>{})}o.cachedTokenPromise.then(()=>fl(r))}(r,"INTERNAL",t),removeTokenListener:t=>S1(r.app,t)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Bo.registerVersion)("@firebase/app-check","0.8.0")}();class s_{constructor(){return(0,Qn.vb)("app-check")}}typeof window<"u"&&window;var o_=j(9260);const zp=new n.OlP("angularfire2.auth.use-emulator"),O1=new n.OlP("angularfire2.auth.settings"),Na=new n.OlP("angularfire2.auth.tenant-id"),pf=new n.OlP("angularfire2.auth.langugage-code"),us=new n.OlP("angularfire2.auth.use-device-language"),uu=new n.OlP("angularfire.auth.persistence"),$p=(r,t,e,i,s,o,a,d)=>(0,Rr.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const f=t.runOutsideAngular(()=>r.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=s,o&&f.useDeviceLanguage(),a)for(const[g,b]of Object.entries(a))f.settings[g]=b;return d&&f.setPersistence(d),f},[e,i,s,o,a,d]);let ws=(()=>{class r{constructor(e,i,s,o,a,d,f,g,b,T,E,R){const L=new Fe.xQ,Y=(0,Ve.of)(void 0).pipe((0,wo.QV)(a.outsideAngular),kn(()=>o.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,9568)))),(0,Je.U)(()=>(0,Rr.on)(e,o,i)),(0,Je.U)(W=>$p(W,o,d,g,b,T,f,E)),Lb({bufferSize:1,refCount:!1}));if(Ul(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ve.of)(null);else{Y.pipe(Ks()).subscribe();const ve=Y.pipe(kn(ze=>ze.getRedirectResult().then(Ht=>Ht,()=>null)),Qn.iC,Lb({bufferSize:1,refCount:!1})),Ze=Y.pipe(kn(ze=>new mn.y(Ht=>({unsubscribe:o.runOutsideAngular(()=>ze.onAuthStateChanged(Ct=>Ht.next(Ct),Ct=>Ht.error(Ct),()=>Ht.complete()))})))),He=Y.pipe(kn(ze=>new mn.y(Ht=>({unsubscribe:o.runOutsideAngular(()=>ze.onIdTokenChanged(Ct=>Ht.next(Ct),Ct=>Ht.error(Ct),()=>Ht.complete()))}))));this.authState=ve.pipe(Bb(Ze),(0,DS.R)(a.outsideAngular),(0,wo.QV)(a.insideAngular)),this.user=ve.pipe(Bb(He),(0,DS.R)(a.outsideAngular),(0,wo.QV)(a.insideAngular)),this.idToken=this.user.pipe(kn(ze=>ze?(0,Pn.D)(ze.getIdToken()):(0,Ve.of)(null))),this.idTokenResult=this.user.pipe(kn(ze=>ze?(0,Pn.D)(ze.getIdTokenResult()):(0,Ve.of)(null))),this.credential=(0,ci.T)(ve,L,this.authState.pipe(Lt(ze=>!ze))).pipe((0,Je.U)(ze=>ze?.user?ze:null),(0,DS.R)(a.outsideAngular),(0,wo.QV)(a.insideAngular))}return(0,Rr.pX)(this,Y,o,{spy:{apply:(W,ve,Ze)=>{(W.startsWith("signIn")||W.startsWith("createUser"))&&Ze.then(He=>L.next(He))}}})}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Rr.Dh),n.LFG(Rr.xv,8),n.LFG(n.Lbi),n.LFG(n.R0b),n.LFG(Qn.HU),n.LFG(zp,8),n.LFG(O1,8),n.LFG(Na,8),n.LFG(pf,8),n.LFG(us,8),n.LFG(uu,8),n.LFG(s_,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),nv=(()=>{class r{constructor(){o_.Z.registerVersion("angularfire",Qn.q4.full,"auth-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[ws]}),r})();const Sd=(0,Je.U)(r=>!!r);let mf=(()=>{class r{constructor(e,i){this.router=e,this.auth=i,this.canActivate=(s,o)=>{const a=s.data.authGuardPipe||(()=>Sd);return this.auth.user.pipe(tn(1),a(s,o),(0,Je.U)(d=>"boolean"==typeof d?d:Array.isArray(d)?this.router.createUrlTree(d):this.router.parseUrl(d)))}}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(jn),n.LFG(ws))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();var Kp=j(9781);class F1{}class P1{}class pl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),o=s.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(s,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof pl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new pl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof pl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(d=>-1===o.indexOf(d)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class YS{encodeKey(t){return L1(t)}encodeValue(t){return L1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const wN=/%(\d[a-f0-9])/gi,TN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function L1(r){return encodeURIComponent(r).replace(wN,(t,e)=>TN[e]??t)}function iv(r){return`${r}`}class du{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new YS,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function JS(r,t){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(s=>{const o=s.indexOf("="),[a,d]=-1==o?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,o)),t.decodeValue(s.slice(o+1))],f=e.get(a)||[];f.push(d),e.set(a,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],s=Array.isArray(i)?i.map(iv):[iv(i)];this.map.set(e,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new du({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(iv(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(iv(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class B1{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function h_(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function f_(r){return typeof Blob<"u"&&r instanceof Blob}function rv(r){return typeof FormData<"u"&&r instanceof FormData}class Ad{constructor(t,e,i,s){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function DN(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,o=s):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new pl),this.context||(this.context=new B1),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+a}}else this.params=new du,this.urlWithParams=e}serializeBody(){return null===this.body?null:h_(this.body)||f_(this.body)||rv(this.body)||function xN(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof du?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rv(this.body)?null:f_(this.body)?this.body.type||null:h_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof du?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let f=t.headers||this.headers,g=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(f=Object.keys(t.setHeaders).reduce((T,E)=>T.set(E,t.setHeaders[E]),f)),t.setParams&&(g=Object.keys(t.setParams).reduce((T,E)=>T.set(E,t.setParams[E]),g)),new Ad(e,i,o,{params:g,headers:f,context:b,reportProgress:d,responseType:s,withCredentials:a})}}var fr=(()=>((fr=fr||{})[fr.Sent=0]="Sent",fr[fr.UploadProgress=1]="UploadProgress",fr[fr.ResponseHeader=2]="ResponseHeader",fr[fr.DownloadProgress=3]="DownloadProgress",fr[fr.Response=4]="Response",fr[fr.User=5]="User",fr))();class p_{constructor(t,e=200,i="OK"){this.headers=t.headers||new pl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class sv extends p_{constructor(t={}){super(t),this.type=fr.ResponseHeader}clone(t={}){return new sv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Xp extends p_{constructor(t={}){super(t),this.type=fr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Xp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class U1 extends p_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function ov(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let ca=(()=>{class r{constructor(e){this.handler=e}request(e,i,s={}){let o;if(e instanceof Ad)o=e;else{let f,g;f=s.headers instanceof pl?s.headers:new pl(s.headers),s.params&&(g=s.params instanceof du?s.params:new du({fromObject:s.params})),o=new Ad(e,i,void 0!==s.body?s.body:null,{headers:f,context:s.context,params:g,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=(0,Ve.of)(o).pipe(Ma(f=>this.handler.handle(f)));if(e instanceof Ad||"events"===s.observe)return a;const d=a.pipe(Lt(f=>f instanceof Xp));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe((0,Je.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,Je.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,Je.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,Je.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new du).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,ov(s,i))}post(e,i,s={}){return this.request("POST",e,ov(s,i))}put(e,i,s={}){return this.request("PUT",e,ov(s,i))}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(F1))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();class av{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const $S=new n.OlP("HTTP_INTERCEPTORS");let QS=(()=>{class r{intercept(e,i){return i.handle(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();const KS=/^\)\]\}',?\n/;let Z1=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new mn.y(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((R,L)=>s.setRequestHeader(R,L.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const R=e.detectContentTypeHeader();null!==R&&s.setRequestHeader("Content-Type",R)}if(e.responseType){const R=e.responseType.toLowerCase();s.responseType="json"!==R?R:"text"}const o=e.serializeBody();let a=null;const d=()=>{if(null!==a)return a;const R=s.statusText||"OK",L=new pl(s.getAllResponseHeaders()),Y=function XS(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(s)||e.url;return a=new sv({headers:L,status:s.status,statusText:R,url:Y}),a},f=()=>{let{headers:R,status:L,statusText:Y,url:W}=d(),ve=null;204!==L&&(ve=typeof s.response>"u"?s.responseText:s.response),0===L&&(L=ve?200:0);let Ze=L>=200&&L<300;if("json"===e.responseType&&"string"==typeof ve){const He=ve;ve=ve.replace(KS,"");try{ve=""!==ve?JSON.parse(ve):null}catch(ze){ve=He,Ze&&(Ze=!1,ve={error:ze,text:ve})}}Ze?(i.next(new Xp({body:ve,headers:R,status:L,statusText:Y,url:W||void 0})),i.complete()):i.error(new U1({error:ve,headers:R,status:L,statusText:Y,url:W||void 0}))},g=R=>{const{url:L}=d(),Y=new U1({error:R,status:s.status||0,statusText:s.statusText||"Unknown Error",url:L||void 0});i.error(Y)};let b=!1;const T=R=>{b||(i.next(d()),b=!0);let L={type:fr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(L.total=R.total),"text"===e.responseType&&!!s.responseText&&(L.partialText=s.responseText),i.next(L)},E=R=>{let L={type:fr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(L.total=R.total),i.next(L)};return s.addEventListener("load",f),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),e.reportProgress&&(s.addEventListener("progress",T),null!==o&&s.upload&&s.upload.addEventListener("progress",E)),s.send(o),i.next({type:fr.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",f),s.removeEventListener("timeout",g),e.reportProgress&&(s.removeEventListener("progress",T),null!==o&&s.upload&&s.upload.removeEventListener("progress",E)),s.readyState!==s.DONE&&s.abort()}})}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(wa))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();const lv=new n.OlP("XSRF_COOKIE_NAME"),cv=new n.OlP("XSRF_HEADER_NAME");class j1{}let eA=(()=>{class r{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=qa(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne),n.LFG(n.Lbi),n.LFG(lv))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),tA=(()=>{class r{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(j1),n.LFG(cv))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),RN=(()=>{class r{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get($S,[]);this.chain=i.reduceRight((s,o)=>new av(s,o),this.backend)}return this.chain.handle(e)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(P1),n.LFG(n.zs3))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),ON=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:tA,useClass:QS}]}}static withOptions(e={}){return{ngModule:r,providers:[e.cookieName?{provide:lv,useValue:e.cookieName}:[],e.headerName?{provide:cv,useValue:e.headerName}:[]]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[tA,{provide:$S,useExisting:tA,multi:!0},{provide:j1,useClass:eA},{provide:lv,useValue:"XSRF-TOKEN"},{provide:cv,useValue:"X-XSRF-TOKEN"}]}),r})(),ds=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[ca,{provide:F1,useClass:RN},Z1,{provide:P1,useExisting:Z1}],imports:[ON.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),r})();class gf{static getServerErrorMessage(t){switch(t.status){case 404:return`Not Found: ${t.message}`;case 403:return`Access Denied: ${t.message}`;case 500:return`Internal Server Error: ${t.message}`;default:return`Unknown Server Error: ${t.message} Status: ${t.status}`}}static setupHeader(t){return(new pl).set("content-type","application/json").set("Access-Control-Allow-Origin","*").set("Authorization"," AccessToken "+t)}}const To_apiURL="https://blurock-database.ew.r.appspot.com",To_firebase={apiKey:"AIzaSyBFHXqA8MXdv-KbON_IU78BItS9KangM1Y",authDomain:"blurock-database.firebaseapp.com",databaseURL:"https://blurock-database-default-rtdb.europe-west1.firebasedatabase.app",projectId:"blurock-database",storageBucket:"blurock-database.appspot.com",messagingSenderId:"315685320181",appId:"1:315685320181:web:82a3d5bb39946866ca5cbc",measurementId:"G-36487VBEFH"};let O=(()=>{class r{}return r.rdfslabel="rdfs:label",r.rdfscomment="rdfs:comment",r.dctermsidentifier="<http://purl.org/dc/elements/1.1/identifier>",r.dctype="dc:type",r.datacitePrimaryResourceIdentifier="datacite:PrimaryResourceIdentifier",r.dctermsdescription="dcterms:description",r.dctermstitle="dcterms:title",r.author="author",r.dccreator="dc:creator",r.foafFamilyName="foaf:familyName",r.foafGivenName="foaf:givenName",r.foaftitle="foaf:title",r.datasethttpaddress="dataset:HttpAddress",r.datasethttpaddresstype="dataset:HttpAddressType",r.datasethttpaddresssrcloc="dataset:HttpAddressSourceLocation",r.successful="dataset:servicesuccessful",r.message="dataset:serviceresponsemessage",r.catalogobject="dataset:simpcatobj",r.outputobject="dataobj",r.annotations="annotations",r.service="service",r.annoinfo="annoinfo",r.DatabaseIDFromRequiredTransaction="dataset:transreqobj",r.PartiionSetWithinRepositoryFile="dataset:partitionfile",r.TransactionInterpretTextBlock="dataset:interprettextblocktransaction",r.TransactionEventObject="dataset:eventobject",r.TransactionEventType="prov:activity",r.ActivityInfo="dataset:activityinfo",r.InitialReadInOfRepositoryFile="dataset:initreposfile",r.InitialReadInOfRepositoryFileActivity="dataset:InitialReadInOfRepositoryFile",r.UploadFileSource="dataset:uploadsrc",r.LocalFileSystem="dataset:LocalFileSystem",r.StringSource="dataset:StringSource",r.FileSourceIdentifier="dataset:fileidentifier",r.email="http://www.w3.org/2006/vcard/ns#:email",r.username="foaf:account",r.UID="dataset:authorizationuid",r.AuthorizationType="dataset:AuthorizationType",r.UserAccount="prov:SoftwareAgent",r.DatabasePerson="vcard:Individual",r.UserAccountRole="dataset:UserAccountRole",r.DatasetObjectSummaryTableDescriptors="dataset:summarytabledescriptors",r.DatasetObjectSummaryTableSearchTerms="dataset:summarytablesearchterms",r.SummaryTableDescriptionKey="dataset:summarytabledescriptionkey",r.SummaryTableSearchKey="dataset:summarytablesearchkey",r.DataObjectSummaryTableDescriptionTerms="dataset:summarytabledescriptionterms",r.textfile="dataset:FileTypeText",r.ThermodynamicsSystemCollectionIDsSet="dataset:systemdatasetcollection",r.ThermodynamicsDatasetCollectionIDsSet="dataset:datasetcollectionids",r})(),Oa=(()=>{class r{constructor(){this.guestlabel="Guest",this.guestuidlabel="Guest"}getGuestuidlabel(){return this.guestuidlabel}getGuestLabel(){return this.guestlabel}isLoggedIn(){const e=null!=this.getUID(),i="dataset:LoginRegistration"===this.getLoginStatus();return e&&i}getUID(){var e=sessionStorage.getItem("dataset:authorizationuid");return null==e&&(e=this.getGuestuidlabel()),e}setUID(e){sessionStorage.setItem("dataset:authorizationuid",e)}getUserRole(){return sessionStorage.getItem("dataset:UserAccountRole")}getLoginStatus(){return sessionStorage.getItem("dataset:loginstage")}setLoginStatus(e){sessionStorage.setItem("dataset:loginstage",e)}setUserAccount(e){localStorage.setItem("prov:SoftwareAgent",JSON.stringify(e))}getUserAccount(){return JSON.parse(localStorage.getItem("prov:SoftwareAgent"))}setDatabasePerson(e){sessionStorage.setItem("vcard:Individual",JSON.stringify(e))}getDatabasePerson(){return JSON.parse(sessionStorage.getItem("vcard:Individual"))}getLoginAccountInfo(){return JSON.parse(sessionStorage.getItem("dataset:loginaccountinfo"))}setLoginAccountInfo(e){sessionStorage.setItem("dataset:loginaccountinfo",JSON.stringify(e))}setAuthorizationData(e){sessionStorage.setItem("user",JSON.stringify(e))}getAuthorizationData(){return JSON.parse(sessionStorage.getItem("user"))}setToken(e){sessionStorage.setItem("token",e)}getToken(){return sessionStorage.getItem("token")}storeLoginAccount(e){this.setLoginAccountInfo(e),sessionStorage.setItem("dataset:authorizationuid",e["dataset:authorizationuid"]),sessionStorage.setItem("dataset:UserAccountRole",e["dataset:UserAccountRole"])}clearSession(){sessionStorage.removeItem("dataset:authorizationuid"),sessionStorage.removeItem("dataset:loginaccountinfo"),sessionStorage.removeItem("dataset:UserAccountRole"),sessionStorage.removeItem("dataset:loginstage"),localStorage.removeItem("prov:SoftwareAgent"),sessionStorage.removeItem("vcard:Individual"),sessionStorage.removeItem("user"),sessionStorage.removeItem("token")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Ed=j(353);function Fa(){return r=>r.lift(new ZN)}class ZN{call(t,e){return e.subscribe(new rA(t))}}class rA extends er.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Or(r,t){return e=>e.lift(new ml(r,t))}class ml{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new gl(t,this.compare,this.keySelector))}}class gl extends er.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:s}=this;e=s?s(t):t}catch(s){return this.destination.error(s)}let i=!1;if(this.hasKey)try{const{compare:s}=this;i=s(this.key,e)}catch(s){return this.destination.error(s)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}j(9568);var st,uv=j(3942),HN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_l={},H1=H1||{},un=HN||self;function Md(r){var t=typeof r;return"array"==(t="object"!=t?t:r?Array.isArray(r)?"array":t:"null")||"object"==t&&"number"==typeof r.length}function m_(r){var t=typeof r;return"object"==t&&null!=r||"function"==t}var q1="closure_uid_"+(1e9*Math.random()>>>0),oA=0;function aA(r,t,e){return r.call.apply(r.bind,arguments)}function dv(r,t,e){if(!r)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),r.apply(t,s)}}return function(){return r.apply(t,arguments)}}function Xs(r,t,e){return(Xs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aA:dv).apply(null,arguments)}function g_(r,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),r.apply(this,i)}}function hs(r,t){function e(){}e.prototype=t.prototype,r.$=t.prototype,r.prototype=new e,r.prototype.constructor=r,r.ac=function(i,s,o){for(var a=Array(arguments.length-2),d=2;d<arguments.length;d++)a[d-2]=arguments[d];return t.prototype[s].apply(i,a)}}function fc(){this.s=this.s,this.o=this.o}fc.prototype.s=!1,fc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function sA(r){Object.prototype.hasOwnProperty.call(r,q1)&&r[q1]||(r[q1]=++oA)}(this)},fc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fv=Array.prototype.indexOf?function(r,t){return Array.prototype.indexOf.call(r,t,void 0)}:function(r,t){if("string"==typeof r)return"string"!=typeof t||1!=t.length?-1:r.indexOf(t,0);for(let e=0;e<r.length;e++)if(e in r&&r[e]===t)return e;return-1};function pv(r){const t=r.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=r[i];return e}return[]}function G1(r,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Md(i)){const s=r.length||0,o=i.length||0;r.length=s+o;for(let a=0;a<o;a++)r[s+a]=i[a]}else r.push(i)}}function Ps(r,t){this.type=r,this.g=this.target=t,this.defaultPrevented=!1}Ps.prototype.h=function(){this.defaultPrevented=!0};var lA=function(){if(!un.addEventListener||!Object.defineProperty)return!1;var r=!1,t=Object.defineProperty({},"passive",{get:function(){r=!0}});try{un.addEventListener("test",()=>{},t),un.removeEventListener("test",()=>{},t)}catch{}return r}();function tm(r){return/^[\s\xa0]*$/.test(r)}function __(){var r=un.navigator;return r&&(r=r.userAgent)?r:""}function yl(r){return-1!=__().indexOf(r)}function mv(r){return mv[" "](r),r}mv[" "]=function(){};var gv,r,GN=yl("Opera"),_f=yl("Trident")||yl("MSIE"),cA=yl("Edge"),Y1=cA||_f,uA=yl("Gecko")&&!(-1!=__().toLowerCase().indexOf("webkit")&&!yl("Edge"))&&!(yl("Trident")||yl("MSIE"))&&!yl("Edge"),YN=-1!=__().toLowerCase().indexOf("webkit")&&!yl("Edge");function dA(){var r=un.document;return r?r.documentMode:void 0}e:{var J1="",z1=(r=__(),uA?/rv:([^\);]+)(\)|;)/.exec(r):cA?/Edge\/([\d\.]+)/.exec(r):_f?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):YN?/WebKit\/(\S+)/.exec(r):GN?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(z1&&(J1=z1?z1[1]:""),_f){var $1=dA();if(null!=$1&&$1>parseFloat(J1)){gv=String($1);break e}}gv=J1}var JN=un.document&&_f&&(dA()||parseInt(gv,10))||void 0;function y_(r,t){if(Ps.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var e=this.type=r.type,i=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=t,t=r.relatedTarget){if(uA){e:{try{mv(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else"mouseover"==e?t=r.fromElement:"mouseout"==e&&(t=r.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:zN[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&y_.$.h.call(this)}}hs(y_,Ps);var zN={2:"touch",3:"pen",4:"mouse"};y_.prototype.h=function(){y_.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var nm="closure_listenable_"+(1e6*Math.random()|0),fA=0;function pA(r,t,e,i,s){this.listener=r,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=s,this.key=++fA,this.fa=this.ia=!1}function b_(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function _v(r,t,e){for(const i in r)t.call(e,r[i],i,r)}function W1(r){const t={};for(const e in r)t[e]=r[e];return t}const K1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X1(r,t){let e,i;for(let s=1;s<arguments.length;s++){for(e in i=arguments[s],i)r[e]=i[e];for(let o=0;o<K1.length;o++)e=K1[o],Object.prototype.hasOwnProperty.call(i,e)&&(r[e]=i[e])}}function im(r){this.src=r,this.g={},this.h=0}function v_(r,t){var e=t.type;if(e in r.g){var o,i=r.g[e],s=fv(i,t);(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(b_(t),0==r.g[e].length&&(delete r.g[e],r.h--))}}function hu(r,t,e,i){for(var s=0;s<r.length;++s){var o=r[s];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return s}return-1}im.prototype.add=function(r,t,e,i,s){var o=r.toString();(r=this.g[o])||(r=this.g[o]=[],this.h++);var a=hu(r,t,i,s);return-1<a?(t=r[a],e||(t.ia=!1)):((t=new pA(t,this.src,o,!!i,s)).ia=e,r.push(t)),t};var ew="closure_lm_"+(1e6*Math.random()|0),tw={};function yf(r,t,e,i,s){if(i&&i.once)return QN(r,t,e,i,s);if(Array.isArray(t)){for(var o=0;o<t.length;o++)yf(r,t[o],e,i,s);return null}return e=ow(e),r&&r[nm]?r.O(t,e,m_(i)?!!i.capture:!!i,s):$N(r,t,e,!1,i,s)}function $N(r,t,e,i,s,o){if(!t)throw Error("Invalid event type");var a=m_(s)?!!s.capture:!!s,d=rw(r);if(d||(r[ew]=d=new im(r)),(e=d.add(t,e,i,a,o)).proxy)return e;if(i=function nw(){const t=Yt;return function r(e){return t.call(r.src,r.listener,e)}}(),e.proxy=i,i.src=r,i.listener=e,r.addEventListener)lA||(s=a),void 0===s&&(s=!1),r.addEventListener(t.toString(),i,s);else if(r.attachEvent)r.attachEvent(WN(t.toString()),i);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(i)}return e}function QN(r,t,e,i,s){if(Array.isArray(t)){for(var o=0;o<t.length;o++)QN(r,t[o],e,i,s);return null}return e=ow(e),r&&r[nm]?r.P(t,e,m_(i)?!!i.capture:!!i,s):$N(r,t,e,!0,i,s)}function iw(r,t,e,i,s){if(Array.isArray(t))for(var o=0;o<t.length;o++)iw(r,t[o],e,i,s);else i=m_(i)?!!i.capture:!!i,e=ow(e),r&&r[nm]?(r=r.i,(t=String(t).toString())in r.g&&-1<(e=hu(o=r.g[t],e,i,s))&&(b_(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete r.g[t],r.h--))):r&&(r=rw(r))&&(t=r.g[t.toString()],r=-1,t&&(r=hu(t,e,i,s)),(e=-1<r?t[r]:null)&&yv(e))}function yv(r){if("number"!=typeof r&&r&&!r.fa){var t=r.src;if(t&&t[nm])v_(t.i,r);else{var e=r.type,i=r.proxy;t.removeEventListener?t.removeEventListener(e,i,r.capture):t.detachEvent?t.detachEvent(WN(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=rw(t))?(v_(e,r),0==e.h&&(e.src=null,t[ew]=null)):b_(r)}}}function WN(r){return r in tw?tw[r]:tw[r]="on"+r}function Yt(r,t){if(r.fa)r=!0;else{t=new y_(t,this);var e=r.listener,i=r.la||r.src;r.ia&&yv(r),r=e.call(i,t)}return r}function rw(r){return(r=r[ew])instanceof im?r:null}var sw="__closure_events_fn_"+(1e9*Math.random()>>>0);function ow(r){return"function"==typeof r?r:(r[sw]||(r[sw]=function(t){return r.handleEvent(t)}),r[sw])}function pr(){fc.call(this),this.i=new im(this),this.S=this,this.J=null}function Ls(r,t){var e,i=r.J;if(i)for(e=[];i;i=i.J)e.push(i);if(r=r.S,i=t.type||t,"string"==typeof t)t=new Ps(t,r);else if(t instanceof Ps)t.target=t.target||r;else{var s=t;X1(t=new Ps(i,r),s)}if(s=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.g=e[o];s=bf(a,i,!0,t)&&s}if(s=bf(a=t.g=r,i,!0,t)&&s,s=bf(a,i,!1,t)&&s,e)for(o=0;o<e.length;o++)s=bf(a=t.g=e[o],i,!1,t)&&s}function bf(r,t,e,i){if(!(t=r.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==e){var d=a.listener,f=a.la||a.src;a.ia&&v_(r.i,a),s=!1!==d.call(f,i)&&s}}return s&&!i.defaultPrevented}hs(pr,fc),pr.prototype[nm]=!0,pr.prototype.removeEventListener=function(r,t,e,i){iw(this,r,t,e,i)},pr.prototype.N=function(){if(pr.$.N.call(this),this.i){var t,r=this.i;for(t in r.g){for(var e=r.g[t],i=0;i<e.length;i++)b_(e[i]);delete r.g[t],r.h--}}this.J=null},pr.prototype.O=function(r,t,e,i){return this.i.add(String(r),t,!1,e,i)},pr.prototype.P=function(r,t,e,i){return this.i.add(String(r),t,!0,e,i)};var rm=un.JSON.stringify;function IB(){var r=lw;let t=null;return r.g&&(t=r.g,r.g=r.g.next,r.g||(r.h=null),t.next=null),t}var aw=new class Dr{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new KN,r=>r.reset());class KN{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function _A(r){var t=1;r=r.split(":");const e=[];for(;0<t&&r.length;)e.push(r.shift()),t--;return r.length&&e.push(r.join(":")),e}function yA(r){un.setTimeout(()=>{throw r},0)}let sm,om=!1,lw=new class gA{constructor(){this.h=this.g=null}add(t,e){const i=aw.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},bA=()=>{const r=un.Promise.resolve(void 0);sm=()=>{r.then(XN)}};var XN=()=>{for(var r;r=IB();){try{r.h.call(r.g)}catch(e){yA(e)}var t=aw;t.j(r),100>t.h&&(t.h++,r.next=t.g,t.g=r)}om=!1};function Id(r,t){pr.call(this),this.h=r||1,this.g=t||un,this.j=Xs(this.qb,this),this.l=Date.now()}function cw(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function uw(r,t,e){if("function"==typeof r)e&&(r=Xs(r,e));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Xs(r.handleEvent,r)}return 2147483647<Number(t)?-1:un.setTimeout(r,t||0)}function vA(r){r.g=uw(()=>{r.g=null,r.i&&(r.i=!1,vA(r))},r.j);const t=r.h;r.h=null,r.m.apply(null,t)}hs(Id,pr),(st=Id.prototype).ga=!1,st.T=null,st.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ls(this,"tick"),this.ga&&(cw(this),this.start()))}},st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.N=function(){Id.$.N.call(this),cw(this),delete this.g};class bv extends fc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:vA(this)}N(){super.N(),this.g&&(un.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function am(r){fc.call(this),this.h=r,this.g={}}hs(am,fc);var dw=[];function hw(r,t,e,i){Array.isArray(e)||(e&&(dw[0]=e.toString()),e=dw);for(var s=0;s<e.length;s++){var o=yf(t,e[s],i||r.handleEvent,!1,r.h||r);if(!o)break;r.g[o.key]=o}}function CA(r){_v(r.g,function(t,e){this.g.hasOwnProperty(e)&&yv(t)},r),r.g={}}function kd(){this.g=!0}function lm(r,t,e,i){r.info(function(){return"XMLHTTP TEXT ("+t+"): "+function wA(r,t){if(!r.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(r=0;r<e.length;r++)if(Array.isArray(e[r])){var i=e[r];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<s.length;a++)s[a]=""}}}return rm(e)}catch{return t}}(r,e)+(i?" "+i:"")})}am.prototype.N=function(){am.$.N.call(this),CA(this)},am.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kd.prototype.Ea=function(){this.g=!1},kd.prototype.info=function(){};var Rd={},fw=null;function vv(){return fw=fw||new pr}function pw(r){Ps.call(this,Rd.Ta,r)}function w_(r){const t=vv();Ls(t,new pw(t))}function TA(r,t){Ps.call(this,Rd.STAT_EVENT,r),this.stat=t}function Uo(r){const t=vv();Ls(t,new TA(t,r))}function nO(r,t){Ps.call(this,Rd.Ua,r),this.size=t}function Cv(r,t){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return un.setTimeout(function(){r()},t)}Rd.Ta="serverreachability",hs(pw,Ps),Rd.STAT_EVENT="statevent",hs(TA,Ps),Rd.Ua="timingevent",hs(nO,Ps);var mw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cm(){}function xA(){}cm.prototype.h=null;var yw,um={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vf(){Ps.call(this,"d")}function _w(){Ps.call(this,"c")}function wv(){}function T_(r,t,e,i){this.l=r,this.j=t,this.m=e,this.W=i||1,this.U=new am(this),this.P=AA,this.V=new Id(r=Y1?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new SA}function SA(){this.i=null,this.g="",this.h=!1}hs(vf,Ps),hs(_w,Ps),hs(wv,cm),wv.prototype.g=function(){return new XMLHttpRequest},wv.prototype.i=function(){return{}},yw=new wv;var AA=45e3,bw={},Tv={};function Cf(r,t,e){r.L=1,r.v=Ev(pc(t)),r.s=e,r.S=!0,EA(r,null)}function EA(r,t){r.G=Date.now(),D_(r),r.A=pc(r.v);var e=r.A,i=r.W;Array.isArray(i)||(i=[String(i)]),Iv(e.i,"t",i),r.C=0,e=r.l.J,r.h=new SA,r.g=KA(r.l,e?t:null,!r.s),0<r.O&&(r.M=new bv(Xs(r.Pa,r,r.g),r.O)),hw(r.U,r.g,"readystatechange",r.nb),t=r.I?W1(r.I):{},r.s?(r.u||(r.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,t)):(r.u="GET",r.g.ha(r.A,r.u,null,t)),w_(),function C_(r,t,e,i,s,o){r.info(function(){if(r.g)if(o)for(var a="",d=o.split("&"),f=0;f<d.length;f++){var g=d[f].split("=");if(1<g.length){var b=g[0];g=g[1];var T=b.split("_");a=2<=T.length&&"type"==T[1]?a+(b+"=")+g+"&":a+(b+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+"\n"+e+"\n"+a})}(r.j,r.u,r.A,r.m,r.W,r.s)}function vw(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function MA(r,t,e){let s,i=!0;for(;!r.J&&r.C<e.length;){if(s=IA(r,e),s==Tv){4==t&&(r.o=4,Uo(14),i=!1),lm(r.j,r.m,null,"[Incomplete Response]");break}if(s==bw){r.o=4,Uo(15),lm(r.j,r.m,e,"[Invalid Chunk]"),i=!1;break}lm(r.j,r.m,s,null),xv(r,s)}vw(r)&&s!=Tv&&s!=bw&&(r.h.g="",r.C=0),4!=t||0!=e.length||r.h.h||(r.o=1,Uo(16),i=!1),r.i=r.i&&i,i?0<e.length&&!r.ba&&(r.ba=!0,(t=r.l).g==r&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),Bv(t),t.M=!0,Uo(11))):(lm(r.j,r.m,e,"[Invalid Chunked Response]"),Tf(r),wf(r))}function IA(r,t){var e=r.C,i=t.indexOf("\n",e);return-1==i?Tv:(e=Number(t.substring(e,i)),isNaN(e)?bw:(i+=1)+e>t.length?Tv:(t=t.slice(i,i+e),r.C=i+e,t))}function D_(r){r.Y=Date.now()+r.P,Cw(r,r.P)}function Cw(r,t){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Cv(Xs(r.lb,r),t)}function Dv(r){r.B&&(un.clearTimeout(r.B),r.B=null)}function wf(r){0==r.l.H||r.J||fO(r.l,r)}function Tf(r){Dv(r);var t=r.M;t&&"function"==typeof t.sa&&t.sa(),r.M=null,cw(r.V),CA(r.U),r.g&&(t=r.g,r.g=null,t.abort(),t.sa())}function xv(r,t){try{var e=r.l;if(0!=e.H&&(e.g==r||Od(e.i,r)))if(!r.K&&Od(e.i,r)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<r.G))break e;Uv(e),Fv(e)}Lv(e),Uo(18)}}else e.Fa=s[1],0<e.Fa-e.V&&37500>s[2]&&e.G&&0==e.A&&!e.v&&(e.v=Cv(Xs(e.ib,e),6e3));if(1>=Aw(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Sf(e,11)}else if((r.K||e.g==r)&&Uv(e),!tm(t))for(s=e.Ja.g.parse(t),t=0;t<s.length;t++){let g=s[t];if(e.V=g[0],g=g[1],2==e.H)if("c"==g[0]){e.K=g[1],e.pa=g[2];const b=g[3];null!=b&&(e.ra=b,e.l.info("VER="+e.ra));const T=g[4];null!=T&&(e.Ga=T,e.l.info("SVER="+e.Ga));const E=g[5];null!=E&&"number"==typeof E&&0<E&&(e.L=i=1.5*E,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const R=r.g;if(R){const L=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var o=i.i;o.g||-1==L.indexOf("spdy")&&-1==L.indexOf("quic")&&-1==L.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(kv(o,o.h),o.h=null))}if(i.F){const Y=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(i.Da=Y,Hi(i.I,i.F,Y))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-r.G,e.l.info("Handshake RTT: "+e.S+"ms"));var a=r;if((i=e).wa=WA(i,i.J?i.pa:null,i.Y),a.K){VA(i.i,a);var d=a,f=i.L;f&&d.setTimeout(f),d.B&&(Dv(d),D_(d)),i.g=a}else Pw(i);0<e.j.length&&Pv(e)}else"stop"!=g[0]&&"close"!=g[0]||Sf(e,7);else 3==e.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?Sf(e,7):Ow(e):"noop"!=g[0]&&e.h&&e.h.Aa(g),e.A=0)}w_()}catch{}}function RA(r,t){if(r.forEach&&"function"==typeof r.forEach)r.forEach(t,void 0);else if(Md(r)||"string"==typeof r)Array.prototype.forEach.call(r,t,void 0);else for(var e=function iO(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Md(r)||"string"==typeof r){var t=[];r=r.length;for(var e=0;e<r;e++)t.push(e);return t}t=[],e=0;for(const i in r)t[e++]=i;return t}}}(r),i=function kA(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Md(r)){for(var t=[],e=r.length,i=0;i<e;i++)t.push(r[i]);return t}for(i in t=[],e=0,r)t[e++]=r[i];return t}(r),s=i.length,o=0;o<s;o++)t.call(void 0,i[o],e&&e[o],r)}(st=T_.prototype).setTimeout=function(r){this.P=r},st.nb=function(r){r=r.target;const t=this.M;t&&3==mc(r)?t.l():this.Pa(r)},st.Pa=function(r){try{if(r==this.g)e:{const b=mc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||Y1||this.g&&(this.h.h||this.g.ja()||YA(this.g)))){this.J||4!=b||7==t||w_(),Dv(this);var e=this.g.da();this.ca=e;t:if(vw(this)){var i=YA(this.g);r="";var s=i.length,o=4==mc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Tf(this),wf(this);var a="";break t}this.h.i=new un.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,r+=this.h.i.decode(i[t],{stream:o&&t==s-1});i.splice(0,s),this.h.g+=r,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function eO(r,t,e,i,s,o,a){r.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+"\n"+e+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.W,b,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tm(d)){var g=d;break t}}g=null}if(!(e=g)){this.i=!1,this.o=3,Uo(12),Tf(this),wf(this);break e}lm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xv(this,e)}this.S?(MA(this,b,a),Y1&&this.i&&3==b&&(hw(this.U,this.V,"tick",this.mb),this.V.start())):(lm(this.j,this.m,a,null),xv(this,a)),4==b&&Tf(this),this.i&&!this.J&&(4==b?fO(this.l,this):(this.i=!1,D_(this)))}else(function JA(r){const t={};r=(r.g&&2<=mc(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<r.length;i++){if(tm(r[i]))continue;var e=_A(r[i]);const s=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[s]||[];t[s]=o,o.push(e)}!function mA(r,t){for(const e in r)t.call(void 0,r[e],e,r)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<a.indexOf("Unknown SID")?(this.o=3,Uo(12)):(this.o=0,Uo(13)),Tf(this),wf(this)}}}catch{}},st.mb=function(){if(this.g){var r=mc(this.g),t=this.g.ja();this.C<t.length&&(Dv(this),MA(this,r,t),this.i&&4!=r&&D_(this))}},st.cancel=function(){this.J=!0,Tf(this)},st.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function tO(r,t){r.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(w_(),Uo(17)),Tf(this),this.o=2,wf(this)):Cw(this,this.Y-r)};var NA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Df(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Df){this.h=r.h,Sv(this,r.j),this.s=r.s,this.g=r.g,Av(this,r.m),this.l=r.l;var t=r.i,e=new dm;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),OA(this,e),this.o=r.o}else r&&(t=String(r).match(NA))?(this.h=!1,Sv(this,t[1]||"",!0),this.s=x_(t[2]||""),this.g=x_(t[3]||"",!0),Av(this,t[4]),this.l=x_(t[5]||"",!0),OA(this,t[6]||"",!0),this.o=x_(t[7]||"")):(this.h=!1,this.i=new dm(null,this.h))}function pc(r){return new Df(r)}function Sv(r,t,e){r.j=e?x_(t,!0):t,r.j&&(r.j=r.j.replace(/:$/,""))}function Av(r,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);r.m=t}else r.m=null}function OA(r,t,e){t instanceof dm?(r.i=t,function xw(r,t){t&&!r.j&&(Nd(r),r.i=null,r.g.forEach(function(e,i){var s=i.toLowerCase();i!=s&&(LA(this,i),Iv(this,s,e))},r)),r.j=t}(r.i,r.h)):(e||(t=S_(t,sO)),r.i=new dm(t,r.h))}function Hi(r,t,e){r.i.set(t,e)}function Ev(r){return Hi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function x_(r,t){return r?t?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function S_(r,t,e){return"string"==typeof r?(r=encodeURI(r).replace(t,rO),e&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function rO(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Df.prototype.toString=function(){var r=[],t=this.j;t&&r.push(S_(t,Tw,!0),":");var e=this.g;return(e||"file"==t)&&(r.push("//"),(t=this.s)&&r.push(S_(t,Tw,!0),"@"),r.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&r.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&r.push("/"),r.push(S_(e,"/"==e.charAt(0)?PA:FA,!0))),(e=this.i.toString())&&r.push("?",e),(e=this.o)&&r.push("#",S_(e,Dw)),r.join("")};var Tw=/[#\/\?@]/g,FA=/[#\?:]/g,PA=/[#\?]/g,sO=/[#\?@]/g,Dw=/#/g;function dm(r,t){this.h=this.g=null,this.i=r||null,this.j=!!t}function Nd(r){r.g||(r.g=new Map,r.h=0,r.i&&function ww(r,t){if(r){r=r.split("&");for(var e=0;e<r.length;e++){var i=r[e].indexOf("="),s=null;if(0<=i){var o=r[e].substring(0,i);s=r[e].substring(i+1)}else o=r[e];t(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(r.i,function(t,e){r.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function LA(r,t){Nd(r),t=xf(r,t),r.g.has(t)&&(r.i=null,r.h-=r.g.get(t).length,r.g.delete(t))}function Mv(r,t){return Nd(r),t=xf(r,t),r.g.has(t)}function Iv(r,t,e){LA(r,t),0<e.length&&(r.i=null,r.g.set(xf(r,t),pv(e)),r.h+=e.length)}function xf(r,t){return t=String(t),r.j&&(t=t.toLowerCase()),t}function BA(r){this.l=r||Sw,r=un.PerformanceNavigationTiming?0<(r=un.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(un.g&&un.g.Ka&&un.g.Ka()&&un.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=dm.prototype).add=function(r,t){Nd(this),this.i=null,r=xf(this,r);var e=this.g.get(r);return e||this.g.set(r,e=[]),e.push(t),this.h+=1,this},st.forEach=function(r,t){Nd(this),this.g.forEach(function(e,i){e.forEach(function(s){r.call(t,s,i,this)},this)},this)},st.ta=function(){Nd(this);const r=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const s=r[i];for(let o=0;o<s.length;o++)e.push(t[i])}return e},st.Z=function(r){Nd(this);let t=[];if("string"==typeof r)Mv(this,r)&&(t=t.concat(this.g.get(xf(this,r))));else{r=Array.from(this.g.values());for(let e=0;e<r.length;e++)t=t.concat(r[e])}return t},st.set=function(r,t){return Nd(this),this.i=null,Mv(this,r=xf(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[t]),this.h+=1,this},st.get=function(r,t){return r&&0<(r=this.Z(r)).length?String(r[0]):t},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var s=o;""!==a[i]&&(s+="="+encodeURIComponent(String(a[i]))),r.push(s)}}return this.i=r.join("&")};var Sw=10;function UA(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Aw(r){return r.h?1:r.g?r.g.size:0}function Od(r,t){return r.h?r.h==t:!!r.g&&r.g.has(t)}function kv(r,t){r.g?r.g.add(t):r.h=t}function VA(r,t){r.h&&r.h==t?r.h=null:r.g&&r.g.has(t)&&r.g.delete(t)}function aO(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let t=r.i;for(const e of r.g.values())t=t.concat(e.F);return t}return pv(r.i)}function Ew(){this.g=new class{stringify(r){return un.JSON.stringify(r,void 0)}parse(r){return un.JSON.parse(r,void 0)}}}function lO(r,t,e){const i=e||"";try{RA(r,function(s,o){let a=s;m_(s)&&(a=rm(s)),t.push(i+o+"="+encodeURIComponent(a))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function Rv(r,t,e,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function hm(r){this.l=r.fc||null,this.j=r.ob||!1}function fm(r,t){pr.call(this),this.F=r,this.u=t,this.m=void 0,this.readyState=Nv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}BA.prototype.cancel=function(){if(this.i=aO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},hs(hm,cm),hm.prototype.g=function(){return new fm(this.l,this.j)},hm.prototype.i=function(r){return function(){return r}}({}),hs(fm,pr);var Nv=0;function Iw(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function pm(r){r.readyState=4,r.l=null,r.j=null,r.A=null,mm(r)}function mm(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(st=fm.prototype).open=function(r,t){if(this.readyState!=Nv)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=t,this.readyState=1,mm(this)},st.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(t.body=r),(this.F||un).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pm(this)),this.readyState=Nv},st.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,mm(this)),this.g&&(this.readyState=3,mm(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof un.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Iw(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},st.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var t=r.value?r.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!r.done}))&&(this.response=this.responseText+=t)}r.done?pm(this):mm(this),3==this.readyState&&Iw(this)}},st.Za=function(r){this.g&&(this.response=this.responseText=r,pm(this))},st.Ya=function(r){this.g&&(this.response=r,pm(this))},st.ka=function(){this.g&&pm(this)},st.setRequestHeader=function(r,t){this.v.append(r,t)},st.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],t=this.h.entries();for(var e=t.next();!e.done;)r.push((e=e.value)[0]+": "+e[1]),e=t.next();return r.join("\r\n")},Object.defineProperty(fm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var cO=un.JSON.parse;function xr(r){pr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jA,this.L=this.M=!1}hs(xr,pr);var jA="",uO=/^https?$/i,HA=["POST","PUT"];function kw(r,t){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=t,r.m=5,qA(r),Rw(r)}function qA(r){r.F||(r.F=!0,Ls(r,"complete"),Ls(r,"error"))}function GA(r){if(r.h&&typeof H1<"u"&&(!r.C[1]||4!=mc(r)||2!=r.da()))if(r.v&&4==mc(r))uw(r.La,0,r);else if(Ls(r,"readystatechange"),4==mc(r)){r.h=!1;try{const a=r.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===a){var s=String(r.I).match(NA)[1]||null;!s&&un.self&&un.self.location&&(s=un.self.location.protocol.slice(0,-1)),i=!uO.test(s?s.toLowerCase():"")}e=i}if(e)Ls(r,"complete"),Ls(r,"success");else{r.m=6;try{var o=2<mc(r)?r.g.statusText:""}catch{o=""}r.j=o+" ["+r.da()+"]",qA(r)}}finally{Rw(r)}}}function Rw(r,t){if(r.g){dO(r);const e=r.g,i=r.C[0]?()=>{}:null;r.g=null,r.C=null,t||Ls(r,"ready");try{e.onreadystatechange=i}catch{}}}function dO(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(un.clearTimeout(r.A),r.A=null)}function mc(r){return r.g?r.g.readyState:0}function YA(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case jA:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Nw(r){let t="";return _v(r,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function Ov(r,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=Nw(e),"string"==typeof r?null!=e&&encodeURIComponent(String(e)):Hi(r,t,e))}function gm(r,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[r]||t}function zA(r){this.Ga=0,this.j=[],this.l=new kd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gm("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gm("baseRetryDelayMs",5e3,r),this.hb=gm("retryDelaySeedMs",1e4,r),this.eb=gm("forwardChannelMaxRetries",2,r),this.xa=gm("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new BA(r&&r.concurrentRequestLimit),this.Ja=new Ew,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ow(r){if($A(r),3==r.H){var t=r.W++,e=pc(r.I);if(Hi(e,"SID",r.K),Hi(e,"RID",t),Hi(e,"TYPE","terminate"),ym(r,e),(t=new T_(r,r.l,t)).L=2,t.v=Ev(pc(e)),e=!1,un.navigator&&un.navigator.sendBeacon)try{e=un.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&un.Image&&((new Image).src=t.v,e=!0),e||(t.g=KA(t.l,null),t.g.ha(t.v)),t.G=Date.now(),D_(t)}QA(r)}function Fv(r){r.g&&(Bv(r),r.g.cancel(),r.g=null)}function $A(r){Fv(r),r.u&&(un.clearTimeout(r.u),r.u=null),Uv(r),r.i.cancel(),r.m&&("number"==typeof r.m&&un.clearTimeout(r.m),r.m=null)}function Pv(r){if(!UA(r.i)&&!r.m){r.m=!0;var t=r.Na;sm||bA(),om||(sm(),om=!0),lw.add(t,r),r.C=0}}function _m(r,t){var e;e=t?t.m:r.W++;const i=pc(r.I);Hi(i,"SID",r.K),Hi(i,"RID",e),Hi(i,"AID",r.V),ym(r,i),r.o&&r.s&&Ov(i,r.o,r.s),e=new T_(r,r.l,e,r.C+1),null===r.o&&(e.I=r.s),t&&(r.j=t.F.concat(r.j)),t=Fw(r,e,1e3),e.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),kv(r.i,e),Cf(e,i,t)}function ym(r,t){r.na&&_v(r.na,function(e,i){Hi(t,i,e)}),r.h&&RA({},function(e,i){Hi(t,i,e)})}function Fw(r,t,e){e=Math.min(r.j.length,e);var i=r.h?Xs(r.h.Va,r.h,r):null;e:{var s=r.j;let o=-1;for(;;){const a=["count="+e];-1==o?0<e?(o=s[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let d=!0;for(let f=0;f<e;f++){let g=s[f].g;const b=s[f].map;if(g-=o,0>g)o=Math.max(0,s[f].g-100),d=!1;else try{lO(b,a,"req"+g+"_")}catch{i&&i(b)}}if(d){i=a.join("&");break e}}}return r=r.j.splice(0,e),t.F=r,i}function Pw(r){if(!r.g&&!r.u){r.ba=1;var t=r.Ma;sm||bA(),om||(sm(),om=!0),lw.add(t,r),r.A=0}}function Lv(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Cv(Xs(r.Ma,r),Bw(r,r.A)),r.A++,0))}function Bv(r){null!=r.B&&(un.clearTimeout(r.B),r.B=null)}function Lw(r){r.g=new T_(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var t=pc(r.wa);Hi(t,"RID","rpc"),Hi(t,"SID",r.K),Hi(t,"AID",r.V),Hi(t,"CI",r.G?"0":"1"),!r.G&&r.qa&&Hi(t,"TO",r.qa),Hi(t,"TYPE","xmlhttp"),ym(r,t),r.o&&r.s&&Ov(t,r.o,r.s),r.L&&r.g.setTimeout(r.L);var e=r.g;r=r.pa,e.L=1,e.v=Ev(pc(t)),e.s=null,e.S=!0,EA(e,r)}function Uv(r){null!=r.v&&(un.clearTimeout(r.v),r.v=null)}function fO(r,t){var e=null;if(r.g==t){Uv(r),Bv(r),r.g=null;var i=2}else{if(!Od(r.i,t))return;e=t.F,VA(r.i,t),i=1}if(0!=r.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var s=r.C;Ls(i=vv(),new nO(i,e)),Pv(r)}else Pw(r);else if(3==(s=t.o)||0==s&&0<t.ca||!(1==i&&function hO(r,t){return!(Aw(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=t.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Cv(Xs(r.Na,r,t),Bw(r,r.C)),r.C++,0)))}(r,t)||2==i&&Lv(r)))switch(e&&0<e.length&&(t=r.i,t.i=t.i.concat(e)),s){case 1:Sf(r,5);break;case 4:Sf(r,10);break;case 3:Sf(r,6);break;default:Sf(r,2)}}function Bw(r,t){let e=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(e*=2),e*t}function Sf(r,t){if(r.l.info("Error code "+t),2==t){var e=null;r.h&&(e=null);var i=Xs(r.pb,r);e||(e=new Df("//www.google.com/images/cleardot.gif"),un.location&&"http"==un.location.protocol||Sv(e,"https"),Ev(e)),function Mw(r,t){const e=new kd;if(un.Image){const i=new Image;i.onload=g_(Rv,e,i,"TestLoadImage: loaded",!0,t),i.onerror=g_(Rv,e,i,"TestLoadImage: error",!1,t),i.onabort=g_(Rv,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=g_(Rv,e,i,"TestLoadImage: timeout",!1,t),un.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=r}else t(!1)}(e.toString(),i)}else Uo(2);r.H=0,r.h&&r.h.za(t),QA(r),$A(r)}function QA(r){if(r.H=0,r.ma=[],r.h){const t=aO(r.i);(0!=t.length||0!=r.j.length)&&(G1(r.ma,t),G1(r.ma,r.j),r.i.i.length=0,pv(r.j),r.j.length=0),r.h.ya()}}function WA(r,t,e){var i=e instanceof Df?pc(e):new Df(e);if(""!=i.g)t&&(i.g=t+"."+i.g),Av(i,i.m);else{var s=un.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new Df(null);i&&Sv(o,i),t&&(o.g=t),s&&Av(o,s),e&&(o.l=e),i=o}return t=r.Da,(e=r.F)&&t&&Hi(i,e,t),Hi(i,"VER",r.ra),ym(r,i),i}function KA(r,t,e){if(t&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new xr(e&&r.Ha&&!r.va?new hm({ob:!0}):r.va)).Oa(r.J),t}function bm(){}function Vv(){if(_f&&!(10<=Number(JN)))throw Error("Environmental error: no available transport.")}function Do(r,t){pr.call(this),this.g=new zA(t),this.l=r,this.h=t&&t.messageUrlParams||null,r=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(r?r["X-WebChannel-Content-Type"]=t.messageContentType:r={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(r?r["X-WebChannel-Client-Profile"]=t.Ca:r={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=r,(r=t&&t.cc)&&!tm(r)&&(this.g.o=r),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tm(t)&&(this.g.F=t,null!==(r=this.h)&&t in r&&t in(r=this.h)&&delete r[t]),this.j=new fu(this)}function bl(r){vf.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var t=r.__sm__;if(t){e:{for(const e in t){r=e;break e}r=void 0}(this.i=r)&&(r=this.i,t=null!==t&&r in t?t[r]:void 0),this.data=t}else this.data=r}function XA(){_w.call(this),this.status=1}function fu(r){this.g=r}function vl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Uw(r,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var s=0;16>s;++s)i[s]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(s=0;16>s;++s)i[s]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=r.g[3],a=(t=r.g[0])+(o^(e=r.g[1])&((s=r.g[2])^o))+i[0]+3614090360&4294967295;a=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=(e=(s=(o=(t=e+(a<<7&4294967295|a>>>25))+((a=o+(s^t&(e^s))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^s&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(s^o))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(s^t&(e^s))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^s&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(s^o))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(s^t&(e^s))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^s&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(s^o))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(s^t&(e^s))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^s&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^o&(e^s))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^s&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(s^o))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^o&(e^s))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^s&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(s^o))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^o&(e^s))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^s&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(s^o))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^o&(e^s))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^s&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(s^o))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^s^o)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^s)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(s^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^s^o)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^s)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(s^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^s^o)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^s)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(s^o^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^s^o)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^s)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(s^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~s))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(s|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~s))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(s|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~s))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(s|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=e+((a=t+(s^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~s))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=o+((a=s+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,r.g[0]=r.g[0]+t&4294967295,r.g[1]=r.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,r.g[2]=r.g[2]+s&4294967295,r.g[3]=r.g[3]+o&4294967295}function ui(r,t){this.h=t;for(var e=[],i=!0,s=r.length-1;0<=s;s--){var o=0|r[s];i&&o==t||(e[s]=o,i=!1)}this.g=e}(st=xr.prototype).Oa=function(r){this.M=r},st.ha=function(r,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);t=t?t.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yw.g(),this.C=function DA(r){return r.h||(r.h=r.i())}(this.u?this.u:yw),this.g.onreadystatechange=Xs(this.La,this);try{this.G=!0,this.g.open(t,String(r),!0),this.G=!1}catch(o){return void kw(this,o)}if(r=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)e.set(s,i[s]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),s=un.FormData&&r instanceof un.FormData,!(0<=fv(HA,t))||i||s||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of e)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dO(this),0<this.B&&((this.L=function kB(r){return _f&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xs(this.ua,this)):this.A=uw(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(o){kw(this,o)}},st.ua=function(){typeof H1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ls(this,"timeout"),this.abort(8))},st.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ls(this,"complete"),Ls(this,"abort"),Rw(this))},st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rw(this,!0)),xr.$.N.call(this)},st.La=function(){this.s||(this.G||this.v||this.l?GA(this):this.kb())},st.kb=function(){GA(this)},st.isActive=function(){return!!this.g},st.da=function(){try{return 2<mc(this)?this.g.status:-1}catch{return-1}},st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Wa=function(r){if(this.g){var t=this.g.responseText;return r&&0==t.indexOf(r)&&(t=t.substring(r.length)),cO(t)}},st.Ia=function(){return this.m},st.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=zA.prototype).ra=8,st.H=1,st.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const s=new T_(this,this.l,r);let o=this.s;if(this.U&&(o?(o=W1(o),X1(o,this.U)):o=this.U),null!==this.o||this.O||(s.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=Fw(this,s,t),Hi(e=pc(this.I),"RID",r),Hi(e,"CVER",22),this.F&&Hi(e,"X-HTTP-Session-Id",this.F),ym(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(Nw(o)))+"&"+t:this.o&&Ov(e,this.o,o)),kv(this.i,s),this.bb&&Hi(e,"TYPE","init"),this.P?(Hi(e,"$req",t),Hi(e,"SID","null"),s.aa=!0,Cf(s,e,null)):Cf(s,e,t),this.H=2}}else 3==this.H&&(r?_m(this,r):0==this.j.length||UA(this.i)||_m(this))},st.Ma=function(){if(this.u=null,Lw(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Cv(Xs(this.jb,this),r)}},st.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Uo(10),Fv(this),Lw(this))},st.ib=function(){null!=this.v&&(this.v=null,Fv(this),Lv(this),Uo(19))},st.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Uo(2)):(this.l.info("Failed to ping google.com"),Uo(1))},st.isActive=function(){return!!this.h&&this.h.isActive(this)},(st=bm.prototype).Ba=function(){},st.Aa=function(){},st.za=function(){},st.ya=function(){},st.isActive=function(){return!0},st.Va=function(){},Vv.prototype.g=function(r,t){return new Do(r,t)},hs(Do,pr),Do.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,t=this.l,e=this.h||void 0;Uo(0),r.Y=t,r.na=e||{},r.G=r.aa,r.I=WA(r,null,r.Y),Pv(r)},Do.prototype.close=function(){Ow(this.g)},Do.prototype.u=function(r){var t=this.g;if("string"==typeof r){var e={};e.__data__=r,r=e}else this.v&&((e={}).__data__=rm(r),r=e);t.j.push(new class{constructor(r,t){this.g=r,this.map=t}}(t.fb++,r)),3==t.H&&Pv(t)},Do.prototype.N=function(){this.g.h=null,delete this.j,Ow(this.g),delete this.g,Do.$.N.call(this)},hs(bl,vf),hs(XA,_w),hs(fu,bm),fu.prototype.Ba=function(){Ls(this.g,"a")},fu.prototype.Aa=function(r){Ls(this.g,new bl(r))},fu.prototype.za=function(r){Ls(this.g,new XA)},fu.prototype.ya=function(){Ls(this.g,"b")},hs(vl,function A_(){this.blockSize=-1}),vl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vl.prototype.j=function(r,t){void 0===t&&(t=r.length);for(var e=t-this.blockSize,i=this.m,s=this.h,o=0;o<t;){if(0==s)for(;o<=e;)Uw(this,r,o),o+=this.blockSize;if("string"==typeof r){for(;o<t;)if(i[s++]=r.charCodeAt(o++),s==this.blockSize){Uw(this,i),s=0;break}}else for(;o<t;)if(i[s++]=r[o++],s==this.blockSize){Uw(this,i),s=0;break}}this.h=s,this.i+=t},vl.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var t=1;t<r.length-8;++t)r[t]=0;var e=8*this.i;for(t=r.length-8;t<r.length;++t)r[t]=255&e,e/=256;for(this.j(r),r=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)r[e++]=this.g[t]>>>i&255;return r};var Zv={};function vm(r){return-128<=r&&128>r?function qN(r,t){var e=Zv;return Object.prototype.hasOwnProperty.call(e,r)?e[r]:e[r]=t(r)}(r,function(t){return new ui([0|t],0>t?-1:0)}):new ui([0|r],0>r?-1:0)}function gc(r){if(isNaN(r)||!isFinite(r))return Af;if(0>r)return eo(gc(-r));for(var t=[],e=1,i=0;r>=e;i++)t[i]=r/e|0,e*=jv;return new ui(t,0)}var jv=4294967296,Af=vm(0),E_=vm(1),Vw=vm(16777216);function pu(r){if(0!=r.h)return!1;for(var t=0;t<r.g.length;t++)if(0!=r.g[t])return!1;return!0}function Pa(r){return-1==r.h}function eo(r){for(var t=r.g.length,e=[],i=0;i<t;i++)e[i]=~r.g[i];return new ui(e,~r.h).add(E_)}function Cm(r,t){return r.add(eo(t))}function wm(r,t){for(;(65535&r[t])!=r[t];)r[t+1]+=r[t]>>>16,r[t]&=65535,t++}function Tm(r,t){this.g=r,this.h=t}function Dm(r,t){if(pu(t))throw Error("division by zero");if(pu(r))return new Tm(Af,Af);if(Pa(r))return t=Dm(eo(r),t),new Tm(eo(t.g),eo(t.h));if(Pa(t))return t=Dm(r,eo(t)),new Tm(eo(t.g),t.h);if(30<r.g.length){if(Pa(r)||Pa(t))throw Error("slowDivide_ only works with positive integers.");for(var e=E_,i=t;0>=i.X(r);)e=Hv(e),i=Hv(i);var s=xm(e,1),o=xm(i,1);for(i=xm(i,2),e=xm(e,2);!pu(i);){var a=o.add(i);0>=a.X(r)&&(s=s.add(e),o=a),i=xm(i,1),e=xm(e,1)}return t=Cm(r,s.R(t)),new Tm(s,t)}for(s=Af;0<=r.X(t);){for(e=Math.max(1,Math.floor(r.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(o=gc(e)).R(t);Pa(a)||0<a.X(r);)a=(o=gc(e-=i)).R(t);pu(o)&&(o=E_),s=s.add(o),r=Cm(r,a)}return new Tm(s,r)}function Hv(r){for(var t=r.g.length+1,e=[],i=0;i<t;i++)e[i]=r.D(i)<<1|r.D(i-1)>>>31;return new ui(e,r.h)}function xm(r,t){var e=t>>5;t%=32;for(var i=r.g.length-e,s=[],o=0;o<i;o++)s[o]=0<t?r.D(o+e)>>>t|r.D(o+e+1)<<32-t:r.D(o+e);return new ui(s,r.h)}(st=ui.prototype).ea=function(){if(Pa(this))return-eo(this).ea();for(var r=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);r+=(0<=i?i:jv+i)*t,t*=jv}return r},st.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(pu(this))return"0";if(Pa(this))return"-"+eo(this).toString(r);for(var t=gc(Math.pow(r,6)),e=this,i="";;){var s=Dm(e,t).g,o=((0<(e=Cm(e,s.R(t))).g.length?e.g[0]:e.h)>>>0).toString(r);if(pu(e=s))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},st.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},st.X=function(r){return Pa(r=Cm(this,r))?-1:pu(r)?0:1},st.abs=function(){return Pa(this)?eo(this):this},st.add=function(r){for(var t=Math.max(this.g.length,r.g.length),e=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.D(s))+(65535&r.D(s)),a=(o>>>16)+(this.D(s)>>>16)+(r.D(s)>>>16);i=a>>>16,e[s]=(a&=65535)<<16|(o&=65535)}return new ui(e,-2147483648&e[e.length-1]?-1:0)},st.R=function(r){if(pu(this)||pu(r))return Af;if(Pa(this))return Pa(r)?eo(this).R(eo(r)):eo(eo(this).R(r));if(Pa(r))return eo(this.R(eo(r)));if(0>this.X(Vw)&&0>r.X(Vw))return gc(this.ea()*r.ea());for(var t=this.g.length+r.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<r.g.length;s++){var o=this.D(i)>>>16,a=65535&this.D(i),d=r.D(s)>>>16,f=65535&r.D(s);e[2*i+2*s]+=a*f,wm(e,2*i+2*s),e[2*i+2*s+1]+=o*f,wm(e,2*i+2*s+1),e[2*i+2*s+1]+=a*d,wm(e,2*i+2*s+1),e[2*i+2*s+2]+=o*d,wm(e,2*i+2*s+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new ui(e,0)},st.gb=function(r){return Dm(this,r).h},st.and=function(r){for(var t=Math.max(this.g.length,r.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&r.D(i);return new ui(e,this.h&r.h)},st.or=function(r){for(var t=Math.max(this.g.length,r.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|r.D(i);return new ui(e,this.h|r.h)},st.xor=function(r){for(var t=Math.max(this.g.length,r.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^r.D(i);return new ui(e,this.h^r.h)},Vv.prototype.createWebChannel=Vv.prototype.g,Do.prototype.send=Do.prototype.u,Do.prototype.open=Do.prototype.m,Do.prototype.close=Do.prototype.close,mw.NO_ERROR=0,mw.TIMEOUT=8,mw.HTTP_ERROR=6,gw.COMPLETE="complete",xA.EventType=um,um.OPEN="a",um.CLOSE="b",um.ERROR="c",um.MESSAGE="d",pr.prototype.listen=pr.prototype.O,xr.prototype.listenOnce=xr.prototype.P,xr.prototype.getLastError=xr.prototype.Sa,xr.prototype.getLastErrorCode=xr.prototype.Ia,xr.prototype.getStatus=xr.prototype.da,xr.prototype.getResponseJson=xr.prototype.Wa,xr.prototype.getResponseText=xr.prototype.ja,xr.prototype.send=xr.prototype.ha,xr.prototype.setWithCredentials=xr.prototype.Oa,vl.prototype.digest=vl.prototype.l,vl.prototype.reset=vl.prototype.reset,vl.prototype.update=vl.prototype.j,ui.prototype.add=ui.prototype.add,ui.prototype.multiply=ui.prototype.R,ui.prototype.modulo=ui.prototype.gb,ui.prototype.compare=ui.prototype.X,ui.prototype.toNumber=ui.prototype.ea,ui.prototype.toString=ui.prototype.toString,ui.prototype.getBits=ui.prototype.D,ui.fromNumber=gc,ui.fromString=function eE(r,t){if(0==r.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==r.charAt(0))return eo(eE(r.substring(1),t));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=gc(Math.pow(t,8)),i=Af,s=0;s<r.length;s+=8){var o=Math.min(8,r.length-s),a=parseInt(r.substring(s,s+o),t);8>o?(o=gc(Math.pow(t,o)),i=i.R(o).add(gc(a))):i=(i=i.R(e)).add(gc(a))}return i};var pO=_l.createWebChannelTransport=function(){return new Vv},mO=_l.getStatEventTarget=function(){return vv()},Zw=_l.ErrorCode=mw,tE=_l.EventType=gw,jw=_l.Event=Rd,Hw=_l.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nE=_l.FetchXmlHttpFactory=hm,M_=_l.WebChannel=xA,iE=_l.XhrIo=xr,gO=_l.Md5=vl,Ef=_l.Integer=ui;const qw="@firebase/firestore";class Ts{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ts.UNAUTHENTICATED=new Ts(null),Ts.GOOGLE_CREDENTIALS=new Ts("google-credentials-uid"),Ts.FIRST_PARTY=new Ts("first-party-uid"),Ts.MOCK_USER=new Ts("mock-user");let Mf="9.23.0";const mu=new dc.Yd("@firebase/firestore");function Bs(){return mu.logLevel}function je(r,...t){if(mu.logLevel<=dc.in.DEBUG){const e=t.map(rE);mu.debug(`Firestore (${Mf}): ${r}`,...e)}}function Fr(r,...t){if(mu.logLevel<=dc.in.ERROR){const e=t.map(rE);mu.error(`Firestore (${Mf}): ${r}`,...e)}}function Cl(r,...t){if(mu.logLevel<=dc.in.WARN){const e=t.map(rE);mu.warn(`Firestore (${Mf}): ${r}`,...e)}}function rE(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function ct(r="Unexpected state"){const t=`FIRESTORE (${Mf}) INTERNAL ASSERTION FAILED: `+r;throw Fr(t),new Error(t)}function bt(r,t){r||ct()}function rt(r,t){return r}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Z.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class sE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ts.UNAUTHENTICATED))}shutdown(){}}class yO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Gw{constructor(t){this.t=t,this.currentUser=Ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let s=this.i;const o=g=>this.i!==s?(s=this.i,e(g)):Promise.resolve();let a=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Jr,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=a;t.enqueueRetryable((0,we.Z)(function*(){yield g.promise,yield o(i.currentUser)}))},f=g=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt("string"==typeof i.accessToken),new sE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return bt(null===t||"string"==typeof t),new Ts(t)}}class oE{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Ts.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class aE{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new oE(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Ts.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yw{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.T;return this.T=o.token,je("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?s(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(bt("string"==typeof e.token),this.T=e.token,new k_(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lE(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<r;i++)e[i]=Math.floor(256*Math.random());return e}class cE{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=lE(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<e&&(i+=t.charAt(s[o]%t.length))}return i}}function dn(r,t){return r<t?-1:r>t?1:0}function wl(r,t,e){return r.length===t.length&&r.every((i,s)=>e(i,t[s]))}function uE(r){return r+"\0"}class qi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return qi.fromMillis(Date.now())}static fromDate(t){return qi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new qi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?dn(this.nanoseconds,t.nanoseconds):dn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new vt(t)}static min(){return new vt(new qi(0,0))}static max(){return new vt(new qi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qv{constructor(t,e,i){void 0===e?e=0:e>t.length&&ct(),void 0===i?i=t.length-e:i>t.length-e&&ct(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===qv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof qv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const o=t.get(s),a=e.get(s);if(o<a)return-1;if(o>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Jn extends qv{construct(t,e,i){return new Jn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ne(_e.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new Jn(e)}static emptyPath(){return new Jn([])}}const RB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends qv{construct(t,e,i){return new Sr(t,e,i)}static isValidIdentifier(t){return RB.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sr(["__name__"])}static fromServerFormat(t){const e=[];let i="",s=0;const o=()=>{if(0===i.length)throw new Ne(_e.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;s<t.length;){const d=t[s];if("\\"===d){if(s+1===t.length)throw new Ne(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[s+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Ne(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,s+=2}else"`"===d?(a=!a,s++):"."!==d||a?(i+=d,s++):(o(),s++)}if(o(),a)throw new Ne(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Sr(e)}static emptyPath(){return new Sr([])}}class nt{constructor(t){this.path=t}static fromPath(t){return new nt(Jn.fromString(t))}static fromName(t){return new nt(Jn.fromString(t).popFirst(5))}static empty(){return new nt(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Jn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Jn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nt(new Jn(t.slice()))}}class Gv{constructor(t,e,i,s){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=s}}function Yv(r){return r.fields.find(t=>2===t.kind)}function Fd(r){return r.fields.filter(t=>2!==t.kind)}Gv.UNKNOWN_ID=-1;class R_{constructor(t,e){this.fieldPath=t,this.kind=e}}class N_{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new N_(0,ua.min())}}function hE(r,t){const e=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,s=vt.fromTimestamp(1e9===i?new qi(e+1,0):new qi(e,i));return new ua(s,nt.empty(),t)}function Jw(r){return new ua(r.readTime,r.key,-1)}class ua{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ua(vt.min(),nt.empty(),-1)}static max(){return new ua(vt.max(),nt.empty(),-1)}}function Jv(r,t){let e=r.readTime.compareTo(t.readTime);return 0!==e?e:(e=nt.comparator(r.documentKey,t.documentKey),0!==e?e:dn(r.largestBatchId,t.largestBatchId))}const zw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $w{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function gu(r){return Qw.apply(this,arguments)}function Qw(){return Qw=(0,we.Z)(function*(r){if(r.code!==_e.FAILED_PRECONDITION||r.message!==zw)throw r;je("LocalStore","Unexpectedly lost primary lease")}),Qw.apply(this,arguments)}class me{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new me((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof me?e:me.resolve(e)}catch(e){return me.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):me.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):me.reject(e)}static resolve(t){return new me((e,i)=>{e(t)})}static reject(t){return new me((e,i)=>{i(t)})}static waitFor(t){return new me((e,i)=>{let s=0,o=0,a=!1;t.forEach(d=>{++s,d.next(()=>{++o,a&&o===s&&e()},f=>i(f))}),a=!0,o===s&&e()})}static or(t){let e=me.resolve(!1);for(const i of t)e=e.next(s=>s?me.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,o)=>{i.push(e.call(this,s,o))}),this.waitFor(i)}static mapArray(t,e){return new me((i,s)=>{const o=t.length,a=new Array(o);let d=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next(b=>{a[g]=b,++d,d===o&&i(a)},b=>s(b))}})}static doWhile(t,e){return new me((i,s)=>{const o=()=>{!0===t()?e().next(()=>{o()},s):i()};o()})}}class Ww{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Jr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new zv(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const s=fE(i.target.error);this.v.reject(new zv(t,s))}}static open(t,e,i,s){try{return new Ww(e,t.transaction(s,i))}catch(o){throw new zv(e,o)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(je("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new OB(e)}}class La{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===La.S((0,Z.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return je("SimpleDb","Removing database:",t),Am(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Z.hl)())return!1;if(La.C())return!0;const t=(0,Z.z$)(),e=La.S(t),i=0<e&&e<10,s=La.N(t),o=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,we.Z)(function*(){return e.db||(je("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,s)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=a=>{i(a.target.result)},o.onblocked=()=>{s(new zv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=a=>{const d=a.target.error;s("VersionError"===d.name?new Ne(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ne(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new zv(t,d))},o.onupgradeneeded=a=>{je("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.O(a.target.result,o.transaction,a.oldVersion,e.version).next(()=>{je("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,s){var o=this;return(0,we.Z)(function*(){const a="readonly"===e;let d=0;for(;;){++d;try{o.db=yield o.$(t);const f=Ww.open(o.db,t,a?"readonly":"readwrite",i),g=s(f).next(b=>(f.P(),b)).catch(b=>(f.abort(b),me.reject(b))).toPromise();return g.catch(()=>{}),yield f.R,g}catch(f){const g=f,b="FirebaseError"!==g.name&&d<3;if(je("SimpleDb","Transaction failed with error:",g.message,"Retrying:",b),o.close(),!b)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NB{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Am(this.L.delete())}}class zv extends Ne{constructor(t,e){super(_e.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function If(r){return"IndexedDbTransactionError"===r.name}class OB{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(je("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Am(i)}add(t){return je("SimpleDb","ADD",this.store.name,t,t),Am(this.store.add(t))}get(t){return Am(this.store.get(t)).next(e=>(void 0===e&&(e=null),je("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return je("SimpleDb","DELETE",this.store.name,t),Am(this.store.delete(t))}count(){return je("SimpleDb","COUNT",this.store.name),Am(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const s=this.cursor(i),o=[];return this.W(s,(a,d)=>{o.push(d)}).next(()=>o)}{const s=this.store.getAll(i.range);return new me((o,a)=>{s.onerror=d=>{a(d.target.error)},s.onsuccess=d=>{o(d.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new me((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}J(t,e){je("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const s=this.cursor(i);return this.W(s,(o,a,d)=>d.delete())}X(t,e){let i;e?i=t:(i={},e=t);const s=this.cursor(i);return this.W(s,e)}Z(t){const e=this.cursor({});return new me((i,s)=>{e.onerror=o=>{const a=fE(o.target.error);s(a)},e.onsuccess=o=>{const a=o.target.result;a?t(a.primaryKey,a.value).next(d=>{d?a.continue():i()}):i()}})}W(t,e){const i=[];return new me((s,o)=>{t.onerror=a=>{o(a.target.error)},t.onsuccess=a=>{const d=a.target.result;if(!d)return void s();const f=new NB(d),g=e(d.primaryKey,d.value,f);if(g instanceof me){const b=g.catch(T=>(f.done(),me.reject(T)));i.push(b)}f.isDone?s():null===f.K?d.continue():d.continue(f.K)}}).next(()=>me.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Am(r){return new me((t,e)=>{r.onsuccess=i=>{t(i.target.result)},r.onerror=i=>{const s=fE(i.target.error);e(s)}})}let vO=!1;function fE(r){const t=La.S((0,Z.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(e)>=0){const i=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vO||(vO=!0,setTimeout(()=>{throw i},0)),i}}return r}class FB{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;je("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,we.Z)(function*(){e.task=null;try{je("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){If(i)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield gu(i)}yield e.et(6e4)}))}}class $v{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,we.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let s=e,o=!0;return me.doWhile(()=>!0===o&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return je("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,s).next(d=>{s-=d,i.add(a)});o=!1})).next(()=>e-s)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(s=>this.localStore.localDocuments.getNextDocuments(t,e,s,i).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(s,o)).next(d=>(je("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((s,o)=>{const a=Jw(o);Jv(a,i)>0&&(i=a)}),new ua(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Ba=(()=>{class r{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>i.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return r.ct=-1,r})();function Em(r){return null==r}function Pd(r){return 0===r&&1/r==-1/0}function Kw(r){return"number"==typeof r&&Number.isInteger(r)&&!Pd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Us(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=Qv(t)),t=PB(r.get(e),t);return Qv(t)}function PB(r,t){let e=t;const i=r.length;for(let s=0;s<i;s++){const o=r.charAt(s);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function Qv(r){return r+"\x01\x01"}function Tl(r){const t=r.length;if(bt(t>=2),2===t)return bt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Jn.emptyPath();const e=t-2,i=[];let s="";for(let o=0;o<t;){const a=r.indexOf("\x01",o);switch((a<0||a>e)&&ct(),r.charAt(a+1)){case"\x01":const d=r.substring(o,a);let f;0===s.length?f=d:(s+=d,f=s,s=""),i.push(f);break;case"\x10":s+=r.substring(o,a),s+="\0";break;case"\x11":s+=r.substring(o,a+1);break;default:ct()}o=a+2}return new Jn(i)}const pE=["userId","batchId"];function O_(r,t){return[r,Us(t)]}function CO(r,t,e){return[r,Us(t),e]}const wO={},TO=["prefixPath","collectionGroup","readTime","documentId"],DO=["prefixPath","collectionGroup","documentId"],Wv=["collectionGroup","readTime","prefixPath","documentId"],xO=["canonicalId","targetId"],LB=["targetId","path"],BB=["path","targetId"],UB=["collectionId","parent"],SO=["indexId","uid"],AO=["uid","sequenceNumber"],EO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VB=["indexId","uid","orderedDocumentKey"],MO=["userId","collectionPath","documentId"],mE=["userId","collectionPath","largestBatchId"],gE=["userId","collectionGroup","largestBatchId"],IO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Dl=[...IO,"documentOverlays"],_E=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Kv=_E,kO=[...Kv,"indexConfiguration","indexState","indexEntries"];class Vo extends $w{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Ds(r,t){const e=rt(r);return La.M(e.ht,t)}function Xv(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function Ld(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function yE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class vi{constructor(t,e){this.comparator=t,this.root=e||xs.EMPTY}insert(t,e){return new vi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(t){return new vi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new F_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new F_(this.root,t,this.comparator,!1)}getReverseIterator(){return new F_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new F_(this.root,t,this.comparator,!0)}}class F_{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xs{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=i??xs.RED,this.left=s??xs.EMPTY,this.right=o??xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,o){return new xs(t??this.key,e??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,i),null):0===o?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===e(t,s.key)){if(s.right.isEmpty())return xs.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const t=this.left.check();if(t!==this.right.check())throw ct();return t+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1,xs.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(r,t,e,i,s){return this}insert(r,t,e){return new xs(r,t)}remove(r,t){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gi{constructor(t){this.comparator=t,this.data=new vi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Xw(this.data.getIterator())}getIteratorFrom(t){return new Xw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Gi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(s,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Gi(this.comparator);return e.data=t,e}}class Xw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kf(r){return r.hasNext()?r.getNext():void 0}class Zo{constructor(t){this.fields=t,t.sort(Sr.comparator)}static empty(){return new Zo([])}unionWith(t){let e=new Gi(Sr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Zo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return wl(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new eT("Invalid base64 string: "+s):s}}(t);return new Pr(e)}static fromUint8Array(t){const e=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Pr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return dn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const Bd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _u(r){if(bt(!!r),"string"==typeof r){let t=0;const e=Bd.exec(r);if(bt(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:nr(r.seconds),nanos:nr(r.nanos)}}function nr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Vs(r){return"string"==typeof r?Pr.fromBase64String(r):Pr.fromUint8Array(r)}function eC(r){var t,e;return"server_timestamp"===(null===(e=((null===(t=r?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function tT(r){const t=r.mapValue.fields.__previous_value__;return eC(t)?tT(t):t}function P_(r){const t=_u(r.mapValue.fields.__local_write_time__.timestampValue);return new qi(t.seconds,t.nanos)}class NO{constructor(t,e,i,s,o,a,d,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=g}}class Ud{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ud("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ud&&t.projectId===this.projectId&&t.database===this.database}}const Vd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},L_={nullValue:"NULL_VALUE"};function Rf(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?eC(r)?4:nT(r)?9007199254740991:10:ct()}function xl(r,t){if(r===t)return!0;const e=Rf(r);if(e!==Rf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return P_(r).isEqual(P_(t));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=_u(i.timestampValue),a=_u(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return s=t,Vs(r.bytesValue).isEqual(Vs(s.bytesValue));case 7:return r.referenceValue===t.referenceValue;case 8:return function(i,s){return nr(i.geoPointValue.latitude)===nr(s.geoPointValue.latitude)&&nr(i.geoPointValue.longitude)===nr(s.geoPointValue.longitude)}(r,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return nr(i.integerValue)===nr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=nr(i.doubleValue),a=nr(s.doubleValue);return o===a?Pd(o)===Pd(a):isNaN(o)&&isNaN(a)}return!1}(r,t);case 9:return wl(r.arrayValue.values||[],t.arrayValue.values||[],xl);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Xv(o)!==Xv(a))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===a[d]||!xl(o[d],a[d])))return!1;return!0}(r,t);default:return ct()}var s}function B_(r,t){return void 0!==(r.values||[]).find(e=>xl(e,t))}function yu(r,t){if(r===t)return 0;const e=Rf(r),i=Rf(t);if(e!==i)return dn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return dn(r.booleanValue,t.booleanValue);case 2:return function(s,o){const a=nr(s.integerValue||s.doubleValue),d=nr(o.integerValue||o.doubleValue);return a<d?-1:a>d?1:a===d?0:isNaN(a)?isNaN(d)?0:-1:1}(r,t);case 3:return OO(r.timestampValue,t.timestampValue);case 4:return OO(P_(r),P_(t));case 5:return dn(r.stringValue,t.stringValue);case 6:return function(s,o){const a=Vs(s),d=Vs(o);return a.compareTo(d)}(r.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),d=o.split("/");for(let f=0;f<a.length&&f<d.length;f++){const g=dn(a[f],d[f]);if(0!==g)return g}return dn(a.length,d.length)}(r.referenceValue,t.referenceValue);case 8:return function(s,o){const a=dn(nr(s.latitude),nr(o.latitude));return 0!==a?a:dn(nr(s.longitude),nr(o.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],d=o.values||[];for(let f=0;f<a.length&&f<d.length;++f){const g=yu(a[f],d[f]);if(g)return g}return dn(a.length,d.length)}(r.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Vd.mapValue&&o===Vd.mapValue)return 0;if(s===Vd.mapValue)return 1;if(o===Vd.mapValue)return-1;const a=s.fields||{},d=Object.keys(a),f=o.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let b=0;b<d.length&&b<g.length;++b){const T=dn(d[b],g[b]);if(0!==T)return T;const E=yu(a[d[b]],f[g[b]]);if(0!==E)return E}return dn(d.length,g.length)}(r.mapValue,t.mapValue);default:throw ct()}}function OO(r,t){if("string"==typeof r&&"string"==typeof t&&r.length===t.length)return dn(r,t);const e=_u(r),i=_u(t),s=dn(e.seconds,i.seconds);return 0!==s?s:dn(e.nanos,i.nanos)}function Zd(r){return tC(r)}function tC(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=_u(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Vs(r.bytesValue).toBase64():"referenceValue"in r?nt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(t=r.geoPointValue).latitude},${t.longitude})`:"arrayValue"in r?function(i){let s="[",o=!0;for(const a of i.values||[])o?o=!1:s+=",",s+=tC(a);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",a=!0;for(const d of s)a?a=!1:o+=",",o+=`${d}:${tC(i.fields[d])}`;return o+"}"}(r.mapValue):ct();var t}function jd(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function nC(r){return!!r&&"integerValue"in r}function Mm(r){return!!r&&"arrayValue"in r}function V_(r){return!!r&&"nullValue"in r}function Z_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function j_(r){return!!r&&"mapValue"in r}function H_(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ld(r.mapValue.fields,(e,i)=>t.mapValue.fields[e]=H_(i)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=H_(r.arrayValue.values[e]);return t}return Object.assign({},r)}function nT(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function bE(r){return"nullValue"in r?L_:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?jd(Ud.empty(),nt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ct()}function FO(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?jd(Ud.empty(),nt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Vd:ct()}function vE(r,t){const e=yu(r.value,t.value);return 0!==e?e:r.inclusive&&!t.inclusive?-1:!r.inclusive&&t.inclusive?1:0}function PO(r,t){const e=yu(r.value,t.value);return 0!==e?e:r.inclusive&&!t.inclusive?1:!r.inclusive&&t.inclusive?-1:0}class to{constructor(t){this.value=t}static empty(){return new to({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!j_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=H_(e)}setAll(t){let e=Sr.emptyPath(),i={},s=[];t.forEach((a,d)=>{if(!e.isImmediateParentOf(d)){const f=this.getFieldsMap(e);this.applyChanges(f,i,s),i={},s=[],e=d.popLast()}a?i[d.lastSegment()]=H_(a):s.push(d.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,s)}delete(t){const e=this.field(t.popLast());j_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return xl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];j_(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Ld(e,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new to(H_(this.value))}}function iT(r){const t=[];return Ld(r.fields,(e,i)=>{const s=new Sr([e]);if(j_(i)){const o=iT(i.mapValue).fields;if(0===o.length)t.push(s);else for(const a of o)t.push(s.child(a))}else t.push(s)}),new Zo(t)}class Yi{constructor(t,e,i,s,o,a,d){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=o,this.data=a,this.documentState=d}static newInvalidDocument(t){return new Yi(t,0,vt.min(),vt.min(),vt.min(),to.empty(),0)}static newFoundDocument(t,e,i,s){return new Yi(t,1,e,vt.min(),i,s,0)}static newNoDocument(t,e){return new Yi(t,2,e,vt.min(),vt.min(),to.empty(),0)}static newUnknownDocument(t,e){return new Yi(t,3,e,vt.min(),vt.min(),to.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=to.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=to.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hd{constructor(t,e){this.position=t,this.inclusive=e}}function CE(r,t,e){let i=0;for(let s=0;s<r.position.length;s++){const o=t[s],a=r.position[s];if(i=o.field.isKeyField()?nt.comparator(nt.fromName(a.referenceValue),e.key):yu(a,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function LO(r,t){if(null===r)return null===t;if(null===t||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!xl(r.position[e],t.position[e]))return!1;return!0}class q_{constructor(t,e="asc"){this.field=t,this.dir=e}}function ZB(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class BO{}class Hn extends BO{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new UO(t,e,i):"array-contains"===e?new jB(t,i):"in"===e?new VO(t,i):"not-in"===e?new HB(t,i):"array-contains-any"===e?new qB(t,i):new Hn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new lT(t,i):new cT(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(yu(e,this.value)):null!==e&&Rf(this.value)===Rf(e)&&this.matchesComparison(yu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class di extends BO{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new di(t,e)}matches(t){return bu(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function bu(r){return"and"===r.op}function rT(r){return"or"===r.op}function sT(r){return oT(r)&&bu(r)}function oT(r){for(const t of r.filters)if(t instanceof di)return!1;return!0}function vu(r){if(r instanceof Hn)return r.field.canonicalString()+r.op.toString()+Zd(r.value);if(sT(r))return r.filters.map(t=>vu(t)).join(",");{const t=r.filters.map(e=>vu(e)).join(",");return`${r.op}(${t})`}}function aT(r,t){return r instanceof Hn?(e=r,(i=t)instanceof Hn&&e.op===i.op&&e.field.isEqual(i.field)&&xl(e.value,i.value)):r instanceof di?function(e,i){return i instanceof di&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((s,o,a)=>s&&aT(o,i.filters[a]),!0)}(r,t):void ct();var e,i}function iC(r,t){const e=r.filters.concat(t);return di.create(e,r.op)}function rC(r){return r instanceof Hn?`${(t=r).field.canonicalString()} ${t.op} ${Zd(t.value)}`:r instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(rC).join(" ,")+"}"}(r):"Filter";var t}class UO extends Hn{constructor(t,e,i){super(t,e,i),this.key=nt.fromName(i.referenceValue)}matches(t){const e=nt.comparator(t.key,this.key);return this.matchesComparison(e)}}class lT extends Hn{constructor(t,e){super(t,"in",e),this.keys=G_(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class cT extends Hn{constructor(t,e){super(t,"not-in",e),this.keys=G_(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function G_(r,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>nt.fromName(i.referenceValue))}class jB extends Hn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Mm(e)&&B_(e.arrayValue,this.value)}}class VO extends Hn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&B_(this.value.arrayValue,e)}}class HB extends Hn{constructor(t,e){super(t,"not-in",e)}matches(t){if(B_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!B_(this.value.arrayValue,e)}}class qB extends Hn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Mm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>B_(this.value.arrayValue,i))}}class wE{constructor(t,e=null,i=[],s=[],o=null,a=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=a,this.endAt=d,this.dt=null}}function uT(r,t=null,e=[],i=[],s=null,o=null,a=null){return new wE(r,t,e,i,s,o,a)}function Nf(r){const t=rt(r);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>vu(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),Em(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Zd(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Zd(i)).join(",")),t.dt=e}return t.dt}function Y_(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!ZB(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!aT(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!LO(r.startAt,t.startAt)&&LO(r.endAt,t.endAt)}function sC(r){return nt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function J_(r,t){return r.filters.filter(e=>e instanceof Hn&&e.field.isEqual(t))}function dT(r,t,e){let i=L_,s=!0;for(const o of J_(r,t)){let a=L_,d=!0;switch(o.op){case"<":case"<=":a=bE(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,d=!1;break;case"!=":case"not-in":a=L_}vE({value:i,inclusive:s},{value:a,inclusive:d})<0&&(i=a,s=d)}if(null!==e)for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(t)){const a=e.position[o];vE({value:i,inclusive:s},{value:a,inclusive:e.inclusive})<0&&(i=a,s=e.inclusive);break}return{value:i,inclusive:s}}function hT(r,t,e){let i=Vd,s=!0;for(const o of J_(r,t)){let a=Vd,d=!0;switch(o.op){case">=":case">":a=FO(o.value),d=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,d=!1;break;case"!=":case"not-in":a=Vd}PO({value:i,inclusive:s},{value:a,inclusive:d})>0&&(i=a,s=d)}if(null!==e)for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(t)){const a=e.position[o];PO({value:i,inclusive:s},{value:a,inclusive:e.inclusive})>0&&(i=a,s=e.inclusive);break}return{value:i,inclusive:s}}class Cu{constructor(t,e=null,i=[],s=[],o=null,a="F",d=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=a,this.startAt=d,this.endAt=f,this.wt=null,this._t=null}}function TE(r,t,e,i,s,o,a,d){return new Cu(r,t,e,i,s,o,a,d)}function Of(r){return new Cu(r)}function oC(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function DE(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function z_(r){for(const t of r.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function $_(r){return null!==r.collectionGroup}function Ff(r){const t=rt(r);if(null===t.wt){t.wt=[];const e=z_(t),i=DE(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new q_(e)),t.wt.push(new q_(Sr.keyField(),"asc"));else{let s=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new q_(Sr.keyField(),o))}}}return t.wt}function xo(r){const t=rt(r);if(!t._t)if("F"===t.limitType)t._t=uT(t.path,t.collectionGroup,Ff(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Ff(t))e.push(new q_(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Hd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Hd(t.startAt.position,t.startAt.inclusive):null;t._t=uT(t.path,t.collectionGroup,e,t.filters,t.limit,i,s)}return t._t}function xE(r,t){t.getFirstInequalityField(),z_(r);const e=r.filters.concat([t]);return new Cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function fT(r,t,e){return new Cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function Q_(r,t){return Y_(xo(r),xo(t))&&r.limitType===t.limitType}function SE(r){return`${Nf(xo(r))}|lt:${r.limitType}`}function pT(r){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>rC(i)).join(", ")}]`),Em(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Zd(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Zd(i)).join(",")),`Target(${e})`}(xo(r))}; limitType=${r.limitType})`}function aC(r,t){return t.isFoundDocument()&&function(e,i){const s=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):nt.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s)}(r,t)&&function(e,i){for(const s of Ff(e))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(r,t)&&function(e,i){for(const s of e.filters)if(!s.matches(i))return!1;return!0}(r,t)&&(i=t,!((e=r).startAt&&!function(s,o,a){const d=CE(s,o,a);return s.inclusive?d<=0:d<0}(e.startAt,Ff(e),i)||e.endAt&&!function(s,o,a){const d=CE(s,o,a);return s.inclusive?d>=0:d>0}(e.endAt,Ff(e),i)));var e,i}function ZO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jO(r){return(t,e)=>{let i=!1;for(const s of Ff(r)){const o=GB(s,t,e);if(0!==o)return o;i=i||s.field.isKeyField()}return 0}}function GB(r,t,e){const i=r.field.isKeyField()?nt.comparator(t.key,e.key):function(s,o,a){const d=o.data.field(s),f=a.data.field(s);return null!==d&&null!==f?yu(d,f):ct()}(r.field,t,e);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return ct()}}class qd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[s,o]of i)if(this.equalsFn(s,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0===s)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return 1===i.length?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ld(this.inner,(e,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}const HO=new vi(nt.comparator);function da(){return HO}const qO=new vi(nt.comparator);function lC(...r){let t=qO;for(const e of r)t=t.insert(e.key,e);return t}function GO(r){let t=qO;return r.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function wu(){return l()}function YO(){return l()}function l(){return new qd(r=>r.toString(),(r,t)=>r.isEqual(t))}const c=new vi(nt.comparator),u=new Gi(nt.comparator);function h(...r){let t=u;for(const e of r)t=t.add(e);return t}const p=new Gi(dn);function _(){return p}function C(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pd(t)?"-0":t}}function x(r){return{integerValue:""+r}}function S(r,t){return Kw(t)?x(t):C(r,t)}class I{constructor(){this._=void 0}}function P(r,t,e){return r instanceof he?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&eC(s)&&(s=tT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):r instanceof Te?Ge(r,t):r instanceof $e?pt(r,t):function(i,s){const o=te(i,s),a=Pe(o)+Pe(i.gt);return nC(o)&&nC(i.gt)?x(a):C(i.serializer,a)}(r,t)}function G(r,t,e){return r instanceof Te?Ge(r,t):r instanceof $e?pt(r,t):e}function te(r,t){return r instanceof At?nC(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class he extends I{}class Te extends I{constructor(t){super(),this.elements=t}}function Ge(r,t){const e=Qt(t);for(const i of r.elements)e.some(s=>xl(s,i))||e.push(i);return{arrayValue:{values:e}}}class $e extends I{constructor(t){super(),this.elements=t}}function pt(r,t){let e=Qt(t);for(const i of r.elements)e=e.filter(s=>!xl(s,i));return{arrayValue:{values:e}}}class At extends I{constructor(t,e){super(),this.serializer=t,this.gt=e}}function Pe(r){return nr(r.integerValue||r.doubleValue)}function Qt(r){return Mm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class qn{constructor(t,e){this.field=t,this.transform=e}}class Pf{constructor(t,e){this.version=t,this.transformResults=e}}class ki{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ki}static exists(t){return new ki(void 0,t)}static updateTime(t){return new ki(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Im(r,t){return void 0!==r.updateTime?t.isFoundDocument()&&t.version.isEqual(r.updateTime):void 0===r.exists||r.exists===t.isFoundDocument()}class km{}function cC(r,t){if(!r.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return r.isNoDocument()?new dC(r.key,ki.none()):new Gd(r.key,r.data,ki.none());{const e=r.data,i=to.empty();let s=new Gi(Sr.comparator);for(let o of t.fields)if(!s.has(o)){let a=e.field(o);null===a&&o.length>1&&(o=o.popLast(),a=e.field(o)),null===a?i.delete(o):i.set(o,a),s=s.add(o)}return new Bf(r.key,i,new Zo(s.toArray()),ki.none())}}function mT(r,t,e){r instanceof Gd?function(i,s,o){const a=i.value.clone(),d=JB(i.fieldTransforms,s,o.transformResults);a.setAll(d),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(r,t,e):r instanceof Bf?function(i,s,o){if(!Im(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=JB(i.fieldTransforms,s,o.transformResults),d=s.data;d.setAll(YB(i)),d.setAll(a),s.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(r,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Lf(r,t,e,i){return r instanceof Gd?function(s,o,a,d){if(!Im(s.precondition,o))return a;const f=s.value.clone(),g=zB(s.fieldTransforms,d,o);return f.setAll(g),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(r,t,e,i):r instanceof Bf?function(s,o,a,d){if(!Im(s.precondition,o))return a;const f=zB(s.fieldTransforms,d,o),g=o.data;return g.setAll(YB(s)),g.setAll(f),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(b=>b.field))}(r,t,e,i):(a=e,Im(r.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function gT(r,t){let e=null;for(const i of r.fieldTransforms){const s=t.data.field(i.field),o=te(i.transform,s||null);null!=o&&(null===e&&(e=to.empty()),e.set(i.field,o))}return e||null}function uC(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=r.fieldTransforms)&&void 0===i||e&&i&&wl(e,i,(s,o)=>function ir(r,t){return r.field.isEqual(t.field)&&(i=t.transform,(e=r.transform)instanceof Te&&i instanceof Te||e instanceof $e&&i instanceof $e?wl(e.elements,i.elements,xl):e instanceof At&&i instanceof At?xl(e.gt,i.gt):e instanceof he&&i instanceof he);var e,i}(s,o))))&&(0===r.type?r.value.isEqual(t.value):1!==r.type||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask));var e,i}class Gd extends km{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bf extends km{constructor(t,e,i,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YB(r){const t=new Map;return r.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=r.data.field(e);t.set(e,i)}}),t}function JB(r,t,e){const i=new Map;bt(r.length===e.length);for(let s=0;s<e.length;s++){const o=r[s],a=o.transform,d=t.data.field(o.field);i.set(o.field,G(a,d,e[s]))}return i}function zB(r,t,e){const i=new Map;for(const s of r){const o=s.transform,a=e.data.field(s.field);i.set(s.field,P(o,a,t))}return i}class dC extends km{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JO extends km{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zO{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&mT(o,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Lf(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Lf(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=YO();return this.mutations.forEach(s=>{const o=t.get(s.key),a=o.overlayedDocument;let d=this.applyToLocalView(a,o.mutatedFields);d=e.has(s.key)?null:d;const f=cC(a,d);null!==f&&i.set(s.key,f),a.isValidDocument()||a.convertToNoDocument(vt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),h())}isEqual(t){return this.batchId===t.batchId&&wl(this.mutations,t.mutations,(e,i)=>uC(e,i))&&wl(this.baseMutations,t.baseMutations,(e,i)=>uC(e,i))}}class $O{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){bt(t.mutations.length===i.length);let s=c;const o=t.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,i[a].version);return new $O(t,e,i,s)}}class QO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tz{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ss,Xn;function $B(r){switch(r){default:return ct();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function QB(r){if(void 0===r)return Fr("GRPC error has no .code"),_e.UNKNOWN;switch(r){case Ss.OK:return _e.OK;case Ss.CANCELLED:return _e.CANCELLED;case Ss.UNKNOWN:return _e.UNKNOWN;case Ss.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Ss.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Ss.INTERNAL:return _e.INTERNAL;case Ss.UNAVAILABLE:return _e.UNAVAILABLE;case Ss.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Ss.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Ss.NOT_FOUND:return _e.NOT_FOUND;case Ss.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Ss.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Ss.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Ss.ABORTED:return _e.ABORTED;case Ss.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Ss.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Ss.DATA_LOSS:return _e.DATA_LOSS;default:return ct()}}(Xn=Ss||(Ss={}))[Xn.OK=0]="OK",Xn[Xn.CANCELLED=1]="CANCELLED",Xn[Xn.UNKNOWN=2]="UNKNOWN",Xn[Xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xn[Xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xn[Xn.NOT_FOUND=5]="NOT_FOUND",Xn[Xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xn[Xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xn[Xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xn[Xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xn[Xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xn[Xn.ABORTED=10]="ABORTED",Xn[Xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xn[Xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xn[Xn.INTERNAL=13]="INTERNAL",Xn[Xn.UNAVAILABLE=14]="UNAVAILABLE",Xn[Xn.DATA_LOSS=15]="DATA_LOSS";class WO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return AE}static getOrCreateInstance(){return null===AE&&(AE=new WO),AE}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let AE=null;function WB(){return new TextEncoder}const nz=new Ef([4294967295,4294967295],0);function KB(r){const t=WB().encode(r),e=new gO;return e.update(t),new Uint8Array(e.digest())}function XB(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ef([e,i],0),new Ef([s,o],0)]}class KO{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new _T(`Invalid padding: ${e}`);if(i<0)throw new _T(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new _T(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new _T(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=Ef.fromNumber(this.It)}Et(t,e,i){let s=t.add(e.multiply(Ef.fromNumber(i)));return 1===s.compare(nz)&&(s=new Ef([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=KB(t),[i,s]=XB(e);for(let o=0;o<this.hashCount;o++){const a=this.Et(i,s,o);if(!this.At(a))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new KO(o,s,e);return i.forEach(d=>a.insert(d)),a}insert(t){if(0===this.It)return;const e=KB(t),[i,s]=XB(e);for(let o=0;o<this.hashCount;o++){const a=this.Et(i,s,o);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class _T extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yT{constructor(t,e,i,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,bT.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new yT(vt.min(),s,new vi(dn),da(),h())}}class bT{constructor(t,e,i,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new bT(i,e,h(),h(),h())}}class EE{constructor(t,e,i,s){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=s}}class eU{constructor(t,e){this.targetId=t,this.Vt=e}}class tU{constructor(t,e,i=Pr.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class nU{constructor(){this.St=0,this.Dt=rU(),this.Ct=Pr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=h(),e=h(),i=h();return this.Dt.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:ct()}}),new bT(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=rU()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class iz{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=da(),this.zt=iU(),this.Wt=new vi(dn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:ct()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,s)=>{this.te(s)&&e(s)})}ne(t){var e;const i=t.targetId,s=t.Vt.count,o=this.se(i);if(o){const a=o.target;if(sC(a))if(0===s){const d=new nt(a.path);this.Yt(i,d,Yi.newNoDocument(d,vt.min()))}else bt(1===s);else{const d=this.ie(i);if(d!==s){const f=this.re(t,d);0!==f&&(this.ee(i),this.Wt=this.Wt.insert(i,2===f?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=WO.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(g,b,T){var E,R,L,Y,W,ve;const Ze={localCacheCount:b,existenceFilterCount:T.count},He=T.unchangedNames;return He&&(Ze.bloomFilter={applied:0===g,hashCount:null!==(E=He?.hashCount)&&void 0!==E?E:0,bitmapLength:null!==(Y=null===(L=null===(R=He?.bits)||void 0===R?void 0:R.bitmap)||void 0===L?void 0:L.length)&&void 0!==Y?Y:0,padding:null!==(ve=null===(W=He?.bits)||void 0===W?void 0:W.padding)&&void 0!==ve?ve:0}),Ze}(f,d,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:s}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:a=0},hashCount:d=0}=i;let f,g;try{f=Vs(o).toUint8Array()}catch(b){if(b instanceof eT)return Cl("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{g=new KO(f,a,d)}catch(b){return Cl(b instanceof _T?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===g.It?1:s!==e-this.oe(t.targetId,g)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let s=0;return i.forEach(o=>{const a=this.Gt.ue(),d=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.vt(d)||(this.Yt(t,o,null),s++)}),s}ce(t){const e=new Map;this.Qt.forEach((o,a)=>{const d=this.se(a);if(d){if(o.current&&sC(d.target)){const f=new nt(d.target.path);null!==this.jt.get(f)||this.ae(a,f)||this.Yt(a,f,Yi.newNoDocument(f,t))}o.Mt&&(e.set(a,o.Ot()),o.Ft())}});let i=h();this.zt.forEach((o,a)=>{let d=!0;a.forEachWhile(f=>{const g=this.se(f);return!g||"TargetPurposeLimboResolution"===g.purpose||(d=!1,!1)}),d&&(i=i.add(o))}),this.jt.forEach((o,a)=>a.setReadTime(t));const s=new yT(t,e,this.Wt,this.jt,i);return this.jt=da(),this.zt=iU(),this.Wt=new vi(dn),s}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const s=this.Zt(t);this.ae(t,e)?s.Bt(e,1):s.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new nU,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Gi(dn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||je("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new nU),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function iU(){return new vi(nt.comparator)}function rU(){return new vi(nt.comparator)}const rz={asc:"ASCENDING",desc:"DESCENDING"},sz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oz={and:"AND",or:"OR"};class az{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function XO(r,t){return r.useProto3Json||Em(t)?t:{value:t}}function hC(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sU(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function lz(r,t){return hC(r,t.toTimestamp())}function fs(r){return bt(!!r),vt.fromTimestamp(function(t){const e=_u(t);return new qi(e.seconds,e.nanos)}(r))}function eF(r,t){return(e=r,new Jn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function oU(r){const t=Jn.fromString(r);return bt(mU(t)),t}function vT(r,t){return eF(r.databaseId,t.path)}function Yd(r,t){const e=oU(t);if(e.get(1)!==r.databaseId.projectId)throw new Ne(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new Ne(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new nt(lU(e))}function tF(r,t){return eF(r.databaseId,t)}function aU(r){const t=oU(r);return 4===t.length?Jn.emptyPath():lU(t)}function CT(r){return new Jn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lU(r){return bt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function cU(r,t,e){return{name:vT(r,t),fields:e.value.mapValue.fields}}function uU(r,t,e){const i=Yd(r,t.name),s=fs(t.updateTime),o=t.createTime?fs(t.createTime):vt.min(),a=new to({mapValue:{fields:t.fields}}),d=Yi.newFoundDocument(i,s,o,a);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function wT(r,t){let e;if(t instanceof Gd)e={update:cU(r,t.key,t.value)};else if(t instanceof dC)e={delete:vT(r,t.key)};else if(t instanceof Bf)e={update:cU(r,t.key,t.data),updateMask:gz(t.fieldMask)};else{if(!(t instanceof JO))return ct();e={verify:vT(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof he)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Te)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $e)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof At)return{fieldPath:o.field.canonicalString(),increment:a.gt};throw ct()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:lz(r,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:ct()),e;var s}function nF(r,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?ki.updateTime(fs(s.updateTime)):void 0!==s.exists?ki.exists(s.exists):ki.none():ki.none(),i=t.updateTransforms?t.updateTransforms.map(s=>function(o,a){let d=null;"setToServerValue"in a?(bt("REQUEST_TIME"===a.setToServerValue),d=new he):"appendMissingElements"in a?d=new Te(a.appendMissingElements.values||[]):"removeAllFromArray"in a?d=new $e(a.removeAllFromArray.values||[]):"increment"in a?d=new At(o,a.increment):ct();const f=Sr.fromServerFormat(a.fieldPath);return new qn(f,d)}(r,s)):[];var s;if(t.update){const s=Yd(r,t.update.name),o=new to({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new Zo((t.updateMask.fieldPaths||[]).map(g=>Sr.fromServerFormat(g)));return new Bf(s,o,a,e,i)}return new Gd(s,o,e,i)}if(t.delete){const s=Yd(r,t.delete);return new dC(s,e)}if(t.verify){const s=Yd(r,t.verify);return new JO(s,e)}return ct()}function dU(r,t){return{documents:[tF(r,t.path)]}}function iF(r,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=tF(r,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=tF(r,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(f){if(0!==f.length)return pU(di.create(f,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const o=function(f){if(0!==f.length)return f.map(g=>{return{field:Rm((b=g).field),direction:fz(b.dir)};var b})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=XO(r,t.limit);var d,f;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function hU(r){let t=aU(r.parent);const e=r.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){bt(1===i);const b=e.from[0];b.allDescendants?s=b.collectionId:t=t.child(b.collectionId)}let o=[];e.where&&(o=function(b){const T=fU(b);return T instanceof di&&sT(T)?T.getFilters():[T]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(b=>{return new q_(fC((T=b).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let d=null;e.limit&&(d=function(b){let T;return T="object"==typeof b?b.value:b,Em(T)?null:T}(e.limit));let f=null;var b;e.startAt&&(f=new Hd((b=e.startAt).values||[],!!b.before));let g=null;return e.endAt&&(g=function(b){return new Hd(b.values||[],!b.before)}(e.endAt)),TE(t,s,a,o,d,"F",f,g)}function fU(r){return void 0!==r.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=fC(t.unaryFilter.field);return Hn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=fC(t.unaryFilter.field);return Hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fC(t.unaryFilter.field);return Hn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fC(t.unaryFilter.field);return Hn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(r):void 0!==r.fieldFilter?Hn.create(fC((t=r).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==r.compositeFilter?function(t){return di.create(t.compositeFilter.filters.map(e=>fU(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ct()}}(t.compositeFilter.op))}(r):ct();var t}function fz(r){return rz[r]}function pz(r){return sz[r]}function mz(r){return oz[r]}function Rm(r){return{fieldPath:r.canonicalString()}}function fC(r){return Sr.fromServerFormat(r.fieldPath)}function pU(r){return r instanceof Hn?function(t){if("=="===t.op){if(Z_(t.value))return{unaryFilter:{field:Rm(t.field),op:"IS_NAN"}};if(V_(t.value))return{unaryFilter:{field:Rm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Z_(t.value))return{unaryFilter:{field:Rm(t.field),op:"IS_NOT_NAN"}};if(V_(t.value))return{unaryFilter:{field:Rm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rm(t.field),op:pz(t.op),value:t.value}}}(r):r instanceof di?function(t){const e=t.getFilters().map(i=>pU(i));return 1===e.length?e[0]:{compositeFilter:{op:mz(t.op),filters:e}}}(r):ct()}function gz(r){const t=[];return r.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function mU(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Uf{constructor(t,e,i,s,o=vt.min(),a=vt.min(),d=Pr.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(t){return new Uf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Uf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Uf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Uf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class gU{constructor(t){this.fe=t}}function _U(r,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:ME(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:vT(s=r.fe,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:hC(s,o.version.toTimestamp()),createTime:hC(s,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:W_(t.version)};else{if(!t.isUnknownDocument())return ct();i.unknownDocument={path:e.path.toArray(),version:W_(t.version)}}var s,o;return i}function ME(r){const t=r.toTimestamp();return[t.seconds,t.nanoseconds]}function W_(r){const t=r.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function K_(r){const t=new qi(r.seconds,r.nanoseconds);return vt.fromTimestamp(t)}function X_(r,t){const e=(t.baseMutations||[]).map(o=>nF(r.fe,o));for(let o=0;o<t.mutations.length-1;++o){const a=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(a.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>nF(r.fe,o)),s=qi.fromMillis(t.localWriteTimeMs);return new zO(t.batchId,s,e,i)}function TT(r){const t=K_(r.readTime),e=void 0!==r.lastLimboFreeSnapshotVersion?K_(r.lastLimboFreeSnapshotVersion):vt.min();let i;var s;return void 0!==r.query.documents?(bt(1===(s=r.query).documents.length),i=xo(Of(aU(s.documents[0])))):i=xo(hU(r.query)),new Uf(i,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,t,e,Pr.fromBase64String(r.resumeToken))}function yU(r,t){const e=W_(t.snapshotVersion),i=W_(t.lastLimboFreeSnapshotVersion);let s;s=sC(t.target)?dU(r.fe,t.target):iF(r.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Nf(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function rF(r){const t=hU({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?fT(t,t.limit,"L"):t}function sF(r,t){return new QO(t.largestBatchId,nF(r.fe,t.overlayMutation))}function bU(r,t){const e=t.path.lastSegment();return[r,Us(t.path.popLast()),e]}function vU(r,t,e,i){return{indexId:r,uid:t.uid||"",sequenceNumber:e,readTime:W_(i.readTime),documentKey:Us(i.documentKey.path),largestBatchId:i.largestBatchId}}class yz{getBundleMetadata(t,e){return CU(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:K_(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return CU(t).put({bundleId:(i=e).id,createTime:W_(fs(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return wU(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:rF(s.bundledQuery),readTime:K_(s.readTime)};var s})}saveNamedQuery(t,e){return wU(t).put({name:(i=e).name,readTime:W_(fs(i.readTime)),bundledQuery:i.bundledQuery});var i}}function CU(r){return Ds(r,"bundles")}function wU(r){return Ds(r,"namedQueries")}class IE{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new IE(t,e.uid||"")}getOverlay(t,e){return DT(t).get(bU(this.userId,e)).next(i=>i?sF(this.serializer,i):null)}getOverlays(t,e){const i=wu();return me.forEach(e,s=>this.getOverlay(t,s).next(o=>{null!==o&&i.set(s,o)})).next(()=>i)}saveOverlays(t,e,i){const s=[];return i.forEach((o,a)=>{const d=new QO(e,a);s.push(this.we(t,d))}),me.waitFor(s)}removeOverlaysForBatchId(t,e,i){const s=new Set;e.forEach(a=>s.add(Us(a.getCollectionPath())));const o=[];return s.forEach(a=>{const d=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);o.push(DT(t).J("collectionPathOverlayIndex",d))}),me.waitFor(o)}getOverlaysForCollection(t,e,i){const s=wu(),o=Us(e),a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return DT(t).j("collectionPathOverlayIndex",a).next(d=>{for(const f of d){const g=sF(this.serializer,f);s.set(g.getKey(),g)}return s})}getOverlaysForCollectionGroup(t,e,i,s){const o=wu();let a;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return DT(t).X({index:"collectionGroupOverlayIndex",range:d},(f,g,b)=>{const T=sF(this.serializer,g);o.size()<s||T.largestBatchId===a?(o.set(T.getKey(),T),a=T.largestBatchId):b.done()}).next(()=>o)}we(t,e){return DT(t).put(function(i,s,o){const[a,d,f]=bU(s,o.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:wT(i.fe,o.mutation)}}(this.serializer,this.userId,e))}}function DT(r){return Ds(r,"documentOverlays")}class ey{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(nr(t.integerValue));else if("doubleValue"in t){const i=nr(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),Pd(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Vs(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?nT(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):ct()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const s of Object.keys(i))this.Te(s,e),this.me(i[s],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const s of i)this.me(s,e)}ve(t,e){this.ye(e,37),nt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function bz(r){if(0===r)return 8;let t=0;return r>>4==0&&(t+=4,r<<=4),r>>6==0&&(t+=2,r<<=2),r>>7==0&&(t+=1),t}function TU(r){const t=64-function(e){let i=0;for(let s=0;s<8;++s){const o=bz(255&e[s]);if(i+=o,8!==o)break}return i}(r);return Math.ceil(t/8)}ey.Ve=new ey;class vz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const s=e.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const s=e.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(t){const e=this.Fe(t),i=TU(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=255&e[s]}Le(t){const e=this.Fe(t),i=TU(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=~(255&e[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let s=1;s<e.length;++s)e[s]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class Cz{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class wz{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class xT{constructor(){this.je=new vz,this.ze=new Cz(this.je),this.We=new wz(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class ty{constructor(t,e,i,s){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=s}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new ty(this.indexId,this.documentKey,this.arrayValue,i)}}function Nm(r,t){let e=r.indexId-t.indexId;return 0!==e?e:(e=DU(r.arrayValue,t.arrayValue),0!==e?e:(e=DU(r.directionalValue,t.directionalValue),0!==e?e:nt.comparator(r.documentKey,t.documentKey)))}function DU(r,t){for(let e=0;e<r.length&&e<t.length;++e){const i=r[e]-t[e];if(0!==i)return i}return r.length-t.length}class Tz{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){bt(t.collectionGroup===this.collectionId);const e=Yv(t);if(void 0!==e&&!this.en(e))return!1;const i=Fd(t);let s=new Set,o=0,a=0;for(;o<i.length&&this.en(i[o]);++o)s=s.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const d=i[o];if(!this.nn(this.Ze,d)||!this.sn(this.Ye[a++],d))return!1}++o}for(;o<i.length;++o){const d=i[o];if(a>=this.Ye.length||!this.sn(this.Ye[a++],d))return!1}return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function xU(r){var t,e;if(bt(r instanceof Hn||r instanceof di),r instanceof Hn){if(r instanceof VO){const s=(null===(e=null===(t=r.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>Hn.create(r.field,"==",o)))||[];return di.create(s,"or")}return r}const i=r.filters.map(s=>xU(s));return di.create(i,r.op)}function Dz(r){if(0===r.getFilters().length)return[];const t=lF(xU(r));return bt(SU(t)),oF(t)||aF(t)?[t]:t.getFilters()}function oF(r){return r instanceof Hn}function aF(r){return r instanceof di&&sT(r)}function SU(r){return oF(r)||aF(r)||function(t){if(t instanceof di&&rT(t)){for(const e of t.getFilters())if(!oF(e)&&!aF(e))return!1;return!0}return!1}(r)}function lF(r){if(bt(r instanceof Hn||r instanceof di),r instanceof Hn)return r;if(1===r.filters.length)return lF(r.filters[0]);const t=r.filters.map(i=>lF(i));let e=di.create(t,r.op);return e=kE(e),SU(e)?e:(bt(e instanceof di),bt(bu(e)),bt(e.filters.length>1),e.filters.reduce((i,s)=>cF(i,s)))}function cF(r,t){let e;return bt(r instanceof Hn||r instanceof di),bt(t instanceof Hn||t instanceof di),e=r instanceof Hn?t instanceof Hn?di.create([r,t],"and"):AU(r,t):t instanceof Hn?AU(t,r):function(i,s){if(bt(i.filters.length>0&&s.filters.length>0),bu(i)&&bu(s))return iC(i,s.getFilters());const o=rT(i)?i:s,a=rT(i)?s:i,d=o.filters.map(f=>cF(f,a));return di.create(d,"or")}(r,t),kE(e)}function AU(r,t){if(bu(t))return iC(t,r.getFilters());{const e=t.filters.map(i=>cF(r,i));return di.create(e,"or")}}function kE(r){if(bt(r instanceof Hn||r instanceof di),r instanceof Hn)return r;const t=r.getFilters();if(1===t.length)return kE(t[0]);if(oT(r))return r;const e=t.map(s=>kE(s)),i=[];return e.forEach(s=>{s instanceof Hn?i.push(s):s instanceof di&&(s.op===r.op?i.push(...s.filters):i.push(s))}),1===i.length?i[0]:di.create(i,r.op)}class xz{constructor(){this.rn=new uF}addToCollectionParentIndex(t,e){return this.rn.add(e),me.resolve()}getCollectionParents(t,e){return me.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return me.resolve()}deleteFieldIndex(t,e){return me.resolve()}getDocumentsMatchingTarget(t,e){return me.resolve(null)}getIndexType(t,e){return me.resolve(0)}getFieldIndexes(t,e){return me.resolve([])}getNextCollectionGroupToUpdate(t){return me.resolve(null)}getMinOffset(t,e){return me.resolve(ua.min())}getMinOffsetFromCollectionGroup(t,e){return me.resolve(ua.min())}updateCollectionGroup(t,e,i){return me.resolve()}updateIndexEntries(t,e){return me.resolve()}}class uF{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new Gi(Jn.comparator),o=!s.has(i);return this.index[e]=s.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Gi(Jn.comparator)).toArray()}}const RE=new Uint8Array(0);class Sz{constructor(t,e){this.user=t,this.databaseId=e,this.on=new uF,this.un=new qd(i=>Nf(i),(i,s)=>Y_(i,s)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),s=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const o={collectionId:i,parent:Us(s)};return EU(t).put(o)}return me.resolve()}getCollectionParents(t,e){const i=[],s=IDBKeyRange.bound([e,""],[uE(e),""],!1,!0);return EU(t).j(s).next(o=>{for(const a of o){if(a.collectionId!==e)break;i.push(Tl(a.parent))}return i})}addFieldIndex(t,e){const i=NE(t),s={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;delete s.indexId;const o=i.add(s);if(e.indexState){const a=AT(t);return o.next(d=>{a.put(vU(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=NE(t),s=AT(t),o=ST(t);return i.delete(e.indexId).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=ST(t);let s=!0;const o=new Map;return me.forEach(this.cn(e),a=>this.an(t,a).next(d=>{s&&(s=!!d),o.set(a,d)})).next(()=>{if(s){let a=h();const d=[];return me.forEach(o,(f,g)=>{var b;je("IndexedDbIndexManager",`Using index ${b=f,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(He=>`${He.fieldPath}:${He.kind}`).join(",")}`} to execute ${Nf(e)}`);const T=function(He,ze){const Ht=Yv(ze);if(void 0===Ht)return null;for(const Ct of J_(He,Ht.fieldPath))switch(Ct.op){case"array-contains-any":return Ct.value.arrayValue.values||[];case"array-contains":return[Ct.value]}return null}(g,f),E=function(He,ze){const Ht=new Map;for(const Ct of Fd(ze))for(const Gn of J_(He,Ct.fieldPath))switch(Gn.op){case"==":case"in":Ht.set(Ct.fieldPath.canonicalString(),Gn.value);break;case"not-in":case"!=":return Ht.set(Ct.fieldPath.canonicalString(),Gn.value),Array.from(Ht.values())}return null}(g,f),R=function(He,ze){const Ht=[];let Ct=!0;for(const Gn of Fd(ze)){const Zr=0===Gn.kind?dT(He,Gn.fieldPath,He.startAt):hT(He,Gn.fieldPath,He.startAt);Ht.push(Zr.value),Ct&&(Ct=Zr.inclusive)}return new Hd(Ht,Ct)}(g,f),L=function(He,ze){const Ht=[];let Ct=!0;for(const Gn of Fd(ze)){const Zr=0===Gn.kind?hT(He,Gn.fieldPath,He.endAt):dT(He,Gn.fieldPath,He.endAt);Ht.push(Zr.value),Ct&&(Ct=Zr.inclusive)}return new Hd(Ht,Ct)}(g,f),Y=this.hn(f,g,R),W=this.hn(f,g,L),ve=this.ln(f,g,E),Ze=this.fn(f.indexId,T,Y,R.inclusive,W,L.inclusive,ve);return me.forEach(Ze,He=>i.H(He,e.limit).next(ze=>{ze.forEach(Ht=>{const Ct=nt.fromSegments(Ht.documentKey);a.has(Ct)||(a=a.add(Ct),d.push(Ct))})}))}).next(()=>d)}return me.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:Dz(di.create(t.filters,"and")).map(i=>uT(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,s,o,a,d){const f=(null!=e?e.length:1)*Math.max(i.length,o.length),g=f/(null!=e?e.length:1),b=[];for(let T=0;T<f;++T){const E=e?this.dn(e[T/g]):RE,R=this.wn(t,E,i[T%g],s),L=this._n(t,E,o[T%g],a),Y=d.map(W=>this.wn(t,E,W,!0));b.push(...this.createRange(R,L,Y))}return b}wn(t,e,i,s){const o=new ty(t,nt.empty(),e,i);return s?o:o.Je()}_n(t,e,i,s){const o=new ty(t,nt.empty(),e,i);return s?o.Je():o}an(t,e){const i=new Tz(e),s=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,s).next(o=>{let a=null;for(const d of o)i.tn(d)&&(!a||d.fields.length>a.fields.length)&&(a=d);return a})}getIndexType(t,e){let i=2;const s=this.cn(e);return me.forEach(s,o=>this.an(t,o).next(a=>{a?0!==i&&a.fields.length<function(d){let f=new Gi(Sr.comparator),g=!1;for(const b of d.filters)for(const T of b.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?g=!0:f=f.add(T.field));for(const b of d.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(g?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&s.length>1&&2===i?1:i)}mn(t,e){const i=new xT;for(const s of Fd(t)){const o=e.data.field(s.fieldPath);if(null==o)return null;const a=i.He(s.kind);ey.Ve._e(o,a)}return i.Qe()}dn(t){const e=new xT;return ey.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new xT;return ey.Ve._e(jd(this.databaseId,e),i.He(function(s){const o=Fd(s);return 0===o.length?0:o[o.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let s=[];s.push(new xT);let o=0;for(const a of Fd(t)){const d=i[o++];for(const f of s)if(this.yn(e,a.fieldPath)&&Mm(d))s=this.pn(s,a,d);else{const g=f.He(a.kind);ey.Ve._e(d,g)}}return this.In(s)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const s=[...t],o=[];for(const a of i.arrayValue.values||[])for(const d of s){const f=new xT;f.seed(d.Qe()),ey.Ve._e(a,f.He(e.kind)),o.push(f)}return o}yn(t,e){return!!t.filters.find(i=>i instanceof Hn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=NE(t),s=AT(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const a=[];return me.forEach(o,d=>s.get([d.indexId,this.uid]).next(f=>{a.push(function(g,b){const T=b?new N_(b.sequenceNumber,new ua(K_(b.readTime),new nt(Tl(b.documentKey)),b.largestBatchId)):N_.empty(),E=g.fields.map(([R,L])=>new R_(Sr.fromServerFormat(R),L));return new Gv(g.indexId,g.collectionGroup,E,T)}(d,f))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,s)=>{const o=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==o?o:dn(i.collectionGroup,s.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const s=NE(t),o=AT(t);return this.Tn(t).next(a=>s.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>me.forEach(d,f=>o.put(vU(f.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return me.forEach(e,(s,o)=>{const a=i.get(s.collectionGroup);return(a?me.resolve(a):this.getFieldIndexes(t,s.collectionGroup)).next(d=>(i.set(s.collectionGroup,d),me.forEach(d,f=>this.En(t,s,f).next(g=>{const b=this.An(o,f);return g.isEqual(b)?me.resolve():this.vn(t,o,f,g,b)}))))})}Rn(t,e,i,s){return ST(t).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,s){return ST(t).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const s=ST(t);let o=new Gi(Nm);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(a,d)=>{o=o.add(new ty(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>o)}An(t,e){let i=new Gi(Nm);const s=this.mn(e,t);if(null==s)return i;const o=Yv(e);if(null!=o){const a=t.data.field(o.fieldPath);if(Mm(a))for(const d of a.arrayValue.values||[])i=i.add(new ty(e.indexId,t.key,this.dn(d),s))}else i=i.add(new ty(e.indexId,t.key,RE,s));return i}vn(t,e,i,s,o){je("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(d,f,g,b,T){const E=d.getIterator(),R=f.getIterator();let L=kf(E),Y=kf(R);for(;L||Y;){let W=!1,ve=!1;if(L&&Y){const Ze=g(L,Y);Ze<0?ve=!0:Ze>0&&(W=!0)}else null!=L?ve=!0:W=!0;W?(b(Y),Y=kf(R)):ve?(T(L),L=kf(E)):(L=kf(E),Y=kf(R))}}(s,o,Nm,d=>{a.push(this.Rn(t,e,i,d))},d=>{a.push(this.Pn(t,e,i,d))}),me.waitFor(a)}Tn(t){let e=1;return AT(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,o)=>{o.done(),e=s.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,d)=>Nm(a,d)).filter((a,d,f)=>!d||0!==Nm(a,f[d-1]));const s=[];s.push(t);for(const a of i){const d=Nm(a,t),f=Nm(a,e);if(0===d)s[0]=t.Je();else if(d>0&&f<0)s.push(a),s.push(a.Je());else if(f>0)break}s.push(e);const o=[];for(let a=0;a<s.length;a+=2){if(this.bn(s[a],s[a+1]))return[];o.push(IDBKeyRange.bound([s[a].indexId,this.uid,s[a].arrayValue,s[a].directionalValue,RE,[]],[s[a+1].indexId,this.uid,s[a+1].arrayValue,s[a+1].directionalValue,RE,[]]))}return o}bn(t,e){return Nm(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(MU)}getMinOffset(t,e){return me.mapArray(this.cn(e),i=>this.an(t,i).next(s=>s||ct())).next(MU)}}function EU(r){return Ds(r,"collectionParents")}function ST(r){return Ds(r,"indexEntries")}function NE(r){return Ds(r,"indexConfiguration")}function AT(r){return Ds(r,"indexState")}function MU(r){bt(0!==r.length);let t=r[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<r.length;i++){const s=r[i].indexState.offset;Jv(s,t)<0&&(t=s),e<s.largestBatchId&&(e=s.largestBatchId)}return new ua(t.readTime,t.documentKey,e)}const IU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new jo(t,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kU(r,t,e){const i=r.store("mutations"),s=r.store("documentMutations"),o=[],a=IDBKeyRange.only(e.batchId);let d=0;const f=i.X({range:a},(b,T,E)=>(d++,E.delete()));o.push(f.next(()=>{bt(1===d)}));const g=[];for(const b of e.mutations){const T=CO(t,b.key.path,e.batchId);o.push(s.delete(T)),g.push(b.key)}return me.waitFor(o).next(()=>g)}function OE(r){if(!r)return 0;let t;if(r.document)t=r.document;else if(r.unknownDocument)t=r.unknownDocument;else{if(!r.noDocument)throw ct();t=r.noDocument}return JSON.stringify(t).length}jo.DEFAULT_COLLECTION_PERCENTILE=10,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jo.DEFAULT=new jo(41943040,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jo.DISABLED=new jo(-1,0,0);class FE{constructor(t,e,i,s){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=s,this.Vn={}}static de(t,e,i,s){bt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new FE(o,e,i,s)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Om(t).X({index:"userMutationsIndex",range:i},(s,o,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,s){const o=pC(t),a=Om(t);return a.add({}).next(d=>{bt("number"==typeof d);const f=new zO(d,e,i,s),g=function(E,R,L){const Y=L.baseMutations.map(ve=>wT(E.fe,ve)),W=L.mutations.map(ve=>wT(E.fe,ve));return{userId:R,batchId:L.batchId,localWriteTimeMs:L.localWriteTime.toMillis(),baseMutations:Y,mutations:W}}(this.serializer,this.userId,f),b=[];let T=new Gi((E,R)=>dn(E.canonicalString(),R.canonicalString()));for(const E of s){const R=CO(this.userId,E.key.path,d);T=T.add(E.key.path.popLast()),b.push(a.put(g)),b.push(o.put(R,wO))}return T.forEach(E=>{b.push(this.indexManager.addToCollectionParentIndex(t,E))}),t.addOnCommittedListener(()=>{this.Vn[d]=f.keys()}),me.waitFor(b).next(()=>f)})}lookupMutationBatch(t,e){return Om(t).get(e).next(i=>i?(bt(i.userId===this.userId),X_(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?me.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const s=i.keys();return this.Vn[e]=s,s}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Om(t).X({index:"userMutationsIndex",range:s},(a,d,f)=>{d.userId===this.userId&&(bt(d.batchId>=i),o=X_(this.serializer,d)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Om(t).X({index:"userMutationsIndex",range:e,reverse:!0},(s,o,a)=>{i=o.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Om(t).j("userMutationsIndex",e).next(i=>i.map(s=>X_(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=O_(this.userId,e.path),s=IDBKeyRange.lowerBound(i),o=[];return pC(t).X({range:s},(a,d,f)=>{const[g,b,T]=a,E=Tl(b);if(g===this.userId&&e.path.isEqual(E))return Om(t).get(T).next(R=>{if(!R)throw ct();bt(R.userId===this.userId),o.push(X_(this.serializer,R))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Gi(dn);const s=[];return e.forEach(o=>{const a=O_(this.userId,o.path),d=IDBKeyRange.lowerBound(a),f=pC(t).X({range:d},(g,b,T)=>{const[E,R,L]=g,Y=Tl(R);E===this.userId&&o.path.isEqual(Y)?i=i.add(L):T.done()});s.push(f)}),me.waitFor(s).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1,o=O_(this.userId,i),a=IDBKeyRange.lowerBound(o);let d=new Gi(dn);return pC(t).X({range:a},(f,g,b)=>{const[T,E,R]=f,L=Tl(E);T===this.userId&&i.isPrefixOf(L)?L.length===s&&(d=d.add(R)):b.done()}).next(()=>this.Dn(t,d))}Dn(t,e){const i=[],s=[];return e.forEach(o=>{s.push(Om(t).get(o).next(a=>{if(null===a)throw ct();bt(a.userId===this.userId),i.push(X_(this.serializer,a))}))}),me.waitFor(s).next(()=>i)}removeMutationBatch(t,e){return kU(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),me.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return me.resolve();const i=IDBKeyRange.lowerBound([this.userId]),s=[];return pC(t).X({range:i},(o,a,d)=>{if(o[0]===this.userId){const f=Tl(o[1]);s.push(f)}else d.done()}).next(()=>{bt(0===s.length)})})}containsKey(t,e){return RU(t,this.userId,e)}xn(t){return NU(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function RU(r,t,e){const i=O_(t,e.path),s=i[1],o=IDBKeyRange.lowerBound(i);let a=!1;return pC(r).X({range:o,Y:!0},(d,f,g)=>{const[b,T,E]=d;b===t&&T===s&&(a=!0),g.done()}).next(()=>a)}function Om(r){return Ds(r,"mutations")}function pC(r){return Ds(r,"documentMutations")}function NU(r){return Ds(r,"mutationQueues")}class ny{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new ny(0)}static Mn(){return new ny(-1)}}class Az{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new ny(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>vt.fromTimestamp(new qi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(s=>(s.highestListenSequenceNumber=e,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this.On(t,s)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>mC(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(bt(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let s=0;const o=[];return mC(t).X((a,d)=>{const f=TT(d);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(s++,o.push(this.removeTargetData(t,f)))}).next(()=>me.waitFor(o)).next(()=>s)}forEachTarget(t,e){return mC(t).X((i,s)=>{const o=TT(s);e(o)})}$n(t){return OU(t).get("targetGlobalKey").next(e=>(bt(null!==e),e))}On(t,e){return OU(t).put("targetGlobalKey",e)}Fn(t,e){return mC(t).put(yU(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Nf(e),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return mC(t).X({range:s,index:"queryTargetsIndex"},(a,d,f)=>{const g=TT(d);Y_(e,g.target)&&(o=g,f.done())}).next(()=>o)}addMatchingKeys(t,e,i){const s=[],o=Fm(t);return e.forEach(a=>{const d=Us(a.path);s.push(o.put({targetId:i,path:d})),s.push(this.referenceDelegate.addReference(t,i,a))}),me.waitFor(s)}removeMatchingKeys(t,e,i){const s=Fm(t);return me.forEach(e,o=>{const a=Us(o.path);return me.waitFor([s.delete([i,a]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Fm(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),s=Fm(t);let o=h();return s.X({range:i,Y:!0},(a,d,f)=>{const g=Tl(a[1]),b=new nt(g);o=o.add(b)}).next(()=>o)}containsKey(t,e){const i=Us(e.path),s=IDBKeyRange.bound([i],[uE(i)],!1,!0);let o=0;return Fm(t).X({index:"documentTargetsIndex",Y:!0,range:s},([a,d],f,g)=>{0!==a&&(o++,g.done())}).next(()=>o>0)}le(t,e){return mC(t).get(e).next(i=>i?TT(i):null)}}function mC(r){return Ds(r,"targets")}function OU(r){return Ds(r,"targetGlobal")}function Fm(r){return Ds(r,"targetDocuments")}function FU([r,t],[e,i]){const s=dn(r,e);return 0===s?dn(t,i):s}class Ez{constructor(t){this.Ln=t,this.buffer=new Gi(FU),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();FU(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class PU{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;je("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,we.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){If(i)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield gu(i)}yield e.Qn(3e5)}))}}class Mz{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return me.resolve(Ba.ct);const i=new Ez(e);return this.jn.forEachTarget(t,s=>i.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(t,s=>i.Kn(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(IU)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IU):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,s,o,a,d,f,g;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,a=Date.now(),this.nthSequenceNumber(t,s))).next(T=>(i=T,d=Date.now(),this.removeTargets(t,i,e))).next(T=>(o=T,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(g=Date.now(),Bs()<=dc.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-b}ms\n\tDetermined least recently used ${s} in `+(d-a)+`ms\n\tRemoved ${o} targets in `+(f-d)+`ms\n\tRemoved ${T} documents in `+(g-f)+`ms\nTotal Duration: ${g-b}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:T})))}}class Iz{constructor(t,e){this.db=t,this.garbageCollector=function LU(r,t){return new Mz(r,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,s)=>e(s))}addReference(t,e,i){return PE(t,i)}removeReference(t,e,i){return PE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return PE(t,e)}Xn(t,e){return function(i,s){let o=!1;return NU(i).Z(a=>RU(i,a,s).next(d=>(d&&(o=!0),me.resolve(!d)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Yn(t,(a,d)=>{if(d<=e){const f=this.Xn(t,a).next(g=>{if(!g)return o++,i.getEntry(t,a).next(()=>(i.removeEntry(a,vt.min()),Fm(t).delete([0,Us(a.path)])))});s.push(f)}}).next(()=>me.waitFor(s)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return PE(t,e)}Yn(t,e){const i=Fm(t);let s,o=Ba.ct;return i.X({index:"documentTargetsIndex"},([a,d],{path:f,sequenceNumber:g})=>{0===a?(o!==Ba.ct&&e(new nt(Tl(s)),o),o=g,s=f):o=Ba.ct}).next(()=>{o!==Ba.ct&&e(new nt(Tl(s)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function PE(r,t){return Fm(r).put((i=r.currentSequenceNumber,{targetId:0,path:Us(t.path),sequenceNumber:i}));var i}class BU{constructor(){this.changes=new qd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Yi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?me.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class kz{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return iy(t).put(i)}removeEntry(t,e,i){return iy(t).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],ME(o),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Yi.newInvalidDocument(e);return iy(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(ET(e))},(s,o)=>{i=this.ts(e,o)}).next(()=>i)}es(t,e){let i={size:0,document:Yi.newInvalidDocument(e)};return iy(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(ET(e))},(s,o)=>{i={document:this.ts(e,o),size:OE(o)}}).next(()=>i)}getEntries(t,e){let i=da();return this.ns(t,e,(s,o)=>{const a=this.ts(s,o);i=i.insert(s,a)}).next(()=>i)}ss(t,e){let i=da(),s=new vi(nt.comparator);return this.ns(t,e,(o,a)=>{const d=this.ts(o,a);i=i.insert(o,d),s=s.insert(o,OE(a))}).next(()=>({documents:i,rs:s}))}ns(t,e,i){if(e.isEmpty())return me.resolve();let s=new Gi(jU);e.forEach(f=>s=s.add(f));const o=IDBKeyRange.bound(ET(s.first()),ET(s.last())),a=s.getIterator();let d=a.getNext();return iy(t).X({index:"documentKeyIndex",range:o},(f,g,b)=>{const T=nt.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&jU(d,T)<0;)i(d,null),d=a.getNext();d&&d.isEqual(T)&&(i(d,g),d=a.hasNext()?a.getNext():null),d?b.G(ET(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,s){const o=e.path,a=[o.popLast().toArray(),o.lastSegment(),ME(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return iy(t).j(IDBKeyRange.bound(a,d,!0)).next(f=>{let g=da();for(const b of f){const T=this.ts(nt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);T.isFoundDocument()&&(aC(e,T)||s.has(T.key))&&(g=g.insert(T.key,T))}return g})}getAllFromCollectionGroup(t,e,i,s){let o=da();const a=ZU(e,i),d=ZU(e,ua.max());return iy(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,d,!0)},(f,g,b)=>{const T=this.ts(nt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);o=o.insert(T.key,T),o.size===s&&b.done()}).next(()=>o)}newChangeBuffer(t){return new Rz(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return VU(t).get("remoteDocumentGlobalKey").next(e=>(bt(!!e),e))}Zn(t,e){return VU(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function _z(r,t){let e;if(t.document)e=uU(r.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=nt.fromSegments(t.noDocument.path),s=K_(t.noDocument.readTime);e=Yi.newNoDocument(i,s),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ct();{const i=nt.fromSegments(t.unknownDocument.path),s=K_(t.unknownDocument.version);e=Yi.newUnknownDocument(i,s)}}return t.readTime&&e.setReadTime(function(i){const s=new qi(i[0],i[1]);return vt.fromTimestamp(s)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(vt.min()))return i}return Yi.newInvalidDocument(t)}}function UU(r){return new kz(r)}class Rz extends BU{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new qd(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(t){const e=[];let i=0,s=new Gi((o,a)=>dn(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const d=this.us.get(o);if(e.push(this.os.removeEntry(t,o,d.readTime)),a.isValidDocument()){const f=_U(this.os.serializer,a);s=s.add(o.path.popLast()),i+=OE(f)-d.size,e.push(this.os.addEntry(t,o,f))}else if(i-=d.size,this.trackRemovals){const f=_U(this.os.serializer,a.convertToNoDocument(vt.min()));e.push(this.os.addEntry(t,o,f))}}),s.forEach(o=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.os.updateMetadata(t,i)),me.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:s})=>(s.forEach((o,a)=>{this.us.set(o,{size:a,readTime:i.get(o).readTime})}),i))}}function VU(r){return Ds(r,"remoteDocumentGlobal")}function iy(r){return Ds(r,"remoteDocumentsV14")}function ET(r){const t=r.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ZU(r,t){const e=t.documentKey.path.toArray();return[r,ME(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function jU(r,t){const e=r.path.toArray(),i=t.path.toArray();let s=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(s=dn(e[o],i[o]),s)return s;return s=dn(e.length,i.length),s||(s=dn(e[e.length-2],i[i.length-2]),s||dn(e[e.length-1],i[i.length-1]))}class Nz{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class HU{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(null!==i&&Lf(i.mutation,s,Zo.empty(),qi.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,h()).next(()=>i))}getLocalViewOfDocuments(t,e,i=h()){const s=wu();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(o=>{let a=lC();return o.forEach((d,f)=>{a=a.insert(d,f.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=wu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,h()))}populateOverlays(t,e,i){const s=[];return i.forEach(o=>{e.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((a,d)=>{e.set(a,d)})})}computeViews(t,e,i,s){let o=da();const a=l(),d=l();return e.forEach((f,g)=>{const b=i.get(g.key);s.has(g.key)&&(void 0===b||b.mutation instanceof Bf)?o=o.insert(g.key,g):void 0!==b?(a.set(g.key,b.mutation.getFieldMask()),Lf(b.mutation,g,b.mutation.getFieldMask(),qi.now())):a.set(g.key,Zo.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((g,b)=>a.set(g,b)),e.forEach((g,b)=>{var T;return d.set(g,new Nz(b,null!==(T=a.get(g))&&void 0!==T?T:null))}),d))}recalculateAndSaveOverlays(t,e){const i=l();let s=new vi((a,d)=>a-d),o=h();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const d of a)d.keys().forEach(f=>{const g=e.get(f);if(null===g)return;let b=i.get(f)||Zo.empty();b=d.applyToLocalView(g,b),i.set(f,b);const T=(s.get(d.batchId)||h()).add(f);s=s.insert(d.batchId,T)})}).next(()=>{const a=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,b=f.value,T=YO();b.forEach(E=>{if(!o.has(E)){const R=cC(e.get(E),i.get(E));null!==R&&T.set(E,R),o=o.add(E)}}),a.push(this.documentOverlayCache.saveOverlays(t,g,T))}return me.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return nt.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):$_(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var s}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-o.size):me.resolve(wu());let d=-1,f=o;return a.next(g=>me.forEach(g,(b,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),o.get(b)?me.resolve():this.remoteDocumentCache.getEntry(t,b).next(E=>{f=f.insert(b,E)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,f,g,h())).next(b=>({batchId:d,changes:GO(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new nt(e)).next(i=>{let s=lC();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const s=e.collectionGroup;let o=lC();return this.indexManager.getCollectionParents(t,s).next(a=>me.forEach(a,d=>{const f=(g=e,b=d.child(s),new Cu(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,b;return this.getDocumentsMatchingCollectionQuery(t,f,i).next(g=>{g.forEach((b,T)=>{o=o.insert(b,T)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s))).next(o=>{s.forEach((d,f)=>{const g=f.getKey();null===o.get(g)&&(o=o.insert(g,Yi.newInvalidDocument(g)))});let a=lC();return o.forEach((d,f)=>{const g=s.get(d);void 0!==g&&Lf(g.mutation,f,Zo.empty(),qi.now()),aC(e,f)&&(a=a.insert(d,f))}),a})}}class Oz{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return me.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:fs(i.createTime)}),me.resolve()}getNamedQuery(t,e){return me.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:rF(i.bundledQuery),readTime:fs(i.readTime)}),me.resolve();var i}}class Fz{constructor(){this.overlays=new vi(nt.comparator),this.ls=new Map}getOverlay(t,e){return me.resolve(this.overlays.get(e))}getOverlays(t,e){const i=wu();return me.forEach(e,s=>this.getOverlay(t,s).next(o=>{null!==o&&i.set(s,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,o)=>{this.we(t,e,o)}),me.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.ls.get(i);return void 0!==s&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),me.resolve()}getOverlaysForCollection(t,e,i){const s=wu(),o=e.length+1,a=new nt(e.child("")),d=this.overlays.getIteratorFrom(a);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return me.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let o=new vi((g,b)=>g-b);const a=this.overlays.getIterator();for(;a.hasNext();){const g=a.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let b=o.get(g.largestBatchId);null===b&&(b=wu(),o=o.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const d=wu(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,b)=>d.set(g,b)),!(d.size()>=s)););return me.resolve(d)}we(t,e,i){const s=this.overlays.get(i.key);if(null!==s){const a=this.ls.get(s.largestBatchId).delete(i.key);this.ls.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new QO(e,i));let o=this.ls.get(e);void 0===o&&(o=h(),this.ls.set(e,o)),this.ls.set(e,o.add(i.key))}}class dF{constructor(){this.fs=new Gi(no.ds),this.ws=new Gi(no._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new no(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new no(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new nt(new Jn([])),i=new no(e,t),s=new no(e,t+1),o=[];return this.ws.forEachInRange([i,s],a=>{this.ys(a),o.push(a.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new nt(new Jn([])),i=new no(e,t),s=new no(e,t+1);let o=h();return this.ws.forEachInRange([i,s],a=>{o=o.add(a.key)}),o}containsKey(t){const e=new no(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class no{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return nt.comparator(t.key,e.key)||dn(t.As,e.As)}static _s(t,e){return dn(t.As,e.As)||nt.comparator(t.key,e.key)}}class Pz{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Gi(no.ds)}checkEmpty(t){return me.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,s){const o=this.vs;this.vs++;const a=new zO(o,e,i,s);this.mutationQueue.push(a);for(const d of s)this.Rs=this.Rs.add(new no(d.key,o)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return me.resolve(a)}lookupMutationBatch(t,e){return me.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const s=this.bs(e+1),o=s<0?0:s;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new no(e,0),s=new no(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,s],a=>{const d=this.Ps(a.As);o.push(d)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Gi(dn);return e.forEach(s=>{const o=new no(s,0),a=new no(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,a],d=>{i=i.add(d.As)})}),me.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let o=i;nt.isDocumentKey(o)||(o=o.child(""));const a=new no(new nt(o),0);let d=new Gi(dn);return this.Rs.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(d=d.add(f.As)),!0)},a),me.resolve(this.Vs(d))}Vs(t){const e=[];return t.forEach(i=>{const s=this.Ps(i);null!==s&&e.push(s)}),e}removeMutationBatch(t,e){bt(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return me.forEach(e.mutations,s=>{const o=new no(s.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new no(e,0),s=this.Rs.firstAfterOrEqual(i);return me.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return me.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Lz{constructor(t){this.Ds=t,this.docs=new vi(nt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return me.resolve(i?i.document.mutableCopy():Yi.newInvalidDocument(e))}getEntries(t,e){let i=da();return e.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Yi.newInvalidDocument(s))}),me.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let o=da();const a=e.path,d=new nt(a.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:g,value:{document:b}}=f.getNext();if(!a.isPrefixOf(g.path))break;g.path.length>a.length+1||Jv(Jw(b),i)<=0||(s.has(b.key)||aC(e,b))&&(o=o.insert(b.key,b.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(t,e,i,s){ct()}Cs(t,e){return me.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Bz(this)}getSize(t){return me.resolve(this.size)}}class Bz extends BU{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.os.addEntry(t,s)):this.os.removeEntry(i)}),me.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class Uz{constructor(t){this.persistence=t,this.xs=new qd(e=>Nf(e),Y_),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new dF,this.targetCount=0,this.Ms=ny.kn()}forEachTarget(t,e){return this.xs.forEach((i,s)=>e(s)),me.resolve()}getLastRemoteSnapshotVersion(t){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return me.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),me.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new ny(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,me.resolve()}updateTargetData(t,e){return this.Fn(e),me.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,me.resolve()}removeTargets(t,e,i){let s=0;const o=[];return this.xs.forEach((a,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.xs.delete(a),o.push(this.removeMatchingKeysForTargetId(t,d.targetId)),s++)}),me.waitFor(o).next(()=>s)}getTargetCount(t){return me.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return me.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),me.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach(a=>{o.push(s.markPotentiallyOrphaned(t,a))}),me.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),me.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return me.resolve(i)}containsKey(t,e){return me.resolve(this.ks.containsKey(e))}}class hF{constructor(t,e){this.$s={},this.overlays={},this.Os=new Ba(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Uz(this),this.indexManager=new xz,this.remoteDocumentCache=new Lz(i=>this.referenceDelegate.Ls(i)),this.serializer=new gU(e),this.qs=new Oz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Fz,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new Pz(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){je("MemoryPersistence","Starting transaction:",t);const s=new Vz(this.Os.next());return this.referenceDelegate.Us(),i(s).next(o=>this.referenceDelegate.Ks(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Gs(t,e){return me.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class Vz extends $w{constructor(t){super(),this.currentSequenceNumber=t}}class LE{constructor(t){this.persistence=t,this.Qs=new dF,this.js=null}static zs(t){return new LE(t)}get Ws(){if(this.js)return this.js;throw ct()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),me.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),me.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),me.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(s=>this.Ws.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Ws,i=>{const s=nt.fromPath(i);return this.Hs(t,s).next(o=>{o||e.removeEntry(s,vt.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return me.or([()=>me.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class Zz{constructor(t){this.serializer=t}O(t,e,i,s){const o=new Ww("createOrUpgrade",e);var d;i<1&&s>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pE,{unique:!0}),d.createObjectStore("documentMutations"),qU(t),function(d){d.createObjectStore("remoteDocuments")}(t));let a=me.resolve();return i<3&&s>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),qU(t)),a=a.next(()=>function(d){const f=d.store("targetGlobal"),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",g)}(o))),i<4&&s>=4&&(0!==i&&(a=a.next(()=>function(d,f){return f.store("mutations").j().next(g=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pE,{unique:!0});const b=f.store("mutations"),T=g.map(E=>b.put(E));return me.waitFor(T)})}(t,o))),a=a.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&s>=5&&(a=a.next(()=>this.Ys(o))),i<6&&s>=6&&(a=a.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(o)))),i<7&&s>=7&&(a=a.next(()=>this.Zs(o))),i<8&&s>=8&&(a=a.next(()=>this.ti(t,o))),i<9&&s>=9&&(a=a.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&s>=10&&(a=a.next(()=>this.ei(o))),i<11&&s>=11&&(a=a.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&s>=12&&(a=a.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:MO});f.createIndex("collectionPathOverlayIndex",mE,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",gE,{unique:!1})}(t)})),i<13&&s>=13&&(a=a.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:TO});f.createIndex("documentKeyIndex",DO),f.createIndex("collectionGroupIndex",Wv)}(t)).next(()=>this.ni(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&s>=14&&(a=a.next(()=>this.si(t,o))),i<15&&s>=15&&(a=a.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:SO}).createIndex("sequenceNumberIndex",AO,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:EO}).createIndex("documentKeyIndex",VB,{unique:!1})}(t))),a}Xs(t){let e=0;return t.store("remoteDocuments").X((i,s)=>{e+=OE(s)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(s=>me.forEach(s,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(d=>me.forEach(d,f=>{bt(f.userId===o.userId);const g=X_(this.serializer,f);return kU(t,o.userId,g).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(s=>{const o=[];return i.X((a,d)=>{const f=new Jn(a),g=[0,Us(f)];o.push(e.get(g).next(b=>b?me.resolve():e.put({targetId:0,path:Us(f),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>me.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:UB});const i=e.store("collectionParents"),s=new uF,o=a=>{if(s.add(a)){const d=a.lastSegment(),f=a.popLast();return i.put({collectionId:d,parent:Us(f)})}};return e.store("remoteDocuments").X({Y:!0},(a,d)=>{const f=new Jn(a);return o(f.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,d,f],g)=>{const b=Tl(d);return o(b.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,s)=>{const o=TT(s),a=yU(this.serializer,o);return e.put(a)})}ni(t,e){const i=e.store("remoteDocuments"),s=[];return i.X((o,a)=>{const d=e.store("remoteDocumentsV14"),f=(g=a,g.document?new nt(Jn.fromString(g.document.name).popFirst(5)):g.noDocument?nt.fromSegments(g.noDocument.path):g.unknownDocument?nt.fromSegments(g.unknownDocument.path):ct()).path.toArray();var g;const b={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(d.put(b))}).next(()=>me.waitFor(s))}si(t,e){const i=e.store("mutations"),s=UU(this.serializer),o=new hF(LE.zs,this.serializer.fe);return i.j().next(a=>{const d=new Map;return a.forEach(f=>{var g;let b=null!==(g=d.get(f.userId))&&void 0!==g?g:h();X_(this.serializer,f).keys().forEach(T=>b=b.add(T)),d.set(f.userId,b)}),me.forEach(d,(f,g)=>{const b=new Ts(g),T=IE.de(this.serializer,b),E=o.getIndexManager(b),R=FE.de(b,this.serializer,E,o.referenceDelegate);return new HU(s,R,T,E).recalculateAndSaveOverlaysForDocumentKeys(new Vo(e,Ba.ct),f).next()})})}}function qU(r){r.createObjectStore("targetDocuments",{keyPath:LB}).createIndex("documentTargetsIndex",BB,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xO,{unique:!0}),r.createObjectStore("targetGlobal")}const fF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pF{constructor(t,e,i,s,o,a,d,f,g,b,T=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=o,this.window=a,this.document=d,this.ri=g,this.oi=b,this.ui=T,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=E=>Promise.resolve(),!pF.D())throw new Ne(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Iz(this,s),this.di=e+"main",this.serializer=new gU(f),this.wi=new La(this.di,this.ui,new Zz(this.serializer)),this.Bs=new Az(this.referenceDelegate,this.serializer),this.remoteDocumentCache=UU(this.serializer),this.qs=new yz,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(_e.FAILED_PRECONDITION,fF);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Ba(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,we.Z)(function*(s){if(e.started)return t(s)});return function(s){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,we.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,we.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>UE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(If(t))return je("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return MT(t).get("owner").next(e=>me.resolve(this.Ri(e)))}Pi(t){return UE(t).delete(this.clientId)}bi(){var t=this;return(0,we.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const s=Ds(i,"clientMetadata");return s.j().next(o=>{const a=t.Si(o,18e5),d=o.filter(f=>-1===a.indexOf(f));return me.forEach(d,f=>s.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?me.resolve(!0):MT(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Ne(_e.FAILED_PRECONDITION,fF);return!1}}return!(!this.networkEnabled||!this.inForeground)||UE(t).j().next(i=>void 0===this.Si(i,5e3).find(s=>{if(this.clientId!==s.clientId){const a=!this.inForeground&&s.inForeground,d=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||a&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&je("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,we.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Vo(e,Ba.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>UE(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return FE.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Sz(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return IE.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){je("IndexedDbPersistence","Starting transaction:",t);const s="readonly"===e?"readonly":"readwrite",o=15===(a=this.ui)?kO:14===a?Kv:13===a?_E:12===a?Dl:11===a?IO:void ct();var a;let d;return this.wi.runTransaction(t,s,o,f=>(d=new Vo(f,this.Os?this.Os.next():Ba.ct),"readwrite-primary"===e?this.Ti(d).next(g=>!!g||this.Ei(d)).next(g=>{if(!g)throw Fr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ne(_e.FAILED_PRECONDITION,zw);return i(d)}).next(g=>this.vi(d).next(()=>g)):this.Oi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}Oi(t){return MT(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ne(_e.FAILED_PRECONDITION,fF)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return MT(t).put("owner",e)}static D(){return La.D()}Ai(t){const e=MT(t);return e.get("owner").next(i=>this.Ri(i)?(je("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):me.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Fr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,Z.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return je("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Fr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Fr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function MT(r){return Ds(r,"owner")}function UE(r){return Ds(r,"clientMetadata")}function mF(r,t){let e=r.projectId;return r.isDefaultDatabase||(e+="."+r.database),"firestore/"+t+"/"+e+"/"}class gF{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=s}static Li(t,e){let i=h(),s=h();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new gF(t,e.fromCache,i,s)}}class GU{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,s){return this.Ki(t,e).next(o=>o||this.Gi(t,e,s,i)).next(o=>o||this.Qi(t,e))}Ki(t,e){if(oC(e))return me.resolve(null);let i=xo(e);return this.indexManager.getIndexType(t,i).next(s=>0===s?null:(null!==e.limit&&1===s&&(e=fT(e,null,"F"),i=xo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const a=h(...o);return this.Ui.getDocuments(t,a).next(d=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.ji(e,d);return this.zi(e,g,a,f.readTime)?this.Ki(t,fT(e,null,"F")):this.Wi(t,g,e,f)}))})))}Gi(t,e,i,s){return oC(e)||s.isEqual(vt.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(o=>{const a=this.ji(e,o);return this.zi(e,a,i,s)?this.Qi(t,e):(Bs()<=dc.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pT(e)),this.Wi(t,a,e,hE(s,-1)))})}ji(t,e){let i=new Gi(jO(t));return e.forEach((s,o)=>{aC(t,o)&&(i=i.add(o))}),i}zi(t,e,i,s){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Qi(t,e){return Bs()<=dc.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",pT(e)),this.Ui.getDocumentsMatchingQuery(t,e,ua.min())}Wi(t,e,i,s){return this.Ui.getDocumentsMatchingQuery(t,i,s).next(o=>(e.forEach(a=>{o=o.insert(a.key,a)}),o))}}class jz{constructor(t,e,i,s){this.persistence=t,this.Hi=e,this.serializer=s,this.Ji=new vi(dn),this.Yi=new qd(o=>Nf(o),Y_),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function YU(r,t,e,i){return new jz(r,t,e,i)}function JU(r,t){return _F.apply(this,arguments)}function _F(){return _F=(0,we.Z)(function*(r,t){const e=rt(r);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],d=[];let f=h();for(const g of s){a.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}for(const g of o){d.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}return e.localDocuments.getDocuments(i,f).next(g=>({er:g,removedBatchIds:a,addedBatchIds:d}))})})}),_F.apply(this,arguments)}function Hz(r,t){const e=rt(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=e.Zi.newChangeBuffer({trackRemovals:!0});return function(a,d,f,g){const b=f.batch,T=b.keys();let E=me.resolve();return T.forEach(R=>{E=E.next(()=>g.getEntry(d,R)).next(L=>{const Y=f.docVersions.get(R);bt(null!==Y),L.version.compareTo(Y)<0&&(b.applyToRemoteDocument(L,f),L.isValidDocument()&&(L.setReadTime(f.commitVersion),g.addEntry(L)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(d,b))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let d=h();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(d=d.add(a.batch.mutations[f].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function zU(r){const t=rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function qz(r,t){const e=rt(r),i=t.snapshotVersion;let s=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=e.Zi.newChangeBuffer({trackRemovals:!0});s=e.Ji;const d=[];t.targetChanges.forEach((b,T)=>{const E=s.get(T);if(!E)return;d.push(e.Bs.removeMatchingKeys(o,b.removedDocuments,T).next(()=>e.Bs.addMatchingKeys(o,b.addedDocuments,T)));let R=E.withSequenceNumber(o.currentSequenceNumber);var L,Y,W;null!==t.targetMismatches.get(T)?R=R.withResumeToken(Pr.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,i)),s=s.insert(T,R),Y=R,W=b,(0===(L=E).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8||W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0)&&d.push(e.Bs.updateTargetData(o,R))});let f=da(),g=h();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))}),d.push($U(o,a,t.documentUpdates).next(b=>{f=b.nr,g=b.sr})),!i.isEqual(vt.min())){const b=e.Bs.getLastRemoteSnapshotVersion(o).next(T=>e.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));d.push(b)}return me.waitFor(d).next(()=>a.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,g)).next(()=>f)}).then(o=>(e.Ji=s,o))}function $U(r,t,e){let i=h(),s=h();return e.forEach(o=>i=i.add(o)),t.getEntries(r,i).next(o=>{let a=da();return e.forEach((d,f)=>{const g=o.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(vt.min())?(t.removeEntry(d,f.readTime),a=a.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(t.addEntry(f),a=a.insert(d,f)):je("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{nr:a,sr:s}})}function Gz(r,t){const e=rt(r);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function gC(r,t){const e=rt(r);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Bs.getTargetData(i,t).next(o=>o?(s=o,me.resolve(s)):e.Bs.allocateTargetId(i).next(a=>(s=new Uf(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ji.get(i.targetId);return(null===s||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function _C(r,t,e){return yF.apply(this,arguments)}function yF(){return yF=(0,we.Z)(function*(r,t,e){const i=rt(r),s=i.Ji.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!If(a))throw a;je("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(s.target)}),yF.apply(this,arguments)}function VE(r,t,e){const i=rt(r);let s=vt.min(),o=h();return i.persistence.runTransaction("Execute query","readonly",a=>function(d,f,g){const b=rt(d),T=b.Yi.get(g);return void 0!==T?me.resolve(b.Ji.get(T)):b.Bs.getTargetData(f,g)}(i,a,xo(t)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,d.targetId).next(f=>{o=f})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,t,e?s:vt.min(),e?o:h())).next(d=>(KU(i,ZO(t),d),{documents:d,ir:o})))}function QU(r,t){const e=rt(r),i=rt(e.Bs),s=e.Ji.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",o=>i.le(o,t).next(a=>a?a.target:null))}function WU(r,t){const e=rt(r),i=e.Xi.get(t)||vt.min();return e.persistence.runTransaction("Get new document changes","readonly",s=>e.Zi.getAllFromCollectionGroup(s,t,hE(i,-1),Number.MAX_SAFE_INTEGER)).then(s=>(KU(e,t,s),s))}function KU(r,t,e){let i=r.Xi.get(t)||vt.min();e.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),r.Xi.set(t,i)}function bF(){return bF=(0,we.Z)(function*(r,t,e,i){const s=rt(r);let o=h(),a=da();for(const g of e){const b=t.rr(g.metadata.name);g.document&&(o=o.add(b));const T=t.ur(g);T.setReadTime(t.cr(g.metadata.readTime)),a=a.insert(b,T)}const d=s.Zi.newChangeBuffer({trackRemovals:!0}),f=yield gC(s,(g=i,xo(Of(Jn.fromString(`__bundle__/docs/${g}`)))));var g;return s.persistence.runTransaction("Apply bundle documents","readwrite",g=>$U(g,d,a).next(b=>(d.apply(g),b)).next(b=>s.Bs.removeMatchingKeysForTargetId(g,f.targetId).next(()=>s.Bs.addMatchingKeys(g,o,f.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(g,b.nr,b.sr)).next(()=>b.nr)))}),bF.apply(this,arguments)}function Jz(r,t){return vF.apply(this,arguments)}function vF(){return vF=(0,we.Z)(function*(r,t,e=h()){const i=yield gC(r,xo(rF(t.bundledQuery))),s=rt(r);return s.persistence.runTransaction("Save named query","readwrite",o=>{const a=fs(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return s.qs.saveNamedQuery(o,t);const d=i.withResumeToken(Pr.EMPTY_BYTE_STRING,a);return s.Ji=s.Ji.insert(d.targetId,d),s.Bs.updateTargetData(o,d).next(()=>s.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>s.Bs.addMatchingKeys(o,e,i.targetId)).next(()=>s.qs.saveNamedQuery(o,t))})}),vF.apply(this,arguments)}function XU(r,t){return`firestore_clients_${r}_${t}`}function eV(r,t,e){let i=`firestore_mutations_${r}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function CF(r,t){return`firestore_targets_${r}_${t}`}class ZE{constructor(t,e,i,s){this.user=t,this.batchId=e,this.state=i,this.error=s}static ar(t,e,i){const s=JSON.parse(i);let o,a="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return a&&s.error&&(a="string"==typeof s.error.message&&"string"==typeof s.error.code,a&&(o=new Ne(s.error.code,s.error.message))),a?new ZE(t,e,s.state,o):(Fr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class IT{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let s,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new Ne(i.error.code,i.error.message))),o?new IT(t,i.state,s):(Fr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class jE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let s="object"==typeof i&&i.activeTargetIds instanceof Array,o=_();for(let a=0;s&&a<i.activeTargetIds.length;++a)s=Kw(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return s?new jE(t,o):(Fr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class wF{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new wF(e.clientId,e.onlineState):(Fr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class TF{constructor(){this.activeTargetIds=_()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DF{constructor(t,e,i,s,o){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new vi(dn),this.started=!1,this.yr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=XU(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new TF),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,we.Z)(function*(){const e=yield t.syncEngine.$i();for(const s of e){if(s===t.wr)continue;const o=t.getItem(XU(t.persistenceKey,s));if(o){const a=jE.ar(s,o);a&&(t.gr=t.gr.insert(a.clientId,a))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const s=t.br(i);s&&t.Vr(s)}for(const s of t.yr)t.mr(s);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,s)=>{s.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(CF(this.persistenceKey,t));if(i){const s=IT.ar(t,i);s&&(e=s.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(CF(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(s=>{this.Cr(s)}),this.currentUser=t,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return je("SharedClientState","READ",t,e),e}setItem(t,e){je("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){je("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(je("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,we.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const s=e.Or(i.key);return e.Fr(s,null)}{const s=e.Br(i.key,i.newValue);if(s)return e.Fr(s.clientId,s)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const s=e.Lr(i.key,i.newValue);if(s)return e.qr(s)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const s=e.Ur(i.key,i.newValue);if(s)return e.Kr(s)}}else if(i.key===e.vr){if(null!==i.newValue){const s=e.br(i.newValue);if(s)return e.Vr(s)}}else if(i.key===e.Ir){const s=function(o){let a=Ba.ct;if(null!=o)try{const d=JSON.parse(o);bt("number"==typeof d),a=d}catch(d){Fr("SharedClientState","Failed to read sequence number from WebStorage",d)}return a}(i.newValue);s!==Ba.ct&&e.sequenceNumberHandler(s)}else if(i.key===e.Rr){const s=e.Gr(i.newValue);yield Promise.all(s.map(o=>e.syncEngine.Qr(o)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const s=new ZE(this.currentUser,t,e,i),o=eV(this.persistenceKey,this.currentUser,t);this.setItem(o,s.hr())}Cr(t){const e=eV(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const s=CF(this.persistenceKey,t),o=new IT(t,e,i);this.setItem(s,o.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return jE.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),s=Number(i[1]);return ZE.ar(new Ts(void 0!==i[2]?i[2]:null),s,e)}Ur(t,e){const i=this.Ar.exec(t),s=Number(i[1]);return IT.ar(s,e)}br(t){return wF.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,we.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);je("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),s=this.Sr(this.gr),o=this.Sr(i),a=[],d=[];return o.forEach(f=>{s.has(f)||a.push(f)}),s.forEach(f=>{o.has(f)||d.push(f)}),this.syncEngine.Wr(a,d).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=_();return t.forEach((i,s)=>{e=e.unionWith(s.activeTargetIds)}),e}}class tV{constructor(){this.Hr=new TF,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new TF,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class zz{Yr(t){}shutdown(){}}class nV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let HE=null;function xF(){return null===HE?HE=268435456+Math.round(2147483648*Math.random()):HE++,"0x"+HE.toString(16)}const $z={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qz{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Ho="WebChannelConnection";class Wz extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,s,o){const a=xF(),d=this.To(t,e);je("RestConnection",`Sending RPC '${t}' ${a}:`,d,i);const f={};return this.Eo(f,s,o),this.Ao(t,d,f,i).then(g=>(je("RestConnection",`Received RPC '${t}' ${a}: `,g),g),g=>{throw Cl("RestConnection",`RPC '${t}' ${a} failed with error: `,g,"url: ",d,"request:",i),g})}vo(t,e,i,s,o,a){return this.Io(t,e,i,s,o)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Mf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}To(t,e){return`${this.mo}/v1/${e}:${$z[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,s){const o=xF();return new Promise((a,d)=>{const f=new iE;f.setWithCredentials(!0),f.listenOnce(tE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Zw.NO_ERROR:const b=f.getResponseJson();je(Ho,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(b)),a(b);break;case Zw.TIMEOUT:je(Ho,`RPC '${t}' ${o} timed out`),d(new Ne(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Zw.HTTP_ERROR:const T=f.getStatus();if(je(Ho,`RPC '${t}' ${o} failed with status:`,T,"response text:",f.getResponseText()),T>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const R=E?.error;if(R&&R.status&&R.message){const L=function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(W)>=0?W:_e.UNKNOWN}(R.status);d(new Ne(L,R.message))}else d(new Ne(_e.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ne(_e.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{je(Ho,`RPC '${t}' ${o} completed.`)}});const g=JSON.stringify(s);je(Ho,`RPC '${t}' ${o} sending request:`,s),f.send(e,"POST",g,i,15)})}Ro(t,e,i){const s=xF(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=pO(),d=mO(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.xmlHttpFactory=new nE({})),this.Eo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const b=o.join("");je(Ho,`Creating RPC '${t}' stream ${s}: ${b}`,f);const T=a.createWebChannel(b,f);let E=!1,R=!1;const L=new Qz({ro:W=>{R?je(Ho,`Not sending because RPC '${t}' stream ${s} is closed:`,W):(E||(je(Ho,`Opening RPC '${t}' stream ${s} transport.`),T.open(),E=!0),je(Ho,`RPC '${t}' stream ${s} sending:`,W),T.send(W))},oo:()=>T.close()}),Y=(W,ve,Ze)=>{W.listen(ve,He=>{try{Ze(He)}catch(ze){setTimeout(()=>{throw ze},0)}})};return Y(T,M_.EventType.OPEN,()=>{R||je(Ho,`RPC '${t}' stream ${s} transport opened.`)}),Y(T,M_.EventType.CLOSE,()=>{R||(R=!0,je(Ho,`RPC '${t}' stream ${s} transport closed`),L.wo())}),Y(T,M_.EventType.ERROR,W=>{R||(R=!0,Cl(Ho,`RPC '${t}' stream ${s} transport errored:`,W),L.wo(new Ne(_e.UNAVAILABLE,"The operation could not be completed")))}),Y(T,M_.EventType.MESSAGE,W=>{var ve;if(!R){const Ze=W.data[0];bt(!!Ze);const He=Ze,ze=He.error||(null===(ve=He[0])||void 0===ve?void 0:ve.error);if(ze){je(Ho,`RPC '${t}' stream ${s} received error:`,ze);const Ht=ze.status;let Ct=function(Zr){const $o=Ss[Zr];if(void 0!==$o)return QB($o)}(Ht),Gn=ze.message;void 0===Ct&&(Ct=_e.INTERNAL,Gn="Unknown error status: "+Ht+" with message "+ze.message),R=!0,L.wo(new Ne(Ct,Gn)),T.close()}else je(Ho,`RPC '${t}' stream ${s} received:`,Ze),L._o(Ze)}}),Y(d,jw.STAT_EVENT,W=>{W.stat===Hw.PROXY?je(Ho,`RPC '${t}' stream ${s} detected buffering proxy`):W.stat===Hw.NOPROXY&&je(Ho,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{L.fo()},0),L}}function iV(){return typeof window<"u"?window:null}function qE(){return typeof document<"u"?document:null}function kT(r){return new az(r,!0)}class SF{constructor(t,e,i=1e3,s=1.5,o=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=s,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),s=Math.max(0,e-i);s>0&&je("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class rV{constructor(t,e,i,s,o,a,d,f){this.ii=t,this.$o=i,this.Oo=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new SF(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,we.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,we.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,we.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===_e.RESOURCE_EXHAUSTED?(Fr(e.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===_e.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Fo===e&&this.Zo(i,s)},i=>{t(()=>{const s=new Ne(_e.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(s)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{i(()=>this.tu(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Go(){var t=this;this.state=5,this.qo.No((0,we.Z)(function*(){t.state=0,t.start()}))}tu(t){return je("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kz extends rV{constructor(t,e,i,s,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,a),this.serializer=o}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function uz(r,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:ct(),s=t.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(bt(void 0===g||"string"==typeof g),Pr.fromBase64String(g||"")):(bt(void 0===g||g instanceof Uint8Array),Pr.fromUint8Array(g||new Uint8Array))}(r,t.targetChange.resumeToken),a=t.targetChange.cause,d=a&&function(f){const g=void 0===f.code?_e.UNKNOWN:QB(f.code);return new Ne(g,f.message||"")}(a);e=new tU(i,s,o,d||null)}else if("documentChange"in t){const i=t.documentChange,s=Yd(r,i.document.name),o=fs(i.document.updateTime),a=i.document.createTime?fs(i.document.createTime):vt.min(),d=new to({mapValue:{fields:i.document.fields}}),f=Yi.newFoundDocument(s,o,a,d);e=new EE(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,s=Yd(r,i.document),o=i.readTime?fs(i.readTime):vt.min(),a=Yi.newNoDocument(s,o);e=new EE([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,s=Yd(r,i.document);e=new EE([],i.removedTargetIds||[],s,null)}else{if(!("filter"in t))return ct();{const i=t.filter,{count:s=0,unchangedNames:o}=i,a=new tz(s,o);e=new eU(i.targetId,a)}}var f;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return vt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?vt.min():o.readTime?fs(o.readTime):vt.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=CT(this.serializer),e.addTarget=function(s,o){let a;const d=o.target;if(a=sC(d)?{documents:dU(s,d)}:{query:iF(s,d)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sU(s,o.resumeToken);const f=XO(s,o.expectedCount);null!==f&&(a.expectedCount=f)}else if(o.snapshotVersion.compareTo(vt.min())>0){a.readTime=hC(s,o.snapshotVersion.toTimestamp());const f=XO(s,o.expectedCount);null!==f&&(a.expectedCount=f)}return a}(this.serializer,t);const i=function hz(r,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=CT(this.serializer),e.removeTarget=t,this.Wo(e)}}class Xz extends rV{constructor(t,e,i,s,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,a),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(bt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function dz(r,t){return r&&r.length>0?(bt(void 0!==t),r.map(e=>function(i,s){let o=fs(i.updateTime?i.updateTime:s);return o.isEqual(vt.min())&&(o=fs(s)),new Pf(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=fs(t.commitTime);return this.listener.cu(i,e)}return bt(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=CT(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>wT(this.serializer,i))};this.Wo(e)}}class e$ extends class{}{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Ne(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Io(t,e,i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(_e.UNKNOWN,s.toString())})}vo(t,e,i,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,e,i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(_e.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class n${constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Fr(e),this.mu=!1):je("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class i${constructor(t,e,i,s,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(d=>{i.enqueueAndForget((0,we.Z)(function*(){var f;Pm(a)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,we.Z)(function*(g){const b=rt(g);b.vu.add(4),yield yC(b),b.bu.set("Unknown"),b.vu.delete(4),yield RT(b)}),function(g){return f.apply(this,arguments)})(a))}))}),this.bu=new n$(i,s)}}function RT(r){return EF.apply(this,arguments)}function EF(){return EF=(0,we.Z)(function*(r){if(Pm(r))for(const t of r.Ru)yield t(!0)}),EF.apply(this,arguments)}function yC(r){return MF.apply(this,arguments)}function MF(){return MF=(0,we.Z)(function*(r){for(const t of r.Ru)yield t(!1)}),MF.apply(this,arguments)}function GE(r,t){const e=rt(r);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),RF(e)?kF(e):vC(e).Ko()&&IF(e,t))}function NT(r,t){const e=rt(r),i=vC(e);e.Au.delete(t),i.Ko()&&sV(e,t),0===e.Au.size&&(i.Ko()?i.jo():Pm(e)&&e.bu.set("Unknown"))}function IF(r,t){if(r.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}vC(r).su(t)}function sV(r,t){r.Vu.qt(t),vC(r).iu(t)}function kF(r){r.Vu=new iz({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),le:t=>r.Au.get(t)||null,ue:()=>r.datastore.serializer.databaseId}),vC(r).start(),r.bu.gu()}function RF(r){return Pm(r)&&!vC(r).Uo()&&r.Au.size>0}function Pm(r){return 0===rt(r).vu.size}function oV(r){r.Vu=void 0}function r$(r){return NF.apply(this,arguments)}function NF(){return NF=(0,we.Z)(function*(r){r.Au.forEach((t,e)=>{IF(r,t)})}),NF.apply(this,arguments)}function s$(r,t){return OF.apply(this,arguments)}function OF(){return OF=(0,we.Z)(function*(r,t){oV(r),RF(r)?(r.bu.Iu(t),kF(r)):r.bu.set("Unknown")}),OF.apply(this,arguments)}function o$(r,t,e){return FF.apply(this,arguments)}function FF(){return FF=(0,we.Z)(function*(r,t,e){if(r.bu.set("Online"),t instanceof tU&&2===t.state&&t.cause)try{yield(i=(0,we.Z)(function*(s,o){const a=o.cause;for(const d of o.targetIds)s.Au.has(d)&&(yield s.remoteSyncer.rejectListen(d,a),s.Au.delete(d),s.Vu.removeTarget(d))}),function(s,o){return i.apply(this,arguments)})(r,t)}catch(i){je("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield YE(r,i)}else if(t instanceof EE?r.Vu.Ht(t):t instanceof eU?r.Vu.ne(t):r.Vu.Xt(t),!e.isEqual(vt.min()))try{const i=yield zU(r.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.Vu.ce(o);return a.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=s.Au.get(f);g&&s.Au.set(f,g.withResumeToken(d.resumeToken,o))}}),a.targetMismatches.forEach((d,f)=>{const g=s.Au.get(d);if(!g)return;s.Au.set(d,g.withResumeToken(Pr.EMPTY_BYTE_STRING,g.snapshotVersion)),sV(s,d);const b=new Uf(g.target,d,f,g.sequenceNumber);IF(s,b)}),s.remoteSyncer.applyRemoteEvent(a)}(r,e))}catch(i){je("RemoteStore","Failed to raise snapshot:",i),yield YE(r,i)}var i}),FF.apply(this,arguments)}function YE(r,t,e){return PF.apply(this,arguments)}function PF(){return PF=(0,we.Z)(function*(r,t,e){if(!If(t))throw t;r.vu.add(1),yield yC(r),r.bu.set("Offline"),e||(e=()=>zU(r.localStore)),r.asyncQueue.enqueueRetryable((0,we.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield e(),r.vu.delete(1),yield RT(r)}))}),PF.apply(this,arguments)}function aV(r,t){return t().catch(e=>YE(r,e,t))}function bC(r){return LF.apply(this,arguments)}function LF(){return LF=(0,we.Z)(function*(r){const t=rt(r),e=Lm(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;a$(t);)try{const s=yield Gz(t.localStore,i);if(null===s){0===t.Eu.length&&e.jo();break}i=s.batchId,l$(t,s)}catch(s){yield YE(t,s)}lV(t)&&cV(t)}),LF.apply(this,arguments)}function a$(r){return Pm(r)&&r.Eu.length<10}function l$(r,t){r.Eu.push(t);const e=Lm(r);e.Ko()&&e.ou&&e.uu(t.mutations)}function lV(r){return Pm(r)&&!Lm(r).Uo()&&r.Eu.length>0}function cV(r){Lm(r).start()}function c$(r){return BF.apply(this,arguments)}function BF(){return BF=(0,we.Z)(function*(r){Lm(r).hu()}),BF.apply(this,arguments)}function u$(r){return UF.apply(this,arguments)}function UF(){return UF=(0,we.Z)(function*(r){const t=Lm(r);for(const e of r.Eu)t.uu(e.mutations)}),UF.apply(this,arguments)}function d$(r,t,e){return VF.apply(this,arguments)}function VF(){return VF=(0,we.Z)(function*(r,t,e){const i=r.Eu.shift(),s=$O.from(i,t,e);yield aV(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),yield bC(r)}),VF.apply(this,arguments)}function h$(r,t){return ZF.apply(this,arguments)}function ZF(){return ZF=(0,we.Z)(function*(r,t){var e;t&&Lm(r).ou&&(yield(e=(0,we.Z)(function*(i,s){if($B(o=s.code)&&o!==_e.ABORTED){const a=i.Eu.shift();Lm(i).Qo(),yield aV(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),yield bC(i)}var o}),function(i,s){return e.apply(this,arguments)})(r,t)),lV(r)&&cV(r)}),ZF.apply(this,arguments)}function uV(r,t){return jF.apply(this,arguments)}function jF(){return jF=(0,we.Z)(function*(r,t){const e=rt(r);e.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const i=Pm(e);e.vu.add(3),yield yC(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield RT(e)}),jF.apply(this,arguments)}function HF(r,t){return qF.apply(this,arguments)}function qF(){return qF=(0,we.Z)(function*(r,t){const e=rt(r);t?(e.vu.delete(2),yield RT(e)):t||(e.vu.add(2),yield yC(e),e.bu.set("Unknown"))}),qF.apply(this,arguments)}function vC(r){return r.Su||(r.Su=function(t,e,i){const s=rt(t);return s.fu(),new Kz(e,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{uo:r$.bind(null,r),ao:s$.bind(null,r),nu:o$.bind(null,r)}),r.Ru.push(function(){var t=(0,we.Z)(function*(e){e?(r.Su.Qo(),RF(r)?kF(r):r.bu.set("Unknown")):(yield r.Su.stop(),oV(r))});return function(e){return t.apply(this,arguments)}}())),r.Su}function Lm(r){return r.Du||(r.Du=function(t,e,i){const s=rt(t);return s.fu(),new Xz(e,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{uo:c$.bind(null,r),ao:h$.bind(null,r),au:u$.bind(null,r),cu:d$.bind(null,r)}),r.Ru.push(function(){var t=(0,we.Z)(function*(e){e?(r.Du.Qo(),yield bC(r)):(yield r.Du.stop(),r.Eu.length>0&&(je("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),r.Du}class GF{constructor(t,e,i,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,s,o){const a=Date.now()+i,d=new GF(t,e,a,s,o);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(_e.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CC(r,t){if(Fr("AsyncQueue",`${t}: ${r}`),If(r))return new Ne(_e.UNAVAILABLE,`${t}: ${r}`);throw r}class wC{constructor(t){this.comparator=t?(e,i)=>t(e,i)||nt.comparator(e.key,i.key):(e,i)=>nt.comparator(e.key,i.key),this.keyedMap=lC(),this.sortedSet=new vi(this.comparator)}static emptySet(t){return new wC(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof wC)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new wC;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class dV{constructor(){this.Cu=new vi(nt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):ct():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class TC{constructor(t,e,i,s,o,a,d,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,s,o){const a=[];return e.forEach(d=>{a.push({type:0,doc:d})}),new TC(t,e,wC.emptySet(e),a,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Q_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}class f${constructor(){this.Nu=void 0,this.listeners=[]}}class p${constructor(){this.queries=new qd(t=>SE(t),Q_),this.onlineState="Unknown",this.ku=new Set}}function YF(r,t){return JF.apply(this,arguments)}function JF(){return JF=(0,we.Z)(function*(r,t){const e=rt(r),i=t.query;let s=!1,o=e.queries.get(i);if(o||(s=!0,o=new f$),s)try{o.Nu=yield e.onListen(i)}catch(a){const d=CC(a,`Initialization of query '${pT(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,o),o.listeners.push(t),t.Mu(e.onlineState),o.Nu&&t.$u(o.Nu)&&QF(e)}),JF.apply(this,arguments)}function zF(r,t){return $F.apply(this,arguments)}function $F(){return $F=(0,we.Z)(function*(r,t){const e=rt(r),i=t.query;let s=!1;const o=e.queries.get(i);if(o){const a=o.listeners.indexOf(t);a>=0&&(o.listeners.splice(a,1),s=0===o.listeners.length)}if(s)return e.queries.delete(i),e.onUnlisten(i)}),$F.apply(this,arguments)}function m$(r,t){const e=rt(r);let i=!1;for(const s of t){const a=e.queries.get(s.query);if(a){for(const d of a.listeners)d.$u(s)&&(i=!0);a.Nu=s}}i&&QF(e)}function g$(r,t,e){const i=rt(r),s=i.queries.get(t);if(s)for(const o of s.listeners)o.onError(e);i.queries.delete(t)}function QF(r){r.ku.forEach(t=>{t.next()})}class WF{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)3!==s.type&&i.push(s);t=new TC(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=TC.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class _${constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class hV{constructor(t){this.serializer=t}rr(t){return Yd(this.serializer,t)}ur(t){return t.metadata.exists?uU(this.serializer,t.document,!1):Yi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return fs(t)}}class y${constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fV(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=Jn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new hV(this.serializer);for(const s of t)if(s.metadata.queries){const o=i.rr(s.metadata.name);for(const a of s.metadata.queries){const d=(e.get(a)||h()).add(o);e.set(a,d)}}return e}complete(){var t=this;return(0,we.Z)(function*(){const e=yield function Yz(r,t,e,i){return bF.apply(this,arguments)}(t.localStore,new hV(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const s of t.queries)yield Jz(t.localStore,s,i.get(s.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function fV(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class pV{constructor(t){this.key=t}}class mV{constructor(t){this.key=t}}class gV{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=h(),this.mutatedKeys=h(),this.tc=jO(t),this.ec=new wC(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new dV,s=e?e.ec:this.ec;let o=e?e.mutatedKeys:this.mutatedKeys,a=s,d=!1;const f="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,g="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((b,T)=>{const E=s.get(b),R=aC(this.query,T)?T:null,L=!!E&&this.mutatedKeys.has(E.key),Y=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let W=!1;E&&R?E.data.isEqual(R.data)?L!==Y&&(i.track({type:3,doc:R}),W=!0):this.rc(E,R)||(i.track({type:2,doc:R}),W=!0,(f&&this.tc(R,f)>0||g&&this.tc(R,g)<0)&&(d=!0)):!E&&R?(i.track({type:0,doc:R}),W=!0):E&&!R&&(i.track({type:1,doc:E}),W=!0,(f||g)&&(d=!0)),W&&(R?(a=a.add(R),o=Y?o.add(b):o.delete(b)):(a=a.delete(b),o=o.delete(b)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const b="F"===this.query.limitType?a.last():a.first();a=a.delete(b.key),o=o.delete(b.key),i.track({type:1,doc:b})}return{ec:a,ic:i,zi:d,mutatedKeys:o}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const s=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((g,b)=>function(T,E){const R=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return R(T)-R(E)}(g.type,b.type)||this.tc(g.doc,b.doc)),this.oc(i);const a=e?this.uc():[],d=0===this.Zu.size&&this.current?1:0,f=d!==this.Xu;return this.Xu=d,0!==o.length||f?{snapshot:new TC(this.query,t.ec,s,o,t.mutatedKeys,0===d,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new dV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=h(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new mV(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new pV(i))}),e}hc(t){this.Yu=t.ir,this.Zu=h();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return TC.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class b${constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class v${constructor(t){this.key=t,this.fc=!1}}class C${constructor(t,e,i,s,o,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new qd(d=>SE(d),Q_),this._c=new Map,this.mc=new Set,this.gc=new vi(nt.comparator),this.yc=new Map,this.Ic=new dF,this.Tc={},this.Ec=new Map,this.Ac=ny.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function w$(r,t){return KF.apply(this,arguments)}function KF(){return KF=(0,we.Z)(function*(r,t){const e=w2(r);let i,s;const o=e.wc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),s=o.view.lc();else{const a=yield gC(e.localStore,xo(t)),d=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,s=yield XF(e,t,i,"current"===d,a.resumeToken),e.isPrimaryClient&&GE(e.remoteStore,a)}return s}),KF.apply(this,arguments)}function XF(r,t,e,i,s){return e2.apply(this,arguments)}function e2(){return e2=(0,we.Z)(function*(r,t,e,i,s){r.Rc=(T,E,R)=>{return(L=(0,we.Z)(function*(Y,W,ve,Ze){let He=W.view.sc(ve);He.zi&&(He=yield VE(Y.localStore,W.query,!1).then(({documents:Ct})=>W.view.sc(Ct,He)));const ze=Ze&&Ze.targetChanges.get(W.targetId),Ht=W.view.applyChanges(He,Y.isPrimaryClient,ze);return d2(Y,W.targetId,Ht.cc),Ht.snapshot}),function(Y,W,ve,Ze){return L.apply(this,arguments)})(r,T,E,R);var L};const o=yield VE(r.localStore,t,!0),a=new gV(t,o.ir),d=a.sc(o.documents),f=bT.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==r.onlineState,s),g=a.applyChanges(d,r.isPrimaryClient,f);d2(r,e,g.cc);const b=new b$(t,e,a);return r.wc.set(t,b),r._c.has(e)?r._c.get(e).push(t):r._c.set(e,[t]),g.snapshot}),e2.apply(this,arguments)}function T$(r,t){return t2.apply(this,arguments)}function t2(){return t2=(0,we.Z)(function*(r,t){const e=rt(r),i=e.wc.get(t),s=e._c.get(i.targetId);if(s.length>1)return e._c.set(i.targetId,s.filter(o=>!Q_(o,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _C(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),NT(e.remoteStore,i.targetId),DC(e,i.targetId)}).catch(gu))):(DC(e,i.targetId),yield _C(e.localStore,i.targetId,!0))}),t2.apply(this,arguments)}function n2(){return n2=(0,we.Z)(function*(r,t,e){const i=T2(r);try{const s=yield function(o,a){const d=rt(o),f=qi.now(),g=a.reduce((E,R)=>E.add(R.key),h());let b,T;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let R=da(),L=h();return d.Zi.getEntries(E,g).next(Y=>{R=Y,R.forEach((W,ve)=>{ve.isValidDocument()||(L=L.add(W))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,R)).next(Y=>{b=Y;const W=[];for(const ve of a){const Ze=gT(ve,b.get(ve.key).overlayedDocument);null!=Ze&&W.push(new Bf(ve.key,Ze,iT(Ze.value.mapValue),ki.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,W,a)}).next(Y=>{T=Y;const W=Y.applyToLocalDocumentSet(b,L);return d.documentOverlayCache.saveOverlays(E,Y.batchId,W)})}).then(()=>({batchId:T.batchId,changes:GO(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,d){let f=o.Tc[o.currentUser.toKey()];f||(f=new vi(dn)),f=f.insert(a,d),o.Tc[o.currentUser.toKey()]=f}(i,s.batchId,e),yield Vf(i,s.changes),yield bC(i.remoteStore)}catch(s){const o=CC(s,"Failed to persist write");e.reject(o)}}),n2.apply(this,arguments)}function _V(r,t){return r2.apply(this,arguments)}function r2(){return r2=(0,we.Z)(function*(r,t){const e=rt(r);try{const i=yield qz(e.localStore,t);t.targetChanges.forEach((s,o)=>{const a=e.yc.get(o);a&&(bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.fc=!0:s.modifiedDocuments.size>0?bt(a.fc):s.removedDocuments.size>0&&(bt(a.fc),a.fc=!1))}),yield Vf(e,i,t)}catch(i){yield gu(i)}}),r2.apply(this,arguments)}function yV(r,t,e){const i=rt(r);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const s=[];i.wc.forEach((o,a)=>{const d=a.view.Mu(t);d.snapshot&&s.push(d.snapshot)}),function(o,a){const d=rt(o);d.onlineState=a;let f=!1;d.queries.forEach((g,b)=>{for(const T of b.listeners)T.Mu(a)&&(f=!0)}),f&&QF(d)}(i.eventManager,t),s.length&&i.dc.nu(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function x$(r,t,e){return s2.apply(this,arguments)}function s2(){return s2=(0,we.Z)(function*(r,t,e){const i=rt(r);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.yc.get(t),o=s&&s.key;if(o){let a=new vi(nt.comparator);a=a.insert(o,Yi.newNoDocument(o,vt.min()));const d=h().add(o),f=new yT(vt.min(),new Map,new vi(dn),a,d);yield _V(i,f),i.gc=i.gc.remove(o),i.yc.delete(t),h2(i)}else yield _C(i.localStore,t,!1).then(()=>DC(i,t,e)).catch(gu)}),s2.apply(this,arguments)}function S$(r,t){return o2.apply(this,arguments)}function o2(){return o2=(0,we.Z)(function*(r,t){const e=rt(r),i=t.batch.batchId;try{const s=yield Hz(e.localStore,t);u2(e,i,null),c2(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Vf(e,s)}catch(s){yield gu(s)}}),o2.apply(this,arguments)}function A$(r,t,e){return a2.apply(this,arguments)}function a2(){return a2=(0,we.Z)(function*(r,t,e){const i=rt(r);try{const s=yield function(o,a){const d=rt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,a).next(b=>(bt(null!==b),g=b.keys(),d.mutationQueue.removeMutationBatch(f,b))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,a)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(i.localStore,t);u2(i,t,e),c2(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Vf(i,s)}catch(s){yield gu(s)}}),a2.apply(this,arguments)}function l2(){return l2=(0,we.Z)(function*(r,t){const e=rt(r);Pm(e.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=rt(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>a.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const s=e.Ec.get(i)||[];s.push(t),e.Ec.set(i,s)}catch(i){const s=CC(i,"Initialization of waitForPendingWrites() operation failed");t.reject(s)}}),l2.apply(this,arguments)}function c2(r,t){(r.Ec.get(t)||[]).forEach(e=>{e.resolve()}),r.Ec.delete(t)}function u2(r,t,e){const i=rt(r);let s=i.Tc[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),i.Tc[i.currentUser.toKey()]=s}}function DC(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r._c.get(t))r.wc.delete(i),e&&r.dc.Pc(i,e);r._c.delete(t),r.isPrimaryClient&&r.Ic.Is(t).forEach(i=>{r.Ic.containsKey(i)||bV(r,i)})}function bV(r,t){r.mc.delete(t.path.canonicalString());const e=r.gc.get(t);null!==e&&(NT(r.remoteStore,e),r.gc=r.gc.remove(t),r.yc.delete(e),h2(r))}function d2(r,t,e){for(const i of e)i instanceof pV?(r.Ic.addReference(i.key,t),M$(r,i)):i instanceof mV?(je("SyncEngine","Document no longer in limbo: "+i.key),r.Ic.removeReference(i.key,t),r.Ic.containsKey(i.key)||bV(r,i.key)):ct()}function M$(r,t){const e=t.key,i=e.path.canonicalString();r.gc.get(e)||r.mc.has(i)||(je("SyncEngine","New document in limbo: "+e),r.mc.add(i),h2(r))}function h2(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const t=r.mc.values().next().value;r.mc.delete(t);const e=new nt(Jn.fromString(t)),i=r.Ac.next();r.yc.set(i,new v$(e)),r.gc=r.gc.insert(e,i),GE(r.remoteStore,new Uf(xo(Of(e.path)),i,"TargetPurposeLimboResolution",Ba.ct))}}function Vf(r,t,e){return f2.apply(this,arguments)}function f2(){return f2=(0,we.Z)(function*(r,t,e){const i=rt(r),s=[],o=[],a=[];var d;i.wc.isEmpty()||(i.wc.forEach((d,f)=>{a.push(i.Rc(f,t,e).then(g=>{if((g||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,g?.fromCache?"not-current":"current"),g){s.push(g);const b=gF.Li(f.targetId,g);o.push(b)}}))}),yield Promise.all(a),i.dc.nu(s),yield(d=(0,we.Z)(function*(f,g){const b=rt(f);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>me.forEach(g,E=>me.forEach(E.Fi,R=>b.persistence.referenceDelegate.addReference(T,E.targetId,R)).next(()=>me.forEach(E.Bi,R=>b.persistence.referenceDelegate.removeReference(T,E.targetId,R)))))}catch(T){if(!If(T))throw T;je("LocalStore","Failed to update sequence numbers: "+T)}for(const T of g){const E=T.targetId;if(!T.fromCache){const R=b.Ji.get(E),Y=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);b.Ji=b.Ji.insert(E,Y)}}}),function(f,g){return d.apply(this,arguments)})(i.localStore,o))}),f2.apply(this,arguments)}function I$(r,t){return p2.apply(this,arguments)}function p2(){return p2=(0,we.Z)(function*(r,t){const e=rt(r);if(!e.currentUser.isEqual(t)){je("SyncEngine","User change. New user:",t.toKey());const i=yield JU(e.localStore,t);e.currentUser=t,(s=e).Ec.forEach(a=>{a.forEach(d=>{d.reject(new Ne(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Vf(e,i.er)}var s}),p2.apply(this,arguments)}function k$(r,t){const e=rt(r),i=e.yc.get(t);if(i&&i.fc)return h().add(i.key);{let s=h();const o=e._c.get(t);if(!o)return s;for(const a of o){const d=e.wc.get(a);s=s.unionWith(d.view.nc)}return s}}function R$(r,t){return m2.apply(this,arguments)}function m2(){return m2=(0,we.Z)(function*(r,t){const e=rt(r),i=yield VE(e.localStore,t.query,!0),s=t.view.hc(i);return e.isPrimaryClient&&d2(e,t.targetId,s.cc),s}),m2.apply(this,arguments)}function N$(r,t){return g2.apply(this,arguments)}function g2(){return g2=(0,we.Z)(function*(r,t){const e=rt(r);return WU(e.localStore,t).then(i=>Vf(e,i))}),g2.apply(this,arguments)}function O$(r,t,e,i){return _2.apply(this,arguments)}function _2(){return _2=(0,we.Z)(function*(r,t,e,i){const s=rt(r),o=yield function(a,d){const f=rt(a),g=rt(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",b=>g.Sn(b,d).next(T=>T?f.localDocuments.getDocuments(b,T):me.resolve(null)))}(s.localStore,t);var d;null!==o?("pending"===e?yield bC(s.remoteStore):"acknowledged"===e||"rejected"===e?(u2(s,t,i||null),c2(s,t),d=t,rt(rt(s.localStore).mutationQueue).Cn(d)):ct(),yield Vf(s,o)):je("SyncEngine","Cannot apply mutation batch with id: "+t)}),_2.apply(this,arguments)}function y2(){return y2=(0,we.Z)(function*(r,t){const e=rt(r);if(w2(e),T2(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),s=yield vV(e,i.toArray());e.vc=!0,yield HF(e.remoteStore,!0);for(const o of s)GE(e.remoteStore,o)}else if(!1===t&&!1!==e.vc){const i=[];let s=Promise.resolve();e._c.forEach((o,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):s=s.then(()=>(DC(e,a),_C(e.localStore,a,!0))),NT(e.remoteStore,a)}),yield s,yield vV(e,i),function(o){const a=rt(o);a.yc.forEach((d,f)=>{NT(a.remoteStore,f)}),a.Ic.Ts(),a.yc=new Map,a.gc=new vi(nt.comparator)}(e),e.vc=!1,yield HF(e.remoteStore,!1)}}),y2.apply(this,arguments)}function vV(r,t,e){return b2.apply(this,arguments)}function b2(){return b2=(0,we.Z)(function*(r,t,e){const i=rt(r),s=[],o=[];for(const a of t){let d;const f=i._c.get(a);if(f&&0!==f.length){d=yield gC(i.localStore,xo(f[0]));for(const g of f){const b=i.wc.get(g),T=yield R$(i,b);T.snapshot&&o.push(T.snapshot)}}else{const g=yield QU(i.localStore,a);d=yield gC(i.localStore,g),yield XF(i,CV(g),a,!1,d.resumeToken)}s.push(d)}return i.dc.nu(o),s}),b2.apply(this,arguments)}function CV(r){return TE(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function P$(r){const t=rt(r);return rt(rt(t.localStore).persistence).$i()}function L$(r,t,e,i){return v2.apply(this,arguments)}function v2(){return v2=(0,we.Z)(function*(r,t,e,i){const s=rt(r);if(s.vc)return void je("SyncEngine","Ignoring unexpected query state notification.");const o=s._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const a=yield WU(s.localStore,ZO(o[0])),d=yT.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Pr.EMPTY_BYTE_STRING);yield Vf(s,a,d);break}case"rejected":yield _C(s.localStore,t,!0),DC(s,t,i);break;default:ct()}}),v2.apply(this,arguments)}function B$(r,t,e){return C2.apply(this,arguments)}function C2(){return C2=(0,we.Z)(function*(r,t,e){const i=w2(r);if(i.vc){for(const s of t){if(i._c.has(s)){je("SyncEngine","Adding an already active target "+s);continue}const o=yield QU(i.localStore,s),a=yield gC(i.localStore,o);yield XF(i,CV(o),a.targetId,!1,a.resumeToken),GE(i.remoteStore,a)}for(const s of e)i._c.has(s)&&(yield _C(i.localStore,s,!1).then(()=>{NT(i.remoteStore,s),DC(i,s)}).catch(gu))}}),C2.apply(this,arguments)}function w2(r){const t=rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=_V.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=k$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=x$.bind(null,t),t.dc.nu=m$.bind(null,t.eventManager),t.dc.Pc=g$.bind(null,t.eventManager),t}function T2(r){const t=rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=S$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=A$.bind(null,t),t}class OT{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,we.Z)(function*(){e.serializer=kT(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return YU(this.persistence,new GU,t.initialUser,this.serializer)}createPersistence(t){return new hF(LE.zs,this.serializer)}createSharedClientState(t){return new tV}terminate(){var t=this;return(0,we.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class D2 extends OT{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield T2(i.Vc.syncEngine),yield bC(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return YU(this.persistence,new GU,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new PU(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new $v(e,this.persistence);return new FB(t.asyncQueue,i)}createPersistence(t){const e=mF(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?jo.withCacheSize(this.cacheSizeBytes):jo.DEFAULT;return new pF(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,iV(),qE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new tV}}class wV extends D2{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t);const s=i.Vc.syncEngine;i.sharedClientState instanceof DF&&(i.sharedClientState.syncEngine={jr:O$.bind(null,s),zr:L$.bind(null,s),Wr:B$.bind(null,s),$i:P$.bind(null,s),Qr:N$.bind(null,s)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,we.Z)(function*(a){yield function F$(r,t){return y2.apply(this,arguments)}(i.Vc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=iV();if(!DF.D(e))throw new Ne(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=mF(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new DF(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class xC{initialize(t,e){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>yV(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=I$.bind(null,i.syncEngine),yield HF(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new p$}createDatastore(t){const e=kT(t.databaseInfo.databaseId),i=new Wz(t.databaseInfo);return new e$(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,s=t.asyncQueue,o=d=>yV(this.syncEngine,d,0),a=nV.D()?new nV:new zz,new i$(e,i,s,o,a);var e,i,s,o,a}createSyncEngine(t,e){return function(i,s,o,a,d,f,g){const b=new C$(i,s,o,a,d,f);return g&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,we.Z)(function*(e){const i=rt(e);je("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield yC(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function TV(r,t=10240){let e=0;return{read:()=>(0,we.Z)(function*(){if(e<r.byteLength){const i={value:r.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class JE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Fr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Z${constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Jr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,we.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,we.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,we.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),s=Number(i);isNaN(s)&&t.Mc(`length string (${i}) is not valid number`);const o=yield t.$c(s);return new _$(JSON.parse(o),e.length+s)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,we.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,we.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,we.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class j${constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ne(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(s=(0,we.Z)(function*(o,a){const d=rt(o),f=CT(d.serializer)+"/documents",g={documents:a.map(R=>vT(d.serializer,R))},b=yield d.vo("BatchGetDocuments",f,g,a.length),T=new Map;b.forEach(R=>{const L=function cz(r,t){return"found"in t?function(e,i){bt(!!i.found);const s=Yd(e,i.found.name),o=fs(i.found.updateTime),a=i.found.createTime?fs(i.found.createTime):vt.min(),d=new to({mapValue:{fields:i.found.fields}});return Yi.newFoundDocument(s,o,a,d)}(r,t):"missing"in t?function(e,i){bt(!!i.missing),bt(!!i.readTime);const s=Yd(e,i.missing),o=fs(i.readTime);return Yi.newNoDocument(s,o)}(r,t):ct()}(d.serializer,R);T.set(L.key.toString(),L)});const E=[];return a.forEach(R=>{const L=T.get(R.toString());bt(!!L),E.push(L)}),E}),function(o,a){return s.apply(this,arguments)})(e.datastore,t);var s;return i.forEach(s=>e.recordVersion(s)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new dC(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,s)=>{const o=nt.fromPath(s);t.mutations.push(new JO(o,t.precondition(o)))}),yield(i=(0,we.Z)(function*(s,o){const a=rt(s),d=CT(a.serializer)+"/documents",f={writes:o.map(g=>wT(a.serializer,g))};yield a.Io("Commit",d,f)}),function(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ct();e=vt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ne(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(vt.min())?ki.exists(!1):ki.updateTime(e):ki.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(vt.min()))throw new Ne(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ki.updateTime(e)}return ki.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class H${constructor(t,e,i,s,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=s,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new SF(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,we.Z)(function*(){const e=new j$(t.datastore),i=t.qc(e);i&&i.then(s=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(s)}).catch(o=>{t.Uc(o)}))}).catch(s=>{t.Uc(s)})}))}qc(t){try{const e=this.updateFunction(t);return!Em(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!$B(e)}return!1}}class q${constructor(t,e,i,s){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Ts.UNAUTHENTICATED,this.clientId=cE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,we.Z)(function*(d){je("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(je("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,we.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=CC(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}function zE(r,t){return x2.apply(this,arguments)}function x2(){return x2=(0,we.Z)(function*(r,t){r.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const e=yield r.getConfiguration();yield t.initialize(e);let i=e.initialUser;r.setCredentialChangeListener(function(){var s=(0,we.Z)(function*(o){i.isEqual(o)||(yield JU(t.localStore,o),i=o)});return function(o){return s.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}),x2.apply(this,arguments)}function S2(r,t){return A2.apply(this,arguments)}function A2(){return A2=(0,we.Z)(function*(r,t){r.asyncQueue.verifyOperationInProgress();const e=yield E2(r);je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield r.getConfiguration();yield t.initialize(e,i),r.setCredentialChangeListener(s=>uV(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>uV(t.remoteStore,o)),r._onlineComponents=t}),A2.apply(this,arguments)}function DV(r){return"FirebaseError"===r.name?r.code===_e.FAILED_PRECONDITION||r.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function E2(r){return M2.apply(this,arguments)}function M2(){return M2=(0,we.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zE(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!DV(e))throw e;Cl("Error using user provided cache. Falling back to memory cache: "+e),yield zE(r,new OT)}}else je("FirestoreClient","Using default OfflineComponentProvider"),yield zE(r,new OT);return r._offlineComponents}),M2.apply(this,arguments)}function $E(r){return I2.apply(this,arguments)}function I2(){return I2=(0,we.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),yield S2(r,r._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),yield S2(r,new xC))),r._onlineComponents}),I2.apply(this,arguments)}function xV(r){return E2(r).then(t=>t.persistence)}function QE(r){return E2(r).then(t=>t.localStore)}function SV(r){return $E(r).then(t=>t.remoteStore)}function k2(r){return $E(r).then(t=>t.syncEngine)}function SC(r){return R2.apply(this,arguments)}function R2(){return R2=(0,we.Z)(function*(r){const t=yield $E(r),e=t.eventManager;return e.onListen=w$.bind(null,t.syncEngine),e.onUnlisten=T$.bind(null,t.syncEngine),e}),R2.apply(this,arguments)}function EV(r,t,e={}){const i=new Jr;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(s,o,a,d,f){const g=new JE({next:T=>{o.enqueueAndForget(()=>zF(s,b));const E=T.docs.has(a);!E&&T.fromCache?f.reject(new Ne(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&T.fromCache&&d&&"server"===d.source?f.reject(new Ne(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),b=new WF(Of(a.path),g,{includeMetadataChanges:!0,Ku:!0});return YF(s,b)}(yield SC(r),r.asyncQueue,t,e,i)})),i.promise}function MV(r,t,e={}){const i=new Jr;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(s,o,a,d,f){const g=new JE({next:T=>{o.enqueueAndForget(()=>zF(s,b)),T.fromCache&&"server"===d.source?f.reject(new Ne(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),b=new WF(a,g,{includeMetadataChanges:!0,Ku:!0});return YF(s,b)}(yield SC(r),r.asyncQueue,t,e,i)})),i.promise}function IV(r){const t={};return void 0!==r.timeoutSeconds&&(t.timeoutSeconds=r.timeoutSeconds),t}const kV=new Map;function N2(r,t,e){if(!e)throw new Ne(_e.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function RV(r,t,e,i){if(!0===t&&!0===i)throw new Ne(_e.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function NV(r){if(!nt.isDocumentKey(r))throw new Ne(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function OV(r){if(nt.isDocumentKey(r))throw new Ne(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function WE(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const t=(e=r).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof r?"a function":ct()}function zn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Ne(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=WE(r);throw new Ne(_e.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}function FV(r,t){if(t<=0)throw new Ne(_e.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}class PV{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Ne(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ne(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}RV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=IV(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ne(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ne(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ne(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class FT{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ne(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new _O;switch(e.type){case"firstParty":return new aE(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ne(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=kV.get(t);e&&(je("ComponentProvider","Removing Datastore"),kV.delete(t),e.terminate())}(this),Promise.resolve()}}class mr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mr(this.firestore,t,this._key)}}class So{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new So(this.firestore,t,this._query)}}class Jd extends So{constructor(t,e,i){super(t,e,Of(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mr(this.firestore,null,new nt(t))}withConverter(t){return new Jd(this.firestore,t,this._path)}}function BV(r,t,...e){if(r=(0,Z.m9)(r),N2("collection","path",t),r instanceof FT){const i=Jn.fromString(t,...e);return OV(i),new Jd(r,null,i)}{if(!(r instanceof mr||r instanceof Jd))throw new Ne(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Jn.fromString(t,...e));return OV(i),new Jd(r.firestore,null,i)}}function KE(r,t,...e){if(r=(0,Z.m9)(r),1===arguments.length&&(t=cE.A()),N2("doc","path",t),r instanceof FT){const i=Jn.fromString(t,...e);return NV(i),new mr(r,null,new nt(i))}{if(!(r instanceof mr||r instanceof Jd))throw new Ne(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Jn.fromString(t,...e));return NV(i),new mr(r.firestore,r instanceof Jd?r.converter:null,new nt(i))}}function UV(r,t){return r=(0,Z.m9)(r),t=(0,Z.m9)(t),(r instanceof mr||r instanceof Jd)&&(t instanceof mr||t instanceof Jd)&&r.firestore===t.firestore&&r.path===t.path&&r.converter===t.converter}function O2(r,t){return r=(0,Z.m9)(r),t=(0,Z.m9)(t),r instanceof So&&t instanceof So&&r.firestore===t.firestore&&Q_(r._query,t._query)&&r.converter===t.converter}class e7{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new SF(this,"async_queue_retry"),this.Xc=()=>{const e=qE();e&&je("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=qE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=qE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Jr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,we.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!If(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const s=GF.createAndSchedule(this,t,e,i,o=>this.na(o));return this.zc.push(s),s}Zc(){this.Wc&&ct()}verifyOperationInProgress(){}sa(){var t=this;return(0,we.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function F2(r){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(r)}class t7{constructor(){this._progressObserver={},this._taskCompletionResolver=new Jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class gr extends FT{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new e7,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||VV(this),this._firestoreClient.terminate()}}function ps(r){return r._firestoreClient||VV(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function VV(r){var t,e,i;const s=r._freezeSettings(),o=(d=(null===(t=r._app)||void 0===t?void 0:t.options.appId)||"",new NO(r._databaseId,d,r._persistenceKey,(g=s).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,IV(g.experimentalLongPollingOptions),g.useFetchStreams));var d,g;r._firestoreClient=new q$(r._authCredentials,r._appCheckCredentials,r._queue,o),(null===(e=s.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(i=s.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function ZV(r,t,e){const i=new Jr;return r.asyncQueue.enqueue((0,we.Z)(function*(){try{yield zE(r,e),yield S2(r,t),i.resolve()}catch(s){const o=s;if(!DV(o))throw o;Cl("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function jV(r){if(r._initialized||r._terminated)throw new Ne(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zd(Pr.fromBase64String(t))}catch(e){throw new Ne(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new zd(Pr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Zf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ne(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ry{constructor(t){this._methodName=t}}class XE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ne(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ne(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return dn(this._lat,t._lat)||dn(this._long,t._long)}}const f7=/^__.*__$/;class p7{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Bf(t,this.data,this.fieldMask,e,this.fieldTransforms):new Gd(t,this.data,e,this.fieldTransforms)}}class HV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Bf(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function qV(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class eM{constructor(t,e,i,s,o,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new eM(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.aa({path:i,la:!1});return s.fa(t),s}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.aa({path:i,la:!1});return s.ua(),s}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return iM(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(qV(this.ca)&&f7.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class m7{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||kT(t)}ya(t,e,i,s=!1){return new eM({ca:t,methodName:e,ga:i,path:Sr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sy(r){const t=r._freezeSettings(),e=kT(r._databaseId);return new m7(r._databaseId,!!t.ignoreUndefinedProperties,e)}function tM(r,t,e,i,s,o={}){const a=r.ya(o.merge||o.mergeFields?2:0,t,e,s);U2("Data must be an object, but it was:",a,i);const d=JV(i,a);let f,g;if(o.merge)f=new Zo(a.fieldMask),g=a.fieldTransforms;else if(o.mergeFields){const b=[];for(const T of o.mergeFields){const E=BT(t,T,e);if(!a.contains(E))throw new Ne(_e.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);$V(b,E)||b.push(E)}f=new Zo(b),g=a.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,g=a.fieldTransforms;return new p7(new to(d),f,g)}class LT extends ry{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof LT}}function GV(r,t,e){return new eM({ca:3,ga:t.settings.ga,methodName:r._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class P2 extends ry{_toFieldTransform(t){return new qn(t.path,new he)}isEqual(t){return t instanceof P2}}class g7 extends ry{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=GV(this,t,!0),i=this.pa.map(o=>oy(o,e)),s=new Te(i);return new qn(t.path,s)}isEqual(t){return this===t}}class _7 extends ry{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=GV(this,t,!0),i=this.pa.map(o=>oy(o,e)),s=new $e(i);return new qn(t.path,s)}isEqual(t){return this===t}}class y7 extends ry{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new At(t.serializer,S(t.serializer,this.Ia));return new qn(t.path,e)}isEqual(t){return this===t}}function L2(r,t,e,i){const s=r.ya(1,t,e);U2("Data must be an object, but it was:",s,i);const o=[],a=to.empty();Ld(i,(f,g)=>{const b=nM(t,f,e);g=(0,Z.m9)(g);const T=s.da(b);if(g instanceof LT)o.push(b);else{const E=oy(g,T);null!=E&&(o.push(b),a.set(b,E))}});const d=new Zo(o);return new HV(a,d,s.fieldTransforms)}function B2(r,t,e,i,s,o){const a=r.ya(1,t,e),d=[BT(t,i,e)],f=[s];if(o.length%2!=0)throw new Ne(_e.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)d.push(BT(t,o[E])),f.push(o[E+1]);const g=[],b=to.empty();for(let E=d.length-1;E>=0;--E)if(!$V(g,d[E])){const R=d[E];let L=f[E];L=(0,Z.m9)(L);const Y=a.da(R);if(L instanceof LT)g.push(R);else{const W=oy(L,Y);null!=W&&(g.push(R),b.set(R,W))}}const T=new Zo(g);return new HV(b,T,a.fieldTransforms)}function YV(r,t,e,i=!1){return oy(e,r.ya(i?4:3,t))}function oy(r,t){if(zV(r=(0,Z.m9)(r)))return U2("Unsupported field value:",t,r),JV(r,t);if(r instanceof ry)return function(e,i){if(!qV(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const s=e._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(r,t),null;if(void 0===r&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const s=[];let o=0;for(const a of e){let d=oy(a,i.wa(o));null==d&&(d={nullValue:"NULL_VALUE"}),s.push(d),o++}return{arrayValue:{values:s}}}(r,t)}return function(e,i){if(null===(e=(0,Z.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return S(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const s=qi.fromDate(e);return{timestampValue:hC(i.serializer,s)}}if(e instanceof qi){const s=new qi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hC(i.serializer,s)}}if(e instanceof XE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zd)return{bytesValue:sU(i.serializer,e._byteString)};if(e instanceof mr){const s=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(s))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eF(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${WE(e)}`)}(r,t)}function JV(r,t){const e={};return yE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ld(r,(i,s)=>{const o=oy(s,t.ha(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function zV(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof qi||r instanceof XE||r instanceof zd||r instanceof mr||r instanceof ry)}function U2(r,t,e){if(!zV(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=WE(e);throw t._a("an object"===i?r+" a custom object":r+" "+i)}var i}function BT(r,t,e){if((t=(0,Z.m9)(t))instanceof Zf)return t._internalPath;if("string"==typeof t)return nM(r,t);throw iM("Field path arguments must be of type string or ",r,!1,void 0,e)}const b7=new RegExp("[~\\*/\\[\\]]");function nM(r,t,e){if(t.search(b7)>=0)throw iM(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new Zf(...t.split("."))._internalPath}catch{throw iM(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function iM(r,t,e,i,s){const o=i&&!i.isEmpty(),a=void 0!==s;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||a)&&(f+=" (found",o&&(f+=` in field ${i}`),a&&(f+=` in document ${s}`),f+=")"),new Ne(_e.INVALID_ARGUMENT,d+r+f)}function $V(r,t){return r.some(e=>e.isEqual(t))}class UT{constructor(t,e,i,s,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new v7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(rM("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class v7 extends UT{data(){return super.data()}}function rM(r,t){return"string"==typeof t?nM(r,t):t instanceof Zf?t._internalPath:t._delegate._internalPath}function QV(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ne(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V2{}class VT extends V2{}function Bm(r,t,...e){let i=[];t instanceof V2&&i.push(t),i=i.concat(e),function(s){const o=s.filter(d=>d instanceof AC).length,a=s.filter(d=>d instanceof ZT).length;if(o>1||o>0&&a>0)throw new Ne(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)r=s._apply(r);return r}class ZT extends VT{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new ZT(t,e,i)}_apply(t){const e=this._parse(t);return eZ(t._query,e),new So(t.firestore,t.converter,xE(t._query,e))}_parse(t){const e=sy(t.firestore);return function(s,o,a,d,f,g,b){let T;if(f.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new Ne(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){XV(b,g);const E=[];for(const R of b)E.push(KV(d,s,R));T={arrayValue:{values:E}}}else T=KV(d,s,b)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||XV(b,g),T=YV(a,"where",b,"in"===g||"not-in"===g);return Hn.create(f,g,T)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class AC extends V2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new AC(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:di.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const d of a)eZ(o,d),o=xE(o,d)}(t._query,e),new So(t.firestore,t.converter,xE(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Z2 extends VT{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Z2(t,e)}_apply(t){const e=function(i,s,o){if(null!==i.startAt)throw new Ne(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ne(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new q_(s,o);return function(d,f){if(null===DE(d)){const g=z_(d);null!==g&&tZ(0,g,f.field)}}(i,a),a}(t._query,this._field,this._direction);return new So(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Cu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class sM extends VT{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new sM(t,e,i)}_apply(t){return new So(t.firestore,t.converter,fT(t._query,this._limit,this._limitType))}}class oM extends VT{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new oM(t,e,i)}_apply(t){const e=WV(t,this.type,this._docOrFields,this._inclusive);return new So(t.firestore,t.converter,(s=e,new Cu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class aM extends VT{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new aM(t,e,i)}_apply(t){const e=WV(t,this.type,this._docOrFields,this._inclusive);return new So(t.firestore,t.converter,(s=e,new Cu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function WV(r,t,e,i){if(e[0]=(0,Z.m9)(e[0]),e[0]instanceof UT)return function(s,o,a,d,f){if(!d)throw new Ne(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const g=[];for(const b of Ff(s))if(b.field.isKeyField())g.push(jd(o,d.key));else{const T=d.data.field(b.field);if(eC(T))throw new Ne(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const E=b.field.canonicalString();throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}g.push(T)}return new Hd(g,f)}(r._query,r.firestore._databaseId,t,e[0]._document,i);{const s=sy(r.firestore);return function(o,a,d,f,g,b){const T=o.explicitOrderBy;if(g.length>T.length)throw new Ne(_e.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let R=0;R<g.length;R++){const L=g[R];if(T[R].field.isKeyField()){if("string"!=typeof L)throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof L}`);if(!$_(o)&&-1!==L.indexOf("/"))throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${L}' contains a slash.`);const Y=o.path.child(Jn.fromString(L));if(!nt.isDocumentKey(Y))throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const W=new nt(Y);E.push(jd(a,W))}else{const Y=YV(d,f,L);E.push(Y)}}return new Hd(E,b)}(r._query,r.firestore._databaseId,s,t,e,i)}}function KV(r,t,e){if("string"==typeof(e=(0,Z.m9)(e))){if(""===e)throw new Ne(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$_(t)&&-1!==e.indexOf("/"))throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Jn.fromString(e));if(!nt.isDocumentKey(i))throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return jd(r,new nt(i))}if(e instanceof mr)return jd(r,e._key);throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${WE(e)}.`)}function XV(r,t){if(!Array.isArray(r)||0===r.length)throw new Ne(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eZ(r,t){if(t.isInequality()){const i=z_(r),s=t.field;if(null!==i&&!i.isEqual(s))throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${s.toString()}'`);const o=DE(r);null!==o&&tZ(0,s,o)}const e=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Ne(_e.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function tZ(r,t,e){if(!e.isEqual(t))throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class j2{convertValue(t,e="none"){switch(Rf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Vs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ct()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ld(t,(s,o)=>{i[s]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new XE(nr(t.latitude),nr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=tT(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(P_(t));default:return null}}convertTimestamp(t){const e=_u(t);return new qi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Jn.fromString(t);bt(mU(i));const s=new Ud(i.get(1),i.get(3)),o=new nt(i.popFirst(5));return s.isEqual(e)||Fr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function lM(r,t,e){let i;return i=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,i}class M7 extends j2{constructor(t){super(),this.firestore=t}convertBytes(t){return new zd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mr(this.firestore,null,e)}}class ay{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jf extends UT{constructor(t,e,i,s,o,a){super(t,e,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new jT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(rM("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class jT extends jf{data(t={}){return super.data(t)}}class Um{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new ay(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new jT(this._firestore,this._userDataWriter,i.key,i,new ay(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ne(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new jT(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ay(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const d=new jT(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ay(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return 0!==a.type&&(f=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),g=o.indexOf(a.doc.key)),{type:k7(a.type),doc:d,oldIndex:f,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function k7(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function iZ(r,t){return r instanceof jf&&t instanceof jf?r._firestore===t._firestore&&r._key.isEqual(t._key)&&(null===r._document?null===t._document:r._document.isEqual(t._document))&&r._converter===t._converter:r instanceof Um&&t instanceof Um&&r._firestore===t._firestore&&O2(r.query,t.query)&&r.metadata.isEqual(t.metadata)&&r._snapshot.isEqual(t._snapshot)}class Vm extends j2{constructor(t){super(),this.firestore=t}convertBytes(t){return new zd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mr(this.firestore,null,e)}}function rZ(r,t,e){r=zn(r,mr);const i=zn(r.firestore,gr),s=lM(r.converter,t,e);return EC(i,[tM(sy(i),"setDoc",r._key,s,null!==r.converter,e).toMutation(r._key,ki.none())])}function sZ(r,t,e,...i){r=zn(r,mr);const s=zn(r.firestore,gr),o=sy(s);let a;return a="string"==typeof(t=(0,Z.m9)(t))||t instanceof Zf?B2(o,"updateDoc",r._key,t,e,i):L2(o,"updateDoc",r._key,t),EC(s,[a.toMutation(r._key,ki.exists(!0))])}function oZ(r,...t){var e,i,s;r=(0,Z.m9)(r);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||F2(t[a])||(o=t[a],a++);const d={includeMetadataChanges:o.includeMetadataChanges};if(F2(t[a])){const T=t[a];t[a]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[a+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[a+2]=null===(s=T.complete)||void 0===s?void 0:s.bind(T)}let f,g,b;if(r instanceof mr)g=zn(r.firestore,gr),b=Of(r._key.path),f={next:T=>{t[a]&&t[a](H2(g,r,T))},error:t[a+1],complete:t[a+2]};else{const T=zn(r,So);g=zn(T.firestore,gr),b=T._query;const E=new Vm(g);f={next:R=>{t[a]&&t[a](new Um(g,E,T,R))},error:t[a+1],complete:t[a+2]},QV(r._query)}return function(T,E,R,L){const Y=new JE(L),W=new WF(E,Y,R);return T.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return YF(yield SC(T),W)})),()=>{Y.Dc(),T.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return zF(yield SC(T),W)}))}}(ps(g),b,d,f)}function EC(r,t){return function(e,i){const s=new Jr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function D$(r,t,e){return n2.apply(this,arguments)}(yield k2(e),i,s)})),s.promise}(ps(r),t)}function H2(r,t,e){const i=e.docs.get(t._key),s=new Vm(r);return new jf(r,s,t._key,i,new ay(e.hasPendingWrites,e.fromCache),t.converter)}const $7={maxAttempts:5};class aZ{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=sy(t)}set(t,e,i){this._verifyNotCommitted();const s=Zm(t,this._firestore),o=lM(s.converter,e,i),a=tM(this._dataReader,"WriteBatch.set",s._key,o,null!==s.converter,i);return this._mutations.push(a.toMutation(s._key,ki.none())),this}update(t,e,i,...s){this._verifyNotCommitted();const o=Zm(t,this._firestore);let a;return a="string"==typeof(e=(0,Z.m9)(e))||e instanceof Zf?B2(this._dataReader,"WriteBatch.update",o._key,e,i,s):L2(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(a.toMutation(o._key,ki.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Zm(t,this._firestore);return this._mutations=this._mutations.concat(new dC(e._key,ki.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zm(r,t){if((r=(0,Z.m9)(r)).firestore!==t)throw new Ne(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Q7 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=sy(t)}get(t){const e=Zm(t,this._firestore),i=new M7(this._firestore);return this._transaction.lookup([e._key]).then(s=>{if(!s||1!==s.length)return ct();const o=s[0];if(o.isFoundDocument())return new UT(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new UT(this._firestore,i,e._key,null,e.converter);throw ct()})}set(t,e,i){const s=Zm(t,this._firestore),o=lM(s.converter,e,i),a=tM(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,e,i,...s){const o=Zm(t,this._firestore);let a;return a="string"==typeof(e=(0,Z.m9)(e))||e instanceof Zf?B2(this._dataReader,"Transaction.update",o._key,e,i,s):L2(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,a),this}delete(t){const e=Zm(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Zm(t,this._firestore),i=new Vm(this._firestore);return super.get(t).then(s=>new jf(this._firestore,i,e._key,s._document,new ay(!1,!1),e.converter))}}function q2(r,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return t}function cZ(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function uZ(){if(!function RO(){return typeof atob<"u"}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,t=!0){Mf=Bo.SDK_VERSION,(0,Bo._registerComponent)(new uc.wA("firestore",(e,{instanceIdentifier:i,options:s})=>{const o=e.getProvider("app").getImmediate(),a=new gr(new Gw(e.getProvider("auth-internal")),new Yw(e.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ne(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ud(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Bo.registerVersion)(qw,"3.13.0",r),(0,Bo.registerVersion)(qw,"3.13.0","esm2017")}();class HT{constructor(t){this._delegate=t}static fromBase64String(t){return uZ(),new HT(zd.fromBase64String(t))}static fromUint8Array(t){return cZ(),new HT(zd.fromUint8Array(t))}toBase64(){return uZ(),this._delegate.toBase64()}toUint8Array(){return cZ(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function G2(r){return function s9(r,t){if("object"!=typeof r||null===r)return!1;const e=r;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(r,["next","error","complete"])}class o9{enableIndexedDbPersistence(t,e){return function r7(r,t){jV(r=zn(r,gr));const e=ps(r);if(e._uninitializedComponentsProvider)throw new Ne(_e.FAILED_PRECONDITION,"SDK cache is already specified.");Cl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=r._freezeSettings(),s=new xC;return ZV(e,s,new D2(s,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function s7(r){jV(r=zn(r,gr));const t=ps(r);if(t._uninitializedComponentsProvider)throw new Ne(_e.FAILED_PRECONDITION,"SDK cache is already specified.");Cl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=r._freezeSettings(),i=new xC;return ZV(t,i,new wV(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function o7(r){if(r._initialized&&!r._terminated)throw new Ne(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Jr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(e=(0,we.Z)(function*(i){if(!La.D())return Promise.resolve();const s=i+"main";yield La.delete(s)}),function(i){return e.apply(this,arguments)})(mF(r._databaseId,r._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class dZ{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ud||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Cl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function LV(r,t,e,i={}){var s;const o=(r=zn(r,FT))._getSettings(),a=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let d,f;if("string"==typeof i.mockUserToken)d=i.mockUserToken,f=Ts.MOCK_USER;else{d=(0,Z.Sg)(i.mockUserToken,null===(s=r._app)||void 0===s?void 0:s.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Ne(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ts(g)}r._authCredentials=new yO(new sE(d,f))}}(this._delegate,t,e,i)}enableNetwork(){return function l7(r){return function G$(r){return r.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield xV(r),e=yield SV(r);return t.setNetworkEnabled(!0),function(i){const s=rt(i);return s.vu.delete(0),RT(s)}(e)}))}(ps(r=zn(r,gr)))}(this._delegate)}disableNetwork(){return function c7(r){return function Y$(r){return r.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield xV(r),e=yield SV(r);return t.setNetworkEnabled(!1),(i=(0,we.Z)(function*(s){const o=rt(s);o.vu.add(0),yield yC(o),o.bu.set("Offline")}),function(s){return i.apply(this,arguments)})(e);var i}))}(ps(r=zn(r,gr)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,RV("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function a7(r){return function(t){const e=new Jr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function E$(r,t){return l2.apply(this,arguments)}(yield k2(t),e)})),e.promise}(ps(r=zn(r,gr)))}(this._delegate)}onSnapshotsInSync(t){return function V7(r,t){return function $$(r,t){const e=new JE(t);return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield SC(r),s=e,rt(i).ku.add(s),void s.next();var i,s})),()=>{e.Dc(),r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield SC(r),s=e,void rt(i).ku.delete(s);var i,s}))}}(ps(r=zn(r,gr)),F2(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new MC(this,BV(this._delegate,t))}catch(e){throw ha(e,"collection()","Firestore.collection()")}}doc(t){try{return new _c(this,KE(this._delegate,t))}catch(e){throw ha(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new fa(this,function X$(r,t){if(r=zn(r,FT),N2("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ne(_e.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new So(r,null,(e=t,new Cu(Jn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ha(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function W7(r,t,e){r=zn(r,gr);const i=Object.assign(Object.assign({},$7),e);return function(s){if(s.maxAttempts<1)throw new Ne(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){const d=new Jr;return s.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const f=yield function AV(r){return $E(r).then(t=>t.datastore)}(s);new H$(s.asyncQueue,f,a,o,d).run()})),d.promise}(ps(r),s=>t(new Q7(r,s)),i)}(this._delegate,e=>t(new hZ(this,e)))}batch(){return ps(this._delegate),new fZ(new aZ(this._delegate,t=>EC(this._delegate,t)))}loadBundle(t){return function u7(r,t){const e=ps(r=zn(r,gr)),i=new t7;return function Q$(r,t,e,i){const s=function(o,a){let d;return d="string"==typeof o?WB().encode(o):o,f=function(f,g){if(f instanceof Uint8Array)return TV(f,g);if(f instanceof ArrayBuffer)return TV(new Uint8Array(f),g);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new Z$(f,a);var f}(e,kT(t));r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function U$(r,t,e){const i=rt(r);var s;(s=(0,we.Z)(function*(o,a,d){try{const f=yield a.getMetadata();if(yield function(E,R){const L=rt(E),Y=fs(R.createTime);return L.persistence.runTransaction("hasNewerBundle","readonly",W=>L.qs.getBundleMetadata(W,R.id)).then(W=>!!W&&W.createTime.compareTo(Y)>=0)}(o.localStore,f))return yield a.close(),d._completeWith({taskState:"Success",documentsLoaded:(E=f).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);d._updateProgress(fV(f));const g=new y$(f,o.localStore,a.serializer);let b=yield a.bc();for(;b;){const E=yield g.zu(b);E&&d._updateProgress(E),b=yield a.bc()}const T=yield g.complete();return yield Vf(o,T.Ju,void 0),yield function(E,R){const L=rt(E);return L.persistence.runTransaction("Save bundle","readwrite",Y=>L.qs.saveBundleMetadata(Y,R))}(o.localStore,f),d._completeWith(T.progress),Promise.resolve(T.Hu)}catch(f){return Cl("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var E}),function(o,a,d){return s.apply(this,arguments)})(i,t,e).then(s=>{i.sharedClientState.notifyBundleLoaded(s)})}(yield k2(r),s,i)}))}(e,r._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function d7(r,t){return function W$(r,t){return r.asyncQueue.enqueue((0,we.Z)(function*(){return function(e,i){const s=rt(e);return s.persistence.runTransaction("Get named query","readonly",o=>s.qs.getNamedQuery(o,i))}(yield QE(r),t)}))}(ps(r=zn(r,gr)),t).then(e=>e?new So(r,null,e.query):null)}(this._delegate,t).then(e=>e?new fa(this,e):null)}}class cM extends j2{constructor(t){super(),this.firestore=t}convertBytes(t){return new HT(new zd(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return _c.forKey(e,this.firestore,null)}}class hZ{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new cM(t)}get(t){const e=cy(t);return this._delegate.get(e).then(i=>new qT(this._firestore,new jf(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const s=cy(t);return i?(q2("Transaction.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const o=cy(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...s),this}delete(t){const e=cy(t);return this._delegate.delete(e),this}}class fZ{constructor(t){this._delegate=t}set(t,e,i){const s=cy(t);return i?(q2("WriteBatch.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const o=cy(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...s),this}delete(t){const e=cy(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class ly{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new jT(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new GT(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=ly.INSTANCES;let s=i.get(t);s||(s=new WeakMap,i.set(t,s));let o=s.get(e);return o||(o=new ly(t,new cM(t),e),s.set(e,o)),o}}ly.INSTANCES=new WeakMap;class _c{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cM(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new _c(e,new mr(e._delegate,i,new nt(t)))}static forKey(t,e,i){return new _c(e,new mr(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new MC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new MC(this.firestore,BV(this._delegate,t))}catch(e){throw ha(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Z.m9)(t))instanceof mr&&UV(this._delegate,t)}set(t,e){e=q2("DocumentReference.set",e);try{return e?rZ(this._delegate,t,e):rZ(this._delegate,t)}catch(i){throw ha(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?sZ(this._delegate,t):sZ(this._delegate,t,e,...i)}catch(s){throw ha(s,"updateDoc()","DocumentReference.update()")}}delete(){return function B7(r){return EC(zn(r.firestore,gr),[new dC(r._key,ki.none())])}(this._delegate)}onSnapshot(...t){const e=pZ(t),i=mZ(t,s=>new qT(this.firestore,new jf(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return oZ(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function N7(r){r=zn(r,mr);const t=zn(r.firestore,gr),e=ps(t),i=new Vm(t);return function J$(r,t){const e=new Jr;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(s,o,a){try{const d=yield function(f,g){const b=rt(f);return b.persistence.runTransaction("read document","readonly",T=>b.localDocuments.getDocument(T,g))}(s,o);d.isFoundDocument()?a.resolve(d):d.isNoDocument()?a.resolve(null):a.reject(new Ne(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=CC(d,`Failed to get document '${o} from cache`);a.reject(f)}}),function(s,o,a){return i.apply(this,arguments)})(yield QE(r),t,e);var i})),e.promise}(e,r._key).then(s=>new jf(t,i,r._key,s,new ay(null!==s&&s.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===t?.source?function O7(r){r=zn(r,mr);const t=zn(r.firestore,gr);return EV(ps(t),r._key,{source:"server"}).then(e=>H2(t,r,e))}(this._delegate):function R7(r){r=zn(r,mr);const t=zn(r.firestore,gr);return EV(ps(t),r._key).then(e=>H2(t,r,e))}(this._delegate),e.then(i=>new qT(this.firestore,new jf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new _c(this.firestore,this._delegate.withConverter(t?ly.getInstance(this.firestore,t):null))}}function ha(r,t,e){return r.message=r.message.replace(t,e),r}function pZ(r){for(const t of r)if("object"==typeof t&&!G2(t))return t;return{}}function mZ(r,t){var e,i;let s;return s=G2(r[0])?r[0]:G2(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:o=>{s.next&&s.next(t(o))},error:null===(e=s.error)||void 0===e?void 0:e.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}class qT{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new _c(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return iZ(this._delegate,t._delegate)}}class GT extends qT{data(t){const e=this._delegate.data(t);return function I_(r,t){r||ct()}(void 0!==e),e}}class fa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cM(t)}where(t,e,i){try{return new fa(this.firestore,Bm(this._delegate,function C7(r,t,e){const i=t,s=rM("where",r);return ZT._create(s,i,e)}(t,e,i)))}catch(s){throw ha(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new fa(this.firestore,Bm(this._delegate,function w7(r,t="asc"){const e=t,i=rM("orderBy",r);return Z2._create(i,e)}(t,e)))}catch(i){throw ha(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new fa(this.firestore,Bm(this._delegate,function T7(r){return FV("limit",r),sM._create("limit",r,"F")}(t)))}catch(e){throw ha(e,"limit()","Query.limit()")}}limitToLast(t){try{return new fa(this.firestore,Bm(this._delegate,function D7(r){return FV("limitToLast",r),sM._create("limitToLast",r,"L")}(t)))}catch(e){throw ha(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new fa(this.firestore,Bm(this._delegate,function x7(...r){return oM._create("startAt",r,!0)}(...t)))}catch(e){throw ha(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new fa(this.firestore,Bm(this._delegate,function S7(...r){return oM._create("startAfter",r,!1)}(...t)))}catch(e){throw ha(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new fa(this.firestore,Bm(this._delegate,function A7(...r){return aM._create("endBefore",r,!1)}(...t)))}catch(e){throw ha(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new fa(this.firestore,Bm(this._delegate,function E7(...r){return aM._create("endAt",r,!0)}(...t)))}catch(e){throw ha(e,"endAt()","Query.endAt()")}}isEqual(t){return O2(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function P7(r){r=zn(r,So);const t=zn(r.firestore,gr),e=ps(t),i=new Vm(t);return function z$(r,t){const e=new Jr;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(s,o,a){try{const d=yield VE(s,o,!0),f=new gV(o,d.ir),g=f.sc(d.documents),b=f.applyChanges(g,!1);a.resolve(b.snapshot)}catch(d){const f=CC(d,`Failed to execute query '${o} against cache`);a.reject(f)}}),function(s,o,a){return i.apply(this,arguments)})(yield QE(r),t,e);var i})),e.promise}(e,r._query).then(s=>new Um(t,i,r,s))}(this._delegate):"server"===t?.source?function L7(r){r=zn(r,So);const t=zn(r.firestore,gr),e=ps(t),i=new Vm(t);return MV(e,r._query,{source:"server"}).then(s=>new Um(t,i,r,s))}(this._delegate):function F7(r){r=zn(r,So);const t=zn(r.firestore,gr),e=ps(t),i=new Vm(t);return QV(r._query),MV(e,r._query).then(s=>new Um(t,i,r,s))}(this._delegate),e.then(i=>new Y2(this.firestore,new Um(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=pZ(t),i=mZ(t,s=>new Y2(this.firestore,new Um(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return oZ(this._delegate,e,i)}withConverter(t){return new fa(this.firestore,this._delegate.withConverter(t?ly.getInstance(this.firestore,t):null))}}class l9{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new GT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Y2{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new fa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new GT(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new l9(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new GT(this._firestore,i))})}isEqual(t){return iZ(this._delegate,t._delegate)}}class MC extends fa{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new _c(this.firestore,t):null}doc(t){try{return new _c(this.firestore,void 0===t?KE(this._delegate):KE(this._delegate,t))}catch(e){throw ha(e,"doc()","CollectionReference.doc()")}}add(t){return function U7(r,t){const e=zn(r.firestore,gr),i=KE(r),s=lM(r.converter,t);return EC(e,[tM(sy(r.firestore),"addDoc",i._key,s,null!==r.converter,{}).toMutation(i._key,ki.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new _c(this.firestore,e))}isEqual(t){return UV(this._delegate,t._delegate)}withConverter(t){return new MC(this.firestore,this._delegate.withConverter(t?ly.getInstance(this.firestore,t):null))}}function cy(r){return zn(r,mr)}class J2{constructor(...t){this._delegate=new Zf(...t)}static documentId(){return new J2(Sr.keyField().canonicalString())}isEqual(t){return(t=(0,Z.m9)(t))instanceof Zf&&this._delegate._internalPath.isEqual(t._internalPath)}}class uy{constructor(t){this._delegate=t}static serverTimestamp(){const t=function X7(){return new P2("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new uy(t)}static delete(){const t=function K7(){return new LT("deleteField")}();return t._methodName="FieldValue.delete",new uy(t)}static arrayUnion(...t){const e=function e9(...r){return new g7("arrayUnion",r)}(...t);return e._methodName="FieldValue.arrayUnion",new uy(e)}static arrayRemove(...t){const e=function t9(...r){return new _7("arrayRemove",r)}(...t);return e._methodName="FieldValue.arrayRemove",new uy(e)}static increment(t){const e=function n9(r){return new y7("increment",r)}(t);return e._methodName="FieldValue.increment",new uy(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const c9={Firestore:dZ,GeoPoint:XE,Timestamp:qi,Blob:HT,Transaction:hZ,WriteBatch:fZ,DocumentReference:_c,DocumentSnapshot:qT,Query:fa,QueryDocumentSnapshot:GT,QuerySnapshot:Y2,CollectionReference:MC,FieldPath:J2,FieldValue:uy,setLogLevel:function a9(r){!function Sm(r){mu.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};function gZ(r,t){return function h9(r,t=Ed.z){return new mn.y(e=>{let i;return null!=t?t.schedule(()=>{i=r.onSnapshot({includeMetadataChanges:!0},e)}):i=r.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(r,t)}function z2(r,t){return gZ(r,t).pipe((0,Je.U)(e=>({payload:e,type:"query"})))}function uM(r,t){return z2(r,t).pipe(yn(void 0),Fa(),(0,Je.U)(([e,i])=>{const s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,d)=>{const f=s.find(b=>b.doc.ref.isEqual(a.ref)),g=e?.payload.docs.find(b=>b.ref.isEqual(a.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(a.metadata)||!f&&g&&JSON.stringify(g.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:a}})}),o}))}function _Z(r,t,e){return uM(r,e).pipe(Ia((i,s)=>function p9(r,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(r=function m9(r,t){switch(t.type){case"added":if(!r[t.newIndex]||!r[t.newIndex].doc.ref.isEqual(t.doc.ref))return $2(r,t.newIndex,0,t);break;case"modified":if(null==r[t.oldIndex]||r[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=r.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return $2(r,t.newIndex,1,t)}break;case"removed":if(r[t.oldIndex]&&r[t.oldIndex].doc.ref.isEqual(t.doc.ref))return $2(r,t.oldIndex,1)}return r}(r,i))}),r}(i,s.map(o=>o.payload),t),[]),Or(),(0,Je.U)(i=>i.map(s=>({type:s.type,payload:s}))))}function $2(r,t,e,...i){const s=r.slice();return s.splice(t,e,...i),s}function yZ(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}!function d9(r){(function u9(r,t){r.INTERNAL.registerComponent(new uc.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),s=e.getProvider("firestore").getImmediate();return t(i,s)},"PUBLIC").setServiceProps(Object.assign({},c9)))})(r,(t,e)=>new dZ(t,e,new o9)),r.registerVersion("@firebase/firestore-compat","0.3.12")}(uv.Z);class bZ{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=uM(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Je.U)(i=>i.filter(s=>t.indexOf(s.type)>-1)))),e.pipe(yn(void 0),Fa(),Lt(([i,s])=>s.length>0||!i),(0,Je.U)(([i,s])=>s),Qn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ia((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=yZ(t);return _Z(this.query,e,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return z2(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Qn.iC)}get(t){return(0,Pn.D)(this.query.get(t)).pipe(Qn.iC)}add(t){return this.ref.add(t)}doc(t){return new vZ(this.ref.doc(t),this.afs)}}class vZ{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:s,query:o}=xZ(i,e);return new bZ(s,o,this.afs)}snapshotChanges(){return function f9(r,t){return gZ(r,t).pipe(yn(void 0),Fa(),(0,Je.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Pn.D)(this.ref.get(t)).pipe(Qn.iC)}}class g9{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?uM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Lt(e=>e.length>0),Qn.iC):uM(this.query,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ia((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=yZ(t);return _Z(this.query,e,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return z2(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(i=>i.payload.docs.map(s=>t.idField?Object.assign({[t.idField]:s.id},s.data()):s.data())),Qn.iC)}get(t){return(0,Pn.D)(this.query.get(t)).pipe(Qn.iC)}}const CZ=new n.OlP("angularfire2.enableFirestorePersistence"),wZ=new n.OlP("angularfire2.firestore.persistenceSettings"),TZ=new n.OlP("angularfire2.firestore.settings"),DZ=new n.OlP("angularfire2.firestore.use-emulator");function xZ(r,t=(e=>e)){return{query:t(r),ref:r}}let SZ=(()=>{class r{constructor(e,i,s,o,a,d,f,g,b,T,E,R,L,Y,W,ve,Ze){this.schedulers=f;const He=(0,Rr.on)(e,d,i),ze=b;T&&$p(He,d,E,L,Y,W,R,ve),[this.firestore,this.persistenceEnabled$]=(0,Rr.cc)(`${He.name}.firestore`,"AngularFirestore",He.name,()=>{const Ht=d.runOutsideAngular(()=>He.firestore());if(o&&Ht.settings(o),ze&&Ht.useEmulator(...ze),s&&!Ul(a)){const Ct=()=>{try{return(0,Pn.D)(Ht.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(Gn){return typeof console<"u"&&console.warn(Gn),(0,Ve.of)(!1)}};return[Ht,d.runOutsideAngular(Ct)]}return[Ht,(0,Ve.of)(!1)]},[o,ze,s])}collection(e,i){let s;s="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:a}=xZ(s,i),d=this.schedulers.ngZone.run(()=>o);return new bZ(d,a,this)}collectionGroup(e,i){const s=i||(a=>a),o=this.firestore.collectionGroup(e);return new g9(s(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const s=this.schedulers.ngZone.run(()=>i);return new vZ(s,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Rr.Dh),n.LFG(Rr.xv,8),n.LFG(CZ,8),n.LFG(TZ,8),n.LFG(n.Lbi),n.LFG(n.R0b),n.LFG(Qn.HU),n.LFG(wZ,8),n.LFG(DZ,8),n.LFG(ws,8),n.LFG(zp,8),n.LFG(O1,8),n.LFG(Na,8),n.LFG(pf,8),n.LFG(us,8),n.LFG(uu,8),n.LFG(s_,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),_9=(()=>{class r{constructor(){o_.Z.registerVersion("angularfire",Qn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:r,providers:[{provide:CZ,useValue:!0},{provide:wZ,useValue:e}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[SZ]}),r})(),yc=(()=>{class r{constructor(e,i,s,o,a,d){this.session=e,this.afs=i,this.afAuth=s,this.router=o,this.ngZone=a,this.httpClient=d,this.afAuth.authState.subscribe(f=>{f&&(this.SetUserData(f),this.ngZone.run(()=>{}))})}SignIn(e,i){var s=this;return(0,we.Z)(function*(){return s.afAuth.signInWithEmailAndPassword(e,i).then(o=>{s.ngZone.run(()=>{s.router.navigate([""])}),s.SetUserData(o.user)}).catch(o=>{alert(o.message)})})()}SignUp(e,i){return this.afAuth.createUserWithEmailAndPassword(e,i).then(s=>{this.SendVerificationMail(),this.SetUserData(s.user)}).catch(s=>{alert("SignUp Eroor: "+s.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(i=>{window.alert(i)})}get isLoggedIn(){return this.session.isLoggedIn()}get isRegistered(){const e=this.session.getUID();return null!=e&&e!=this.session.getGuestuidlabel()}get isValidated(){var e=!1;{const s=(0,Kp.o)().currentUser;null!==s&&(e=s.emailVerified)}return e}GoogleAuth(){this.AuthLogin(new Kp.V)}GithubAuth(){this.AuthLogin(new Kp.W)}FacebookAuth(){return this.AuthLogin(new Kp.U)}AuthLogin(e){return this.session.clearSession(),this.afAuth.signInWithPopup(e).then(i=>{this.SetUserData(i.user)}).catch(i=>{window.alert("Authorization error: "+i)})}SetUserData(e){(0,Kp.o)().currentUser.getIdToken(!0).then(i=>{if(null==this.session.getAuthorizationData()||null==this.session.getUserAccount()){const s=e.uid,o=e.email,a=e.displayName;let d="";const f=e.providerData;null!=f[0]&&(d=f[0].providerId);const g={},b={};g.service="dataset:FirstLoginService",b.email=o,b.uid=s,b.token=i,b.displayname=a,b.providerId=d,b.isValidated=e.emailVerified,g.user=b,this.session.setAuthorizationData(b),this.session.setToken(i),this.getUserInformationFromServer(g,i,e)}else this.router.navigateByUrl("/toppage")})}getUserInformationFromServer(e,i,s){const o=gf.setupHeader(i),a=To_apiURL+"/login";window.alert("getUserInformationFromServer: '"+a+"'"),window.alert("getUserInformationFromServer: '"+JSON.stringify(e)+"'"),this.httpClient.post(a,e,{headers:o}).subscribe({next:d=>{if(alert("getUserInformationFromServer response: '"+d[O.successful]+"'"),"true"==d[O.successful]){const f=d[O.catalogobject];if(null!=f){const g=f[0],b=g["dataset:loginstage"];this.session.setLoginStatus(b);const T=g["dataset:loginaccountinfo"];"dataset:LoginAuthenticated"==b||"dataset:LoginAccountInformation"==b?(this.session.storeLoginAccount(T),s.emailVerified?this.router.navigateByUrl("/usersetup"):this.router.navigate(["/verify-email-address"])):"dataset:LoginRegistration"==b?(this.session.storeLoginAccount(T),this.session.setDatabasePerson(g[O.DatabasePerson]),this.session.setUserAccount(g[O.UserAccount]),s.emailVerified?this.router.navigateByUrl("/toppage"):this.router.navigate(["/verify-email-address"])):(alert("status unknown: "+b),this.router.navigateByUrl(""))}else alert("No object in response"),this.router.navigateByUrl("")}else window.alert("Login Failed and session will be cleared:\n"+JSON.stringify(d[O.message])),this.session.clearSession()}})}logout(){return this.session.clearSession(),this.afAuth.signOut().then(()=>{this.session.clearSession(),this.router.navigate(["sign-in"])})}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Oa),n.LFG(SZ),n.LFG(ws),n.LFG(jn),n.LFG(n.R0b),n.LFG(ca))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),dM=(()=>{class r{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){let s=!0;if(alert("Auth: "+this.authService.isLoggedIn),!0!==this.authService.isLoggedIn){if(this.authService.isRegistered)return this.router.parseUrl(this.authService.isValidated?"/usersetup":"/verify-email-address");this.router.parseUrl(""),s=!1}return s}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(yc),n.LFG(jn))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function at(r){return null!=r&&"false"!=`${r}`}function Lr(r,t=0){return function y9(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):t}function hM(r){return Array.isArray(r)?r:[r]}function As(r){return null==r?"":"string"==typeof r?r:`${r}px`}function Hf(r){return r instanceof n.SBq?r.nativeElement:r}var v9=j(7043);function _r(r,t,e,i){return(0,v9.m)(e)&&(i=e,e=void 0),i?_r(r,t,e).pipe((0,Je.U)(s=>(0,ra.k)(s)?i(...s):i(s))):new mn.y(s=>{AZ(r,t,function o(a){s.next(arguments.length>1?Array.prototype.slice.call(arguments):a)},s,e)})}function AZ(r,t,e,i,s){let o;if(function T9(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const a=r;r.addEventListener(t,e,s),o=()=>a.removeEventListener(t,e,s)}else if(function w9(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const a=r;r.on(t,e),o=()=>a.off(t,e)}else if(function C9(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const a=r;r.addListener(t,e),o=()=>a.removeListener(t,e)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let a=0,d=r.length;a<d;a++)AZ(r[a],t,e,i,s)}i.add(o)}var D9=j(6686),S9=j(2268);const E9=new class A9 extends S9.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,o=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<o&&(t=e.shift()));if(this.active=!1,i){for(;++s<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class x9 extends D9.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});var Q2=j(8139);class I9{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new k9(t,this.durationSelector))}}class k9 extends Di.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=(0,Di.ft)(e,new Di.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var EZ=j(4241);function fM(r=0,t,e){let i=-1;return(0,EZ.k)(t)?i=Number(t)<1?1:Number(t):(0,ol.K)(t)&&(e=t),(0,ol.K)(e)||(e=Ed.P),new mn.y(s=>{const o=(0,EZ.k)(r)?r:+r-e.now();return e.schedule(R9,o,{index:0,period:i,subscriber:s})})}function R9(r){const{index:t,period:e,subscriber:i}=r;if(i.next(t),!i.closed){if(-1===e)return i.complete();r.index=t+1,this.schedule(r,e)}}function pM(r,t=Ed.P){return function M9(r){return function(e){return e.lift(new I9(r))}}(()=>fM(r,t))}function We(r){return t=>t.lift(new N9(r))}class N9{constructor(t){this.notifier=t}call(t,e){const i=new O9(t),s=(0,Di.ft)(this.notifier,new Di.IY(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class O9 extends Di.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let W2;try{W2=typeof Intl<"u"&&Intl.v8BreakIterator}catch{W2=!1}let IC,Ri=(()=>{class r{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Bu(r){return r===Ja}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!W2)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(n.Lbi))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const MZ=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function IZ(){if(IC)return IC;if("object"!=typeof document||!document)return IC=new Set(MZ),IC;let r=document.createElement("input");return IC=new Set(MZ.filter(t=>(r.setAttribute("type",t),r.type===t))),IC}let YT,mM,hy,K2;function dy(r){return function F9(){if(null==YT&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>YT=!0}))}finally{YT=YT||!1}return YT}()?r:!!r.capture}function kZ(){if(null==hy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return hy=!1,hy;if("scrollBehavior"in document.documentElement.style)hy=!0;else{const r=Element.prototype.scrollTo;hy=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return hy}function JT(){if("object"!=typeof document||!document)return 0;if(null==mM){const r=document.createElement("div"),t=r.style;r.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",r.appendChild(e),document.body.appendChild(r),mM=0,0===r.scrollLeft&&(r.scrollLeft=1,mM=0===r.scrollLeft?1:2),r.remove()}return mM}function RZ(r){if(function P9(){if(null==K2){const r=typeof document<"u"?document.head:null;K2=!(!r||!r.createShadowRoot&&!r.attachShadow)}return K2}()){const t=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function kC(){let r=typeof document<"u"&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const t=r.shadowRoot.activeElement;if(t===r)break;r=t}return r}function fy(r){return r.composedPath?r.composedPath()[0]:r.target}function X2(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const L9=new n.OlP("cdk-dir-doc",{providedIn:"root",factory:function B9(){return(0,n.f3M)(ne)}}),U9=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ji=(()=>{class r{constructor(e){if(this.value="ltr",this.change=new n.vpe,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function V9(r){const t=r?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?U9.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(L9,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),RC=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})();const Z9=["contentWrapper"],j9=["*"],NZ=new n.OlP("VIRTUAL_SCROLL_STRATEGY");class H9{constructor(t,e,i){this._scrolledIndexChange=new Fe.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Or()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),s=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),a=this._itemSize>0?o/this._itemSize:0;if(e.end>s){const f=Math.ceil(i/this._itemSize),g=Math.max(0,Math.min(a,s-f));a!=g&&(a=g,o=g*this._itemSize,e.start=Math.floor(a)),e.end=Math.max(0,Math.min(s,e.start+f))}const d=o-e.start*this._itemSize;if(d<this._minBufferPx&&0!=e.start){const f=Math.ceil((this._maxBufferPx-d)/this._itemSize);e.start=Math.max(0,e.start-f),e.end=Math.min(s,Math.ceil(a+(i+this._minBufferPx)/this._itemSize))}else{const f=e.end*this._itemSize-(o+i);if(f<this._minBufferPx&&e.end!=s){const g=Math.ceil((this._maxBufferPx-f)/this._itemSize);g>0&&(e.end=Math.min(s,e.end+g),e.start=Math.max(0,Math.floor(a-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(a))}}function q9(r){return r._scrollStrategy}let G9=(()=>{class r{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new H9(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=Lr(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Lr(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Lr(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[n._Bn([{provide:NZ,useFactory:q9,deps:[(0,n.Gpc)(()=>r)]}]),n.TTD]}),r})(),NC=(()=>{class r{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Fe.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new mn.y(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(pM(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ve.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Lt(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Hf(i),o=e.getElementRef().nativeElement;do{if(s==o)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>_r(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(n.R0b),n.LFG(Ri),n.LFG(ne,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),zT=(()=>{class r{constructor(e,i,s,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=s,this.dir=o,this._destroyed=new Fe.xQ,this._elementScrolled=new mn.y(a=>this.ngZone.runOutsideAngular(()=>_r(this.elementRef.nativeElement,"scroll").pipe(We(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),s&&0!=JT()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==JT()?e.left=e.right:1==JT()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;kZ()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",s="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?s:i:"end"==e&&(e=a?i:s),a&&2==JT()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==JT()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(NC),n.Y36(n.R0b),n.Y36(Ji,8))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),$d=(()=>{class r{constructor(e,i,s){this._platform=e,this._change=new Fe.xQ,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,o=s.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(pM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Ri),n.LFG(n.R0b),n.LFG(ne,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const OZ=new n.OlP("VIRTUAL_SCROLLABLE");let z9=(()=>{class r extends zT{constructor(e,i,s,o){super(e,i,s,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(NC),n.Y36(n.R0b),n.Y36(Ji,8))},r.\u0275dir=n.lG2({type:r,features:[n.qOj]}),r})();const Q9=typeof requestAnimationFrame<"u"?E9:Q2.E;let W9=(()=>{class r extends z9{constructor(e,i,s,o,a,d,f,g){super(e,d,s,a),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=g,this._platform=(0,n.f3M)(Ri),this._detachedSubject=new Fe.xQ,this._renderedRangeSubject=new Fe.xQ,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new mn.y(b=>this._scrollStrategy.scrolledIndexChange.subscribe(T=>Promise.resolve().then(()=>this.ngZone.run(()=>b.next(T))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Re.w.EMPTY,this._viewportChanges=f.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=at(e)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(yn(null),pM(0,Q9)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(We(this._detachedSubject)).subscribe(i=>{const s=i.length;s!==this._dataLength&&(this._dataLength=s,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function $9(r,t){return r.start==t.start&&r.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,a=o?"X":"Y";let f=`translate${a}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(f+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=f&&(this._renderedContentTransform=f,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const s={behavior:i};"horizontal"===this.orientation?s.start=e:s.top=e,this.scrollable.scrollTo(s)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?s=>super.measureScrollOffset(s):s=>this.scrollable.measureScrollOffset(s),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const s="left",o="right",a="rtl"==this.dir?.value;i="start"==e?a?o:s:"end"==e?a?s:o:e||("horizontal"===this.orientation?"left":"top");const d=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-d}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(n.R0b),n.Y36(NZ,8),n.Y36(Ji,8),n.Y36(NC),n.Y36($d),n.Y36(OZ,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&n.Gf(Z9,7),2&e){let s;n.iGM(s=n.CRH())&&(i._contentWrapper=s.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&n.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[n._Bn([{provide:zT,useFactory:(t,e)=>t||e,deps:[[new n.FiY,new n.tBr(OZ)],r]}]),n.qOj],ngContentSelectors:j9,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"div",0,1),n.Hsn(2),n.qZA(),n._UZ(3,"div",2)),2&e&&(n.xp6(3),n.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),r})(),qf=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})(),gM=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[RC,qf,RC,qf]}),r})();class eP{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jm extends eP{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class Hm extends eP{constructor(t,e,i,s){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=s}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class K9 extends eP{constructor(t){super(),this.element=t instanceof n.SBq?t.nativeElement:t}}class _M{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof jm?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Hm?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof K9?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class X9 extends _M{constructor(t,e,i,s,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=a=>{const d=a.element,f=this._document.createComment("dom-portal");d.parentNode.insertBefore(f,d),this.outletElement.appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector||n.zs3.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let bc=(()=>{class r extends _M{constructor(e,i,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new n.vpe,this.attachDomPortal=o=>{const a=o.element,d=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(d,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(a,d)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n._Vd),n.Y36(n.s_b),n.Y36(ne))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[n.qOj]}),r})(),Gf=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})();function Es(r,...t){return t.length?t.some(e=>r[e]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}const PZ=kZ();class uQ{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=As(-this._previousScrollPosition.left),t.style.top=As(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,o=i.scrollBehavior||"",a=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),PZ&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PZ&&(i.scrollBehavior=o,s.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class dQ{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class LZ{enable(){}disable(){}attach(){}}function iP(r,t){return t.some(e=>r.bottom<e.top||r.top>e.bottom||r.right<e.left||r.left>e.right)}function BZ(r,t){return t.some(e=>r.top<e.top||r.bottom>e.bottom||r.left<e.left||r.right>e.right)}class hQ{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();iP(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let fQ=(()=>{class r{constructor(e,i,s,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new LZ,this.close=a=>new dQ(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new uQ(this._viewportRuler,this._document),this.reposition=a=>new hQ(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(NC),n.LFG($d),n.LFG(n.R0b),n.LFG(ne))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class OC{constructor(t){if(this.scrollStrategy=new LZ,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class pQ{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let UZ=(()=>{class r{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),mQ=(()=>{class r extends UZ{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=s=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const d=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne),n.LFG(n.R0b,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),gQ=(()=>{class r extends UZ{constructor(e,i,s){super(e),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=fy(o)},this._clickListener=o=>{const a=fy(o),d="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let g=f.length-1;g>-1;g--){const b=f[g];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(a)||b.overlayElement.contains(d))break;const T=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(o)):T.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne),n.LFG(Ri),n.LFG(n.R0b,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),wM=(()=>{class r{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||X2()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}const i=this._document.createElement("div");i.classList.add(e),X2()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne),n.LFG(Ri))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class $T{constructor(t,e,i,s,o,a,d,f,g,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=o,this._keyboardDispatcher=a,this._document=d,this._location=f,this._outsideClickDispatcher=g,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new Fe.xQ,this._attachments=new Fe.xQ,this._detachments=new Fe.xQ,this._locationChanges=Re.w.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Fe.xQ,this._outsidePointerEvents=new Fe.xQ,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(tn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=As(this._config.width),t.height=As(this._config.height),t.minWidth=As(this._config.minWidth),t.minHeight=As(this._config.minHeight),t.maxWidth=As(this._config.maxWidth),t.maxHeight=As(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const s=hM(e||[]).filter(o=>!!o);s.length&&(i?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(We((0,ci.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const VZ="cdk-overlay-connected-position-bounding-box",_Q=/([A-Za-z%]+)$/;class ZZ{constructor(t,e,i,s,o){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Fe.xQ,this._resizeSubscription=Re.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(VZ),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=this._containerRect,o=[];let a;for(let d of this._preferredPositions){let f=this._getOriginPoint(t,s,d),g=this._getOverlayPoint(f,e,d),b=this._getOverlayFit(g,e,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,f);this._canFitWithFlexibleDimensions(b,g,i)?o.push({position:d,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,d)}):(!a||a.overlayFit.visibleArea<b.visibleArea)&&(a={overlayFit:b,overlayPoint:g,originPoint:f,position:d,overlayRect:e})}if(o.length){let d=null,f=-1;for(const g of o){const b=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);b>f&&(f=b,d=g)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&py(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(VZ),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let s,o;if("center"==i.originX)s=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;s="start"==i.originX?a:d}return e.left<0&&(s-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:s,y:o}}_getOverlayPoint(t,e,i){let s,o;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+o}}_getOverlayFit(t,e,i,s){const o=HZ(e);let{x:a,y:d}=t,f=this._getOffset(s,"x"),g=this._getOffset(s,"y");f&&(a+=f),g&&(d+=g);let E=0-d,R=d+o.height-i.height,L=this._subtractOverflows(o.width,0-a,a+o.width-i.width),Y=this._subtractOverflows(o.height,E,R),W=L*Y;return{visibleArea:W,isCompletelyWithinViewport:o.width*o.height===W,fitsInViewportVertically:Y===o.height,fitsInViewportHorizontally:L==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,o=i.right-e.x,a=jZ(this._overlayRef.getConfig().minHeight),d=jZ(this._overlayRef.getConfig().minWidth),g=t.fitsInViewportHorizontally||null!=d&&d<=o;return(t.fitsInViewportVertically||null!=a&&a<=s)&&g}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=HZ(e),o=this._viewportRect,a=Math.max(t.x+s.width-o.width,0),d=Math.max(t.y+s.height-o.height,0),f=Math.max(o.top-i.top-t.y,0),g=Math.max(o.left-i.left-t.x,0);let b=0,T=0;return b=s.width<=o.width?g||-a:t.x<this._viewportMargin?o.left-i.left-t.x:0,T=s.height<=o.height?f||-d:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:b,y:T},{x:t.x+b,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new pQ(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let o,a,d,b,T,E;if("top"===e.overlayY)a=t.y,o=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,o=i.height-d+this._viewportMargin;else{const R=Math.min(i.bottom-t.y+i.top,t.y),L=this._lastBoundingBoxSize.height;o=2*R,a=t.y-R,o>L&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-L/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)E=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)T=t.x,b=i.right-t.x;else{const R=Math.min(i.right-t.x+i.left,t.x),L=this._lastBoundingBoxSize.width;b=2*R,T=t.x-R,b>L&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-L/2)}return{top:a,left:T,bottom:d,right:E,width:b,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;s.height=As(i.height),s.top=As(i.top),s.bottom=As(i.bottom),s.width=As(i.width),s.left=As(i.left),s.right=As(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(s.maxHeight=As(o)),a&&(s.maxWidth=As(a))}this._lastBoundingBoxSize=i,py(this._boundingBox.style,s)}_resetBoundingBoxStyles(){py(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){py(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(s){const b=this._viewportRuler.getViewportScrollPosition();py(i,this._getExactOverlayY(e,t,b)),py(i,this._getExactOverlayX(e,t,b))}else i.position="static";let d="",f=this._getOffset(e,"x"),g=this._getOffset(e,"y");f&&(d+=`translateX(${f}px) `),g&&(d+=`translateY(${g}px)`),i.transform=d.trim(),a.maxHeight&&(s?i.maxHeight=As(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(s?i.maxWidth=As(a.maxWidth):o&&(i.maxWidth="")),py(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":s.top=As(o.y),s}_getExactOverlayX(t,e,i){let a,s={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?s.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":s.left=As(o.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:BZ(t,i),isOriginOutsideView:iP(t,i),isOverlayClipped:BZ(e,i),isOverlayOutsideView:iP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&hM(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof n.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function py(r,t){for(let e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function jZ(r){if("number"!=typeof r&&null!=r){const[t,e]=r.split(_Q);return e&&"px"!==e?null:parseFloat(t)}return r||null}function HZ(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const qZ="cdk-global-overlay-wrapper";class yQ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(qZ),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:o,maxWidth:a,maxHeight:d}=i,f=!("100%"!==s&&"100vw"!==s||a&&"100%"!==a&&"100vw"!==a),g=!("100%"!==o&&"100vh"!==o||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,T=this._xOffset,E="rtl"===this._overlayRef.getConfig().direction;let R="",L="",Y="";f?Y="flex-start":"center"===b?(Y="center",E?L=T:R=T):E?"left"===b||"end"===b?(Y="flex-end",R=T):("right"===b||"start"===b)&&(Y="flex-start",L=T):"left"===b||"start"===b?(Y="flex-start",R=T):("right"===b||"end"===b)&&(Y="flex-end",L=T),t.position=this._cssPosition,t.marginLeft=f?"0":R,t.marginTop=g?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=f?"0":L,e.justifyContent=Y,e.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(qZ),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let bQ=(()=>{class r{constructor(e,i,s,o){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new yQ}flexibleConnectedTo(e){return new ZZ(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG($d),n.LFG(ne),n.LFG(Ri),n.LFG(wM))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),vQ=0,Go=(()=>{class r{constructor(e,i,s,o,a,d,f,g,b,T,E,R){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=d,this._ngZone=f,this._document=g,this._directionality=b,this._location=T,this._outsideClickDispatcher=E,this._animationsModuleType=R}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),a=new OC(e);return a.direction=a.direction||this._directionality.value,new $T(o,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+vQ++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(n.z2F)),new X9(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(fQ),n.LFG(wM),n.LFG(n._Vd),n.LFG(bQ),n.LFG(mQ),n.LFG(n.zs3),n.LFG(n.R0b),n.LFG(ne),n.LFG(Ji),n.LFG(sn),n.LFG(gQ),n.LFG(n.QbO,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();const CQ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],GZ=new n.OlP("cdk-connected-overlay-scroll-strategy");let YZ=(()=>{class r{constructor(e){this.elementRef=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),r})(),JZ=(()=>{class r{constructor(e,i,s,o,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Re.w.EMPTY,this._attachSubscription=Re.w.EMPTY,this._detachSubscription=Re.w.EMPTY,this._positionSubscription=Re.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new n.vpe,this.positionChange=new n.vpe,this.attach=new n.vpe,this.detach=new n.vpe,this.overlayKeydown=new n.vpe,this.overlayOutsideClick=new n.vpe,this._templatePortal=new Hm(i,s),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=at(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=at(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=at(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=at(e)}get push(){return this._push}set push(e){this._push=at(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=CQ);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Es(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new OC({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof YZ?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(A(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Go),n.Y36(n.Rgc),n.Y36(n.s_b),n.Y36(GZ),n.Y36(Ji,8))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[n.TTD]}),r})();const TQ={provide:GZ,deps:[Go],useFactory:function wQ(r){return()=>r.scrollStrategies.reposition()}};let my=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[Go,TQ],imports:[RC,Gf,gM,gM]}),r})();function QT(r,t=Ed.P){return e=>e.lift(new DQ(r,t))}class DQ{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new xQ(t,this.dueTime,this.scheduler))}}class xQ extends er.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(SQ,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function SQ(r){r.debouncedNext()}function TM(r){return t=>t.lift(new AQ(r))}class AQ{constructor(t){this.total=t}call(t,e){return e.subscribe(new EQ(t,this.total))}}class EQ extends er.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}let zZ=(()=>{class r{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),MQ=(()=>{class r{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Hf(e);return new mn.y(s=>{const a=this._observeElement(i).subscribe(s);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Fe.xQ,s=this._mutationObserverFactory.create(o=>i.next(o));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:s}=this._observedElements.get(e);i&&i.disconnect(),s.complete(),this._observedElements.delete(e)}}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(zZ))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rP=(()=>{class r{constructor(e,i,s){this._contentObserver=e,this._elementRef=i,this._ngZone=s,this.event=new n.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=at(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Lr(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(QT(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(MQ),n.Y36(n.SBq),n.Y36(n.R0b))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),DM=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[zZ]}),r})(),IQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})();const $Z=new Set;let FC,kQ=(()=>{class r{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):NQ}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function RQ(r){if(!$Z.has(r))try{FC||(FC=document.createElement("style"),FC.setAttribute("type","text/css"),document.head.appendChild(FC)),FC.sheet&&(FC.sheet.insertRule(`@media ${r} {body{ }}`,0),$Z.add(r))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Ri))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function NQ(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let WT=(()=>{class r{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Fe.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return QZ(hM(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let o=bo(QZ(hM(e)).map(a=>this._registerQuery(a).observable));return o=vo(o.pipe(tn(1)),o.pipe(TM(1),QT(0))),o.pipe((0,Je.U)(a=>{const d={matches:!1,breakpoints:{}};return a.forEach(({matches:f,query:g})=>{d.matches=d.matches||f,d.breakpoints[g]=f}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new mn.y(a=>{const d=f=>this._zone.run(()=>a.next(f));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(yn(i),(0,Je.U)(({matches:a})=>({query:e,matches:a})),We(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(kQ),n.LFG(n.R0b))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function QZ(r){return r.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const sP_Handset="(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)";function xM(r,t){return(r.getAttribute(t)||"").match(/\S+/g)||[]}const KZ="cdk-describedby-message",SM="cdk-describedby-host";let oP=0,PQ=(()=>{class r{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+oP++,this._document=e,this._id=(0,n.f3M)(n.AFp)+"-"+oP++}describe(e,i,s){if(!this._canBeDescribed(e,i))return;const o=aP(i,s);"string"!=typeof i?(XZ(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,s),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,s){if(!i||!this._isElementNode(e))return;const o=aP(i,s);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${SM}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(SM);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const s=this._document.createElement("div");XZ(s,this._id),s.textContent=e,i&&s.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(s),this._messageRegistry.set(aP(e,i),{messageElement:s,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const s=this._document.createElement("div");s.style.visibility="hidden",s.classList.add(e),s.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&s.setAttribute("platform","server"),this._document.body.appendChild(s),this._messagesContainer=s}_removeCdkDescribedByReferenceIds(e){const i=xM(e,"aria-describedby").filter(s=>0!=s.indexOf(KZ));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const s=this._messageRegistry.get(i);(function OQ(r,t,e){const i=xM(r,t);i.some(s=>s.trim()==e.trim())||(i.push(e.trim()),r.setAttribute(t,i.join(" ")))})(e,"aria-describedby",s.messageElement.id),e.setAttribute(SM,this._id),s.referenceCount++}_removeMessageReference(e,i){const s=this._messageRegistry.get(i);s.referenceCount--,function FQ(r,t,e){const s=xM(r,t).filter(o=>o!=e.trim());s.length?r.setAttribute(t,s.join(" ")):r.removeAttribute(t)}(e,"aria-describedby",s.messageElement.id),e.removeAttribute(SM)}_isElementDescribedByMessage(e,i){const s=xM(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&-1!=s.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const s=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!s||o&&o.trim()===s)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne),n.LFG(Ri))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function aP(r,t){return"string"==typeof r?`${t||""}/${r}`:r}function XZ(r,t){r.id||(r.id=`${KZ}-${t}-${oP++}`)}class ej{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Fe.xQ,this._typeaheadSubscription=Re.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Fe.xQ,this.change=new Fe.xQ,t instanceof n.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,bi.b)(e=>this._pressedLetters.push(e)),QT(t),Lt(()=>this._pressedLetters.length>0),(0,Je.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let s=1;s<i.length+1;s++){const o=(this._activeItemIndex+s)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Es(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const s=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof n.n_E?this._items.toArray():this._items}}class LQ extends ej{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class PC extends ej{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let KT=(()=>{class r{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function UQ(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function BQ(r){try{return r.frameElement}catch{return null}}(function JQ(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(e));if(i&&(-1===nj(i)||!this.isVisible(i)))return!1;let s=e.nodeName.toLowerCase(),o=nj(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function GQ(r){let t=r.nodeName.toLowerCase(),e="input"===t&&r.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==o:"video"===s?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function YQ(r){return!function ZQ(r){return function HQ(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function VQ(r){let t=r.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(r)||function jQ(r){return function qQ(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||tj(r))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Ri))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function tj(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let t=r.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function nj(r){if(!tj(r))return null;const t=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class zQ{constructor(t,e,i,s,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const s=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const s=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(tn(1)).subscribe(t)}}let XT=(()=>{class r{constructor(e,i,s){this._checker=e,this._ngZone=i,this._document=s}create(e,i=!1){return new zQ(e,this._checker,this._ngZone,this._document,i)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(KT),n.LFG(n.R0b),n.LFG(ne))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),$Q=(()=>{class r{constructor(e,i,s){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=at(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=at(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=kC(),this.focusTrap.focusInitialElementWhenReady()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(XT),n.Y36(ne))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[n.TTD]}),r})();function lP(r){return 0===r.buttons||0===r.offsetX&&0===r.offsetY}function cP(r){const t=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const QQ=new n.OlP("cdk-input-modality-detector-options"),WQ={ignoreKeys:[18,17,224,91,16]},LC=dy({passive:!0,capture:!0});let KQ=(()=>{class r{constructor(e,i,s,o){this._platform=e,this._mostRecentTarget=null,this._modality=new li(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(d=>d===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=fy(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lP(a)?"keyboard":"mouse"),this._mostRecentTarget=fy(a))},this._onTouchstart=a=>{cP(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fy(a))},this._options={...WQ,...o},this.modalityDetected=this._modality.pipe(TM(1)),this.modalityChanged=this.modalityDetected.pipe(Or()),e.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,LC),s.addEventListener("mousedown",this._onMousedown,LC),s.addEventListener("touchstart",this._onTouchstart,LC)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,LC),document.removeEventListener("mousedown",this._onMousedown,LC),document.removeEventListener("touchstart",this._onTouchstart,LC))}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Ri),n.LFG(n.R0b),n.LFG(ne),n.LFG(QQ,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const XQ=new n.OlP("liveAnnouncerElement",{providedIn:"root",factory:function eW(){return null}}),tW=new n.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let uP=(()=>{class r{constructor(e,i,s,o){this._ngZone=i,this._defaultOptions=o,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...i){const s=this._defaultOptions;let o,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=s&&s.politeness?s.politeness:"polite"),null==a&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(XQ,8),n.LFG(n.R0b),n.LFG(ne),n.LFG(tW,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const nW=new n.OlP("cdk-focus-monitor-default-options"),AM=dy({passive:!0,capture:!0});let Sl=(()=>{class r{constructor(e,i,s,o,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Fe.xQ,this._rootNodeFocusAndBlurListener=d=>{for(let g=fy(d);g;g=g.parentElement)"focus"===d.type?this._onFocus(d,g):this._onBlur(d,g)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const s=Hf(e);if(!this._platform.isBrowser||1!==s.nodeType)return(0,Ve.of)(null);const o=RZ(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return i&&(a.checkChildren=!0),a.subject;const d={checkChildren:i,subject:new Fe.xQ,rootNode:o};return this._elementInfo.set(s,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Hf(e),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(e,i,s){const o=Hf(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([d,f])=>this._originChanged(d,i,f)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const s=this._elementInfo.get(i),o=fy(e);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(e,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,AM),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,AM)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(We(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,AM),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,AM),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,s){this._setClasses(e,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((s,o)=>{(o===e||s.checkChildren&&o.contains(e))&&i.push([o,s])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(n.R0b),n.LFG(Ri),n.LFG(KQ),n.LFG(ne,8),n.LFG(nW,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rj=(()=>{class r{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new n.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(Sl))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),r})();const sj="cdk-high-contrast-black-on-white",oj="cdk-high-contrast-white-on-black",dP="cdk-high-contrast-active";let aj=(()=>{class r{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,n.f3M)(WT).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(dP,sj,oj),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(dP,sj):2===i&&e.add(dP,oj)}}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Ri),n.LFG(ne))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),EM=(()=>{class r{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(aj))},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[DM]}),r})();function iW(r,t){if(1&r&&n._UZ(0,"mat-pseudo-checkbox",4),2&r){const e=n.oxw();n.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function rW(r,t){if(1&r&&(n.TgZ(0,"span",5),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij("(",e.group.label,")")}}const sW=["*"],aW=new n.OlP("mat-sanity-checks",{providedIn:"root",factory:function oW(){return!0}});let Xt=(()=>{class r{constructor(e,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!X2()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(aj),n.LFG(aW,8),n.LFG(ne))},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[RC,RC]}),r})();function gy(r){return class extends r{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=at(t)}}}function Kd(r,t){return class extends r{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Jm(r){return class extends r{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=at(t)}}}function eD(r,t=0){return class extends r{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Lr(e):this.defaultTabIndex}}}function hP(r){return class extends r{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const lW=new n.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function cW(){return(0,n.f3M)(n.soG)}});class Ao{constructor(){this._localeChanges=new Fe.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),s=this.isValid(e);return i&&s?!this.compareDate(t,e):i==s}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const _y=new n.OlP("mat-date-formats"),uW=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function fP(r,t){const e=Array(r);for(let i=0;i<r;i++)e[i]=t(i);return e}let dW=(()=>{class r extends Ao{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return fP(12,s=>this._format(i,new Date(2017,s,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return fP(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return fP(7,s=>this._format(i,new Date(2017,0,s+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,s){let o=this._createDateWithOverflow(e,i,s);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const s=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(s,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let s=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(s)!=((this.getMonth(e)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(uW.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,s){const o=new Date;return o.setFullYear(e,i,s),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(s)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(lW,8),n.LFG(Ri))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();const hW={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let fW=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[{provide:Ao,useClass:dW}]}),r})(),pP=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[{provide:_y,useValue:hW}],imports:[fW]}),r})(),zm=(()=>{class r{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),MM=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Xt,Xt]}),r})();class gW{constructor(t,e,i,s=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const uj={enterDuration:225,exitDuration:150},mP=dy({passive:!0}),dj=["mousedown","touchstart"],hj=["mouseup","mouseleave","touchend","touchcancel"];class fj{constructor(t,e,i,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Hf(i))}fadeInRipple(t,e,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...uj,...i.animation};i.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const a=i.radius||function yW(r,t,e){const i=Math.max(Math.abs(r-e.left),Math.abs(r-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+s*s)}(t,e,s),d=t-s.left,f=e-s.top,g=o.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-a+"px",b.style.top=f-a+"px",b.style.height=2*a+"px",b.style.width=2*a+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(b);const T=window.getComputedStyle(b),R=T.transitionDuration,L="none"===T.transitionProperty||"0s"===R||"0s, 0s"===R,Y=new gW(this,b,i,L);b.style.transform="scale3d(1, 1, 1)",Y.state=0,i.persistent||(this._mostRecentTransientRipple=Y);let W=null;return!L&&(g||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ve=()=>this._finishRippleTransition(Y),Ze=()=>this._destroyRipple(Y);b.addEventListener("transitionend",ve),b.addEventListener("transitioncancel",Ze),W={onTransitionEnd:ve,onTransitionCancel:Ze}}),this._activeRipples.set(Y,W),(L||!g)&&this._finishRippleTransition(Y),Y}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...uj,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Hf(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(dj))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hj),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=lP(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!cP(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,mP)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(dj.forEach(t=>{this._triggerElement.removeEventListener(t,this,mP)}),this._pointerUpEventsRegistered&&hj.forEach(t=>{this._triggerElement.removeEventListener(t,this,mP)}))}}const pj=new n.OlP("mat-ripple-global-options");let Xd=(()=>{class r{constructor(e,i,s,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new fj(this,i,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(Ri),n.Y36(pj,8),n.Y36(n.QbO,8))},r.\u0275dir=n.lG2({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),r})(),yy=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Xt,Xt]}),r})(),mj=(()=>{class r{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.QbO,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&n.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),r})(),gP=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Xt]}),r})();const gj=new n.OlP("MAT_OPTION_PARENT_COMPONENT"),_j=new n.OlP("MatOptgroup");let bW=0;class vW{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let CW=(()=>{class r{constructor(e,i,s,o){this._element=e,this._changeDetectorRef=i,this._parent=s,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+bW++,this.onSelectionChange=new n.vpe,this._stateChanges=new Fe.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=at(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Es(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new vW(this,e))}}return r.\u0275fac=function(e){n.$Z()},r.\u0275dir=n.lG2({type:r,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),r})(),nD=(()=>{class r extends CW{constructor(e,i,s,o){super(e,i,s,o)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(gj,8),n.Y36(_j,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&n.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(n.Ikx("id",i.id),n.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),n.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[n.qOj],ngContentSelectors:sW,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(n.F$t(),n.YNc(0,iW,1,2,"mat-pseudo-checkbox",0),n.TgZ(1,"span",1),n.Hsn(2),n.qZA(),n.YNc(3,rW,2,1,"span",2),n._UZ(4,"div",3)),2&e&&(n.Q6J("ngIf",i.multiple),n.xp6(3),n.Q6J("ngIf",i.group&&i.group._inert),n.xp6(1),n.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Xd,ke,mj],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),r})();function yj(r,t,e){if(e.length){let i=t.toArray(),s=e.toArray(),o=0;for(let a=0;a<r+1;a++)i[a].group&&i[a].group===s[o]&&o++;return o}return 0}let bj=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[yy,Yn,Xt,gP]}),r})();const TW=["mat-button",""],DW=["*"],SW=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],AW=Kd(gy(Jm(class{constructor(r){this._elementRef=r}})));let jt=(()=>{class r extends AW{constructor(e,i,s){super(e),this._focusMonitor=i,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of SW)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(Sl),n.Y36(n.QbO,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&n.Gf(Xd,5),2&e){let s;n.iGM(s=n.CRH())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(n.uIk("disabled",i.disabled||null),n.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[n.qOj],attrs:TW,ngContentSelectors:DW,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"span",0),n.Hsn(1),n.qZA(),n._UZ(2,"span",1)(3,"span",2)),2&e&&(n.xp6(2),n.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),n.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Xd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),r})(),by=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[yy,Xt,Xt]}),r})();class vj{}const Yf="*";function io(r,t){return{type:7,name:r,definitions:t,options:{}}}function zi(r,t=null){return{type:4,styles:t,timings:r}}function Cj(r,t=null){return{type:3,steps:r,options:t}}function wj(r,t=null){return{type:2,steps:r,options:t}}function Jt(r){return{type:6,styles:r,offset:null}}function ei(r,t,e){return{type:0,name:r,styles:t,options:e}}function _P(r){return{type:5,steps:r}}function Ni(r,t,e=null){return{type:1,expr:r,animation:t,options:e}}function yP(r=null){return{type:9,options:r}}function bP(r,t,e=null){return{type:11,selector:r,animation:t,options:e}}function Tj(r){Promise.resolve().then(r)}class iD{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Tj(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Dj{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const o=this.players.length;0==o?Tj(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,d)=>Math.max(a,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function MW(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",2)(1,"button",3),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.action())}),n._uU(2),n.qZA()()}if(2&r){const e=n.oxw();n.xp6(2),n.Oqu(e.data.action)}}function IW(r,t){}const xj=new n.OlP("MatSnackBarData");class IM{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const kW=Math.pow(2,31)-1;class CP{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Fe.xQ,this._afterOpened=new Fe.xQ,this._onAction=new Fe.xQ,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,kW))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let RW=(()=>{class r{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(CP),n.Y36(xj))},r.\u0275cmp=n.Xpm({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"span",0),n._uU(1),n.qZA(),n.YNc(2,MW,3,1,"div",1)),2&e&&(n.xp6(1),n.Oqu(i.data.message),n.xp6(1),n.Q6J("ngIf",i.hasAction))},dependencies:[ke,jt],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),r})();const NW={snackBarState:io("state",[ei("void, hidden",Jt({transform:"scale(0.8)",opacity:0})),ei("visible",Jt({transform:"scale(1)",opacity:1})),Ni("* => visible",zi("150ms cubic-bezier(0, 0, 0.2, 1)")),Ni("* => void, * => hidden",zi("75ms cubic-bezier(0.4, 0.0, 1, 1)",Jt({opacity:0})))])};let OW=(()=>{class r extends _M{constructor(e,i,s,o,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=s,this._platform=o,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Fe.xQ,this._onExit=new Fe.xQ,this._onEnter=new Fe.xQ,this._animationState="void",this.attachDomPortal=d=>{this._assertNotAttached();const f=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),f},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:s}=e;if(("void"===s&&"void"!==i||"hidden"===s)&&this._completeExit(),"visible"===s){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(tn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>e.classList.add(s)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(s=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),s?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.R0b),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(Ri),n.Y36(IM))},r.\u0275dir=n.lG2({type:r,viewQuery:function(e,i){if(1&e&&n.Gf(bc,7),2&e){let s;n.iGM(s=n.CRH())&&(i._portalOutlet=s.first)}},features:[n.qOj]}),r})(),FW=(()=>{class r extends OW{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275cmp=n.Xpm({type:r,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&n.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&n.d8E("@state",i._animationState)},features:[n.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.YNc(1,IW,0,0,"ng-template",1),n.qZA(),n._UZ(2,"div")),2&e&&(n.xp6(2),n.uIk("aria-live",i._live)("role",i._role))},dependencies:[bc],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[NW.snackBarState]}}),r})(),kM=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[my,Gf,Yn,by,Xt,Xt]}),r})();const Sj=new n.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function PW(){return new IM}});let LW=(()=>{class r{constructor(e,i,s,o,a,d){this._overlay=e,this._live=i,this._injector=s,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",s){const o={...this._defaultConfig,...s};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=n.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:IM,useValue:i}]}),a=new jm(this.snackBarContainerComponent,i.viewContainerRef,o),d=e.attach(a);return d.instance.snackBarConfig=i,d.instance}_attach(e,i){const s={...new IM,...this._defaultConfig,...i},o=this._createOverlay(s),a=this._attachSnackBarContainer(o,s),d=new CP(a,o);if(e instanceof n.Rgc){const f=new Hm(e,null,{$implicit:s.data,snackBarRef:d});d.instance=a.attachTemplatePortal(f)}else{const f=this._createInjector(s,d),g=new jm(e,void 0,f),b=a.attachComponentPortal(g);d.instance=b.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(We(o.detachments())).subscribe(f=>{o.overlayElement.classList.toggle(this.handsetCssClass,f.matches)}),s.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(d,s),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new OC;i.direction=e.direction;let s=this._overlay.position().global();const o="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,d=!a&&"center"!==e.horizontalPosition;return a?s.left("0"):d?s.right("0"):s.centerHorizontally(),"top"===e.verticalPosition?s.top("0"):s.bottom("0"),i.positionStrategy=s,this._overlay.create(i)}_createInjector(e,i){return n.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:CP,useValue:i},{provide:xj,useValue:e.data}]})}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Go),n.LFG(uP),n.LFG(n.zs3),n.LFG(WT),n.LFG(r,12),n.LFG(Sj))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),wP=(()=>{class r extends LW{constructor(e,i,s,o,a,d){super(e,i,s,o,a,d),this.simpleSnackBarComponent=RW,this.snackBarContainerComponent=FW,this.handsetCssClass="mat-snack-bar-handset"}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Go),n.LFG(uP),n.LFG(n.zs3),n.LFG(WT),n.LFG(r,12),n.LFG(Sj))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:kM}),r})(),Rn=(()=>{class r{constructor(e,i,s){this.snackBar=e,this.session=i,this.httpClient=s,this.PARAMETERDEFINITIONS={"dataset:ParameterSpecificationHDisassociationEnergy":{"qudt:QuantityKind":"quantitykind:MolarEnergy","dataset:dynamicType":"FixedParameter","skos:prefLabel":"MolarEnergy","qudt:Unit":["unit:KiloCAL-PER-MOL","unit:KiloJ-PER-MOL","dataset:CAL-PER-MOL","unit:J-PER-MOL"]},"dataset:ParameterSpecificationEnthaply":{"qudt:QuantityKind":"quantitykind:MolarEnergy","dataset:dynamicType":"FixedParameter","skos:prefLabel":"MolarEnergy","qudt:Unit":["unit:KiloCAL-PER-MOL","unit:KiloJ-PER-MOL","dataset:CAL-PER-MOL","unit:J-PER-MOL"]},"dataset:ParameterSpecificationEntropy":{"qudt:QuantityKind":"quantitykind:MolarEntropy","dataset:dynamicType":"FixedParameter","skos:prefLabel":"MolarEntropy","qudt:Unit":["dataset:CAL-PER-MOL-K","unit:J-PER-MOL-K"]},"dataset:ParameterSpecificationHeatCapacity":{"qudt:QuantityKind":"quantitykind:MolarHeatCapacity","dataset:dynamicType":"FixedParameter","skos:prefLabel":"MolarHeatCapacity","qudt:Unit":["dataset:CAL-PER-MOL-K","unit:J-PER-MOL-K"]},"dataset:ParameterSpecificationStructureVibrationFrequency":{"qudt:QuantityKind":"quantitykind:Frequency","dataset:dynamicType":"FixedParameter","skos:prefLabel":"Frequency","qudt:Unit":["dataset:cmMinus1","unit:PER-SEC","unit:HZ"]},"dataset:ParameterSpecificationTemperature":{"qudt:QuantityKind":"quantitykind:Temperature","dataset:dynamicType":"FixedParameter","skos:prefLabel":"Temperature","qudt:Unit":["unit:K","unit:DEG_R","unit:DEG_F","unit:DEG_C","unit:DEG_MilliDEG_C","unit:PlankTemperature"]}}}getParameterSet(e){const i={};for(let s of e)i[s]=this.PARAMETERDEFINITIONS[s];return(0,Ve.of)(i)}getAnnotationsFromID(e){return this.standardHttpCall(To_apiURL+"/catalogannotation?catalogname="+e)}getNewCatalogObject(e){return this.standardHttpCall(To_apiURL+"/cataloginfo?catalogname="+e)}getClassificationHierarchy(e){return this.standardHttpCall(To_apiURL+"/classificationhierarchy?catalogname="+e)}standardHttpCall(e){const i=this.session.getToken(),s=gf.setupHeader(i);return this.httpClient.get(e,{headers:s}).pipe(tr(o=>(o.error instanceof ErrorEvent?this.errorMsg=`Error: ${o.error.message}`:(this.errorMsg=gf.getServerErrorMessage(o),alert("OntologycatalogService: "+this.errorMsg)),(0,Ve.of)(this.errorMsg))))}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(wP),n.LFG(Oa),n.LFG(ca))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var BW=j(7830);function Aj(...r){if(1===r.length){const t=r[0];if((0,ra.k)(t))return RM(t,null);if((0,BW.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return RM(e.map(i=>t[i]),e)}}if("function"==typeof r[r.length-1]){const t=r.pop();return RM(r=1===r.length&&(0,ra.k)(r[0])?r[0]:r,null).pipe((0,Je.U)(e=>t(...e)))}return RM(r,null)}function RM(r,t){return new mn.y(e=>{const i=r.length;if(0===i)return void e.complete();const s=new Array(i);let o=0,a=0;for(let d=0;d<i;d++){const f=(0,Pn.D)(r[d]);let g=!1;e.add(f.subscribe({next:b=>{g||(g=!0,a++),s[d]=b},error:b=>e.error(b),complete:()=>{o++,(o===i||!g)&&(a===i&&e.next(t?t.reduce((b,T,E)=>(b[T]=s[E],b),{}):s),e.complete())}}))}})}var TP=j(2474);const UW=["*"];let NM;function rD(r){return function VW(){if(void 0===NM&&(NM=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(NM=r.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return NM}()?.createHTML(r)||r}function Ej(r){return Error(`Unable to find icon with the name "${r}"`)}function Mj(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function Ij(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class vy{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let OM=(()=>{class r{constructor(e,i,s,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(e,i,s){return this.addSvgIconInNamespace("",e,i,s)}addSvgIconLiteral(e,i,s){return this.addSvgIconLiteralInNamespace("",e,i,s)}addSvgIconInNamespace(e,i,s,o){return this._addSvgIconConfig(e,i,new vy(s,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,s,o){const a=this._sanitizer.sanitize(n.q3G.HTML,s);if(!a)throw Ij(s);const d=rD(a);return this._addSvgIconConfig(e,i,new vy("",d,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,s){return this._addSvgIconSetConfig(e,new vy(i,null,s))}addSvgIconSetLiteralInNamespace(e,i,s){const o=this._sanitizer.sanitize(n.q3G.HTML,i);if(!o)throw Ij(i);const a=rD(o);return this._addSvgIconSetConfig(e,new vy("",a,s))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(n.q3G.RESOURCE_URL,e);if(!i)throw Mj(e);const s=this._cachedIconsByUrl.get(i);return s?(0,Ve.of)(FM(s)):this._loadSvgIconFromConfig(new vy(e,null)).pipe((0,bi.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,Je.U)(o=>FM(o)))}getNamedSvgIcon(e,i=""){const s=kj(i,e);let o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):(0,ic._)(Ej(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Ve.of)(FM(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Je.U)(i=>FM(i)))}_getSvgFromIconSetConfigs(e,i){const s=this._extractIconWithNameFromAnySet(e,i);return s?(0,Ve.of)(s):Aj(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(tr(d=>{const g=`Loading icon set URL: ${this._sanitizer.sanitize(n.q3G.RESOURCE_URL,a.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(g)),(0,Ve.of)(null)})))).pipe((0,Je.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw Ej(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(o),d=this._extractSvgIconFromSet(a,e,o.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,bi.b)(i=>e.svgText=i),(0,Je.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Ve.of)(null):this._fetchIcon(e).pipe((0,bi.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,s){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,s);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),s);const d=this._svgElementFromString(rD("<svg></svg>"));return d.appendChild(a),this._setSvgAttributes(d,s)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const i=this._svgElementFromString(rD("<svg></svg>")),s=e.attributes;for(let o=0;o<s.length;o++){const{name:a,value:d}=s[o];"id"!==a&&i.setAttribute(a,d)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:s}=e,o=s?.withCredentials??!1;if(!this._httpClient)throw function ZW(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(n.q3G.RESOURCE_URL,i);if(!a)throw Mj(i);const d=this._inProgressUrlFetches.get(a);if(d)return d;const f=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe((0,Je.U)(g=>rD(g)),Ye(()=>this._inProgressUrlFetches.delete(a)),(0,TP.B)());return this._inProgressUrlFetches.set(a,f),f}_addSvgIconConfig(e,i,s){return this._svgIconConfigs.set(kj(e,i),s),this}_addSvgIconSetConfig(e,i){const s=this._iconSetConfigs.get(e);return s?s.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let s=0;s<this._resolvers.length;s++){const o=this._resolvers[s](i,e);if(o)return HW(o)?new vy(o.url,null,o.options):new vy(o,null)}}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ca,8),n.LFG(nc),n.LFG(ne,8),n.LFG(n.qLn))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function FM(r){return r.cloneNode(!0)}function kj(r,t){return r+":"+t}function HW(r){return!(!r.url||!r.options)}const qW=Kd(class{constructor(r){this._elementRef=r}}),GW=new n.OlP("MAT_ICON_DEFAULT_OPTIONS"),YW=new n.OlP("mat-icon-location",{providedIn:"root",factory:function JW(){const r=(0,n.f3M)(ne),t=r?r.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Rj=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zW=Rj.map(r=>`[${r}]`).join(", "),$W=/^url\(['"]?#(.*?)['"]?\)$/;let rr=(()=>{class r extends qW{constructor(e,i,s,o,a,d){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Re.w.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=at(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=e.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>e.classList.remove(s)),i.forEach(s=>e.classList.add(s)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((s,o)=>{s.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(zW),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)Rj.forEach(a=>{const d=i[o],f=d.getAttribute(a),g=f?f.match($W):null;if(g){let b=s.get(d);b||(b=[],s.set(d,b)),b.push({name:a,value:g[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,s]=this._splitIconName(e);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(tn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${o.message}`))})}}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(OM),n.$8M("aria-hidden"),n.Y36(YW),n.Y36(n.qLn),n.Y36(GW,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(n.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),n.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[n.qOj],ngContentSelectors:UW,decls:1,vars:0,template:function(e,i){1&e&&(n.F$t(),n.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),r})(),PM=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Xt,Xt]}),r})();const QW=["tooltip"],Nj="tooltip-panel",Oj=dy({passive:!0}),Fj=new n.OlP("mat-tooltip-scroll-strategy"),eK={provide:Fj,deps:[Go],useFactory:function XW(r){return()=>r.scrollStrategies.reposition({scrollThrottle:20})}},tK=new n.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function nK(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let iK=(()=>{class r{constructor(e,i,s,o,a,d,f,g,b,T,E,R){this._overlay=e,this._elementRef=i,this._scrollDispatcher=s,this._viewContainerRef=o,this._ngZone=a,this._platform=d,this._ariaDescriber=f,this._focusMonitor=g,this._dir=T,this._defaultOptions=E,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Fe.xQ,this._scrollStrategy=b,this._document=R,E&&(E.position&&(this.position=E.position),E.touchGestures&&(this.touchGestures=E.touchGestures)),T.change.pipe(We(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=at(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Lr(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Lr(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(We(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,s])=>{e.removeEventListener(i,s,Oj)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new jm(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=i.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(We(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(We(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${Nj}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(We(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(We(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(We(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Es(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,s=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...s.main,...o.main}),this._addOffset({...s.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let s;"above"==i||"below"==i?s={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?s={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(s={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let s;"above"==i?s={overlayX:"center",overlayY:"bottom"}:"below"==i?s={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?s={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(s={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(tn(1),We(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:s,originY:o}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===s?"left":"right":"start"===s?"left":"right":"bottom"===i&&"top"===o?"above":"below",a!==this._currentPosition){const d=this._overlayRef;if(d){const f=`${this._cssClassPrefix}-${Nj}-`;d.removePanelClass(f+this._currentPosition),d.addPanelClass(f+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const s=i.relatedTarget;(!s||!this._overlayRef?.overlayElement.contains(s))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,s])=>{this._elementRef.nativeElement.addEventListener(i,s,Oj)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),s=this._elementRef.nativeElement;i!==s&&!s.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,s=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),("on"===e||!i.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}}return r.\u0275fac=function(e){n.$Z()},r.\u0275dir=n.lG2({type:r,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),r})(),ro=(()=>{class r extends iK{constructor(e,i,s,o,a,d,f,g,b,T,E,R){super(e,i,s,o,a,d,f,g,b,T,E,R),this._tooltipComponent=sK}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Go),n.Y36(n.SBq),n.Y36(NC),n.Y36(n.s_b),n.Y36(n.R0b),n.Y36(Ri),n.Y36(PQ),n.Y36(Sl),n.Y36(Fj),n.Y36(Ji,8),n.Y36(tK,8),n.Y36(ne))},r.\u0275dir=n.lG2({type:r,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[n.qOj]}),r})(),rK=(()=>{class r{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Fe.xQ,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,s=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:s),i.classList.add(e?s:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.sBO),n.Y36(n.QbO,8))},r.\u0275dir=n.lG2({type:r}),r})(),sK=(()=>{class r extends rK{constructor(e,i,s){super(e,s),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe(sP_Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.sBO),n.Y36(WT),n.Y36(n.QbO,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&n.Gf(QW,7),2&e){let s;n.iGM(s=n.CRH())&&(i._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&n.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&n.Udp("zoom",i.isVisible()?1:null)},features:[n.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"div",0,1),n.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),n.ALo(2,"async"),n._uU(3),n.qZA()),2&e){let s;n.ekj("mat-tooltip-handset",null==(s=n.lcZ(2,4,i._isHandset))?null:s.matches),n.Q6J("ngClass",i.tooltipClass),n.xp6(3),n.Oqu(i.message)}},dependencies:[Fn,Io],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),r})(),DP=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[eK],imports:[EM,Yn,my,Xt,Xt,qf]}),r})(),oK=(()=>{class r{constructor(e,i){this.snackBar=e,this.ontologyservice=i}ngOnInit(){}call(){this.parameters=this.ontologyservice.getAnnotationsFromID("dataset:DescriptionAbstract"),this.parameters.subscribe(e=>{alert(e["rdfs:label"]),alert(e["rdfs:comment"])})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(wP),n.Y36(Rn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-create"]],decls:3,vars:0,consts:[["mat-icon-button","","matTooltip","Call Routine",3,"click"],["aria-hidden","false","aria-label","Login"]],template:function(e,i){1&e&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return i.call()}),n.TgZ(1,"mat-icon",1),n._uU(2," fingerprint "),n.qZA()())},dependencies:[jt,rr,ro]}),r})(),Pj=(()=>{class r{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Qsj),n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r}),r})(),Cy=(()=>{class r extends Pj{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,features:[n.qOj]}),r})();const Ms=new n.OlP("NgValueAccessor"),lK={provide:Ms,useExisting:(0,n.Gpc)(()=>Nt),multi:!0},uK=new n.OlP("CompositionEventMode");let Nt=(()=>{class r extends Pj{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cK(){const r=B()?B().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(uK,8))},r.\u0275dir=n.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&n.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[n._Bn([lK]),n.qOj]}),r})();function $m(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function Bj(r){return null!=r&&"number"==typeof r.length}const Zs=new n.OlP("NgValidators"),Qm=new n.OlP("NgAsyncValidators"),hK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oe{static min(t){return function Uj(r){return t=>{if($m(t.value)||$m(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}(t)}static max(t){return function Vj(r){return t=>{if($m(t.value)||$m(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}(t)}static required(t){return Zj(t)}static requiredTrue(t){return function jj(r){return!0===r.value?null:{required:!0}}(t)}static email(t){return function Hj(r){return $m(r.value)||hK.test(r.value)?null:{email:!0}}(t)}static minLength(t){return function qj(r){return t=>$m(t.value)||!Bj(t.value)?null:t.value.length<r?{minlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Gj(r){return t=>Bj(t.value)&&t.value.length>r?{maxlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Yj(r){if(!r)return LM;let t,e;return"string"==typeof r?(e="","^"!==r.charAt(0)&&(e+="^"),e+=r,"$"!==r.charAt(r.length-1)&&(e+="$"),t=new RegExp(e)):(e=r.toString(),t=r),i=>{if($m(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return Kj(t)}static composeAsync(t){return Xj(t)}}function Zj(r){return $m(r.value)?{required:!0}:null}function LM(r){return null}function Jj(r){return null!=r}function zj(r){return(0,n.QGY)(r)?(0,Pn.D)(r):r}function $j(r){let t={};return r.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Qj(r,t){return t.map(e=>e(r))}function Wj(r){return r.map(t=>function fK(r){return!r.validate}(t)?t:e=>t.validate(e))}function Kj(r){if(!r)return null;const t=r.filter(Jj);return 0==t.length?null:function(e){return $j(Qj(e,t))}}function xP(r){return null!=r?Kj(Wj(r)):null}function Xj(r){if(!r)return null;const t=r.filter(Jj);return 0==t.length?null:function(e){return Aj(Qj(e,t).map(zj)).pipe((0,Je.U)($j))}}function SP(r){return null!=r?Xj(Wj(r)):null}function eH(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function tH(r){return r._rawValidators}function nH(r){return r._rawAsyncValidators}function AP(r){return r?Array.isArray(r)?r:[r]:[]}function BM(r,t){return Array.isArray(r)?r.includes(t):r===t}function iH(r,t){const e=AP(t);return AP(r).forEach(s=>{BM(e,s)||e.push(s)}),e}function rH(r,t){return AP(t).filter(e=>!BM(r,e))}class sH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xP(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=SP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ma extends sH{get formDirective(){return null}get path(){return null}}class Tu extends sH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oH{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Bt=(()=>{class r extends oH{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Tu,2))},r.\u0275dir=n.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&n.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[n.qOj]}),r})(),zt=(()=>{class r extends oH{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(ma,10))},r.\u0275dir=n.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&n.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[n.qOj]}),r})();const sD="VALID",VM="INVALID",BC="PENDING",oD="DISABLED";function kP(r){return(ZM(r)?r.validators:r)||null}function lH(r){return Array.isArray(r)?xP(r):r||null}function RP(r,t){return(ZM(t)?t.asyncValidators:r)||null}function cH(r){return Array.isArray(r)?SP(r):r||null}function ZM(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function uH(r,t,e){const i=r.controls;if(!(t?Object.keys(i):i).length)throw new n.vHH(1e3,"");if(!i[e])throw new n.vHH(1001,"")}function dH(r,t,e){r._forEachChild((i,s)=>{if(void 0===e[s])throw new n.vHH(1002,"")})}class jM{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=lH(this._rawValidators),this._composedAsyncValidatorFn=cH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===sD}get invalid(){return this.status===VM}get pending(){return this.status==BC}get disabled(){return this.status===oD}get enabled(){return this.status!==oD}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=lH(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=cH(t)}addValidators(t){this.setValidators(iH(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(iH(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(rH(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(rH(t,this._rawAsyncValidators))}hasValidator(t){return BM(this._rawValidators,t)}hasAsyncValidator(t){return BM(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=BC,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=oD,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=sD,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sD||this.status===BC)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oD:sD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=BC,this._hasOwnPendingAsyncValidator=!0;const e=zj(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,s)=>i&&i._find(s),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new n.vpe,this.statusChanges=new n.vpe}_calculateStatus(){return this._allControlsDisabled()?oD:this.errors?VM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(BC)?BC:this._anyControlsHaveStatus(VM)?VM:sD}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ZM(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class aD extends jM{constructor(t,e,i){super(kP(e),RP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){dH(this,0,t),Object.keys(t).forEach(i=>{uH(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const s=this.controls[i];s&&s.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,s)=>((i.enabled||this.disabled)&&(e[s]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,o)=>{i=e(i,s,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class hH extends aD{}function HM(r,t){return[...t.path,r]}function lD(r,t){NP(r,t),t.valueAccessor.writeValue(r.value),r.disabled&&t.valueAccessor.setDisabledState?.(!0),function CK(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&fH(r,t)})}(r,t),function TK(r,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function wK(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&fH(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function vK(r,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function qM(r,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),YM(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function GM(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function NP(r,t){const e=tH(r);null!==t.validator?r.setValidators(eH(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const i=nH(r);null!==t.asyncValidator?r.setAsyncValidators(eH(i,t.asyncValidator)):"function"==typeof i&&r.setAsyncValidators([i]);const s=()=>r.updateValueAndValidity();GM(t._rawValidators,s),GM(t._rawAsyncValidators,s)}function YM(r,t){let e=!1;if(null!==r){if(null!==t.validator){const s=tH(r);if(Array.isArray(s)&&s.length>0){const o=s.filter(a=>a!==t.validator);o.length!==s.length&&(e=!0,r.setValidators(o))}}if(null!==t.asyncValidator){const s=nH(r);if(Array.isArray(s)&&s.length>0){const o=s.filter(a=>a!==t.asyncValidator);o.length!==s.length&&(e=!0,r.setAsyncValidators(o))}}}const i=()=>{};return GM(t._rawValidators,i),GM(t._rawAsyncValidators,i),e}function fH(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function pH(r,t){NP(r,t)}function OP(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function gH(r,t){r._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function FP(r,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(o=>{o.constructor===Nt?e=o:function SK(r){return Object.getPrototypeOf(r.constructor)===Cy}(o)?i=o:s=o}),s||i||e||null}const EK={provide:ma,useExisting:(0,n.Gpc)(()=>UC)},cD=(()=>Promise.resolve())();let UC=(()=>{class r extends ma{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new n.vpe,this.form=new aD({},xP(e),SP(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){cD.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),lD(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){cD.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){cD.then(()=>{const i=this._findContainer(e.path),s=new aD({});pH(s,e),i.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){cD.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){cD.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,gH(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Zs,10),n.Y36(Qm,10))},r.\u0275dir=n.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&n.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([EK]),n.qOj]}),r})();function _H(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}function yH(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const VC=class extends jM{constructor(t=null,e,i){super(kP(e),RP(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ZM(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=yH(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_H(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_H(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){yH(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},PP=VC;let bH=(()=>{class r extends ma{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return HM(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,features:[n.qOj]}),r})(),hn=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),DH=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})();const LP=new n.OlP("NgModelWithFormControlWarning"),PK={provide:Tu,useExisting:(0,n.Gpc)(()=>uD)};let uD=(()=>{class r extends Tu{constructor(e,i,s,o){super(),this._ngModelWarningConfig=o,this.update=new n.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=FP(0,s)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&qM(i,this,!1),lD(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}OP(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&qM(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(e){return new(e||r)(n.Y36(Zs,10),n.Y36(Qm,10),n.Y36(Ms,10),n.Y36(LP,8))},r.\u0275dir=n.lG2({type:r,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[n._Bn([PK]),n.qOj,n.TTD]}),r})();const LK={provide:ma,useExisting:(0,n.Gpc)(()=>Ot)};let Ot=(()=>{class r extends ma{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new n.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(YM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return lD(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){qM(e.control||null,e,!1),function AK(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,gH(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(qM(i||null,e),(r=>r instanceof VC)(s)&&(lD(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);pH(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function DK(r,t){return YM(r,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NP(this.form,this),this._oldForm&&YM(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Zs,10),n.Y36(Qm,10))},r.\u0275dir=n.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&n.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([LK]),n.qOj,n.TTD]}),r})();const BK={provide:ma,useExisting:(0,n.Gpc)(()=>JM)};let JM=(()=>{class r extends bH{constructor(e,i,s){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(s)}_checkParentType(){AH(this._parent)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(ma,13),n.Y36(Zs,10),n.Y36(Qm,10))},r.\u0275dir=n.lG2({type:r,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[n._Bn([BK]),n.qOj]}),r})();const UK={provide:ma,useExisting:(0,n.Gpc)(()=>wy)};let wy=(()=>{class r extends ma{constructor(e,i,s){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return HM(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){AH(this._parent)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(ma,13),n.Y36(Zs,10),n.Y36(Qm,10))},r.\u0275dir=n.lG2({type:r,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[n._Bn([UK]),n.qOj]}),r})();function AH(r){return!(r instanceof JM||r instanceof Ot||r instanceof wy)}const VK={provide:Tu,useExisting:(0,n.Gpc)(()=>Gt)};let Gt=(()=>{class r extends Tu{constructor(e,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new n.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=FP(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),OP(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return HM(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(e){return new(e||r)(n.Y36(ma,13),n.Y36(Zs,10),n.Y36(Qm,10),n.Y36(Ms,10),n.Y36(LP,8))},r.\u0275dir=n.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[n._Bn([VK]),n.qOj,n.TTD]}),r})();const ZK={provide:Ms,useExisting:(0,n.Gpc)(()=>BP),multi:!0};function EH(r,t){return null==r?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let BP=(()=>{class r extends Cy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=EH(this._getOptionId(e),e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function jK(r){return r.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&n.NdJ("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([ZK]),n.qOj]}),r})(),MH=(()=>{class r{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(EH(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(BP,9))},r.\u0275dir=n.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const HK={provide:Ms,useExisting:(0,n.Gpc)(()=>UP),multi:!0};function IH(r,t){return null==r?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let UP=(()=>{class r extends Cy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[],o=i.selectedOptions;if(void 0!==o){const a=o;for(let d=0;d<a.length;d++){const g=this._getOptionValue(a[d].value);s.push(g)}}else{const a=i.options;for(let d=0;d<a.length;d++){const f=a[d];if(f.selected){const g=this._getOptionValue(f.value);s.push(g)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function qK(r){return r.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&n.NdJ("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([HK]),n.qOj]}),r})(),kH=(()=>{class r{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(IH(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(IH(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(UP,9))},r.\u0275dir=n.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})(),Ty=(()=>{class r{constructor(){this._validator=LM}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):LM,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,features:[n.TTD]}),r})();const JK={provide:Zs,useExisting:(0,n.Gpc)(()=>ZC),multi:!0};let ZC=(()=>{class r extends Ty{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n.D6c,this.createValidator=e=>Zj}enabled(e){return e}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&n.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[n._Bn([JK]),n.qOj]}),r})(),VH=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[DH]}),r})(),ZH=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[VH]}),r})(),zM=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:LP,useValue:e.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[VH]}),r})();class ZP extends jM{constructor(t,e,i){super(kP(e),RP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let s=this._adjustIndex(t);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),e&&(this.controls.splice(s,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){dH(this,0,t),t.forEach((i,s)=>{uH(this,!1,s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}const dD=ZP;function jH(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let XK=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new r;return e.useNonNullable=!0,e}group(e,i=null){const s=this._reduceControls(e);let o={};return jH(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new aD(s,o)}record(e,i=null){const s=this._reduceControls(e);return new hH(s,i)}control(e,i,s){let o={};return this.useNonNullable?(jH(i)?o=i:(o.validators=i,o.asyncValidators=s),new VC(e,{...o,nonNullable:!0})):new VC(e,i,s)}array(e,i,s){const o=e.map(a=>this._createControl(a));return new ZP(o,i,s)}_reduceControls(e){const i={};return Object.keys(e).forEach(s=>{i[s]=this._createControl(e[s])}),i}_createControl(e){return e instanceof VC||e instanceof jM?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:zM}),r})(),Ut=(()=>{class r extends XK{group(e,i=null){return super.group(e,i)}control(e,i,s){return super.control(e,i,s)}array(e,i,s){return super.array(e,i,s)}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:zM}),r})(),zr=(()=>{class r{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=at(e)}get inset(){return this._inset}set inset(e){this._inset=at(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(n.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),n.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),r})(),$M=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Xt,Xt]}),r})();const eX=["connectionContainer"],tX=["inputContainer"],nX=["label"];function iX(r,t){1&r&&(n.ynx(0),n.TgZ(1,"div",14),n._UZ(2,"div",15)(3,"div",16)(4,"div",17),n.qZA(),n.TgZ(5,"div",18),n._UZ(6,"div",15)(7,"div",16)(8,"div",17),n.qZA(),n.BQk())}function rX(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",19),n.NdJ("cdkObserveContent",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.updateOutlineGap())}),n.Hsn(1,1),n.qZA()}if(2&r){const e=n.oxw();n.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function sX(r,t){if(1&r&&(n.ynx(0),n.Hsn(1,2),n.TgZ(2,"span"),n._uU(3),n.qZA(),n.BQk()),2&r){const e=n.oxw(2);n.xp6(3),n.Oqu(e._control.placeholder)}}function oX(r,t){1&r&&n.Hsn(0,3,["*ngSwitchCase","true"])}function aX(r,t){1&r&&(n.TgZ(0,"span",23),n._uU(1," *"),n.qZA())}function lX(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"label",20,21),n.NdJ("cdkObserveContent",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.updateOutlineGap())}),n.YNc(2,sX,4,1,"ng-container",12),n.YNc(3,oX,1,0,"ng-content",12),n.YNc(4,aX,2,0,"span",22),n.qZA()}if(2&r){const e=n.oxw();n.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),n.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),n.uIk("for",e._control.id)("aria-owns",e._control.id),n.xp6(2),n.Q6J("ngSwitchCase",!1),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function cX(r,t){1&r&&(n.TgZ(0,"div",24),n.Hsn(1,4),n.qZA())}function uX(r,t){if(1&r&&(n.TgZ(0,"div",25),n._UZ(1,"span",26),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function dX(r,t){if(1&r&&(n.TgZ(0,"div"),n.Hsn(1,5),n.qZA()),2&r){const e=n.oxw();n.Q6J("@transitionMessages",e._subscriptAnimationState)}}function hX(r,t){if(1&r&&(n.TgZ(0,"div",30),n._uU(1),n.qZA()),2&r){const e=n.oxw(2);n.Q6J("id",e._hintLabelId),n.xp6(1),n.Oqu(e.hintLabel)}}function fX(r,t){if(1&r&&(n.TgZ(0,"div",27),n.YNc(1,hX,2,2,"div",28),n.Hsn(2,6),n._UZ(3,"div",29),n.Hsn(4,7),n.qZA()),2&r){const e=n.oxw();n.Q6J("@transitionMessages",e._subscriptAnimationState),n.xp6(1),n.Q6J("ngIf",e.hintLabel)}}const pX=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],mX=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let gX=0;const HH=new n.OlP("MatError");let jP=(()=>{class r{constructor(e,i){this.id="mat-error-"+gX++,e||i.nativeElement.setAttribute("aria-live","polite")}}return r.\u0275fac=function(e){return new(e||r)(n.$8M("aria-live"),n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&n.uIk("id",i.id)},inputs:{id:"id"},features:[n._Bn([{provide:HH,useExisting:r}])]}),r})();const _X={transitionMessages:io("transitionMessages",[ei("enter",Jt({opacity:1,transform:"translateY(0%)"})),Ni("void => enter",[Jt({opacity:0,transform:"translateY(-5px)"}),zi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r}),r})(),yX=0;const qH=new n.OlP("MatHint");let en=(()=>{class r{constructor(){this.align="start",this.id="mat-hint-"+yX++}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(n.uIk("id",i.id)("align",null),n.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[n._Bn([{provide:qH,useExisting:r}])]}),r})(),kt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["mat-label"]]}),r})(),bX=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["mat-placeholder"]]}),r})();const vX=new n.OlP("MatPrefix"),GH=new n.OlP("MatSuffix");let HP=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["","matSuffix",""]],features:[n._Bn([{provide:GH,useExisting:r}])]}),r})(),YH=0;const wX=Kd(class{constructor(r){this._elementRef=r}},"primary"),TX=new n.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),QM=new n.OlP("MatFormField");let Rt=(()=>{class r extends wX{constructor(e,i,s,o,a,d,f){super(e),this._changeDetectorRef=i,this._dir=s,this._defaults=o,this._platform=a,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Fe.xQ,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+YH++,this._labelId="mat-form-field-label-"+YH++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==f,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=at(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(yn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(We(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(We(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ci.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(yn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(yn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(We(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,_r(this._label.nativeElement,"transitionend").pipe(tn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,s=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,s=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const b=i.querySelectorAll(`${s}, ${o}`);for(let T=0;T<b.length;T++)b[T].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,d=0;const f=i.querySelectorAll(s),g=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const b=i.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(b),E=e.children,R=this._getStartEnd(E[0].getBoundingClientRect());let L=0;for(let Y=0;Y<E.length;Y++)L+=E[Y].offsetWidth;a=Math.abs(R-T)-5,d=L>0?.75*L+10:0}for(let b=0;b<f.length;b++)f[b].style.width=`${a}px`;for(let b=0;b<g.length;b++)g[b].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(Ji,8),n.Y36(TX,8),n.Y36(Ri),n.Y36(n.R0b),n.Y36(n.QbO,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-form-field"]],contentQueries:function(e,i,s){if(1&e&&(n.Suo(s,hD,5),n.Suo(s,hD,7),n.Suo(s,kt,5),n.Suo(s,kt,7),n.Suo(s,bX,5),n.Suo(s,HH,5),n.Suo(s,qH,5),n.Suo(s,vX,5),n.Suo(s,GH,5)),2&e){let o;n.iGM(o=n.CRH())&&(i._controlNonStatic=o.first),n.iGM(o=n.CRH())&&(i._controlStatic=o.first),n.iGM(o=n.CRH())&&(i._labelChildNonStatic=o.first),n.iGM(o=n.CRH())&&(i._labelChildStatic=o.first),n.iGM(o=n.CRH())&&(i._placeholderChild=o.first),n.iGM(o=n.CRH())&&(i._errorChildren=o),n.iGM(o=n.CRH())&&(i._hintChildren=o),n.iGM(o=n.CRH())&&(i._prefixChildren=o),n.iGM(o=n.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(n.Gf(eX,7),n.Gf(tX,5),n.Gf(nX,5)),2&e){let s;n.iGM(s=n.CRH())&&(i._connectionContainerRef=s.first),n.iGM(s=n.CRH())&&(i._inputContainerRef=s.first),n.iGM(s=n.CRH())&&(i._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&n.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[n._Bn([{provide:QM,useExisting:r}]),n.qOj],ngContentSelectors:mX,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(n.F$t(pX),n.TgZ(0,"div",0)(1,"div",1,2),n.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),n.YNc(3,iX,9,0,"ng-container",3),n.YNc(4,rX,2,1,"div",4),n.TgZ(5,"div",5,6),n.Hsn(7),n.TgZ(8,"span",7),n.YNc(9,lX,5,16,"label",8),n.qZA()(),n.YNc(10,cX,2,0,"div",9),n.qZA(),n.YNc(11,uX,2,4,"div",10),n.TgZ(12,"div",11),n.YNc(13,dX,2,1,"div",12),n.YNc(14,fX,5,2,"div",13),n.qZA()()),2&e&&(n.xp6(3),n.Q6J("ngIf","outline"==i.appearance),n.xp6(1),n.Q6J("ngIf",i._prefixChildren.length),n.xp6(5),n.Q6J("ngIf",i._hasFloatingLabel()),n.xp6(1),n.Q6J("ngIf",i._suffixChildren.length),n.xp6(1),n.Q6J("ngIf","outline"!=i.appearance),n.xp6(1),n.Q6J("ngSwitch",i._getDisplayedMessages()),n.xp6(1),n.Q6J("ngSwitchCase","error"),n.xp6(1),n.Q6J("ngSwitchCase","hint"))},dependencies:[ke,Gs,Is,rP],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[_X.transitionMessages]},changeDetection:0}),r})(),WM=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn,Xt,DM,Xt]}),r})();const zH=dy({passive:!0});let DX=(()=>{class r{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return vs.E;const i=Hf(e),s=this._monitoredElements.get(i);if(s)return s.subject;const o=new Fe.xQ,a="cdk-text-field-autofilled",d=f=>{"cdk-text-field-autofill-start"!==f.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===f.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:f.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>o.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,zH),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",d,zH)}}),o}stopMonitoring(e){const i=Hf(e),s=this._monitoredElements.get(i);s&&(s.unlisten(),s.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Ri),n.LFG(n.R0b))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),fD=(()=>{class r{constructor(e,i,s,o){this._elementRef=e,this._platform=i,this._ngZone=s,this._destroyed=new Fe.xQ,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=a=>{this._hasFocus="focus"===a.type},this._document=o,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(e){this._minRows=Lr(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=Lr(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=at(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{_r(this._getWindow(),"resize").pipe(pM(16),We(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,i=e.style.marginBottom||"",s=this._platform.FIREFOX,o=s&&this._hasFocus,a=s?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";o&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(a);const d=e.scrollHeight-4;return e.classList.remove(a),o&&(e.style.marginBottom=i),d}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,s=i.value;if(!e&&this._minRows===this._previousMinRows&&s===this._previousValue)return;const o=this._measureScrollHeight(),a=Math.max(o,this._cachedPlaceholderHeight||0);i.style.height=`${a}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=s,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:i,selectionEnd:s}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(i,s)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(Ri),n.Y36(n.R0b),n.Y36(ne,8))},r.\u0275dir=n.lG2({type:r,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(e,i){1&e&&n.NdJ("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),r})(),$H=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})();const QH=new n.OlP("MAT_INPUT_VALUE_ACCESSOR"),xX=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let SX=0;const AX=hP(class{constructor(r,t,e,i){this._defaultErrorStateMatcher=r,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Fe.xQ}});let Pt=(()=>{class r extends AX{constructor(e,i,s,o,a,d,f,g,b,T){super(d,o,a,s),this._elementRef=e,this._platform=i,this._autofillMonitor=g,this._formField=T,this._uid="mat-input-"+SX++,this.focused=!1,this.stateChanges=new Fe.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(L=>IZ().has(L)),this._iOSKeyupListener=L=>{const Y=L.target;!Y.value&&0===Y.selectionStart&&0===Y.selectionEnd&&(Y.setSelectionRange(1,1),Y.setSelectionRange(0,0))};const E=this._elementRef.nativeElement,R=E.nodeName.toLowerCase();this._inputValueAccessor=f||E,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===R,this._isTextarea="textarea"===R,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=E.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=at(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(oe.required)??!1}set required(e){this._required=at(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&IZ().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=at(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=i,i?s.setAttribute("placeholder",i):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){xX.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(Ri),n.Y36(Tu,10),n.Y36(UC,8),n.Y36(Ot,8),n.Y36(zm),n.Y36(QH,10),n.Y36(DX),n.Y36(n.R0b),n.Y36(QM,8))},r.\u0275dir=n.lG2({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&n.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(n.Ikx("disabled",i.disabled)("required",i.required),n.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),n.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[n._Bn([{provide:hD,useExisting:r}]),n.qOj,n.TTD]}),r})(),WH=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[zm],imports:[$H,WM,Xt,$H,WM]}),r})();const EX=["*",[["mat-card-footer"]]],MX=["*","mat-card-footer"],IX=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],kX=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],RX=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],NX=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let Xe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),r})(),Oi=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),r})(),rn=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),r})(),KH=(()=>{class r{constructor(){this.align="start"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),r})(),pD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),r})(),et=(()=>{class r{constructor(e){this._animationMode=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.QbO,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:MX,decls:2,vars:0,template:function(e,i){1&e&&(n.F$t(EX),n.Hsn(0),n.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),r})(),lt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:kX,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(n.F$t(IX),n.Hsn(0),n.TgZ(1,"div",0),n.Hsn(2,1),n.qZA(),n.Hsn(3,2))},encapsulation:2,changeDetection:0}),r})(),gn=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:NX,decls:4,vars:0,template:function(e,i){1&e&&(n.F$t(RX),n.TgZ(0,"div"),n.Hsn(1),n.qZA(),n.Hsn(2,1),n.Hsn(3,2))},encapsulation:2,changeDetection:0}),r})(),XH=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Xt,Xt]}),r})();function OX(r,t){if(1&r&&(n.O4$(),n._UZ(0,"circle",4)),2&r){const e=n.oxw(),i=n.MAs(1);n.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),n.uIk("r",e._getCircleRadius())}}function FX(r,t){if(1&r&&(n.O4$(),n._UZ(0,"circle",4)),2&r){const e=n.oxw(),i=n.MAs(1);n.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),n.uIk("r",e._getCircleRadius())}}const LX=Kd(class{constructor(r){this._elementRef=r}},"primary"),BX=new n.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function UX(){return{diameter:100}}});class $r extends LX{constructor(t,e,i,s,o,a,d,f){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Re.w.EMPTY,this.mode="determinate";const g=$r._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),g.has(i.head)||g.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===s&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&d&&a&&f&&(this._resizeSubscription=d.change(150).subscribe(()=>{"indeterminate"===this.mode&&f.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=Lr(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Lr(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Lr(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=RZ(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=$r._diameters;let s=i.get(t);if(!s||!s.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),s||(s=new Set,i.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}$r._diameters=new WeakMap,$r.\u0275fac=function(t){return new(t||$r)(n.Y36(n.SBq),n.Y36(Ri),n.Y36(ne,8),n.Y36(n.QbO,8),n.Y36(BX),n.Y36(n.sBO),n.Y36($d),n.Y36(n.R0b))},$r.\u0275cmp=n.Xpm({type:$r,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(n.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),n.Udp("width",e.diameter,"px")("height",e.diameter,"px"),n.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[n.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(n.O4$(),n.TgZ(0,"svg",0,1),n.YNc(2,OX,1,11,"circle",2),n.YNc(3,FX,1,9,"circle",3),n.qZA()),2&t&&(n.Udp("width",e.diameter,"px")("height",e.diameter,"px"),n.Q6J("ngSwitch","indeterminate"===e.mode),n.uIk("viewBox",e._getViewBox()),n.xp6(2),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1))},dependencies:[Gs,Is],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let ZX=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Xt,Yn,Xt]}),r})();function jX(r,t){if(1&r&&(n.TgZ(0,"mat-error"),n._uU(1),n.qZA()),2&r){const e=n.oxw(2);n.xp6(1),n.Oqu(e.getErrorMessage())}}function HX(r,t){if(1&r){const e=n.EpF();n.ynx(0),n._UZ(1,"mat-divider"),n.TgZ(2,"div",4)(3,"div")(4,"mat-form-field",5)(5,"mat-label"),n._uU(6,"Enter your email"),n.qZA(),n._UZ(7,"input",6),n.YNc(8,jX,2,1,"mat-error",7),n.qZA()(),n.TgZ(9,"div")(10,"mat-form-field",5)(11,"mat-label"),n._uU(12,"Enter your password"),n.qZA(),n._UZ(13,"input",8),n.TgZ(14,"button",9),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.hide=!s.hide)}),n.TgZ(15,"mat-icon"),n._uU(16),n.qZA()()()(),n.TgZ(17,"div")(18,"button",10),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.signIn())}),n._uU(19," Password Log In "),n.qZA()(),n.TgZ(20,"div")(21,"button",11),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.forgot())}),n._uU(22," Forgot Password "),n.qZA(),n.TgZ(23,"button",11),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.register())}),n._uU(24," Register "),n.qZA()()(),n._UZ(25,"mat-divider"),n.TgZ(26,"div",12)(27,"button",13),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.googlelogin())}),n._uU(28," Log in with Google "),n.qZA()(),n.TgZ(29,"div",12)(30,"button",13),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.githublogin())}),n._uU(31," Log in with Github "),n.qZA()(),n.TgZ(32,"div",12)(33,"button",13),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.facebooklogin())}),n._uU(34," Log in with Facebook "),n.qZA()(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(7),n.Q6J("formControl",e.email),n.xp6(1),n.Q6J("ngIf",e.email.invalid),n.xp6(5),n.s9C("value",e.password),n.Q6J("type",e.hide?"password":"text"),n.xp6(1),n.uIk("aria-label","Hide password")("aria-pressed",e.hide),n.xp6(2),n.Oqu(e.hide?"visibility_off":"visibility")}}function qX(r,t){1&r&&n._UZ(0,"mat-spinner")}let GX=(()=>{class r{constructor(e,i){this.authService=e,this.router=i,this.hide=!0,this.password="password",this.email=new PP("",[oe.required,oe.email]),this.forgot=function(){this.router.navigateByUrl("/forgot-password")},this.register=function(){this.router.navigateByUrl("/register-user")},this.loginprocess=!0}ngOnInit(){}signIn(){this.loginprocess=!1,this.authService.SignIn(this.email.value,this.password)}googlelogin(){this.loginprocess=!1,this.authService.GoogleAuth()}githublogin(){this.loginprocess=!1,this.authService.GithubAuth()}facebooklogin(){this.loginprocess=!1,this.authService.FacebookAuth()}getErrorMessage(){return this.email.hasError("required")?"You must enter a value":this.email.hasError("email")?"Not a valid email":""}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yc),n.Y36(jn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-sign-in"]],decls:7,vars:2,consts:[[1,"login-card"],[1,"center-title"],[4,"ngIf","ngIfElse"],["login",""],[1,"password-section"],["appearance","fill",1,"full-width"],["matInput","","placeholder","pat@example.com","required","",3,"formControl"],[4,"ngIf"],["matInput","",3,"type","value"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",1,"full-width-padded",3,"click"],["mat-raised-button","","color","secondary",1,"half-width",3,"click"],[1,"google-section"],["mat-raised-button","","color","primary",1,"full-width",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-title",1),n._uU(2,"Sign In ChemConnect"),n.qZA(),n.TgZ(3,"mat-card-content"),n.YNc(4,HX,35,7,"ng-container",2),n.YNc(5,qX,1,0,"ng-template",null,3,n.W1O),n.qZA()()),2&e){const s=n.MAs(6);n.xp6(4),n.Q6J("ngIf",i.loginprocess)("ngIfElse",s)}},dependencies:[ke,jt,zr,rr,jP,Rt,kt,HP,Pt,et,Xe,Oi,Nt,Bt,ZC,uD,$r]}),r})();function YX(r,t){if(1&r&&(n.TgZ(0,"mat-error"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.Oqu(e.getErrorMessage())}}let JX=(()=>{class r{constructor(e,i){this.authService=e,this.router=i,this.hide=!0,this.password="password",this.email=new PP("",[oe.required,oe.email]),this.LogIn=function(){this.router.navigateByUrl("/sign-in")}}ngOnInit(){}signUp(){this.authService.SignUp(this.email.value,this.password)}getErrorMessage(){return this.email.hasError("required")?"You must enter a value":this.email.hasError("email")?"Not a valid email":""}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yc),n.Y36(jn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-sign-up"]],decls:25,vars:7,consts:[[1,"login-card"],[1,"password-section"],[1,"full-width"],["appearance","fill",1,"full-width"],["matInput","","placeholder","pat@example.com","required","",3,"formControl"],[4,"ngIf"],["matInput","",3,"type","value"],["mat-icon-button","","matSuffix","",3,"click"],[1,"full-width-padded"],["mat-raised-button","","color","primary",1,"full-width",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-title"),n._uU(2,"Register to ChemConnect"),n.qZA(),n.TgZ(3,"mat-card-content")(4,"div",1)(5,"div",2)(6,"mat-form-field",3)(7,"mat-label"),n._uU(8,"Enter your email"),n.qZA(),n._UZ(9,"input",4),n.YNc(10,YX,2,1,"mat-error",5),n.qZA()(),n.TgZ(11,"div",2)(12,"mat-form-field",3)(13,"mat-label"),n._uU(14,"Enter your password"),n.qZA(),n._UZ(15,"input",6),n.TgZ(16,"button",7),n.NdJ("click",function(){return i.hide=!i.hide}),n.TgZ(17,"mat-icon"),n._uU(18),n.qZA()()()()(),n.TgZ(19,"div",8)(20,"button",9),n.NdJ("click",function(){return i.signUp()}),n._uU(21," Sign Up "),n.qZA()(),n.TgZ(22,"div",8)(23,"button",9),n.NdJ("click",function(){return i.LogIn()}),n._uU(24," Already have an account? "),n.qZA()()()()),2&e&&(n.xp6(9),n.Q6J("formControl",i.email),n.xp6(1),n.Q6J("ngIf",i.email.invalid),n.xp6(5),n.s9C("value",i.password),n.Q6J("type",i.hide?"password":"text"),n.xp6(1),n.uIk("aria-label","Hide password")("aria-pressed",i.hide),n.xp6(2),n.Oqu(i.hide?"visibility_off":"visibility"))},dependencies:[ke,jt,rr,jP,Rt,kt,HP,Pt,et,Xe,Oi,Nt,Bt,ZC,uD]}),r})();const eq=["*"],zX=["content"];function $X(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",2),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s._onBackdropClicked())}),n.qZA()}if(2&r){const e=n.oxw();n.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function QX(r,t){1&r&&(n.TgZ(0,"mat-drawer-content"),n.Hsn(1,2),n.qZA())}const WX=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],KX=["mat-drawer","mat-drawer-content","*"],XX={transformDrawer:io("transform",[ei("open, open-instant",Jt({transform:"none",visibility:"visible"})),ei("void",Jt({"box-shadow":"none",visibility:"hidden"})),Ni("void => open-instant",zi("0ms")),Ni("void <=> open, open-instant => void",zi("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},eee=new n.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function tee(){return!1}}),tq=new n.OlP("MAT_DRAWER_CONTAINER");let KM=(()=>{class r extends zT{constructor(e,i,s,o,a){super(s,o,a),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.sBO),n.Y36((0,n.Gpc)(()=>iq)),n.Y36(n.SBq),n.Y36(NC),n.Y36(n.R0b))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&n.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[n._Bn([{provide:zT,useExisting:r}]),n.qOj],ngContentSelectors:eq,decls:1,vars:0,template:function(e,i){1&e&&(n.F$t(),n.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),nq=(()=>{class r{constructor(e,i,s,o,a,d,f,g){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=s,this._platform=o,this._ngZone=a,this._interactivityChecker=d,this._doc=f,this._container=g,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Fe.xQ,this._animationEnd=new Fe.xQ,this._animationState="void",this.openedChange=new n.vpe(!0),this._openedStream=this.openedChange.pipe(Lt(b=>b),(0,Je.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Lt(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),ee(void 0)),this._closedStream=this.openedChange.pipe(Lt(b=>!b),(0,Je.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Lt(b=>b.fromState!==b.toState&&"void"===b.toState),ee(void 0)),this._destroyed=new Fe.xQ,this.onPositionChanged=new n.vpe,this._modeChanged=new Fe.xQ,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{_r(this._elementRef.nativeElement,"keydown").pipe(Lt(b=>27===b.keyCode&&!this.disableClose&&!Es(b)),We(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(Or((b,T)=>b.fromState===T.fromState&&b.toState===T.toState)).subscribe(b=>{const{fromState:T,toState:E}=b;(0===E.indexOf("open")&&"void"===T||"void"===E&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=at(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=at(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(at(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(i)}_focusByCssSelector(e,i){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const s=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),s}_setOpen(e,i,s){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(tn(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,s=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,i)),s.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(XT),n.Y36(Sl),n.Y36(Ri),n.Y36(n.R0b),n.Y36(KT),n.Y36(ne,8),n.Y36(tq,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&n.Gf(zX,5),2&e){let s;n.iGM(s=n.CRH())&&(i._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&n.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(n.uIk("align",null),n.d8E("@transform",i._animationState),n.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:eq,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"div",0,1),n.Hsn(2),n.qZA())},dependencies:[zT],encapsulation:2,data:{animation:[XX.transformDrawer]},changeDetection:0}),r})(),iq=(()=>{class r{constructor(e,i,s,o,a,d=!1,f){this._dir=e,this._element=i,this._ngZone=s,this._changeDetectorRef=o,this._animationMode=f,this._drawers=new n.n_E,this.backdropClick=new n.vpe,this._destroyed=new Fe.xQ,this._doCheckSubject=new Fe.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Fe.xQ,e&&e.change.pipe(We(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(We(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=at(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:at(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(yn(this._allDrawers),We(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(yn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(QT(10),We(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();e+=s,i-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();i+=s,e-=s}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Lt(i=>i.fromState!==i.toState),We(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(We(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(We(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(tn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(We((0,ci.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,s="mat-drawer-container-has-open";e?i.add(s):i.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ji,8),n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(n.sBO),n.Y36($d),n.Y36(eee),n.Y36(n.QbO,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,s){if(1&e&&(n.Suo(s,KM,5),n.Suo(s,nq,5)),2&e){let o;n.iGM(o=n.CRH())&&(i._content=o.first),n.iGM(o=n.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&n.Gf(KM,5),2&e){let s;n.iGM(s=n.CRH())&&(i._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[n._Bn([{provide:tq,useExisting:r}])],ngContentSelectors:KX,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(n.F$t(WX),n.YNc(0,$X,1,2,"div",0),n.Hsn(1),n.Hsn(2,1),n.YNc(3,QX,2,0,"mat-drawer-content",1)),2&e&&(n.Q6J("ngIf",i.hasBackdrop),n.xp6(3),n.Q6J("ngIf",!i._content))},dependencies:[ke,KM],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),r})(),nee=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn,Xt,qf,qf,Xt]}),r})(),iee=(()=>{class r{constructor(e){this.authService=e,this.home=function(){this.router.navigateByUrl("/")},this.profile=function(){this.router.navigateByUrl("/")}}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yc))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-dashboard"]],decls:9,vars:0,consts:[[1,"container-fluid"],[1,"row"],["mode","push","opened",""],["drawer",""],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"mat-drawer-container")(3,"mat-drawer",2,3)(5,"div"),n._uU(6,"\nDrawer content\n"),n.qZA()(),n._UZ(7,"mat-drawer-content"),n.qZA(),n._UZ(8,"main",4),n.qZA()())},dependencies:[nq,iq,KM]}),r})();function ree(r,t){if(1&r&&(n.TgZ(0,"mat-error"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.Oqu(e.getErrorMessage())}}let see=(()=>{class r{constructor(e,i){this.authService=e,this.router=i,this.email=new PP("",[oe.required,oe.email]),this.LogIn=function(){this.router.navigateByUrl("/sign-in")},this.reset=function(){this.authService.ForgotPassword(this.email.value)}}ngOnInit(){}getErrorMessage(){return this.email.hasError("required")?"You must enter a value":this.email.hasError("email")?"Not a valid email":""}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yc),n.Y36(jn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-forgot-password"]],decls:17,vars:2,consts:[[1,"login-card"],[1,"center-title"],["appearance","fill",1,"full-width"],["matInput","","placeholder","pat@example.com","required","",3,"formControl"],[4,"ngIf"],[1,"full-width-padded"],["mat-raised-button","","color","primary",1,"full-width",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-title",1),n._uU(2,"Please enter your email address to reset password"),n.qZA(),n.TgZ(3,"mat-card-content"),n._UZ(4,"mat-divider"),n.TgZ(5,"div")(6,"mat-form-field",2)(7,"mat-label"),n._uU(8,"Enter your email"),n.qZA(),n._UZ(9,"input",3),n.YNc(10,ree,2,1,"mat-error",4),n.qZA()(),n.TgZ(11,"div",5)(12,"button",6),n.NdJ("click",function(){return i.reset()}),n._uU(13," Reset "),n.qZA()(),n.TgZ(14,"div",5)(15,"button",6),n.NdJ("click",function(){return i.LogIn()}),n._uU(16," Back to Log In "),n.qZA()()()()),2&e&&(n.xp6(9),n.Q6J("formControl",i.email),n.xp6(1),n.Q6J("ngIf",i.email.invalid))},dependencies:[ke,jt,zr,jP,Rt,kt,Pt,et,Xe,Oi,Nt,Bt,ZC,uD]}),r})(),oee=(()=>{class r{constructor(e,i,s){this.session=e,this.router=i,this.authService=s}ngOnInit(){const e=this.session.getAuthorizationData();this.email=e.email}login(){this.router.navigateByUrl("/sign-in")}toppage(){this.authService.isLoggedIn?this.router.navigateByUrl("/toppage"):this.authService.isValidated?this.router.navigateByUrl("/usersetup"):alert("Email needs to be validated")}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Oa),n.Y36(jn),n.Y36(yc))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-verify-email"]],decls:23,vars:1,consts:[[1,"displayTable"],[1,"example-card"],[1,"text-center"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-subtitle"),n._uU(4,"Verify your email account"),n.qZA(),n.TgZ(5,"mat-card-title"),n._uU(6,"Thank You for Registering"),n.qZA()(),n.TgZ(7,"mat-card-content")(8,"p",2),n._uU(9,"We have sent a confirmation email to "),n.TgZ(10,"strong"),n._uU(11),n.qZA(),n._uU(12,"."),n.qZA(),n.TgZ(13,"p",2),n._uU(14,"Please check your email and click on the link to verfiy your email address."),n.qZA(),n._UZ(15,"mat-divider"),n.qZA(),n.TgZ(16,"mat-card-actions")(17,"button",3),n.NdJ("click",function(){return i.login()}),n._uU(18,"Login"),n.qZA(),n.TgZ(19,"button",3),n.NdJ("click",function(){return i.toppage()}),n._uU(20,"Toppage"),n.qZA(),n.TgZ(21,"button",3),n.NdJ("click",function(){return i.authService.SendVerificationMail()}),n._uU(22," Resend Verification Email "),n.qZA()()()()),2&e&&(n.xp6(11),n.Oqu(i.email))},dependencies:[jt,zr,et,lt,Xe,Oi,rn,KH]}),r})();function aee(r,t){1&r&&n.Hsn(0)}const rq=["*"];function lee(r,t){}const cee=function(r){return{animationDuration:r}},uee=function(r,t){return{value:r,params:t}},dee=["tabListContainer"],hee=["tabList"],fee=["tabListInner"],pee=["nextPaginator"],mee=["previousPaginator"],gee=["tabBodyWrapper"],_ee=["tabHeader"];function yee(r,t){}function bee(r,t){if(1&r&&n.YNc(0,yee,0,0,"ng-template",10),2&r){const e=n.oxw().$implicit;n.Q6J("cdkPortalOutlet",e.templateLabel)}}function vee(r,t){if(1&r&&n._uU(0),2&r){const e=n.oxw().$implicit;n.Oqu(e.textLabel)}}function Cee(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",6),n.NdJ("click",function(){const s=n.CHM(e),o=s.$implicit,a=s.index,d=n.oxw(),f=n.MAs(1);return n.KtG(d._handleClick(o,f,a))})("cdkFocusChange",function(s){const a=n.CHM(e).index,d=n.oxw();return n.KtG(d._tabFocusChanged(s,a))}),n.TgZ(1,"div",7),n.YNc(2,bee,1,1,"ng-template",8),n.YNc(3,vee,1,1,"ng-template",null,9,n.W1O),n.qZA()()}if(2&r){const e=t.$implicit,i=t.index,s=n.MAs(4),o=n.oxw();n.ekj("mat-tab-label-active",o.selectedIndex===i),n.Q6J("id",o._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||o.disableRipple),n.uIk("tabIndex",o._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),n.xp6(2),n.Q6J("ngIf",e.templateLabel)("ngIfElse",s)}}function wee(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"mat-tab-body",11),n.NdJ("_onCentered",function(){n.CHM(e);const s=n.oxw();return n.KtG(s._removeTabBodyWrapperHeight())})("_onCentering",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._setTabBodyWrapperHeight(s))}),n.qZA()}if(2&r){const e=t.$implicit,i=t.index,s=n.oxw();n.ekj("mat-tab-body-active",s.selectedIndex===i),n.Q6J("id",s._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",s.animationDuration)("preserveContent",s.preserveContent),n.uIk("tabindex",null!=s.contentTabIndex&&s.selectedIndex===i?s.contentTabIndex:null)("aria-labelledby",s._getTabLabelId(i))}}const Tee=new n.OlP("MatInkBarPositioner",{providedIn:"root",factory:function Dee(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let sq=(()=>{class r{constructor(e,i,s,o){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=s,this._animationMode=o}alignToElement(e){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe(tn(1)).subscribe(()=>{const i=this._inkBarPositioner(e),s=this._elementRef.nativeElement;s.style.left=i.left,s.style.width=i.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(Tee),n.Y36(n.QbO,8))},r.\u0275dir=n.lG2({type:r,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),r})();const xee=new n.OlP("MatTabContent"),See=new n.OlP("MatTabLabel"),Aee=new n.OlP("MAT_TAB"),Eee=gy(class{}),oq=new n.OlP("MAT_TAB_GROUP");let Jf=(()=>{class r extends Eee{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new Fe.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Hm(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b),n.Y36(oq,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-tab"]],contentQueries:function(e,i,s){if(1&e&&(n.Suo(s,See,5),n.Suo(s,xee,7,n.Rgc)),2&e){let o;n.iGM(o=n.CRH())&&(i.templateLabel=o.first),n.iGM(o=n.CRH())&&(i._explicitContent=o.first)}},viewQuery:function(e,i){if(1&e&&n.Gf(n.Rgc,7),2&e){let s;n.iGM(s=n.CRH())&&(i._implicitContent=s.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[n._Bn([{provide:Aee,useExisting:r}]),n.qOj,n.TTD],ngContentSelectors:rq,decls:1,vars:0,template:function(e,i){1&e&&(n.F$t(),n.YNc(0,aee,1,0,"ng-template"))},encapsulation:2}),r})();const Mee={translateTab:io("translateTab",[ei("center, void, left-origin-center, right-origin-center",Jt({transform:"none"})),ei("left",Jt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),ei("right",Jt({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ni("* => left, * => right, left => center, right => center",zi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Ni("void => left-origin-center",[Jt({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),zi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Ni("void => right-origin-center",[Jt({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),zi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Iee=(()=>{class r extends bc{constructor(e,i,s,o){super(e,i,o),this._host=s,this._centeringSub=Re.w.EMPTY,this._leavingSub=Re.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(yn(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n._Vd),n.Y36(n.s_b),n.Y36((0,n.Gpc)(()=>aq)),n.Y36(ne))},r.\u0275dir=n.lG2({type:r,selectors:[["","matTabBodyHost",""]],features:[n.qOj]}),r})(),kee=(()=>{class r{constructor(e,i,s){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Re.w.EMPTY,this._translateTabComplete=new Fe.xQ,this._onCentering=new n.vpe,this._beforeCentering=new n.vpe,this._afterLeavingCenter=new n.vpe,this._onCentered=new n.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),s.markForCheck()})),this._translateTabComplete.pipe(Or((o,a)=>o.fromState===a.fromState&&o.toState===a.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(Ji,8),n.Y36(n.sBO))},r.\u0275dir=n.lG2({type:r,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),r})(),aq=(()=>{class r extends kee{constructor(e,i,s){super(e,i,s)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(Ji,8),n.Y36(n.sBO))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&n.Gf(bc,5),2&e){let s;n.iGM(s=n.CRH())&&(i._portalHost=s.first)}},hostAttrs:[1,"mat-tab-body"],features:[n.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(n.TgZ(0,"div",0,1),n.NdJ("@translateTab.start",function(o){return i._onTranslateTabStarted(o)})("@translateTab.done",function(o){return i._translateTabComplete.next(o)}),n.YNc(2,lee,0,0,"ng-template",2),n.qZA()),2&e&&n.Q6J("@translateTab",n.WLB(3,uee,i._position,n.VKq(1,cee,i.animationDuration)))},dependencies:[Iee],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Mee.translateTab]}}),r})();const lq=new n.OlP("MAT_TABS_CONFIG"),Ree=gy(class{});let cq=(()=>{class r extends Ree{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(n.uIk("aria-disabled",!!i.disabled),n.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[n.qOj]}),r})();const uq=dy({passive:!0});let Fee=(()=>{class r{constructor(e,i,s,o,a,d,f){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=s,this._dir=o,this._ngZone=a,this._platform=d,this._animationMode=f,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Fe.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Fe.xQ,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new n.vpe,this.indexFocused=new n.vpe,a.runOutsideAngular(()=>{_r(e.nativeElement,"mouseleave").pipe(We(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=at(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Lr(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){_r(this._previousPaginator.nativeElement,"touchstart",uq).pipe(We(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),_r(this._nextPaginator.nativeElement,"touchstart",uq).pipe(We(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:(0,Ve.of)("ltr"),i=this._viewportRuler.change(150),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new PC(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(tn(1)).subscribe(s),(0,ci.T)(e,i,this._items.changes,this._itemsResized()).pipe(We(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(We(this._destroyed)).subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?vs.E:this._items.changes.pipe(yn(this._items),kn(e=>new mn.y(i=>this._ngZone.runOutsideAngular(()=>{const s=new ResizeObserver(o=>i.next(o));return e.forEach(o=>s.observe(o.elementRef.nativeElement)),()=>{s.disconnect()}}))),TM(1),Lt(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Es(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const s=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:a}=i.elementRef.nativeElement;let d,f;"ltr"==this._getLayoutDirection()?(d=o,f=d+a):(f=this._tabListInner.nativeElement.offsetWidth-o,d=f-a);const g=this.scrollDistance,b=this.scrollDistance+s;d<g?this.scrollDistance-=g-d+60:f>b&&(this.scrollDistance+=f-b+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),fM(650,100).pipe(We((0,ci.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:s,distance:o}=this._scrollHeader(e);(0===o||o>=s)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36($d),n.Y36(Ji,8),n.Y36(n.R0b),n.Y36(Ri),n.Y36(n.QbO,8))},r.\u0275dir=n.lG2({type:r,inputs:{disablePagination:"disablePagination"}}),r})(),Pee=(()=>{class r extends Fee{constructor(e,i,s,o,a,d,f){super(e,i,s,o,a,d,f),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=at(e)}_itemSelected(e){e.preventDefault()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36($d),n.Y36(Ji,8),n.Y36(n.R0b),n.Y36(Ri),n.Y36(n.QbO,8))},r.\u0275dir=n.lG2({type:r,inputs:{disableRipple:"disableRipple"},features:[n.qOj]}),r})(),Lee=(()=>{class r extends Pee{constructor(e,i,s,o,a,d,f){super(e,i,s,o,a,d,f)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36($d),n.Y36(Ji,8),n.Y36(n.R0b),n.Y36(Ri),n.Y36(n.QbO,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-tab-header"]],contentQueries:function(e,i,s){if(1&e&&n.Suo(s,cq,4),2&e){let o;n.iGM(o=n.CRH())&&(i._items=o)}},viewQuery:function(e,i){if(1&e&&(n.Gf(sq,7),n.Gf(dee,7),n.Gf(hee,7),n.Gf(fee,7),n.Gf(pee,5),n.Gf(mee,5)),2&e){let s;n.iGM(s=n.CRH())&&(i._inkBar=s.first),n.iGM(s=n.CRH())&&(i._tabListContainer=s.first),n.iGM(s=n.CRH())&&(i._tabList=s.first),n.iGM(s=n.CRH())&&(i._tabListInner=s.first),n.iGM(s=n.CRH())&&(i._nextPaginator=s.first),n.iGM(s=n.CRH())&&(i._previousPaginator=s.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&n.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[n.qOj],ngContentSelectors:rq,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"button",0,1),n.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(o){return i._handlePaginatorPress("before",o)})("touchend",function(){return i._stopInterval()}),n._UZ(2,"div",2),n.qZA(),n.TgZ(3,"div",3,4),n.NdJ("keydown",function(o){return i._handleKeydown(o)}),n.TgZ(5,"div",5,6),n.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),n.TgZ(7,"div",7,8),n.Hsn(9),n.qZA(),n._UZ(10,"mat-ink-bar"),n.qZA()(),n.TgZ(11,"button",9,10),n.NdJ("mousedown",function(o){return i._handlePaginatorPress("after",o)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),n._UZ(13,"div",2),n.qZA()),2&e&&(n.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),n.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),n.xp6(5),n.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),n.xp6(6),n.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),n.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[Xd,rP,sq],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),r})(),Bee=0;class Uee{}const Vee=Kd(Jm(class{constructor(r){this._elementRef=r}}),"primary");let Zee=(()=>{class r extends Vee{constructor(e,i,s,o){super(e),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new n.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Re.w.EMPTY,this._tabLabelSubscription=Re.w.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new n.vpe,this.focusChange=new n.vpe,this.animationDone=new n.vpe,this.selectedTabChange=new n.vpe(!0),this._groupId=Bee++,this.animationDuration=s&&s.animationDuration?s.animationDuration:"500ms",this.disablePagination=!(!s||null==s.disablePagination)&&s.disablePagination,this.dynamicHeight=!(!s||null==s.dynamicHeight)&&s.dynamicHeight,this.contentTabIndex=s?.contentTabIndex??null,this.preserveContent=!!s?.preserveContent}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=at(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Lr(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Lr(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=at(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=at(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const s=this._tabBodyWrapper.nativeElement;s.style.minHeight=s.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((s,o)=>s.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,s)=>{i.position=s-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let s;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,s=i[o];break}!s&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(yn(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new Uee;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,ci.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,s){e.disabled||(this.selectedIndex=i.focusIndex=s)}_getTabIndex(e,i){return e.disabled?null:i===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(lq,8),n.Y36(n.QbO,8))},r.\u0275dir=n.lG2({type:r,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[n.qOj]}),r})(),Wm=(()=>{class r extends Zee{constructor(e,i,s,o){super(e,i,s,o)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(lq,8),n.Y36(n.QbO,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-tab-group"]],contentQueries:function(e,i,s){if(1&e&&n.Suo(s,Jf,5),2&e){let o;n.iGM(o=n.CRH())&&(i._allTabs=o)}},viewQuery:function(e,i){if(1&e&&(n.Gf(gee,5),n.Gf(_ee,5)),2&e){let s;n.iGM(s=n.CRH())&&(i._tabBodyWrapper=s.first),n.iGM(s=n.CRH())&&(i._tabHeader=s.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&n.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[n._Bn([{provide:oq,useExisting:r}]),n.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-tab-header",0,1),n.NdJ("indexFocused",function(o){return i._focusChanged(o)})("selectFocusedIndex",function(o){return i.selectedIndex=o}),n.YNc(2,Cee,5,15,"div",2),n.qZA(),n.TgZ(3,"div",3,4),n.YNc(5,wee,1,11,"mat-tab-body",5),n.qZA()),2&e&&(n.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),n.xp6(2),n.Q6J("ngForOf",i._tabs),n.xp6(1),n.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),n.xp6(2),n.Q6J("ngForOf",i._tabs))},dependencies:[Fn,ln,ke,bc,Xd,rj,cq,aq,Lee],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),r})(),hq=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn,Xt,Gf,yy,DM,EM,Xt]}),r})(),ga=(()=>{class r{constructor(e,i,s,o){this.session=e,this.httpClient=i,this.router=s,this.afAuth=o,this.tokenstring="Firebase ID token has expired"}run(e){return this.standardHttpCall(To_apiURL+"/service",e)}standardHttpCall(e,i){const s=this.session.getUID();i.uid=s;const o=this.session.getToken(),a=gf.setupHeader(o);return this.httpClient.post(e,i,{headers:a}).pipe(tr(d=>(this.errorMsg=d.error instanceof ErrorEvent?`Error: ${d.error.message}`:gf.getServerErrorMessage(d),(0,Ve.of)({"dataset:servicesuccessful":"false","dataset:serviceresponsemessage":this.errorMsg,"dataset:simpcatobj":null}))))}checkReturn(e){"true"!=e[O.successful]&&e[O.message].search(this.tokenstring)>0&&(alert("User Session Expired"),this.afAuth.logout())}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Oa),n.LFG(ca),n.LFG(jn),n.LFG(yc))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),yr=(()=>{class r{constructor(e,i,s,o,a){this.httpClient=e,this.runservice=i,this.session=s,this.router=o,this.authservice=a,this.errormaintainer="Error in determining maintainer"}determineMaintainer(){var e=this.session.getUID();return null==e&&(e=this.session.getGuestLabel()),(0,Ve.of)(e)}getListOfUsers(){var i=[];return this.runservice.run({service:"ListOfUserAccountNames"}).subscribe({next:s=>{if("true"==s[O.successful]){const d=s[O.catalogobject];for(var a=0;a<d.size();a++)i.push(d[a])}else alert("List of Users not available")}}),i}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ca),n.LFG(ga),n.LFG(Oa),n.LFG(jn),n.LFG(yc))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Si=(()=>{class r{constructor(){this.annotationslabel="annotations",this.annoreflabel="annoref",this.rdfslabel=O.rdfslabel,this.rdfscomment="rdfs:comment",this.dataobjectlabel="dataobject",this.classificationlabel="classification"}findChoices(e,i){const s=[],a=e[i][this.classificationlabel];return null!=a?this.subchoices(e,a,s):alert("No classifications"),s}findTransactionChoices(e){const i=e[this.dataobjectlabel],o=[];return null!=i?this.subchoices(e[this.annotationslabel],i,o):alert("No classifications registered"),o}subchoices(e,i,s){const o=i["dataset:classificationtree"];if(null!=o)for(const a of o){const d=a["dataset:catalogtype"],f=e[d];if(null!=f){const b=[],T={displayName:f[this.rdfslabel],disabled:!1,value:d,children:b};this.subchoices(e,a,b),s.push(T)}}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var fq=j(9312);function XM(r,t=Ed.P){const i=function jee(r){return r instanceof Date&&!isNaN(+r)}(r)?+r-t.now():Math.abs(r);return s=>s.lift(new Hee(i,t))}class Hee{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new GP(t,this.delay,this.scheduler))}}class GP extends er.L{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,s=t.scheduler,o=t.destination;for(;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){const a=Math.max(0,i[0].time-s.now());this.schedule(t,a)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(GP.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new qee(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(fq.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(fq.P.createComplete()),this.unsubscribe()}}class qee{constructor(t,e){this.time=t,this.notification=e}}const Gee=["mat-menu-item",""];function Yee(r,t){1&r&&(n.O4$(),n.TgZ(0,"svg",2),n._UZ(1,"polygon",3),n.qZA())}const pq=["*"];function Jee(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",0),n.NdJ("keydown",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._handleKeydown(s))})("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.closed.emit("click"))})("@transformMenu.start",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._onAnimationStart(s))})("@transformMenu.done",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._onAnimationDone(s))}),n.TgZ(1,"div",1),n.Hsn(2),n.qZA()()}if(2&r){const e=n.oxw();n.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),n.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const eI={transformMenu:io("transformMenu",[ei("void",Jt({opacity:0,transform:"scale(0.8)"})),Ni("void => enter",zi("120ms cubic-bezier(0, 0, 0.2, 1)",Jt({opacity:1,transform:"scale(1)"}))),Ni("* => void",zi("100ms 25ms linear",Jt({opacity:0})))]),fadeInItems:io("fadeInItems",[ei("showing",Jt({opacity:1})),Ni("void => *",[Jt({opacity:0}),zi("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},zee=new n.OlP("MatMenuContent"),YP=new n.OlP("MAT_MENU_PANEL"),$ee=Jm(gy(class{}));let Km=(()=>{class r extends $ee{constructor(e,i,s,o,a){super(),this._elementRef=e,this._document=i,this._focusMonitor=s,this._parentMenu=o,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new Fe.xQ,this._focused=new Fe.xQ,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<i.length;s++)i[s].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(ne),n.Y36(Sl),n.Y36(YP,8),n.Y36(n.sBO))},r.\u0275cmp=n.Xpm({type:r,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&n.NdJ("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(n.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),n.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[n.qOj],attrs:Gee,ngContentSelectors:pq,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(n.F$t(),n.Hsn(0),n._UZ(1,"div",0),n.YNc(2,Yee,2,0,"svg",1)),2&e&&(n.xp6(1),n.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),n.xp6(1),n.Q6J("ngIf",i._triggersSubmenu))},dependencies:[ke,Xd],encapsulation:2,changeDetection:0}),r})();const mq=new n.OlP("mat-menu-default-options",{providedIn:"root",factory:function Qee(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Wee=0,mD=(()=>{class r{constructor(e,i,s,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=s,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new n.n_E,this._tabSubscription=Re.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Fe.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new n.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Wee++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=at(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=at(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(s=>{this._classList[s]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(s=>{this._classList[s]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new PC(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(yn(this._directDescendantItems),kn(e=>(0,ci.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const s=e.toArray(),o=Math.max(0,Math.min(s.length-1,i.activeItemIndex||0));s[o]&&!s[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(yn(this._directDescendantItems),kn(i=>(0,ci.T)(...i.map(s=>s._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,s=this._keyManager;switch(i){case 27:Es(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&s.setFocusOrigin("keyboard"),void s.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(tn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const s=this._keyManager;s.setFocusOrigin(e).setFirstItemActive(),!s.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),s=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[s]=!0,this._previousElevation=s)}setPositionClasses(e=this.xPosition,i=this.yPosition){const s=this._classList;s["mat-menu-before"]="before"===e,s["mat-menu-after"]="after"===e,s["mat-menu-above"]="above"===i,s["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(yn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(mq),n.Y36(n.sBO))},r.\u0275dir=n.lG2({type:r,contentQueries:function(e,i,s){if(1&e&&(n.Suo(s,zee,5),n.Suo(s,Km,5),n.Suo(s,Km,4)),2&e){let o;n.iGM(o=n.CRH())&&(i.lazyContent=o.first),n.iGM(o=n.CRH())&&(i._allItems=o),n.iGM(o=n.CRH())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&n.Gf(n.Rgc,5),2&e){let s;n.iGM(s=n.CRH())&&(i.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),r})(),jC=(()=>{class r extends mD{constructor(e,i,s,o){super(e,i,s,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(mq),n.Y36(n.sBO))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&n.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[n._Bn([{provide:YP,useExisting:r}]),n.qOj],ngContentSelectors:pq,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(n.F$t(),n.YNc(0,Jee,3,6,"ng-template"))},dependencies:[Fn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[eI.transformMenu,eI.fadeInItems]},changeDetection:0}),r})();const gq=new n.OlP("mat-menu-scroll-strategy"),Xee={provide:gq,deps:[Go],useFactory:function Kee(r){return()=>r.scrollStrategies.reposition()}},_q=dy({passive:!0});let ete=(()=>{class r{constructor(e,i,s,o,a,d,f,g,b){this._overlay=e,this._element=i,this._viewContainerRef=s,this._menuItemInstance=d,this._dir=f,this._focusMonitor=g,this._ngZone=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Re.w.EMPTY,this._hoverSubscription=Re.w.EMPTY,this._menuCloseSubscription=Re.w.EMPTY,this._handleTouchStart=T=>{cP(T)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new n.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new n.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=a instanceof mD?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,_q),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_q),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),s=i.getConfig(),o=s.positionStrategy;this._setPosition(e,o),s.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof mD&&(e._startAnimation(),e._directDescendantItems.changes.pipe(We(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof mD?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Lt(s=>"void"===s.toState),tn(1),We(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,s=e.parentMenu;for(;s;)i++,s=s.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new OC({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(s=>{const o="start"===s.connectionPair.overlayX?"after":"before",a="top"===s.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,a)):e.setPositionClasses(o,a)})}_setPosition(e,i){let[s,o]="before"===e.xPosition?["end","start"]:["start","end"],[a,d]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[f,g]=[a,d],[b,T]=[s,o],E=0;if(this.triggersSubmenu()){if(T=s="before"===e.xPosition?"start":"end",o=b="end"===s?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const R=this._parentMaterialMenu.items.first;this._parentInnerPadding=R?R._getHostElement().offsetTop:0}E="bottom"===a?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(f="top"===a?"bottom":"top",g="top"===d?"bottom":"top");i.withPositions([{originX:s,originY:f,overlayX:b,overlayY:a,offsetY:E},{originX:o,originY:f,overlayX:T,overlayY:a,offsetY:E},{originX:s,originY:g,overlayX:b,overlayY:d,offsetY:-E},{originX:o,originY:g,overlayX:T,overlayY:d,offsetY:-E}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),s=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Ve.of)(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Lt(a=>a!==this._menuItemInstance),Lt(()=>this._menuOpen)):(0,Ve.of)();return(0,ci.T)(e,s,o,i)}_handleMousedown(e){lP(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Lt(e=>e===this._menuItemInstance&&!e.disabled),XM(0,Q2.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof mD&&this.menu._isAnimating?this.menu._animationDone.pipe(tn(1),XM(0,Q2.E),We(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Hm(e.templateRef,this._viewContainerRef)),this._portal}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Go),n.Y36(n.SBq),n.Y36(n.s_b),n.Y36(gq),n.Y36(YP,8),n.Y36(Km,10),n.Y36(Ji,8),n.Y36(Sl),n.Y36(n.R0b))},r.\u0275dir=n.lG2({type:r,hostVars:3,hostBindings:function(e,i){1&e&&n.NdJ("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&n.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),r})(),ti=(()=>{class r extends ete{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[n.qOj]}),r})(),tI=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[Xee],imports:[Yn,Xt,yy,my,qf,Xt]}),r})();const yq=["*"];class nte{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new ite(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class ite{constructor(t,e){this.row=t,this.col=e}}const bq=new n.OlP("MAT_GRID_LIST");let wt=(()=>{class r{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Lr(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Lr(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(bq,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&n.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:yq,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"div",0),n.Hsn(1),n.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),r})();const rte=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class JP{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,s){this._gutterSize=vq(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=s}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Dy(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let s=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,s,o),this.setRowStyles(t,e,s,o)}setColStyles(t,e,i,s){let o=this.getBaseTileSize(i,s);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",Dy(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class ste extends JP{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,s){super.init(t,e,i,s),this.fixedRowHeight=vq(this.fixedRowHeight),rte.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Dy(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Dy(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class ote extends JP{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,s){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,s),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Dy(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Dy(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class ate extends JP{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",Dy(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Dy(r){return`calc(${r})`}function vq(r){return r.match(/([A-Za-z%]+)$/)?r:`${r}px`}let Et=(()=>{class r{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Lr(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new ate:e&&e.indexOf(":")>-1?new ote(e):new ste(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new nte);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),s=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,s),i.forEach((o,a)=>{const d=e.positions[a];this._tileStyler.setStyle(o,d.row,d.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(Ji,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-grid-list"]],contentQueries:function(e,i,s){if(1&e&&n.Suo(s,wt,5),2&e){let o;n.iGM(o=n.CRH())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&n.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[n._Bn([{provide:bq,useExisting:r}])],ngContentSelectors:yq,decls:2,vars:0,template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"div"),n.Hsn(1),n.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),r})(),Cq=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[MM,Xt,MM,Xt]}),r})();const cte=["childMenu"];function ute(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"span")(1,"button",4)(2,"span"),n._uU(3),n.qZA()(),n.TgZ(4,"app-menu-item",5,6),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.setValue(s))}),n.qZA()()}if(2&r){const e=n.MAs(5),i=n.oxw().$implicit;n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.Oqu(i.displayName),n.xp6(1),n.Q6J("items",i.children)}}function dte(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"span")(1,"button",7),n.NdJ("click",function(){n.CHM(e);const s=n.oxw().$implicit,o=n.oxw();return n.KtG(o.setValue(s.value))}),n.TgZ(2,"span"),n._uU(3),n.qZA()()()}if(2&r){const e=n.oxw().$implicit;n.xp6(3),n.Oqu(e.displayName)}}function hte(r,t){if(1&r&&(n.TgZ(0,"span"),n.YNc(1,ute,6,3,"span",3),n.YNc(2,dte,4,1,"span",3),n.qZA()),2&r){const e=t.$implicit;n.xp6(1),n.Q6J("ngIf",e.children&&e.children.length>0),n.xp6(1),n.Q6J("ngIf",!e.children||0===e.children.length)}}let Fi=(()=>{class r{constructor(e){this.router=e,this.selectionEvent=new n.vpe}setValue(e){this.selectionEvent.emit(e)}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(jn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-menu-item"]],viewQuery:function(e,i){if(1&e&&n.Gf(cte,5),2&e){let s;n.iGM(s=n.CRH())&&(i.childMenu=s.first)}},inputs:{items:"items"},outputs:{selectionEvent:"selectionEvent"},decls:3,vars:2,consts:[[3,"overlapTrigger"],["childMenu","matMenu"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-menu-item","","color","primary",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],["mat-menu-item","",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-menu",0,1),n.YNc(2,hte,3,2,"span",2),n.qZA()),2&e&&(n.Q6J("overlapTrigger",!1),n.xp6(2),n.Q6J("ngForOf",i.items))},dependencies:[ln,ke,jC,Km,ti,r]}),r})();function fte(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",2)(2,"mat-card",3)(3,"mat-card-header")(4,"mat-card-subtitle"),n._uU(5),n.qZA()(),n.TgZ(6,"mat-card-content")(7,"mat-form-field",4)(8,"mat-label"),n._uU(9),n.qZA(),n._UZ(10,"input",5),n.TgZ(11,"mat-hint"),n._uU(12),n.qZA()(),n.TgZ(13,"app-menu-item",6,7),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setPurpose(s))}),n.qZA(),n.TgZ(15,"mat-form-field",8)(16,"mat-label"),n._uU(17),n.qZA(),n._UZ(18,"input",9),n.TgZ(19,"mat-hint"),n._uU(20),n.qZA()(),n.TgZ(21,"app-menu-item",6,10),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setConcept(s))}),n.qZA()()()(),n.BQk()}if(2&r){const e=n.MAs(14),i=n.MAs(22),s=n.oxw();n.xp6(1),n.Q6J("formGroup",s.objectform),n.xp6(4),n.Oqu(s.header),n.xp6(4),n.Oqu(s.purposelabel),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.Oqu(s.purposehint),n.xp6(1),n.Q6J("items",s.purposeitems),n.xp6(4),n.Oqu(s.conceptlabel),n.xp6(1),n.Q6J("matMenuTriggerFor",i.childMenu),n.xp6(2),n.Oqu(s.concepthint),n.xp6(1),n.Q6J("items",s.conceptitems)}}function pte(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let mte=(()=>{class r{constructor(e,i){this.formBuilder=e,this.menusetup=i,this.rdfsidentifier=O.dctermsidentifier,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.message="Initializing",this.objectform=this.formBuilder.group({Concept:["",oe.required],Purpose:["",oe.required]})}ngOnInit(){this.setLabels(this.descriptionsuffix),this.conceptitems=this.menusetup.findChoices(this.annoinfo,this.conceptloc),this.purposeitems=this.menusetup.findChoices(this.annoinfo,this.purposeloc)}setLabels(e){this.pair="dataset:PurposeConcept"+e,this.conceptloc="dataset:Concept"+e,this.purposeloc="dataset:Purpose"+e,this.header=this.annoinfo[this.pair][this.rdfslabel],this.conceptlabel=this.annoinfo[this.conceptloc][this.rdfslabel],this.concepthint=this.annoinfo[this.conceptloc][this.rdfscomment],this.purposelabel=this.annoinfo[this.purposeloc][this.rdfslabel],this.purposehint=this.annoinfo[this.purposeloc][this.rdfscomment],this.conceptid=this.annoinfo[this.conceptloc][this.rdfsidentifier],this.purposeid=this.annoinfo[this.purposeloc][this.rdfsidentifier]}getData(e){e[this.conceptid]=this.objectform.get("Concept").value,e[this.purposeid]=this.objectform.get("Purpose").value}setData(e){if(this.setLabels(this.descriptionsuffix),null!=e){const i=e[this.purposeid];null!=i&&this.objectform.get("Purpose").setValue(i);const s=e[this.conceptid];null!=s&&this.objectform.get("Concept").setValue(s)}}setConcept(e){this.objectform.get("Concept").setValue(e)}setPurpose(e){this.objectform.get("Purpose").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-catalogconceptpurpose"]],inputs:{descriptionsuffix:"descriptionsuffix",annoinfo:"annoinfo"},decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],[1,"paircard"],[1,"purpose"],["matInput","","formControlName","Purpose",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["purposemenu",""],[1,"concept"],["matInput","","formControlName","Concept",3,"matMenuTriggerFor"],["conceptmenu",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"div"),n._uU(1,"\nPurpose Concept\n"),n.qZA(),n.YNc(2,fte,23,10,"ng-container",0),n.YNc(3,pte,2,1,"ng-template",null,1,n.W1O)),2&e){const s=n.MAs(4);n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,lt,Xe,rn,hn,Nt,Bt,zt,Ot,Gt,Fi],styles:[".purpose[_ngcontent-%COMP%], .concept[_ngcontent-%COMP%]{width:50%;padding:10px}"]}),r})();function nI(r){return r&&"function"==typeof r.connect&&!(r instanceof sa.c)}class wq{applyChanges(t,e,i,s,o){t.forEachOperation((a,d,f)=>{let g,b;if(null==a.previousIndex){const T=i(a,d,f);g=e.createEmbeddedView(T.templateRef,T.context,T.index),b=1}else null==f?(e.remove(d),b=3):(g=e.get(d),e.move(g,f),b=2);o&&o({context:g?.context,operation:b,record:a})})}detach(){}}class iI{constructor(t=!1,e,i=!0,s){this._multiple=t,this._emitChanges=i,this.compareWith=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Fe.xQ,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const s=this._hasQueuedChanges();return this._emitChangeEvent(),s}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let Dq=(()=>{class r{constructor(){this._listeners=[]}notify(e,i){for(let s of this._listeners)s(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const gD=new n.OlP("_ViewRepeater"),gte=["*"],xq=new n.OlP("MatChipRemove"),Sq=new n.OlP("MatChipAvatar"),Aq=new n.OlP("MatChipTrailingIcon");class _te{constructor(t){this._elementRef=t}}const yte=eD(Kd(Jm(_te),"primary"),-1);let HC=(()=>{class r extends yte{constructor(e,i,s,o,a,d,f,g){super(e),this._ngZone=i,this._changeDetectorRef=a,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Fe.xQ,this._onBlur=new Fe.xQ,this.selectionChange=new n.vpe,this.destroyed=new n.vpe,this.removed=new n.vpe,this._addHostClassName(),this._chipRippleTarget=d.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new fj(this,i,this._chipRippleTarget,s),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=o||{},this._animationsDisabled="NoopAnimations"===f,this.tabIndex=null!=g&&parseInt(g)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const i=at(e);i!==this._selected&&(this._selected=i,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=at(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=at(e)}get removable(){return this._removable}set removable(e){this._removable=at(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",i=this._elementRef.nativeElement;i.hasAttribute(e)||i.tagName.toLowerCase()===e?i.classList.add(e):i.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case 46:case 8:this.remove(),e.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe(tn(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(Ri),n.Y36(pj,8),n.Y36(n.sBO),n.Y36(ne),n.Y36(n.QbO,8),n.$8M("tabindex"))},r.\u0275dir=n.lG2({type:r,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,i,s){if(1&e&&(n.Suo(s,Sq,5),n.Suo(s,Aq,5),n.Suo(s,xq,5)),2&e){let o;n.iGM(o=n.CRH())&&(i.avatar=o.first),n.iGM(o=n.CRH())&&(i.trailingIcon=o.first),n.iGM(o=n.CRH())&&(i.removeIcon=o.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&n.NdJ("click",function(o){return i._handleClick(o)})("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i.focus()})("blur",function(){return i._blur()}),2&e&&(n.uIk("tabindex",i.disabled?null:i.tabIndex)("role",i.role)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString())("aria-selected",i.ariaSelected),n.ekj("mat-chip-selected",i.selected)("mat-chip-with-avatar",i.avatar)("mat-chip-with-trailing-icon",i.trailingIcon||i.removeIcon)("mat-chip-disabled",i.disabled)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[n.qOj]}),r})(),rI=(()=>{class r{constructor(e,i){this._parentChip=e,"BUTTON"===i.nativeElement.nodeName&&i.nativeElement.setAttribute("type","button")}_handleClick(e){const i=this._parentChip;i.removable&&!i.disabled&&i.remove(),e.stopPropagation(),e.preventDefault()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(HC),n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(e,i){1&e&&n.NdJ("click",function(o){return i._handleClick(o)})},features:[n._Bn([{provide:xq,useExisting:r}])]}),r})();const Eq=new n.OlP("mat-chips-default-options"),Cte=hP(class{constructor(r,t,e,i){this._defaultErrorStateMatcher=r,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Fe.xQ}});let wte=0;class Tte{constructor(t,e){this.source=t,this.value=e}}let sI=(()=>{class r extends Cte{constructor(e,i,s,o,a,d,f){super(d,o,a,f),this._elementRef=e,this._changeDetectorRef=i,this._dir=s,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Fe.xQ,this._uid="mat-chip-list-"+wte++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(g,b)=>g===b,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new n.vpe,this.valueChange=new n.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(e){this._explicitRole=e}get multiple(){return this._multiple}set multiple(e){this._multiple=at(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(oe.required)??!1}set required(e){this._required=at(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=at(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=at(e),this._syncChipsState()}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,ci.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,ci.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,ci.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,ci.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new PC(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(We(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(We(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(yn(null),We(this._destroyed)).subscribe(()=>{(this.disabled||!this.selectable)&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new iI(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const i=e.target;i&&i.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,i=!0){if(this._clearSelection(),this.chips.forEach(s=>s.deselect()),Array.isArray(e))e.forEach(s=>this._selectValue(s,i)),this._sortValues();else{const s=this._selectValue(e,i);s&&i&&this._keyManager.setActiveItem(s)}}_selectValue(e,i=!0){const s=this.chips.find(o=>null!=o.value&&this._compareWith(o.value,e));return s&&(i?s.selectViaInteraction():s.select(),this._selectionModel.select(s)),s}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(i=>{i!==e&&i.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let i=null;i=Array.isArray(this.selected)?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=i,this.change.emit(new Tte(this,i)),this.valueChange.emit(i),this._onChange(i),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(i=>{!this._selectionModel.isSelected(i)&&i.selected&&i.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let i=this.chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&this._keyManager.updateActiveItem(i),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const i=e.chip,s=this.chips.toArray().indexOf(e.chip);this._isValidIndex(s)&&i._hasFocus&&(this._lastDestroyedChipIndex=s)})}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-chip"))return!0;i=i.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(Ji,8),n.Y36(UC,8),n.Y36(Ot,8),n.Y36(zm),n.Y36(Tu,10))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-chip-list"]],contentQueries:function(e,i,s){if(1&e&&n.Suo(s,HC,5),2&e){let o;n.iGM(o=n.CRH())&&(i.chips=o)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(e,i){1&e&&n.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(o){return i._keydown(o)}),2&e&&(n.Ikx("id",i._uid),n.uIk("tabindex",i.disabled?null:i._tabIndex)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-multiselectable",i.multiple)("role",i.role)("aria-orientation",i.ariaOrientation),n.ekj("mat-chip-list-disabled",i.disabled)("mat-chip-list-invalid",i.errorState)("mat-chip-list-required",i.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[n._Bn([{provide:hD,useExisting:r}]),n.qOj],ngContentSelectors:gte,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"div",0),n.Hsn(1),n.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),r})(),Dte=0,oI=(()=>{class r{constructor(e,i){this._elementRef=e,this._defaultOptions=i,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new n.vpe,this.placeholder="",this.id="mat-chip-list-input-"+Dte++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement}set chipList(e){e&&(this._chipList=e,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=at(e)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(e){this._disabled=at(e)}get empty(){return!this.inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(e){if(e){if(9===e.keyCode&&!Es(e,"shiftKey")&&this._chipList._allowFocusEscape(),8===e.keyCode&&this._focusLastChipOnBackspace)return this._chipList._keyManager.setLastItemActive(),void e.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(e)}_keyup(e){!this._focusLastChipOnBackspace&&8===e.keyCode&&this.empty&&(this._focusLastChipOnBackspace=!0,e.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipList.stateChanges.next()}_emitChipEnd(e){!this.inputElement.value&&!!e&&this._chipList._keydown(e),(!e||this._isSeparatorKey(e))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(e){this.inputElement.focus(e)}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}_isSeparatorKey(e){return!Es(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(Eq))},r.\u0275dir=n.lG2({type:r,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(e,i){1&e&&n.NdJ("keydown",function(o){return i._keydown(o)})("keyup",function(o){return i._keyup(o)})("blur",function(){return i._blur()})("focus",function(){return i._focus()})("input",function(){return i._onInput()}),2&e&&(n.Ikx("id",i.id),n.uIk("disabled",i.disabled||null)("placeholder",i.placeholder||null)("aria-invalid",i._chipList&&i._chipList.ngControl?i._chipList.ngControl.invalid:null)("aria-required",i._chipList&&i._chipList.required||null))},inputs:{chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[n.TTD]}),r})(),Mq=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[zm,{provide:Eq,useValue:{separatorKeyCodes:[13]}}],imports:[Xt]}),r})();function xte(r,t){1&r&&(n.TgZ(0,"mat-icon",7),n._uU(1,"cancel"),n.qZA())}function Ste(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"mat-chip",5),n.NdJ("removed",function(){const o=n.CHM(e).$implicit,a=n.oxw();return n.KtG(a.remove(o))}),n._uU(1),n.YNc(2,xte,2,0,"mat-icon",6),n.qZA()}if(2&r){const e=t.$implicit,i=n.oxw();n.Q6J("selectable",i.selectable)("removable",i.removable),n.xp6(1),n.hij(" ",e," "),n.xp6(1),n.Q6J("ngIf",i.removable)}}let Iq=(()=>{class r{constructor(){this.selectable=!0,this.removable=!0,this.visible=!0,this.addOnBlur=!0,this.separatorKeysCodes=[13,188],this.keywords=[]}ngOnInit(){}setKeys(e){if(null!=e&&(this.keywords=[],e.length>0))for(let i=0;i<e.length;i++)this.keywords.push(e[i])}getKeys(){var e=[];for(let i of this.keywords)e.push(i);return e}add(e){const i=e.input,s=e.value;(s||"").trim()&&this.keywords.push(s.trim()),i&&(i.value="")}remove(e){const i=this.keywords.indexOf(e);i>=0&&this.keywords.splice(i,1)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-keywordlistprimitive"]],decls:5,vars:4,consts:[[1,"chip-list"],["aria-label","Keyword selection",1,"chip-list"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","Keywords",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-form-field",0)(1,"mat-chip-list",1,2),n.YNc(3,Ste,3,4,"mat-chip",3),n.TgZ(4,"input",4),n.NdJ("matChipInputTokenEnd",function(o){return i.add(o)}),n.qZA()()()),2&e){const s=n.MAs(2);n.xp6(3),n.Q6J("ngForOf",i.keywords),n.xp6(1),n.Q6J("matChipInputFor",s)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",i.addOnBlur)}},dependencies:[ln,ke,rr,Rt,sI,HC,oI,rI],styles:[".chip-list[_ngcontent-%COMP%]{width:100%}"]}),r})();const Ate=["concept"],Ete=["keywords"];let zP=(()=>{class r{constructor(e){this.formBuilder=e,this.rdfsidentifier=O.dctermsidentifier,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.objectform=this.formBuilder.group({DescriptionAbstract:["",oe.required],DescriptionTitle:["",oe.required]}),this.message="No Description"}ngOnInit(){this.setLabels(this.descriptionsuffix),this.header=this.annoinfo[this.description][this.rdfslabel],this.abstrlabel=this.annoinfo[this.abst][this.rdfslabel],this.abstrhint=this.annoinfo[this.abst][this.rdfscomment],this.titlelabel=this.annoinfo[this.title][this.rdfslabel],this.titlehint=this.annoinfo[this.title][this.rdfscomment]}setLabels(e){0==e.length?(this.description="dataset:DataDataDescription",this.abst="dataset:DescriptionAbstract",this.title="dataset:DescriptionTitle",this.purconloc="dataset:PurposeConcept",this.keywordloc="dataset:DescriptionKeyword"):(this.description="dataset:DataDescription"+e,this.abst="dataset:DescriptionAbstract"+e,this.title="dataset:DescriptionTitle"+e,this.purconloc="dataset:PurposeConcept"+e,this.keywordloc="dataset:DescriptionKeyword"+e)}getData(e){const s=this.annoinfo[this.abst],o=this.annoinfo[this.title],a=this.annoinfo[this.purconloc],d=this.annoinfo[this.keywordloc],f={};e[this.annoinfo[this.description][this.rdfsidentifier]]=f,f[s[this.rdfsidentifier]]=this.objectform.get("DescriptionAbstract").value,f[o[this.rdfsidentifier]]=this.objectform.get("DescriptionTitle").value;const g={};this.concept.getData(g),f[a[this.rdfsidentifier]]=g;const T=this.keywords.getKeys();f[d[this.rdfsidentifier]]=T}setData(e){const i=this.annoinfo[this.abst],s=this.annoinfo[this.title],o=this.annoinfo[this.purconloc],a=this.annoinfo[this.keywordloc];this.objectform.get("DescriptionAbstract").setValue(e[i[this.rdfsidentifier]]),this.objectform.get("DescriptionTitle").setValue(e[s[this.rdfsidentifier]]),this.concept.setData(e[o[this.rdfsidentifier]]);const b=e[a[this.rdfsidentifier]];null!=b&&this.keywords.setKeys(b)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-datadatadescription"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Ate,5),n.Gf(Ete,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.concept=s.first),n.iGM(s=n.CRH())&&(i.keywords=s.first)}},inputs:{descriptionsuffix:"descriptionsuffix",annoinfo:"annoinfo"},decls:22,vars:8,consts:[[3,"formGroup"],[1,"border"],[1,"title"],["matInput","","formControlName","DescriptionTitle"],[1,"abstract"],["matInput","","formControlName","DescriptionAbstract"],[3,"annoinfo","descriptionsuffix","annoinfoChange","descriptionsuffixChange"],["concept",""],["keywords",""]],template:function(e,i){1&e&&(n.TgZ(0,"form",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-subtitle"),n._uU(4),n.qZA()(),n.TgZ(5,"mat-card-content")(6,"mat-form-field",2)(7,"mat-label"),n._uU(8),n.qZA(),n._UZ(9,"input",3),n.TgZ(10,"mat-hint"),n._uU(11),n.qZA()(),n.TgZ(12,"mat-form-field",4)(13,"mat-label"),n._uU(14),n.qZA(),n._UZ(15,"textarea",5),n.TgZ(16,"mat-hint"),n._uU(17),n.qZA()(),n.TgZ(18,"app-catalogconceptpurpose",6,7),n.NdJ("annoinfoChange",function(o){return i.annoinfo=o})("descriptionsuffixChange",function(o){return i.descriptionsuffix=o}),n.qZA(),n._UZ(20,"app-keywordlistprimitive",null,8),n.qZA()()()),2&e&&(n.Q6J("formGroup",i.objectform),n.xp6(4),n.Oqu(i.header),n.xp6(4),n.Oqu(i.titlelabel),n.xp6(3),n.Oqu(i.titlehint),n.xp6(3),n.Oqu(i.abstrlabel),n.xp6(3),n.Oqu(i.abstrhint),n.xp6(1),n.Q6J("annoinfo",i.annoinfo)("descriptionsuffix",i.descriptionsuffix))},dependencies:[Rt,en,kt,Pt,et,lt,Xe,rn,hn,Nt,Bt,zt,Ot,Gt,mte,Iq],styles:['.description[_ngcontent-%COMP%]{padding-top:50px;padding-right:50px}.title[_ngcontent-%COMP%]{padding:0;width:"100%";display:block}.abstract[_ngcontent-%COMP%]{padding:0;width:100%}.border[_ngcontent-%COMP%]{border:2px solid grey;border-radius:5px}']}),r})(),Ar=(()=>{class r{constructor(){this.DatabaseObjectType="dataset:objectype",this.CatalogObjectAccessRead="dataset:readaccess",this.CatalogObjectOwner="dcterms:creator",this.CatalogObjectKey="dataset:catalogkey",this.CatalogObjectAccessModify="dataset:accessmodify",this.TransactionID="transaction",this.CatalogHiearchyNode="dataset:cataloghiearchynode",this.DatasetCollectionsLabel="dataset:datasetcollectionslabel",this.DatabaseObjectIDOutputTransaction="dataset:transoutobjid",this.FirestoreCatalogID="dataset:firestorecatalog",this.DataCatalog="skos:inScheme",this.SimpleCatalogName="qb:DataSet",this.CollectionDocumentIDPairAddress="dataset:addressidpairs",this.CollectionDocumentIDPair="dataset:collectiondocpair",this.DatasetCollectionID="dataset:collectionid",this.DatasetDocumentID="dataset:documentid",this.DatasetIDLevel="dataset:idlevel",this.DataSetReference="dcterms:BibliographicResource",this.DOI="datacite:PrimaryResourceIdentifier",this.ReferenceString="dataset:referencestring",this.ReferenceTitle="dataset:referencetitle",this.AuthorNameTitle="dataset:authortitle",this.AuthorGivenName="dataset:authorgivenname",this.AuthorFamilyName="dataset:authorfamilyname",this.AuthorInformation="dc:creator",this.DataObjectLink="skos:mappingRelation",this.DataTypeConcept="qb:concept",this.ObjectSiteReference="foaf:page",this.HTTPAddress="dataset:HttpAddress",this.HttpAddressInformationType="dataset:httpinformationtype",this.GCSBlobFileInformationStaging="dataset:gcsstagingblob",this.DescriptionAbstract="dcterms:description",this.FileSourceFormat="dataset:filesourceformat",this.GCSFileName="dataset:GCSFileName",this.GCSFilePath="dataset:GCSFilePath",this.RepositoryFileStaging="dataset:RepositoryFileStaging",this.DescriptionTitle="dcterms:title",this.DatasetTransactionSpecificationForCollection="dataset:datasettransactionspecification",this.CatalogObjectUniqueGenericLabel="dataset:dataset:uniquegenericname",this.DatasetName="dataset:datasetname",this.DatasetVersion="dataset:datasetversion",this.CatalogDataObjectMaintainer="dataset:catalogobjectmaintainer",this.CatalogDataObjectStatus="dataset:dataobjstatus",this.TransactionEventType="prov:activity",this.ActivityRepositoryInitialReadInfo="dataset:repinitialreadinfo",this.ActivityRepositoryInitialReadLocalFile="dataset:initialrepositorylocal",this.ActivityRepositoryInitialReadStringContent="dataset:initialrepositorystring",this.ActivityRepositoryInitialReadURL="dataset:initialrepositoryurl",this.UploadFileSource="dataset:uploadsrc",this.FileSourceMediaType="dataset:filemediatype",this.FileSourceMediaSubType="dataset:filesourcesubtype",this.FileSourceIdentifier="dataset:fileidentifier",this.RepositoryDataPartitionBlock="dataset:RepositoryDataFilePartition",this.ActivityRepositoryPartitionToCatalog="dataset:partitionfilefromrepository",this.BlockLineCount="dataset:blocklinecount",this.FilePartitionMethod="dataset:filepartitionmethod",this.Position="qb:order"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),aI=(()=>{class r{constructor(e,i){this.formBuilder=e,this.identifiers=i,this.rdfslabel=O.rdfslabel,this.rdfscomment="rdfs:comment",this.objectform=this.formBuilder.group({DatabaseObjectType:[""],CatalogObjectAccessRead:[""],CatalogObjectOwner:[""],CatalogObjectKey:[""],CatalogObjectAccessModify:[""],TransactionID:[""]})}ngOnInit(){}setData(e){this.objectform.patchValue({DatabaseObjectType:e[this.identifiers.DatabaseObjectType]}),this.objectform.get("CatalogObjectAccessRead").setValue(e[this.identifiers.CatalogObjectAccessRead]),this.objectform.get("CatalogObjectOwner").setValue(e[this.identifiers.CatalogObjectOwner]),this.objectform.get("CatalogObjectKey").setValue(e[this.identifiers.CatalogObjectKey]),this.objectform.get("CatalogObjectAccessModify").setValue(e[this.identifiers.CatalogObjectAccessModify]),this.objectform.get("TransactionID").setValue(e[this.identifiers.TransactionID])}getData(e){e[this.identifiers.DatabaseObjectType]=this.objectform.get("DatabaseObjectType").value,e[this.identifiers.CatalogObjectAccessRead]=this.objectform.get("CatalogObjectAccessRead").value,e[this.identifiers.CatalogObjectOwner]=this.objectform.get("CatalogObjectOwner").value,e[this.identifiers.CatalogObjectKey]=this.objectform.get("CatalogObjectKey").value,e[this.identifiers.CatalogObjectAccessModify]=this.objectform.get("CatalogObjectAccessModify").value,e[this.identifiers.CatalogObjectAccessRead]=this.objectform.get("CatalogObjectAccessRead").value,e[this.identifiers.TransactionID]=this.objectform.get("CatalogObjectAccessRead").value}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-simpledatabaseobjectstructure"]],inputs:{anno:"anno"},decls:50,vars:19,consts:[[1,"cardbase"],[1,"title"],[3,"formGroup"],["cols","3","rowHeight","100px"],[3,"colspan"],[1,"namefield"],["matInput","","formControlName","DatabaseObjectType",1,"namefield"],["matInput","","formControlName","CatalogObjectKey"],["matInput","","formControlName","TransactionID"],["matInput","","formControlName","CatalogObjectOwner",1,"namefield"],["matInput","","formControlName","CatalogObjectAccessRead"],["matInput","","formControlName","CatalogObjectAccessModify"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle"),n._uU(4,"Basic Object Information"),n.qZA()()(),n.TgZ(5,"mat-card-content")(6,"form",2)(7,"mat-grid-list",3)(8,"mat-grid-tile",4)(9,"mat-form-field",5)(10,"mat-label"),n._uU(11),n.qZA(),n._UZ(12,"input",6),n.TgZ(13,"mat-hint"),n._uU(14),n.qZA()()(),n.TgZ(15,"mat-grid-tile",4)(16,"mat-form-field",5)(17,"mat-label"),n._uU(18),n.qZA(),n._UZ(19,"input",7),n.TgZ(20,"mat-hint"),n._uU(21),n.qZA()()(),n.TgZ(22,"mat-grid-tile",4)(23,"mat-form-field",5)(24,"mat-label"),n._uU(25),n.qZA(),n._UZ(26,"input",8),n.TgZ(27,"mat-hint"),n._uU(28),n.qZA()()(),n.TgZ(29,"mat-grid-tile",4)(30,"mat-form-field",5)(31,"mat-label"),n._uU(32),n.qZA(),n._UZ(33,"input",9),n.TgZ(34,"mat-hint"),n._uU(35),n.qZA()()(),n.TgZ(36,"mat-grid-tile",4)(37,"mat-form-field",5)(38,"mat-label"),n._uU(39),n.qZA(),n._UZ(40,"input",10),n.TgZ(41,"mat-hint"),n._uU(42),n.qZA()()(),n.TgZ(43,"mat-grid-tile",4)(44,"mat-form-field",5)(45,"mat-label"),n._uU(46),n.qZA(),n._UZ(47,"input",11),n.TgZ(48,"mat-hint"),n._uU(49),n.qZA()()()()()()()),2&e&&(n.xp6(6),n.Q6J("formGroup",i.objectform),n.xp6(2),n.Q6J("colspan",1),n.xp6(3),n.Oqu(i.anno["dataset:DatabaseObjectType"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:DatabaseObjectType"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.Oqu(i.anno["dataset:CatalogObjectKey"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:CatalogObjectKey"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.Oqu(i.anno["dataset:TransactionID"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:TransactionID"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.Oqu(i.anno["dataset:CatalogObjectOwner"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:CatalogObjectOwner"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.Oqu(i.anno["dataset:CatalogObjectAccessRead"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:CatalogObjectAccessRead"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.Oqu(i.anno["dataset:CatalogObjectAccessModify"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:CatalogObjectAccessModify"][i.rdfscomment]))},dependencies:[Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt],styles:[".cardbase[_ngcontent-%COMP%]{border:2px solid lightgrey;padding:20px}.title[_ngcontent-%COMP%], .namefield[_ngcontent-%COMP%]{width:100%}"]}),r})();function Mte(r,t){if(1&r&&(n.TgZ(0,"div")(1,"mat-card",8)(2,"mat-card-content")(3,"div",9)(4,"mat-grid-list",10)(5,"mat-grid-tile",4)(6,"mat-form-field",5)(7,"mat-label"),n._uU(8),n.qZA(),n._UZ(9,"input",11),n.TgZ(10,"mat-hint"),n._uU(11),n.qZA()()(),n.TgZ(12,"mat-grid-tile",4)(13,"mat-form-field",5)(14,"mat-label"),n._uU(15),n.qZA(),n._UZ(16,"input",12),n.TgZ(17,"mat-hint"),n._uU(18),n.qZA()()(),n.TgZ(19,"mat-grid-tile",4)(20,"mat-form-field",5)(21,"mat-label"),n._uU(22),n.qZA(),n._UZ(23,"input",13),n.TgZ(24,"mat-hint"),n._uU(25),n.qZA()()()()()()()()),2&r){const e=t.$implicit,i=n.oxw();n.xp6(3),n.Q6J("formGroup",e),n.xp6(2),n.Q6J("colspan",1),n.xp6(3),n.Oqu(i.anno["dataset:DatasetIDLevel"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:DatasetIDLevel"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.Oqu(i.anno["dataset:DatasetCollectionID"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:DatasetCollectionID"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.Oqu(i.anno["dataset:DatasetDocumentID"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:DatasetDocumentID"][i.rdfscomment])}}let Du=(()=>{class r{constructor(e,i){this.formBuilder=e,this.identifiers=i,this.message="No FirestoreID",this.rdfslabel=O.rdfslabel,this.rdfscomment="rdfs:comment",this.objectform=this.formBuilder.group({DataCatalog:["",oe.required],SimpleCatalogName:["",oe.required]}),this.documentdpairaddress=new dD([]),this.display=!1}ngAfterViewInit(){null!=this.catalogID&&this.setData(this.catalogID)}setData(e){if(this.message="  Set FirestoreID",this.catalogID=e,null!=e){this.objectform.get("DataCatalog").setValue(e[this.identifiers.DataCatalog]),this.objectform.get("SimpleCatalogName").setValue(e[this.identifiers.SimpleCatalogName]),this.documentdpairaddress=new dD([]);const s=e[this.identifiers.CollectionDocumentIDPairAddress][this.identifiers.CollectionDocumentIDPair];for(let o of s){const a=this.formBuilder.group({DatasetCollectionID:["",oe.required],DatasetDocumentID:["",oe.required],DatasetIDLevel:[""]});this.documentdpairaddress.push(a),a.get("DatasetCollectionID").setValue(o[this.identifiers.DatasetCollectionID]),a.get("DatasetDocumentID").setValue(o[this.identifiers.DatasetDocumentID]),a.get("DatasetIDLevel").setValue(o[this.identifiers.DatasetIDLevel])}this.display=!0}}getData(e){if(null!=e){const i={};i[this.identifiers.DataCatalog]=this.objectform.get("DataCatalog").value,i[this.identifiers.SimpleCatalogName]=this.objectform.get("SimpleCatalogName").value;const s={};i[this.identifiers.CollectionDocumentIDPairAddress]=s;const o=[];s[this.identifiers.CollectionDocumentIDPair]=o;for(let a=0;a<this.documentdpairaddress.length;a++){const d=this.documentdpairaddress.at(a),f={};f[this.identifiers.DatasetCollectionID]=d.get("DatasetCollectionID").value,f[this.identifiers.DatasetDocumentID]=d.get("DatasetDocumentID").value,f[this.identifiers.DatasetIDLevel]=d.get("DatasetIDLevel").value,o.push(f)}e[this.identifiers.FirestoreCatalogID]=i}}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-firesytorecatalogid"]],inputs:{anno:"anno",catalogID:"catalogID"},decls:18,vars:8,consts:[[1,"address"],[3,"formGroup"],[4,"ngFor","ngForOf"],["cols","2","rowHeight","100px"],[3,"colspan"],[1,"namefield"],["matInput","","formControlName","DataCatalog",1,"namefield"],["matInput","","formControlName","SimpleCatalogName",1,"namefield"],[1,"paircard"],[1,"pair",3,"formGroup"],["cols","3","rowHeight","100px"],["matInput","","formControlName","DatasetIDLevel"],["matInput","","formControlName","DatasetCollectionID"],["matInput","","formControlName","DatasetDocumentID"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"form",1),n.YNc(2,Mte,26,10,"div",2),n.TgZ(3,"mat-grid-list",3)(4,"mat-grid-tile",4)(5,"mat-form-field",5)(6,"mat-label"),n._uU(7),n.qZA(),n._UZ(8,"input",6),n.TgZ(9,"mat-hint"),n._uU(10),n.qZA()()(),n.TgZ(11,"mat-grid-tile",4)(12,"mat-form-field",5)(13,"mat-label"),n._uU(14),n.qZA(),n._UZ(15,"input",7),n.TgZ(16,"mat-hint"),n._uU(17),n.qZA()()()()()()),2&e&&(n.xp6(1),n.Q6J("formGroup",i.objectform),n.xp6(1),n.Q6J("ngForOf",i.documentdpairaddress.controls),n.xp6(2),n.Q6J("colspan",1),n.xp6(3),n.Oqu(i.anno["dataset:DataCatalog"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:DataCatalog"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.Oqu(i.anno["dataset:SimpleCatalogName"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:SimpleCatalogName"][i.rdfscomment]))},dependencies:[ln,Rt,en,kt,Pt,et,Xe,Et,wt,hn,Nt,Bt,zt,Ot,Gt],styles:[".namefield[_ngcontent-%COMP%]{width:100%}.address[_ngcontent-%COMP%]{border:2px solid grey;border-radius:5px}"]}),r})();const Ite=["description"],kte=["firestoreid"],Rte=["simpledata"];function Nte(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",4)(2,"mat-grid-list",5)(3,"mat-grid-tile",6)(4,"mat-form-field",7)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",6)(11,"mat-form-field",7)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",9),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.TgZ(17,"mat-grid-tile",6)(18,"mat-form-field",7)(19,"mat-label"),n._uU(20),n.qZA(),n._UZ(21,"input",10),n.TgZ(22,"mat-hint"),n._uU(23),n.qZA()()(),n.TgZ(24,"mat-grid-tile",11)(25,"mat-form-field",7)(26,"mat-label"),n._uU(27),n.qZA(),n.TgZ(28,"input",12),n.NdJ("readonly",function(){n.CHM(e);const s=n.oxw();return n.KtG(!s.adminrole)}),n.qZA(),n.TgZ(29,"mat-hint"),n._uU(30),n.qZA(),n.TgZ(31,"app-menu-item",13,14),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setUserAccountRole(s))}),n.qZA()()(),n.TgZ(33,"mat-grid-tile",6)(34,"mat-form-field",7)(35,"mat-label"),n._uU(36),n.qZA(),n._UZ(37,"input",15),n.TgZ(38,"mat-hint"),n._uU(39),n.qZA()()()()(),n.TgZ(40,"app-datadatadescription",16,17),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("descriptionsuffixChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.descriptionsuffix=s)}),n.qZA(),n.TgZ(42,"app-firesytorecatalogid",18,19),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(44,"app-simpledatabaseobjectstructure",18,20),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(32),i=n.oxw();n.xp6(1),n.Q6J("formGroup",i.userAccountGroup),n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.Oqu(i.annoinfo["dataset:username"][i.rdfslabel]),n.xp6(1),n.Q6J("readonly",!1),n.xp6(2),n.Oqu(i.annoinfo["dataset:username"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",5),n.xp6(3),n.Oqu(i.annoinfo["dataset:Email"][i.rdfslabel]),n.xp6(1),n.Q6J("readonly",!i.adminrole),n.xp6(2),n.Oqu(i.annoinfo["dataset:Email"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:AuthorizationType"][i.rdfslabel]),n.xp6(1),n.Q6J("readonly",!i.adminrole),n.xp6(2),n.Oqu(i.annoinfo["dataset:AuthorizationType"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.hij("",i.annoinfo["dataset:UserAccountRole"][i.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.hij("",i.annoinfo["dataset:UserAccountRole"][i.rdfscomment]," "),n.xp6(1),n.Q6J("items",i.useraccountitems),n.xp6(2),n.Q6J("colspan",4),n.xp6(3),n.Oqu(i.annoinfo["dataset:UID"][i.rdfslabel]),n.xp6(1),n.Q6J("readonly",!i.adminrole),n.xp6(2),n.Oqu(i.annoinfo["dataset:UID"][i.rdfscomment]),n.xp6(1),n.Q6J("annoinfo",i.annoinfo)("descriptionsuffix",i.descriptionsuffix),n.xp6(2),n.Q6J("anno",i.annoinfo),n.xp6(2),n.Q6J("anno",i.annoinfo)}}function Ote(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let kq=(()=>{class r{constructor(e,i,s,o){this.annotations=i,this.formBuilder=s,this.menusetup=o,this.annoReady=new n.vpe,this.title="User Account Information",this.message="Waiting",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.adminrole=!1,this.descriptionsuffix="UserAccount",this.catalogtype="dataset:UserAccount",this.useraccountrole="dataset:UserAccountRole",this.useraccountitems=[],this.getCatalogAnnoations(),this.userAccountGroup=this.formBuilder.group({UID:["",oe.required],AuthorizationType:["",oe.required],username:["",oe.required],Email:["",oe.email],UserAccountRole:["",oe.required]}),this.userAccountGroup.get("UserAccountRole").setValue("dataset:StandardUser"),e.determineMaintainer().subscribe(a=>{null!=a?this.maintainer=a:alert(e.errormaintainer)})}ngOnInit(){}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;if(this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.annoReady.emit()}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}getData(e){e[this.annoinfo["dataset:UID"][this.identifier]]=this.userAccountGroup.get("UID").value,e[this.annoinfo["dataset:AuthorizationType"][this.identifier]]=this.userAccountGroup.get("AuthorizationType").value,e[this.annoinfo["dataset:username"][this.identifier]]=this.userAccountGroup.get("username").value,e[this.annoinfo["dataset:Email"][this.identifier]]=this.userAccountGroup.get("Email").value,e[this.annoinfo["dataset:UserAccountRole"][this.identifier]]=this.userAccountGroup.get("UserAccountRole").value}setData(e){this.userAccountGroup.get("UID").setValue(e[this.annoinfo["dataset:UID"][this.identifier]]),this.userAccountGroup.get("AuthorizationType").setValue(e[this.annoinfo["dataset:AuthorizationType"][this.identifier]]),this.userAccountGroup.get("username").setValue(e[this.annoinfo["dataset:username"][this.identifier]]),this.userAccountGroup.get("Email").setValue(e[this.annoinfo["dataset:Email"][this.identifier]]),this.userAccountGroup.get("UserAccountRole").setValue(e[this.annoinfo["dataset:UserAccountRole"][this.identifier]]),this.description.setData(e[this.annoinfo["dataset:DataDescriptionUserAccount"][this.identifier]]),this.firestoreid.setData(e[this.annoinfo["dataset:FirestoreCatalogID"][this.identifier]]),this.simpledata.setData(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yr),n.Y36(Rn),n.Y36(Ut),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-useraccount"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Ite,5),n.Gf(kte,5),n.Gf(Rte,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.description=s.first),n.iGM(s=n.CRH())&&(i.firestoreid=s.first),n.iGM(s=n.CRH())&&(i.simpledata=s.first)}},outputs:{annoReady:"annoReady"},decls:11,vars:4,consts:[[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[1,"signinform",3,"formGroup"],["cols","8","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","username",3,"readonly"],["matInput","","formControlName","Email",3,"readonly"],["matInput","","formControlName","AuthorizationType",3,"readonly"],["background","lightgray",3,"colspan"],["matInput","","formControlName","UserAccountRole",3,"matMenuTriggerFor","readonly"],[3,"items","selectionEvent"],["useraccountmenu",""],["matInput","","formControlName","UID",3,"readonly"],[3,"annoinfo","descriptionsuffix","annoinfoChange","descriptionsuffixChange"],["description",""],[3,"anno","annoChange"],["firestoreid",""],["simpledata",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title-group",0)(3,"mat-card-title",1),n._uU(4),n.qZA(),n.TgZ(5,"mat-card-subtitle",1),n._uU(6),n.qZA()()(),n.TgZ(7,"mat-card-content"),n.YNc(8,Nte,46,26,"ng-container",2),n.YNc(9,Ote,2,1,"ng-template",null,3,n.W1O),n.qZA()()),2&e){const s=n.MAs(10);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Oqu(i.maintainer),n.xp6(2),n.Q6J("ngIf",i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,lt,gn,Xe,Oi,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,zP,aI,Du,Fi],styles:[".label[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})(),Fte=(()=>{class r{constructor(e,i){this.formBuilder=e,this.menusetup=i,this.namedatachange=new n.vpe,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.usertitle="dataset:UserTitle",this.usertitleitems=[],this.nameGroup=this.formBuilder.group({familyName:["",oe.required],givenName:["",oe.required],UserTitle:["",oe.required]})}ngOnInit(){this.usertitleitems=this.menusetup.findChoices(this.annoinfo,this.usertitle)}setUserTitle(e){this.nameGroup.get("UserTitle").setValue(e)}setData(e){this.nameGroup.get("familyName").setValue(e[this.annoinfo["dataset:familyName"][this.identifier]]),this.nameGroup.get("givenName").setValue(e[this.annoinfo["dataset:givenName"][this.identifier]]),this.nameGroup.get("UserTitle").setValue(e[this.annoinfo["dataset:UserTitle"][this.identifier]])}getData(e){e[this.annoinfo["dataset:familyName"][this.identifier]]=this.nameGroup.get("familyName").value,e[this.annoinfo["dataset:givenName"][this.identifier]]=this.nameGroup.get("givenName").value,e[this.annoinfo["dataset:UserTitle"][this.identifier]]=this.nameGroup.get("UserTitle").value}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-nameofperson"]],inputs:{annoinfo:"annoinfo"},outputs:{namedatachange:"namedatachange"},decls:28,vars:12,consts:[[1,"signinform",3,"formGroup"],["cols","8","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","familyName"],["matInput","","formControlName","givenName"],["background","label",3,"colspan"],["matInput","","formControlName","UserTitle",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["usertitlemenu",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card"),n._UZ(1,"mat-card-header"),n.TgZ(2,"mat-card-content")(3,"form",0)(4,"mat-grid-list",1)(5,"mat-grid-tile",2)(6,"mat-form-field",3)(7,"mat-label"),n._uU(8),n.qZA(),n._UZ(9,"input",4),n.TgZ(10,"mat-hint"),n._uU(11),n.qZA()()(),n.TgZ(12,"mat-grid-tile",2)(13,"mat-form-field",3)(14,"mat-label"),n._uU(15),n.qZA(),n._UZ(16,"input",5),n.TgZ(17,"mat-hint"),n._uU(18),n.qZA()()(),n.TgZ(19,"mat-grid-tile",6)(20,"mat-form-field",3)(21,"mat-label"),n._uU(22),n.qZA(),n._UZ(23,"input",7),n.TgZ(24,"mat-hint"),n._uU(25),n.qZA(),n.TgZ(26,"app-menu-item",8,9),n.NdJ("selectionEvent",function(o){return i.setUserTitle(o)}),n.qZA()()()()()()()),2&e){const s=n.MAs(27);n.xp6(3),n.Q6J("formGroup",i.nameGroup),n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.Oqu(i.annoinfo["dataset:familyName"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:familyName"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(i.annoinfo["dataset:givenName"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:givenName"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:UserTitle"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",s.childMenu),n.xp6(2),n.Oqu(i.annoinfo["dataset:UserTitle"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.usertitleitems)}},dependencies:[ti,Rt,en,kt,Pt,et,lt,Xe,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Fi],styles:[".label[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();const Pte=["trigger"],Lte=["panel"];function Bte(r,t){if(1&r&&(n.TgZ(0,"span",8),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.Oqu(e.placeholder)}}function Ute(r,t){if(1&r&&(n.TgZ(0,"span",12),n._uU(1),n.qZA()),2&r){const e=n.oxw(2);n.xp6(1),n.Oqu(e.triggerValue)}}function Vte(r,t){1&r&&n.Hsn(0,0,["*ngSwitchCase","true"])}function Zte(r,t){if(1&r&&(n.TgZ(0,"span",9),n.YNc(1,Ute,2,1,"span",10),n.YNc(2,Vte,1,0,"ng-content",11),n.qZA()),2&r){const e=n.oxw();n.Q6J("ngSwitch",!!e.customTrigger),n.xp6(2),n.Q6J("ngSwitchCase",!0)}}function jte(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",13)(1,"div",14,15),n.NdJ("@transformPanel.done",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._panelDoneAnimatingStream.next(s.toState))})("keydown",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._handleKeydown(s))}),n.Hsn(3,1),n.qZA()()}if(2&r){const e=n.oxw();n.Q6J("@transformPanelWrap",void 0),n.xp6(1),n.Gre("mat-select-panel ",e._getPanelTheme(),""),n.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),n.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),n.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Hte=[[["mat-select-trigger"]],"*"],qte=["mat-select-trigger","*"],Rq={transformPanelWrap:io("transformPanelWrap",[Ni("* => void",bP("@transformPanel",[yP()],{optional:!0}))]),transformPanel:io("transformPanel",[ei("void",Jt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ei("showing",Jt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ei("showing-multiple",Jt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ni("void => *",zi("120ms cubic-bezier(0, 0, 0.2, 1)")),Ni("* => void",zi("100ms 25ms linear",Jt({opacity:0})))])};let Nq=0;const Fq=new n.OlP("mat-select-scroll-strategy"),zte=new n.OlP("MAT_SELECT_CONFIG"),$te={provide:Fq,deps:[Go],useFactory:function Jte(r){return()=>r.scrollStrategies.reposition()}};class Qte{constructor(t,e){this.source=t,this.value=e}}const Wte=Jm(eD(gy(hP(class{constructor(r,t,e,i,s){this._elementRef=r,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=s,this.stateChanges=new Fe.xQ}})))),Kte=new n.OlP("MatSelectTrigger");let Xte=(()=>{class r extends Wte{constructor(e,i,s,o,a,d,f,g,b,T,E,R,L,Y){super(a,o,f,g,T),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=s,this._dir=d,this._parentFormField=b,this._liveAnnouncer=L,this._defaultOptions=Y,this._panelOpen=!1,this._compareWith=(W,ve)=>W===ve,this._uid="mat-select-"+Nq++,this._triggerAriaLabelledBy=null,this._destroy=new Fe.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Nq++,this._panelDoneAnimatingStream=new Fe.xQ,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Co(()=>{const W=this.options;return W?W.changes.pipe(yn(W),kn(()=>(0,ci.T)(...W.map(ve=>ve.onSelectionChange)))):this._ngZone.onStable.pipe(tn(1),kn(()=>this.optionSelectionChanges))}),this.openedChange=new n.vpe,this._openedStream=this.openedChange.pipe(Lt(W=>W),(0,Je.U)(()=>{})),this._closedStream=this.openedChange.pipe(Lt(W=>!W),(0,Je.U)(()=>{})),this.selectionChange=new n.vpe,this.valueChange=new n.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Y?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Y.typeaheadDebounceInterval),this._scrollStrategyFactory=R,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(E)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(oe.required)??!1}set required(e){this._required=at(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=at(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=at(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Lr(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new iI(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Or(),We(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(We(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(yn(null),We(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,s=40===i||38===i||37===i||39===i,o=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&o&&!Es(e)||(this.multiple||e.altKey)&&s)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;a.onKeydown(e);const f=this.selected;f&&d!==f&&this._liveAnnouncer.announce(f.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,s=e.keyCode,o=40===s||38===s,a=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(a||13!==s&&32!==s||!i.activeItem||Es(e))if(!a&&this._multiple&&65===s&&e.ctrlKey){e.preventDefault();const d=this.options.some(f=>!f.disabled&&!f.selected);this.options.forEach(f=>{f.disabled||(d?f.select():f.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(tn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new LQ(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(We(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(We(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,ci.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(We(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ci.T)(...this.options.map(i=>i._stateChanges)).pipe(We(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const s=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(s!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),s!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,e):e.indexOf(i)-e.indexOf(s)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(e){return new(e||r)(n.Y36($d),n.Y36(n.sBO),n.Y36(n.R0b),n.Y36(zm),n.Y36(n.SBq),n.Y36(Ji,8),n.Y36(UC,8),n.Y36(Ot,8),n.Y36(QM,8),n.Y36(Tu,10),n.$8M("tabindex"),n.Y36(Fq),n.Y36(uP),n.Y36(zte,8))},r.\u0275dir=n.lG2({type:r,viewQuery:function(e,i){if(1&e&&(n.Gf(Pte,5),n.Gf(Lte,5),n.Gf(JZ,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.trigger=s.first),n.iGM(s=n.CRH())&&(i.panel=s.first),n.iGM(s=n.CRH())&&(i._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[n.qOj,n.TTD]}),r})(),cI=(()=>{class r extends Xte{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,s){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(We(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(tn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=yj(e,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function wW(r,t,e,i){return r<e?r:r+t>e+i?Math.max(0,r-i+t):e}((e+i)*s,s,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Qte(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),s=this._isRtl(),o=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let g=this._selectionModel.selected[0]||this.options.first;a=g&&g.group?32:16}s||(a*=-1);const d=0-(e.left+a-(s?o:0)),f=e.right+a-i.width+(s?0:o);d>0?a+=d+8:f>0&&(a-=f+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,s){const o=this._getItemHeight(),a=(o-this._triggerRect.height)/2,d=Math.floor(256/o);let f;return this.disableOptionCentering?0:(f=0===this._scrollTop?e*o:this._scrollTop===s?(e-(this._getItemCount()-d))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*f-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,a=s.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),g=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;g>a?this._adjustPanelUp(g,a):d>o?this._adjustPanelDown(d,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const s=Math.round(e-i);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,s){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),s=Math.min(i*e,256),a=i*e-s;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=yj(d,this.options,this.optionGroups);const f=s/2;this._scrollTop=this._calculateOverlayScroll(d,f,a),this._offsetY=this._calculateOverlayOffsetY(d,f,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-select"]],contentQueries:function(e,i,s){if(1&e&&(n.Suo(s,Kte,5),n.Suo(s,nD,5),n.Suo(s,_j,5)),2&e){let o;n.iGM(o=n.CRH())&&(i.customTrigger=o.first),n.iGM(o=n.CRH())&&(i.options=o),n.iGM(o=n.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&n.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(n.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),n.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[n._Bn([{provide:hD,useExisting:r},{provide:gj,useExisting:r}]),n.qOj],ngContentSelectors:qte,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(n.F$t(Hte),n.TgZ(0,"div",0,1),n.NdJ("click",function(){return i.toggle()}),n.TgZ(3,"div",2),n.YNc(4,Bte,2,1,"span",3),n.YNc(5,Zte,3,2,"span",4),n.qZA(),n.TgZ(6,"div",5),n._UZ(7,"div",6),n.qZA()(),n.YNc(8,jte,4,14,"ng-template",7),n.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const s=n.MAs(1);n.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),n.xp6(3),n.Q6J("ngSwitch",i.empty),n.uIk("id",i._valueId),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1),n.xp6(3),n.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[Fn,Gs,Is,Ca,JZ,YZ],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Rq.transformPanelWrap,Rq.transformPanel]},changeDetection:0}),r})(),Pq=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[$te],imports:[Yn,my,bj,Xt,qf,WM,bj,Xt]}),r})();function ene(r,t){if(1&r&&(n.TgZ(0,"mat-option",25),n._uU(1),n.qZA()),2&r){const e=t.$implicit,i=n.oxw(3);n.Q6J("value",e["dc:type"]),n.xp6(1),n.Oqu(e[i.rdfslabel])}}function tne(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",17)(1,"mat-form-field",18)(2,"mat-label"),n._uU(3),n.qZA(),n._UZ(4,"input",19),n.TgZ(5,"mat-hint"),n._uU(6),n.qZA()(),n.TgZ(7,"mat-form-field",20)(8,"mat-label"),n._uU(9),n.qZA(),n._UZ(10,"input",21),n.TgZ(11,"mat-hint"),n._uU(12),n.qZA()(),n.TgZ(13,"mat-form-field",22)(14,"mat-label"),n._uU(15),n.qZA(),n.TgZ(16,"mat-select",23),n.YNc(17,ene,2,2,"mat-option",24),n.qZA(),n.TgZ(18,"mat-hint"),n._uU(19),n.qZA()(),n.TgZ(20,"button",8),n.NdJ("click",function(){const o=n.CHM(e).$implicit,a=n.oxw().$implicit,d=n.oxw();return n.KtG(d.deleteAuthor(a,o))}),n.TgZ(21,"mat-icon"),n._uU(22,"delete"),n.qZA()()()}if(2&r){const e=t.index,i=n.oxw(2);n.Q6J("formGroupName",e),n.xp6(3),n.Oqu(i.anno["dataset:AuthorFamilyName"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:AuthorFamilyName"][i.rdfscomment]),n.xp6(3),n.Oqu(i.anno["dataset:AuthorGivenName"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:AuthorGivenName"][i.rdfscomment]),n.xp6(3),n.Oqu(i.anno["dataset:AuthorNameTitle"][i.rdfslabel]),n.xp6(2),n.Q6J("ngForOf",i.titleinformation),n.xp6(2),n.Oqu(i.anno["dataset:AuthorNameTitle"][i.rdfscomment])}}function nne(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div")(1,"mat-card",4)(2,"mat-card-content")(3,"div",5)(4,"mat-form-field",6)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",7),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()(),n.TgZ(10,"button",8),n.NdJ("click",function(){const o=n.CHM(e).index,a=n.oxw();return n.KtG(a.deleteReference(o))}),n.TgZ(11,"mat-icon"),n._uU(12,"delete"),n.qZA()(),n.TgZ(13,"mat-form-field",9)(14,"mat-label"),n._uU(15),n.qZA(),n._UZ(16,"input",10),n.TgZ(17,"mat-hint"),n._uU(18),n.qZA()(),n.TgZ(19,"mat-form-field",9)(20,"mat-label"),n._uU(21),n.qZA(),n._UZ(22,"input",11),n.TgZ(23,"mat-hint"),n._uU(24),n.qZA()(),n.TgZ(25,"div",12)(26,"div",13)(27,"mat-label",14),n._uU(28,"Authors"),n.qZA(),n.TgZ(29,"button",15),n.NdJ("click",function(){const o=n.CHM(e).$implicit,a=n.oxw();return n.KtG(a.addNewAuthor(o))}),n.TgZ(30,"mat-icon"),n._uU(31,"add"),n.qZA()()(),n.YNc(32,tne,23,8,"div",16),n.qZA()()()()()}if(2&r){const e=t.$implicit,i=n.oxw();n.xp6(3),n.Q6J("formGroup",e),n.xp6(3),n.Oqu(i.anno["dataset:ReferenceTitle"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:ReferenceTitle"][i.rdfscomment]),n.xp6(6),n.Oqu(i.anno["dataset:ReferenceString"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:ReferenceString"][i.rdfscomment]),n.xp6(3),n.Oqu(i.anno["dataset:DOI"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:DOI"][i.rdfscomment]),n.xp6(8),n.Q6J("ngForOf",e.controls.AuthorInformation.controls)}}let yD=(()=>{class r{constructor(e,i){this.formBuilder=e,this.identifiers=i,this.titleinformation=[],this.rdfslabel=O.rdfslabel,this.rdfscomment="rdfs:comment",this.addreference="Add Reference",this.filled=!1,this.title="Title"}ngOnInit(){this.references=new dD([]),this.findChoices("dataset:AuthorNameTitle")}newAuthor(){return this.formBuilder.group({index:[""],AuthorFamilyName:["",oe.required],AuthorGivenName:[""],AuthorNameTitle:[""]})}referenceform(){return this.formBuilder.group({DOI:["",oe.required],ReferenceString:["",oe.required],ReferenceTitle:["",oe.required],AuthorInformation:this.formBuilder.array([])})}addreferencegroup(){const e=this.referenceform();this.references.push(e)}setData(e){this.references=new dD([]);for(const i of e){const s=this.referenceform();s.get("DOI").setValue(i[this.identifiers.DOI]),s.get("ReferenceString").setValue(i[this.identifiers.ReferenceString]),s.get("ReferenceTitle").setValue(i[this.identifiers.ReferenceTitle]);const o=i[this.identifiers.AuthorInformation],a=s.get("AuthorInformation");let d=0;for(const f of o){const g=this.newAuthor();g.get("index").setValue(d),g.get("AuthorGivenName").setValue(f[this.identifiers.AuthorGivenName]),g.get("AuthorFamilyName").setValue(f[this.identifiers.AuthorFamilyName]),g.get("AuthorNameTitle").setValue(f[this.identifiers.AuthorNameTitle]),a.push(g),d++}this.references.push(s)}}referenceAuthors(e){return this.references.at(e).get("AuthorInformation")}addNewAuthor(e){const i=e.get("AuthorInformation"),s=this.newAuthor();s.get("index").setValue(i.length),i.push(s)}deleteAuthor(e,i){const s=i.get("index").value,o=e.get("AuthorInformation");o.removeAt(s);for(let a=0;a<o.length;a++)o.at(a).get("index").setValue(a)}addAuthor(e){const i=e.get("index").value;this.referenceAuthors(i).push(e)}getData(e){const i=[];e[this.identifiers.DataSetReference]=i;for(let s=0;s<this.references.length;s++){const o=this.references.at(s),a={};i.push(a),a[this.identifiers.DOI]=o.get("DOI").value,a[this.identifiers.ReferenceString]=o.get("ReferenceString").value,a[this.identifiers.ReferenceTitle]=o.get("ReferenceTitle").value;const d=o.get("AuthorInformation"),f=[];a[this.identifiers.AuthorInformation]=f;for(let g=0;g<d.length;g++){const b={};f.push(b);const T=d.at(g);b[this.identifiers.AuthorFamilyName]=T.get("AuthorFamilyName").value,b[this.identifiers.AuthorGivenName]=T.get("AuthorGivenName").value,b[this.identifiers.AuthorNameTitle]=T.get("AuthorNameTitle").value}}}deleteReference(e){this.references.removeAt(e)}findChoices(e){if(this.filled)alert("filled false");else{const i=this.anno[e],s=i.classification;if(this.title=i[this.rdfslabel],null!=s){const o=s["dataset:classificationtree"];if(null!=o){this.titleinformation=[];for(let a=0;a<o.length;a++){const f=o[a]["dataset:catalogtype"],g=this.anno[f];null!=g&&this.titleinformation.push({"dc:type":f,"rdfs:label":g[this.rdfslabel],"rdfs:comment":g[this.rdfscomment]})}this.filled=!0}else alert("no classification tree"),alert(JSON.stringify(s))}else alert("No classifications")}}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-datasetreference"]],inputs:{anno:"anno"},decls:10,vars:1,consts:[[1,"setofreferences"],[1,"addreference"],["mat-button","",1,"addreferencebutton",3,"click"],[4,"ngFor","ngForOf"],[1,"bibliocard"],[1,"reference",3,"formGroup"],[1,"bibliotitle"],["matInput","","formControlName","ReferenceTitle","placeholder","Manuscript Title"],["mat-button","","color","primary",3,"click"],[1,"biblioreference"],["matInput","","formControlName","ReferenceString","placeholder","Rocket J. Squirrel, J. of Irreproducible Res., vol. 666, pg. 2000-2001 (1984)"],["matInput","","formControlName","DOI","placeholder","https://doi.org/10.1016/j.jir.2020.01.01"],["formArrayName","AuthorInformation",1,"author"],[1,"title"],[1,"addauthor"],["mat-button","",1,"addauthorbutton",3,"click"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"familyreference"],["matInput","","formControlName","AuthorFamilyName"],[1,"givenreference"],["matInput","","formControlName","AuthorGivenName"],[1,"titlereference"],["formControlName","AuthorNameTitle"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle"),n._uU(4," Set of References"),n.qZA(),n.TgZ(5,"button",2),n.NdJ("click",function(){return i.addreferencegroup()}),n.TgZ(6,"mat-icon"),n._uU(7,"add"),n.qZA()()()(),n.TgZ(8,"mat-card-content"),n.YNc(9,nne,33,8,"div",3),n.qZA()()),2&e&&(n.xp6(9),n.Q6J("ngForOf",i.references.controls))},dependencies:[ln,jt,rr,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Nt,Bt,zt,Ot,Gt,JM,wy,cI,nD],styles:[".title[_ngcontent-%COMP%]{width:100%}.setofreferences[_ngcontent-%COMP%]{border:2px solid lightgrey;padding:20px}.addreference[_ngcontent-%COMP%]{width:100%;color:primary}.addreferencebutton[_ngcontent-%COMP%]{width:10%;color:primary}.bibliocard[_ngcontent-%COMP%]{padding:20px;border:1px solid blue;margin:5px}.bibliotitle[_ngcontent-%COMP%]{padding:5px;width:90%}.biblioreference[_ngcontent-%COMP%]{padding:5px;width:100%}.familyreference[_ngcontent-%COMP%], .givenreference[_ngcontent-%COMP%]{padding:5px;width:40%}.titlereference[_ngcontent-%COMP%]{padding:5px;width:10%}.author[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid grey;margin:5px}.addauthor[_ngcontent-%COMP%]{width:90%}"]}),r})(),GC=(()=>{class r{constructor(e){this.viewContainerRef=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b))},r.\u0275dir=n.lG2({type:r,selectors:[["","appLoadChild",""]]}),r})();const ine=["firestoreid"];function rne(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-firesytorecatalogid",12,13),n.NdJ("catalogIDChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.firestoreidvalues=s)})("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.anno=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("catalogID",e.firestoreidvalues)("anno",e.anno)}}function sne(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," No Firestore ID "),n.qZA())}let one=(()=>{class r{constructor(e,i,s){this.formBuilder=e,this.identifiers=i,this.menusetup=s,this.display=!1,this.conceptmenulabel="dataset:DataTypeConcept",this.formatmenulabel="dataset:DatabaseObjectType",this.rdfslabel=O.rdfslabel,this.rdfscomment="rdfs:comment",this.linkform=this.objectlinkform()}ngOnInit(){this.items=this.menusetup.findChoices(this.anno,this.formatmenulabel),this.conceptitems=this.menusetup.findChoices(this.anno,this.conceptmenulabel)}objectlinkform(){return this.formBuilder.group({index:[""],DatabaseObjectType:["",oe.required],DataTypeConcept:["",oe.required]})}deleteLink(){}setIndex(e){this.linkform.get("index").setValue(e)}setData(e){this.catalog=e,null!=this.catalog&&(this.linkform=this.objectlinkform(),this.linkform.get("DatabaseObjectType").setValue(this.catalog[this.identifiers.DatabaseObjectType]),this.linkform.get("DataTypeConcept").setValue(this.catalog[this.identifiers.DataTypeConcept]),this.firestoreidvalues=this.catalog[this.identifiers.FirestoreCatalogID],null!=this.firestoreid&&this.firestoreid.setData(this.firestoreidvalues),this.display=!0)}getData(e){null!=e&&(e[this.identifiers.DatabaseObjectType]=this.linkform.get("DatabaseObjectType").value,e[this.identifiers.DataTypeConcept]=this.linkform.get("DataTypeConcept").value,null!=this.firestoreid&&this.firestoreid.getData(e))}setFileDatabaseObjectType(e){this.linkform.get("DatabaseObjectType").setValue(e)}setDataTypeConcept(e){this.linkform.get("DataTypeConcept").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Ar),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-dataobjectlink"]],viewQuery:function(e,i){if(1&e&&n.Gf(ine,5),2&e){let s;n.iGM(s=n.CRH())&&(i.firestoreid=s.first)}},inputs:{anno:"anno",catalog:"catalog"},decls:26,vars:11,consts:[[1,"bibliocard"],[1,"linkform",3,"formGroup"],[1,"linkconcept"],["matInput","","formControlName","DatabaseObjectType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],[1,"objecttype"],["matInput","","formControlName","DataTypeConcept",3,"matMenuTriggerFor"],["conceptmenu",""],["mat-button","",1,"deletebutton",3,"click"],[4,"ngIf","ngIfElse"],["loading",""],[3,"catalogID","anno","catalogIDChange","annoChange"],["firestoreid",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"form",1)(3,"mat-form-field",2)(4,"mat-label"),n._uU(5),n.qZA(),n._UZ(6,"input",3),n.TgZ(7,"mat-hint"),n._uU(8),n.qZA()(),n.TgZ(9,"app-menu-item",4,5),n.NdJ("selectionEvent",function(o){return i.setFileDatabaseObjectType(o)}),n.qZA(),n.TgZ(11,"mat-form-field",6)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",7),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()(),n.TgZ(17,"app-menu-item",4,8),n.NdJ("selectionEvent",function(o){return i.setDataTypeConcept(o)}),n.qZA(),n.TgZ(19,"button",9),n.NdJ("click",function(){return i.deleteLink()}),n.TgZ(20,"mat-icon"),n._uU(21,"delete"),n.qZA()()(),n.TgZ(22,"div"),n.YNc(23,rne,3,2,"ng-container",10),n.YNc(24,sne,2,0,"ng-template",null,11,n.W1O),n.qZA()()()),2&e){const s=n.MAs(10),o=n.MAs(18),a=n.MAs(25);n.xp6(2),n.Q6J("formGroup",i.linkform),n.xp6(3),n.Oqu(i.anno["dataset:DatabaseObjectType"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",s.childMenu),n.xp6(2),n.Oqu(i.anno["dataset:DatabaseObjectType"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.items),n.xp6(4),n.Oqu(i.anno["dataset:DataTypeConcept"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",o.childMenu),n.xp6(2),n.Oqu(i.anno["dataset:DataTypeConcept"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.conceptitems),n.xp6(6),n.Q6J("ngIf",i.display)("ngIfElse",a)}},dependencies:[ke,jt,rr,ti,Rt,en,kt,Pt,et,Xe,hn,Nt,Bt,zt,Ot,Gt,Du,Fi],styles:[".bibliocard[_ngcontent-%COMP%]{border:2px solid lightgrey}.objecttype[_ngcontent-%COMP%], .linkconcept[_ngcontent-%COMP%]{width:46%}.deletebutton[_ngcontent-%COMP%]{width:6%}.linkform[_ngcontent-%COMP%]{height:60px}"]}),r})();function ane(r,t){}let bD=(()=>{class r{constructor(e){this.identifiers=e,this.linkarray=[],this.message="Initializing"}ngOnInit(){}addEmptyObjectLink(){const e={};e[this.identifiers.DatabaseObjectType]="",e[this.identifiers.DataTypeConcept]="";const i={};e[this.identifiers.FirestoreCatalogID]=i,i[this.identifiers.DataCatalog]="",i[this.identifiers.SimpleCatalogName]="";const s={};i[this.identifiers.CollectionDocumentIDPairAddress]=s,s[this.identifiers.CollectionDocumentIDPair]=[],this.addObjectLink(e)}addObjectLink(e){const i=this.dynamicChild.viewContainerRef.createComponent(one);i.instance.anno=this.anno,i.instance.catalog=e,i.instance.setIndex(this.linkarray.length),this.linkarray.push(i.instance),i.instance.setData(e)}deleteEvent(e){this.linkarray.splice(e,1),this.resetLinkArray()}resetLinkArray(){}setData(e){for(let i of e)this.addObjectLink(i)}getData(e){null!=e&&(e[this.identifiers.DataObjectLink]=[])}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-setofdataobjectlinks"]],viewQuery:function(e,i){if(1&e&&n.Gf(GC,7),2&e){let s;n.iGM(s=n.CRH())&&(i.dynamicChild=s.first)}},inputs:{anno:"anno"},decls:10,vars:0,consts:[[1,"cardbase"],[1,"addlink"],["mat-button","",1,"addlinkbutton",3,"click"],["appLoadChild",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle"),n._uU(4,"Set of Object Links"),n.qZA(),n.TgZ(5,"button",2),n.NdJ("click",function(){return i.addEmptyObjectLink()}),n.TgZ(6,"mat-icon"),n._uU(7,"add"),n.qZA()()()(),n.TgZ(8,"mat-card-content"),n.YNc(9,ane,0,0,"ng-template",3),n.qZA()())},dependencies:[jt,rr,et,lt,gn,Xe,rn,GC],styles:[".cardbase[_ngcontent-%COMP%]{border:2px solid lightgrey;padding:20px}.addlink[_ngcontent-%COMP%]{width:100%;color:primary}.addlinkbutton[_ngcontent-%COMP%]{width:10%;color:primary}"]}),r})(),Lq=(()=>{class r{constructor(e){this.viewContainerRef=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b))},r.\u0275dir=n.lG2({type:r,selectors:[["","dynamicChildLoader",""]]}),r})(),lne=(()=>{class r{constructor(e,i,s){this.formBuilder=e,this.identifiers=i,this.menusetup=s,this.deleteEvent=new n.vpe,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.siteclass="dataset:HttpAddressInformationType",this.objectform=this.formBuilder.group({index:[""],HTTPAddress:["",oe.required],HttpAddressInformationType:["",oe.required]})}ngOnInit(){this.siteitems=this.menusetup.findChoices(this.anno,this.siteclass)}deleteLink(){this.deleteEvent.emit(this.objectform.get("index").value)}setIndex(e){this.objectform.get("index").setValue(e)}setData(e){this.objectform.get("HTTPAddress").setValue(e[this.identifiers.HTTPAddress]),this.objectform.get("HttpAddressInformationType").setValue(e[this.identifiers.HttpAddressInformationType])}getData(e){e[this.identifiers.HTTPAddress]=this.objectform.get("HTTPAddress").value,e[this.identifiers.HttpAddressInformationType]=this.objectform.get("HttpAddressInformationType").value}setHttpAddressInformationType(e){this.objectform.get("HttpAddressInformationType").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Ar),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-objectsitereference"]],inputs:{anno:"anno"},outputs:{deleteEvent:"deleteEvent"},decls:24,vars:10,consts:[[1,"cardbase"],[3,"formGroup"],["cols","10","rowHeight","100px"],[3,"colspan"],[1,"namefield"],["matInput","","formControlName","HTTPAddress",1,"namefield"],["matInput","","formControlName","HttpAddressInformationType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["sitemenu",""],["mat-button","",1,"deletebutton",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"form",1)(3,"mat-grid-list",2)(4,"mat-grid-tile",3)(5,"mat-form-field",4)(6,"mat-label"),n._uU(7),n.qZA(),n._UZ(8,"input",5),n.TgZ(9,"mat-hint"),n._uU(10),n.qZA()()(),n.TgZ(11,"mat-grid-tile",3)(12,"mat-form-field",4)(13,"mat-label"),n._uU(14),n.qZA(),n._UZ(15,"input",6),n.TgZ(16,"mat-hint"),n._uU(17),n.qZA()(),n.TgZ(18,"app-menu-item",7,8),n.NdJ("selectionEvent",function(o){return i.setHttpAddressInformationType(o)}),n.qZA()(),n.TgZ(20,"mat-grid-tile",3)(21,"button",9),n.NdJ("click",function(){return i.deleteLink()}),n.TgZ(22,"mat-icon"),n._uU(23,"delete"),n.qZA()()()()()()()),2&e){const s=n.MAs(19);n.xp6(2),n.Q6J("formGroup",i.objectform),n.xp6(2),n.Q6J("colspan",5),n.xp6(3),n.Oqu(i.anno["dataset:HTTPAddress"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:HTTPAddress"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",4),n.xp6(3),n.Oqu(i.anno["dataset:HttpAddressInformationType"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",s.childMenu),n.xp6(2),n.Oqu(i.anno["dataset:HttpAddressInformationType"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.siteitems),n.xp6(2),n.Q6J("colspan",1)}},dependencies:[jt,rr,ti,Rt,en,kt,Pt,et,Xe,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Fi],styles:[".cardbase[_ngcontent-%COMP%]{border:2px solid lightgrey}.title[_ngcontent-%COMP%], .namefield[_ngcontent-%COMP%]{width:100%}"]}),r})(),vD=(()=>{class r{constructor(e,i){this.cdRef=e,this.identifiers=i,this.linkarray=[]}ngOnInit(){}addEmptyObjectLink(){const e={};e[this.identifiers.HTTPAddress]="",e[this.identifiers.HttpAddressInformationType]="",this.addObjectLink(e)}addObjectLink(e){const i=this.dynamicChild.viewContainerRef.createComponent(lne);i.instance.anno=this.anno,i.instance.setData(e),i.instance.deleteEvent.subscribe(s=>{this.linkarray.splice(s,1),i.destroy(),this.resetLinkArray()}),i.instance.setIndex(this.linkarray.length),this.linkarray.push(i.instance)}resetLinkArray(){let e=0;for(let i of this.linkarray)i.setIndex(e),e++}setData(e){for(let i of e)this.addObjectLink(i)}getData(e){if(null!=e){const i=[];e[this.identifiers.ObjectSiteReference]=i;for(let s of this.linkarray){const o={};s.getData(o),i.push(o)}}else alert("SetofsitereferencesComponent: catalog null")}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.sBO),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-setofsitereferences"]],viewQuery:function(e,i){if(1&e&&n.Gf(Lq,7),2&e){let s;n.iGM(s=n.CRH())&&(i.dynamicChild=s.first)}},inputs:{anno:"anno"},decls:10,vars:0,consts:[[1,"cardbase"],[1,"addlink"],["mat-button","",1,"addlinkbutton",3,"click"],["dynamicChildLoader",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle"),n._uU(4,"Set of Web Links"),n.qZA(),n.TgZ(5,"button",2),n.NdJ("click",function(){return i.addEmptyObjectLink()}),n.TgZ(6,"mat-icon"),n._uU(7,"add"),n.qZA()()()(),n.TgZ(8,"mat-card-content"),n.GkF(9,3),n.qZA()())},dependencies:[jt,rr,et,lt,gn,Xe,rn,Lq],styles:[".cardbase[_ngcontent-%COMP%]{border:2px solid lightgrey;padding:20px}.addlink[_ngcontent-%COMP%]{width:100%;color:primary}.addlinkbutton[_ngcontent-%COMP%]{width:10%;color:primary}"]}),r})();const cne=["nameofperson"],une=["description"],dne=["firestoreid"],hne=["simpledata"],fne=["references"],pne=["objectlinks"],mne=["weblinks"];function gne(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-nameofperson",2,3),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(3,"form",4)(4,"mat-grid-list",5)(5,"mat-grid-tile",6)(6,"mat-form-field",7)(7,"mat-label"),n._uU(8),n.qZA(),n._UZ(9,"input",8),n.TgZ(10,"mat-hint"),n._uU(11),n.qZA(),n.TgZ(12,"app-menu-item",9,10),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setUserClassification(s))}),n.qZA()()()()(),n.TgZ(14,"app-datadatadescription",11,12),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("descriptionsuffixChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.descriptionsuffix=s)}),n.qZA(),n.TgZ(16,"app-firesytorecatalogid",13,14),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(18,"app-simpledatabaseobjectstructure",13,15),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(20,"app-setofsitereferences",13,16),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(22,"app-setofdataobjectlinks",13,17),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(24,"app-datasetreference",13,18),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(13),i=n.oxw();n.xp6(1),n.Q6J("annoinfo",i.annoinfo),n.xp6(2),n.Q6J("formGroup",i.personGroup),n.xp6(2),n.Q6J("colspan",8),n.xp6(3),n.hij("",i.annoinfo["dataset:UserClassification"][i.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.hij("",i.annoinfo["dataset:UserClassification"][i.rdfscomment]," "),n.xp6(1),n.Q6J("items",i.userclassificationitems),n.xp6(2),n.Q6J("annoinfo",i.annoinfo)("descriptionsuffix",i.descriptionsuffix),n.xp6(2),n.Q6J("anno",i.annoinfo),n.xp6(2),n.Q6J("anno",i.annoinfo),n.xp6(2),n.Q6J("anno",i.annoinfo),n.xp6(2),n.Q6J("anno",i.annoinfo),n.xp6(2),n.Q6J("anno",i.annoinfo)}}function _ne(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let Bq=(()=>{class r{constructor(e,i,s){this.menusetup=e,this.formBuilder=i,this.annotations=s,this.annoReady=new n.vpe,this.catalogtype="dataset:DatabasePerson",this.descriptionsuffix="Person",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.userclassification="dataset:UserClassification",this.userclassificationitems=[],this.getCatalogAnnoations(),this.personGroup=this.formBuilder.group({UserClassification:["",oe.required]})}ngOnInit(){}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;this.message=i[O.message],i[O.successful]?(this.annoinfo=i[O.catalogobject][O.annotations],this.userclassificationitems=this.menusetup.findChoices(this.annoinfo,this.userclassification),this.annoReady.emit()):this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}setData(e){if(this.databaseperson=e,null!=this.nameofperson){const i=e[this.annoinfo["dataset:PersonalDescription"][this.identifier]];this.personGroup.get("UserClassification").setValue(i[this.annoinfo["dataset:UserClassification"][this.identifier]]),this.nameofperson.setData(i[this.annoinfo["dataset:NameOfPerson"][this.identifier]]),this.simpledata.setData(e),this.firestoreid.setData(e[this.annoinfo["dataset:FirestoreCatalogID"][this.identifier]]),this.description.setData(e[this.annoinfo["dataset:DataDescriptionPerson"][this.identifier]]),this.references.setData(e[this.annoinfo["dataset:DataSetReference"][this.identifier]]),this.objectlinks.setData(e[this.annoinfo["dataset:DataObjectLink"][this.identifier]]),this.objectlinks.setData(e[this.annoinfo["dataset:ObjectSiteReference"][this.identifier]])}}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Si),n.Y36(Ut),n.Y36(Rn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-databaseperson"]],viewQuery:function(e,i){if(1&e&&(n.Gf(cne,5),n.Gf(une,5),n.Gf(dne,5),n.Gf(hne,5),n.Gf(fne,5),n.Gf(pne,5),n.Gf(mne,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.nameofperson=s.first),n.iGM(s=n.CRH())&&(i.description=s.first),n.iGM(s=n.CRH())&&(i.firestoreid=s.first),n.iGM(s=n.CRH())&&(i.simpledata=s.first),n.iGM(s=n.CRH())&&(i.references=s.first),n.iGM(s=n.CRH())&&(i.objectlinks=s.first),n.iGM(s=n.CRH())&&(i.weblinks=s.first)}},outputs:{annoReady:"annoReady"},decls:6,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"annoinfo","annoinfoChange"],["nameofperson",""],[1,"signinform",3,"formGroup"],["cols","8","rowHeight","100px"],["background","lightgray",3,"colspan"],[1,"label"],["matInput","","formControlName","UserClassification",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["userclassificationmenu",""],[3,"annoinfo","descriptionsuffix","annoinfoChange","descriptionsuffixChange"],["description",""],[3,"anno","annoChange"],["firestoreid",""],["simpledata",""],["weblinks",""],["objectlinks",""],["references",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card"),n._UZ(1,"mat-card-header"),n.TgZ(2,"mat-card-content"),n.YNc(3,gne,26,14,"ng-container",0),n.YNc(4,_ne,2,1,"ng-template",null,1,n.W1O),n.qZA()()),2&e){const s=n.MAs(5);n.xp6(3),n.Q6J("ngIf",i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,lt,Xe,Et,wt,hn,Nt,Bt,zt,Ot,Gt,zP,Fte,aI,Du,yD,bD,vD,Fi],styles:[".label[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();function yne(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-tile",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-subtitle"),n._uU(5,"Add Collection Dataset to System Dataset"),n.qZA(),n.TgZ(6,"mat-card-title"),n._uU(7,"Create System Dataset Collections"),n.qZA()(),n.TgZ(8,"mat-card-content")(9,"div")(10,"p"),n._uU(11," This creates system dataset collections that can be used/copied by all users of the repository. The source dataet collections are any that the user has access to. All the data of the collections are also copied. The datasets of the user can put put in the "),n.TgZ(12,"i"),n._uU(13,"System"),n.qZA(),n._uU(14," collection list. "),n.qZA()(),n._UZ(15,"mat-divider"),n.qZA(),n.TgZ(16,"mat-card-actions")(17,"button",3),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.datasetadmin())}),n._uU(18,"Collection Administration"),n.qZA()()()(),n.BQk()}2&r&&(n.xp6(1),n.Q6J("colspan",1))}let bne=(()=>{class r{constructor(e,i){this.session=e,this.router=i,this.administrator=!1,this.useraccountdata=this.session.getUserAccount(),"dataset:Administrator"==this.useraccountdata[O.UserAccountRole]&&(this.administrator=!0)}ngOnInit(){}calculations(){this.router.navigateByUrl("/compute")}collection(){this.router.navigateByUrl("/catalog/collection")}upload(){this.router.navigateByUrl("/uploaddatabaseitem")}datasetadmin(){this.router.navigateByUrl("/datasetadmin")}copycollection(){this.router.navigateByUrl("/copycollection")}examine(){this.router.navigateByUrl("/examine")}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Oa),n.Y36(jn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-applicationcards"]],decls:82,vars:6,consts:[["cols","3","rowHeight","300px"],[1,"tile",3,"colspan"],[1,"example-card"],["mat-button","",3,"click"],[4,"ngIf"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-grid-list",0)(1,"mat-grid-tile",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-subtitle"),n._uU(5,"Calculations"),n.qZA(),n.TgZ(6,"mat-card-title"),n._uU(7,"Calculations from 2-D Lewis Structures"),n.qZA()(),n.TgZ(8,"mat-card-content")(9,"p"),n._uU(10,"Thermodynamics calculations are made using the thermodynamic database of Benson rules (or HBI rules), symmetry structures (optical, internal and external), structural,for example steric or ring structure influenced, and radical corrections (disassociation energies, symmetry losses, etc.). "),n.qZA(),n._UZ(11,"mat-divider"),n.qZA(),n.TgZ(12,"mat-card-actions")(13,"button",3),n.NdJ("click",function(){return i.calculations()}),n._uU(14,"Calculations"),n.qZA()()()(),n.TgZ(15,"mat-grid-tile",1)(16,"mat-card",2)(17,"mat-card-header")(18,"mat-card-subtitle"),n._uU(19,"Examine Database Structures"),n.qZA(),n.TgZ(20,"mat-card-title"),n._uU(21,"Examine Structures Used in the Thermodynamic Calculations"),n.qZA()(),n.TgZ(22,"mat-card-content")(23,"p"),n._uU(24," Examine the database objects used for the thermodynamic calculations. "),n.qZA(),n._UZ(25,"p")(26,"mat-divider"),n.qZA(),n.TgZ(27,"mat-card-actions")(28,"button",3),n.NdJ("click",function(){return i.examine()}),n._uU(29,"Examine"),n.qZA()()()(),n.TgZ(30,"mat-grid-tile",1)(31,"mat-card",2)(32,"mat-card-header")(33,"mat-card-subtitle"),n._uU(34,"Upload Data"),n.qZA(),n.TgZ(35,"mat-card-title"),n._uU(36,"Upload data to the database"),n.qZA()(),n.TgZ(37,"mat-card-content")(38,"p"),n._uU(39,"The uploading of data occurs in several steps. First, the raw file is uploaded and stored in the database storage. This file, is then partitioned. The partitioning depends on the type of data that is stored. Each of these partitions are then interpreted and are added to a set corresponding to this data type."),n.qZA(),n._UZ(40,"p")(41,"mat-divider"),n.qZA(),n.TgZ(42,"mat-card-actions")(43,"button",3),n.NdJ("click",function(){return i.upload()}),n._uU(44,"Database"),n.qZA()()()(),n.TgZ(45,"mat-grid-tile",1)(46,"mat-card",2)(47,"mat-card-header")(48,"mat-card-subtitle"),n._uU(49,"Create or Modify Dataset Collection"),n.qZA(),n.TgZ(50,"mat-card-title"),n._uU(51,"Manage the Dataset Collections"),n.qZA()(),n.TgZ(52,"mat-card-content")(53,"div")(54,"p"),n._uU(55,"The dataset collection specifies which set of fundamental data should be used for the thermodyanmic calculations. A single dataset collection specifies which combination of fundamental data should be used for the calculations"),n.qZA()(),n._UZ(56,"mat-divider"),n.qZA(),n.TgZ(57,"mat-card-actions")(58,"button",3),n.NdJ("click",function(){return i.collection()}),n._uU(59,"Collections"),n.qZA()()()(),n.TgZ(60,"mat-grid-tile",1)(61,"mat-card",2)(62,"mat-card-header")(63,"mat-card-subtitle"),n._uU(64,"From System or User collections"),n.qZA(),n.TgZ(65,"mat-card-title"),n._uU(66,"Copy Dataset Collection"),n.qZA()(),n.TgZ(67,"mat-card-content")(68,"div")(69,"p"),n._uU(70," This allows the user to copy a "),n.TgZ(71,"i"),n._uU(72,"Master"),n.qZA(),n._uU(73," collection into the user's own collection. This enables to the user to user the "),n.TgZ(74,"i"),n._uU(75,"Master"),n.qZA(),n._uU(76," collection as a base for the user's own modifications and updates. The collection structure and all the underlying object data is copied to the user. "),n.qZA()(),n._UZ(77,"mat-divider"),n.qZA(),n.TgZ(78,"mat-card-actions")(79,"button",3),n.NdJ("click",function(){return i.copycollection()}),n._uU(80,"Copy Collection"),n.qZA()()()(),n.YNc(81,yne,19,1,"ng-container",4),n.qZA()),2&e&&(n.xp6(1),n.Q6J("colspan",1),n.xp6(14),n.Q6J("colspan",1),n.xp6(15),n.Q6J("colspan",1),n.xp6(15),n.Q6J("colspan",1),n.xp6(15),n.Q6J("colspan",1),n.xp6(21),n.Q6J("ngIf",i.administrator))},dependencies:[ke,jt,zr,et,lt,Xe,Oi,rn,KH,Et,wt],styles:[".example-card[_ngcontent-%COMP%]{height:250px;position:absolute;inset:15px}.tile[_ngcontent-%COMP%]{height:200px}"]}),r})();const vne=["useraccount"],Cne=["databaseperson"];function wne(r,t){if(1&r&&(n.TgZ(0,"div",13)(1,"div",14)(2,"div",15),n._UZ(3,"img",16),n.TgZ(4,"div",17)(5,"h1"),n._uU(6,"Hello: "),n.TgZ(7,"strong"),n._uU(8),n.qZA()(),n.TgZ(9,"p"),n._uU(10,"User ID: "),n.TgZ(11,"strong"),n._uU(12),n.qZA()(),n.TgZ(13,"p"),n._uU(14,"Email: "),n.TgZ(15,"strong"),n._uU(16),n.qZA()(),n.TgZ(17,"p"),n._uU(18,"Email Verified: "),n.TgZ(19,"strong"),n._uU(20),n.qZA()()()()()()),2&r){const e=t.ngIf;n.xp6(3),n.s9C("src",e.photoURL?e.photoURL:"/assets/dummy-user.png",n.LSH),n.s9C("alt",e.displayName),n.xp6(5),n.Oqu(e.displayName?e.displayName:"User"),n.xp6(4),n.Oqu(e.uid),n.xp6(4),n.Oqu(e.email),n.xp6(4),n.Oqu(e.emailVerified)}}let Tne=(()=>{class r{constructor(e,i,s){this.session=e,this.authService=i,this.router=s}setUser(){const e=this.session.getUserAccount();this.useraccount.setData(e)}setPerson(){const e=this.session.getDatabasePerson();this.person.setData(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Oa),n.Y36(yc),n.Y36(jn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-toppage"]],viewQuery:function(e,i){if(1&e&&(n.Gf(vne,5),n.Gf(Cne,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.useraccount=s.first),n.iGM(s=n.CRH())&&(i.person=s.first)}},decls:20,vars:1,consts:[[1,"grid-container"],["label","Home"],["label","User Account"],["mat-button","",1,"refresh",3,"click"],[3,"annoReady"],["useraccount",""],["label","User Profile"],["databaseperson",""],["label","Logoin Information"],[1,"inner-adjust"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"media"],[1,"align-self-start","mr-5","img-thumbnail","rounded-circle",3,"src","alt"],[1,"media-body"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"mat-tab-group")(2,"mat-tab",1),n._UZ(3,"app-applicationcards"),n.qZA(),n.TgZ(4,"mat-tab",2)(5,"button",3),n.NdJ("click",function(){return i.setUser()}),n._uU(6,"Refresh"),n.qZA(),n.TgZ(7,"app-useraccount",4,5),n.NdJ("annoReady",function(){return i.setUser()}),n.qZA()(),n.TgZ(9,"mat-tab",6)(10,"button",3),n.NdJ("click",function(){return i.setPerson()}),n._uU(11,"Refresh"),n.qZA(),n.TgZ(12,"app-databaseperson",4,7),n.NdJ("annoReady",function(){return i.setPerson()}),n.qZA()(),n.TgZ(14,"mat-tab",8)(15,"div",9)(16,"div",10)(17,"h1",11),n._uU(18,"User Profile"),n.qZA()(),n.YNc(19,wne,21,6,"div",12),n.qZA()()()()),2&e&&(n.xp6(19),n.Q6J("ngIf",i.authService.userData))},dependencies:[ke,jt,Wm,Jf,kq,Bq,bne],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.refresh[_ngcontent-%COMP%]{width:100%}.dashboard-card[_ngcontent-%COMP%]{position:absolute;inset:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}"]}),r})();function Dne(r,t){1&r&&n.Hsn(0)}const xne=["*"];let Uq=(()=>{class r{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),r})(),Vq=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkStepLabel",""]]}),r})(),Sne=0;const $P=new n.OlP("STEPPER_GLOBAL_OPTIONS");let QP=(()=>{class r{constructor(e,i){this._stepper=e,this.interacted=!1,this.interactedStream=new n.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(e){this._editable=at(e)}get optional(){return this._optional}set optional(e){this._optional=at(e)}get completed(){return this._completedOverride??this._getDefaultCompleted()}set completed(e){this._completedOverride=at(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError??this._getDefaultError()}set hasError(e){this._customError=at(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}return r.\u0275fac=function(e){return new(e||r)(n.Y36((0,n.Gpc)(()=>CD)),n.Y36($P,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["cdk-step"]],contentQueries:function(e,i,s){if(1&e&&n.Suo(s,Vq,5),2&e){let o;n.iGM(o=n.CRH())&&(i.stepLabel=o.first)}},viewQuery:function(e,i){if(1&e&&n.Gf(n.Rgc,7),2&e){let s;n.iGM(s=n.CRH())&&(i.content=s.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[n.TTD],ngContentSelectors:xne,decls:1,vars:0,template:function(e,i){1&e&&(n.F$t(),n.YNc(0,Dne,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),r})(),CD=(()=>{class r{constructor(e,i,s){this._dir=e,this._changeDetectorRef=i,this._elementRef=s,this._destroyed=new Fe.xQ,this.steps=new n.n_E,this._sortedHeaders=new n.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new n.vpe,this._orientation="horizontal",this._groupId=Sne++}get linear(){return this._linear}set linear(e){this._linear=at(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=Lr(e);this.steps&&this._steps?(this._isValidIndex(i),this.selected?._markAsInteracted(),this._selectedIndex!==i&&!this._anyControlsInvalidOrPending(i)&&(i>=this._selectedIndex||this.steps.toArray()[i].editable)&&this._updateSelectedItemIndex(i)):this._selectedIndex=i}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}ngAfterContentInit(){this._steps.changes.pipe(yn(this._steps),We(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(yn(this._stepHeader),We(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,s)=>i._elementRef.nativeElement.compareDocumentPosition(s._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new PC(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,Ve.of)()).pipe(yn(this._layoutDirection()),We(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const i=e-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,i="number"){const s=this.steps.toArray()[e],o=this._isCurrentStep(e);return s._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(s,o):this._getGuidelineLogic(s,o,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?"error":!e.completed||i?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,i,s="number"){return e._showError()&&e.hasError&&!i?"error":e.completed&&!i?"done":e.completed&&i?s:e.editable&&i?"edit":s}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const i=Es(e),s=e.keyCode,o=this._keyManager;null==o.activeItemIndex||i||32!==s&&13!==s?o.onKeydown(e):(this.selectedIndex=o.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(i=>{const s=i.stepControl;return(s?s.invalid||s.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,i=kC();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ji,8),n.Y36(n.sBO),n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkStepper",""]],contentQueries:function(e,i,s){if(1&e&&(n.Suo(s,QP,5),n.Suo(s,Uq,5)),2&e){let o;n.iGM(o=n.CRH())&&(i._steps=o),n.iGM(o=n.CRH())&&(i._stepHeader=o)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),r})(),Ane=(()=>{class r{constructor(e){this._stepper=e,this.type="submit"}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(CD))},r.\u0275dir=n.lG2({type:r,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,i){1&e&&n.NdJ("click",function(){return i._stepper.next()}),2&e&&n.Ikx("type",i.type)},inputs:{type:"type"}}),r})(),Ene=(()=>{class r{constructor(e){this._stepper=e,this.type="button"}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(CD))},r.\u0275dir=n.lG2({type:r,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(e,i){1&e&&n.NdJ("click",function(){return i._stepper.previous()}),2&e&&n.Ikx("type",i.type)},inputs:{type:"type"}}),r})(),Mne=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[RC]}),r})(),xu=(()=>{class r{constructor(e){this.httpClient=e,this.DATATYPES={"dataset:JThermodynamicsVibrationalModes":{"dataset:filesourceformat":"dataset:JThermodynamicsVibrationalModes","dataset:partitionMethod":"dataset:PartitionToLineSet","dataset:interpretMethod":"dataset:ParseLinesJThermodynamicsVibrationalStructure","dataset:blocklinecount":"1","dcat:catalog":"dataset:JThermodynamicsVibrationalStructure","qudt:hasUnitSystem":["quantitykind:Frequency"],"prov:activity":"dataset:ActivityInformationInterpretVibrationalMode"},"dataset:TherGasBensonRules":{"dataset:filesourceformat":"dataset:TherGasBensonRules","dataset:partitionMethod":"dataset:PartitionTherGasThermodynamics","dataset:interpretMethod":"dataset:ParseLinesJThermodynamicsBensonRules","dataset:blocklinecount":"","dcat:catalog":"dataset:ThermodynamicBensonRuleDefinition","qudt:hasUnitSystem":["quantitykind:MolarEnergy","quantitykind:MolarEntropy","quantitykind:MolarHeatCapacity"],"prov:activity":"dataset:ActivityInformationInterpretBensonRuleData"},"dataset:ThergasSpeciesThermodynamics":{"dataset:filesourceformat":"dataset:ThergasSpeciesThermodynamics","dataset:partitionMethod":"dataset:PartitionTherGasThermodynamics","dataset:interpretMethod":"dataset:ParseLinesJThermodynamicsMolecule","dataset:blocklinecount":"","dcat:catalog":"dataset:JThermodynamics2DMoleculeThermodynamics","qudt:hasUnitSystem":["quantitykind:MolarEnergy","quantitykind:MolarEntropy","quantitykind:MolarHeatCapacity"],"prov:activity":"dataset:ActivityInformationMolecularThermodynamics"},"dataset:TherGasSubstructureThermodynamics":{"dataset:filesourceformat":"dataset:TherGasSubstructureThermodynamics","dataset:partitionMethod":"dataset:PartitionTherGasThermodynamics","dataset:interpretMethod":"dataset:ParseLinesJThermodynamicsSubstructures","dataset:blocklinecount":"","dcat:catalog":"dataset:JThermodynamics2DSubstructureThermodynamics","qudt:hasUnitSystem":["quantitykind:MolarEnergy","quantitykind:MolarEntropy","quantitykind:MolarHeatCapacity"],"prov:activity":"dataset:ActivityInformationInterpretSubstructureThermodynamics"},"dataset:TherGasMoleculeThermodynamics":{"dataset:filesourceformat":"dataset:TherGasMoleculeThermodynamics","dataset:partitionMethod":"dataset:PartitionTherGasThermodynamics","dataset:interpretMethod":"dataset:ParseLinesJThermodynamicsMolecule","dataset:blocklinecount":"","dcat:catalog":"dataset:JThermodynamics2DMoleculeThermodynamics","qudt:hasUnitSystem":["quantitykind:MolarEnergy","quantitykind:MolarEntropy","quantitykind:MolarHeatCapacity"],"prov:activity":"dataset:ActivityInformationMolecularThermodynamics"},"dataset:JThermodynamicsDisassociationEnergyFormat":{"dataset:filesourceformat":"dataset:JThermodynamicsDisassociationEnergyFormat","dataset:partitionMethod":"dataset:PartitionToLineSet","dataset:interpretMethod":"dataset:ParseLinesJThermodynamicsDisassociationEnergy","dataset:blocklinecount":"2","dcat:catalog":"dataset:JThermodynamicsDisassociationEnergyOfStructure","qudt:hasUnitSystem":["quantitykind:MolarEnergy"],"prov:activity":"dataset:ActivityInformationInterpretDisassociationEnergy"},"dataset:JThermodynamicsMetaAtomFormat":{"dataset:filesourceformat":"dataset:JThermodynamicsMetaAtomFormat","dataset:partitionMethod":"dataset:PartitionToLineSet","dataset:interpretMethod":"dataset:ParseLinesJThermodynamicsMetaAtoms","dataset:blocklinecount":"1","dcat:catalog":"dataset:JThermodynamicsMetaAtomDefinition","qudt:hasUnitSystem":[],"prov:activity":"dataset:ActivityInformationInterpretMetaAtom"},"dataset:JThermodynamicsSymmetryDefinitionFormat":{"dataset:filesourceformat":"dataset:symmetrystructuredefinition","dataset:partitionMethod":"dataset:PartitionXMLListOfCatalogObjects","dataset:interpretMethod":"dataset:ParseLinesJThermodynamicsSymmetryDefinition","dataset:blocklinecount":"","dcat:catalog":"dataset:JThermodynamicsSymmetryStructureDefinition","qudt:hasUnitSystem":[],"prov:activity":"dataset:ActivityInformationInterpretSymmetryInformation"}},this.UNITS={"quantitykind:MolarEnergy":{"qudt:QuantityKind":["unit:KiloCAL-PER-MOL","unit:KiloJ-PER-MOL","dataset:CAL-PER-MOL","unit:J-PER-MOL"],"dataset:dynamicType":"FixedParameter","skos:prefLabel":"MolarEnergy"},"quantitykind:MolarEntropy":{"qudt:QuantityKind":["unit:J-PER-MOL-K","dataset:CAL-PER-MOL-K"],"dataset:dynamicType":"FixedParameter","skos:prefLabel":"MolarEntropy"},"quantitykind:MolarHeatCapacity":{"qudt:QuantityKind":["unit:J-PER-MOL-K","dataset:CAL-PER-MOL-K"],"dataset:dynamicType":"FixedParameter","skos:prefLabel":"MolarHeatCapacity"},"quantitykind:Frequency":{"qudt:QuantityKind":["unit:PER-SEC","unit:HZ","dataset:cmMinus1"],"dataset:dynamicType":"FixedParameter","skos:prefLabel":"Frequency"}},this.UNCERTAINTY={"dataset:AbsoluteUncertainty":{"rdfs:label":"Absolute Uncertainty","rdfs:comment":""},"dataset:ImpliedDigitsUncertainty":{"rdfs:label":"ImpliedDigitsUncertainty","rdfs:comment":"Uncertainty implied by number of digits (no value given)"},"dataset:RelativeUncertainty":{"rdfs:label":"Relative Uncertainty","rdfs:comment":"Relative Uncertainty"},"dataset:PercentageRelativeUncertainty":{"rdfs:label":"PercentageRelativeUncertainty","rdfs:comment":"Uncertainty given as a percentage"},"dataset:RelativeErrorUncertainty":{"rdfs:label":"Relative Error Uncertainty","rdfs:comment":"Uncertainty given as a relative decimal value"}},this.TITLES=[{"dc:type":"dataset:Professor","rdfs:label":"Prof.","rdfs:comment":"the academic rank of professor in a university or other institution"},{"dc:type":"dataset:Eur_Ing","rdfs:label":"Eur Ing","rdfs:comment":"engineers registered as European Engineers with the European Federation of National Engineering Associations"},{"dc:type":"dataset:Doctor","rdfs:label":"Dr.","rdfs:comment":"Academic title of doctor or Ph.D"},{"dc:type":"dataset:Mister","rdfs:label":"Mr.","rdfs:comment":"Mister"},{"dc:type":"dataset:Ms","rdfs:label":"Ms.","rdfs:comment":"Ms."},{"dc:type":"Lord","rdfs:label":"Lord","rdfs:comment":"male barons, viscounts, earls, and marquesses, as well as some of their children"}]}getFormatClassification(){return(0,Ve.of)(this.DATATYPES)}getUnitSet(e){return(0,Ve.of)(this.UNITS)}getUncertaintyChoices(){return(0,Ve.of)(this.UNCERTAINTY)}getTitleChoices(){return(0,Ve.of)(this.TITLES)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ca))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Ine(r,t){if(1&r&&n.GkF(0,8),2&r){const e=n.oxw();n.Q6J("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function kne(r,t){if(1&r&&(n.TgZ(0,"span",13),n._uU(1),n.qZA()),2&r){const e=n.oxw(2);n.xp6(1),n.Oqu(e._getDefaultTextForState(e.state))}}function Rne(r,t){if(1&r&&(n.TgZ(0,"span",14),n._uU(1),n.qZA()),2&r){const e=n.oxw(2);n.xp6(1),n.Oqu(e._intl.completedLabel)}}function Nne(r,t){if(1&r&&(n.TgZ(0,"span",14),n._uU(1),n.qZA()),2&r){const e=n.oxw(2);n.xp6(1),n.Oqu(e._intl.editableLabel)}}function One(r,t){if(1&r&&(n.TgZ(0,"mat-icon",13),n._uU(1),n.qZA()),2&r){const e=n.oxw(2);n.xp6(1),n.Oqu(e._getDefaultTextForState(e.state))}}function Fne(r,t){if(1&r&&(n.ynx(0,9),n.YNc(1,kne,2,1,"span",10),n.YNc(2,Rne,2,1,"span",11),n.YNc(3,Nne,2,1,"span",11),n.YNc(4,One,2,1,"mat-icon",12),n.BQk()),2&r){const e=n.oxw();n.Q6J("ngSwitch",e.state),n.xp6(1),n.Q6J("ngSwitchCase","number"),n.xp6(1),n.Q6J("ngIf","done"===e.state),n.xp6(1),n.Q6J("ngIf","edit"===e.state)}}function Pne(r,t){if(1&r&&(n.TgZ(0,"div",15),n.GkF(1,16),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",e._templateLabel().template)}}function Lne(r,t){if(1&r&&(n.TgZ(0,"div",15),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.Oqu(e.label)}}function Bne(r,t){if(1&r&&(n.TgZ(0,"div",17),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.Oqu(e._intl.optionalLabel)}}function Une(r,t){if(1&r&&(n.TgZ(0,"div",18),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.Oqu(e.errorMessage)}}function Vne(r,t){}function Zne(r,t){if(1&r&&(n.Hsn(0),n.YNc(1,Vne,0,0,"ng-template",0)),2&r){const e=n.oxw();n.xp6(1),n.Q6J("cdkPortalOutlet",e._portal)}}const jne=["*"];function Hne(r,t){1&r&&n._UZ(0,"div",11)}const Zq=function(r,t){return{step:r,i:t}};function qne(r,t){if(1&r&&(n.ynx(0),n.GkF(1,9),n.YNc(2,Hne,1,0,"div",10),n.BQk()),2&r){const e=t.$implicit,i=t.index,s=t.last;n.oxw(2);const o=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",n.WLB(3,Zq,e,i)),n.xp6(1),n.Q6J("ngIf",!s)}}const jq=function(r){return{animationDuration:r}},Hq=function(r,t){return{value:r,params:t}};function Gne(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",12),n.NdJ("@horizontalStepTransition.done",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o._animationDone.next(s))}),n.GkF(1,13),n.qZA()}if(2&r){const e=t.$implicit,i=t.index,s=n.oxw(2);n.ekj("mat-horizontal-stepper-content-inactive",s.selectedIndex!==i),n.Q6J("@horizontalStepTransition",n.WLB(8,Hq,s._getAnimationDirection(i),n.VKq(6,jq,s._getAnimationDuration())))("id",s._getStepContentId(i)),n.uIk("aria-labelledby",s._getStepLabelId(i)),n.xp6(1),n.Q6J("ngTemplateOutlet",e.content)}}function Yne(r,t){if(1&r&&(n.TgZ(0,"div",4)(1,"div",5),n.YNc(2,qne,3,6,"ng-container",6),n.qZA(),n.TgZ(3,"div",7),n.YNc(4,Gne,2,11,"div",8),n.qZA()()),2&r){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.steps),n.xp6(2),n.Q6J("ngForOf",e.steps)}}function Jne(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",15),n.GkF(1,9),n.TgZ(2,"div",16)(3,"div",17),n.NdJ("@verticalStepTransition.done",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o._animationDone.next(s))}),n.TgZ(4,"div",18),n.GkF(5,13),n.qZA()()()()}if(2&r){const e=t.$implicit,i=t.index,s=t.last,o=n.oxw(2),a=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",n.WLB(10,Zq,e,i)),n.xp6(1),n.ekj("mat-stepper-vertical-line",!s),n.xp6(1),n.ekj("mat-vertical-stepper-content-inactive",o.selectedIndex!==i),n.Q6J("@verticalStepTransition",n.WLB(15,Hq,o._getAnimationDirection(i),n.VKq(13,jq,o._getAnimationDuration())))("id",o._getStepContentId(i)),n.uIk("aria-labelledby",o._getStepLabelId(i)),n.xp6(2),n.Q6J("ngTemplateOutlet",e.content)}}function zne(r,t){if(1&r&&(n.ynx(0),n.YNc(1,Jne,6,18,"div",14),n.BQk()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.steps)}}function $ne(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"mat-step-header",19),n.NdJ("click",function(){const o=n.CHM(e).step;return n.KtG(o.select())})("keydown",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._onKeydown(s))}),n.qZA()}if(2&r){const e=t.step,i=t.i,s=n.oxw();n.ekj("mat-horizontal-stepper-header","horizontal"===s.orientation)("mat-vertical-stepper-header","vertical"===s.orientation),n.Q6J("tabIndex",s._getFocusIndex()===i?0:-1)("id",s._getStepLabelId(i))("index",i)("state",s._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",s.selectedIndex===i)("active",s._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",s._iconOverrides)("disableRipple",s.disableRipple||!s._stepIsNavigable(i,e))("color",e.color||s.color),n.uIk("aria-posinset",i+1)("aria-setsize",s.steps.length)("aria-controls",s._getStepContentId(i))("aria-selected",s.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!s._stepIsNavigable(i,e)||null)}}let uI=(()=>{class r extends Vq{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["","matStepLabel",""]],features:[n.qOj]}),r})(),dI=(()=>{class r{constructor(){this.changes=new Fe.xQ,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Wne={provide:dI,deps:[[new n.FiY,new n.tp0,dI]],useFactory:function Qne(r){return r||new dI}},Kne=Kd(class extends Uq{constructor(t){super(t)}},"primary");let qq=(()=>{class r extends Kne{constructor(e,i,s,o){super(s),this._intl=e,this._focusMonitor=i,this._intlSubscription=e.changes.subscribe(()=>o.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof uI?null:this.label}_templateLabel(){return this.label instanceof uI?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(dI),n.Y36(Sl),n.Y36(n.SBq),n.Y36(n.sBO))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[n.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,i){1&e&&(n._UZ(0,"div",0),n.TgZ(1,"div")(2,"div",1),n.YNc(3,Ine,1,2,"ng-container",2),n.YNc(4,Fne,5,4,"ng-container",3),n.qZA()(),n.TgZ(5,"div",4),n.YNc(6,Pne,2,1,"div",5),n.YNc(7,Lne,2,1,"div",5),n.YNc(8,Bne,2,1,"div",6),n.YNc(9,Une,2,1,"div",7),n.qZA()),2&e&&(n.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),n.xp6(1),n.Gre("mat-step-icon-state-",i.state," mat-step-icon"),n.ekj("mat-step-icon-selected",i.selected),n.xp6(1),n.Q6J("ngSwitch",!(!i.iconOverrides||!i.iconOverrides[i.state])),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(2),n.ekj("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error","error"==i.state),n.xp6(1),n.Q6J("ngIf",i._templateLabel()),n.xp6(1),n.Q6J("ngIf",i._stringLabel()),n.xp6(1),n.Q6J("ngIf",i.optional&&"error"!=i.state),n.xp6(1),n.Q6J("ngIf","error"==i.state))},dependencies:[ke,_s,Gs,Is,Ca,rr,Xd],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0}),r})();const Jq={horizontalStepTransition:io("horizontalStepTransition",[ei("previous",Jt({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),ei("current",Jt({transform:"none",visibility:"inherit"})),ei("next",Jt({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Ni("* => *",zi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),{params:{animationDuration:"500ms"}})]),verticalStepTransition:io("verticalStepTransition",[ei("previous",Jt({height:"0px",visibility:"hidden"})),ei("next",Jt({height:"0px",visibility:"hidden"})),ei("current",Jt({height:"*",visibility:"inherit"})),Ni("* <=> current",zi("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),{params:{animationDuration:"225ms"}})])};let Xne=(()=>{class r{constructor(e){this.templateRef=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc))},r.\u0275dir=n.lG2({type:r,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),r})(),eie=(()=>{class r{constructor(e){this._template=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc))},r.\u0275dir=n.lG2({type:r,selectors:[["ng-template","matStepContent",""]]}),r})(),WP=(()=>{class r extends QP{constructor(e,i,s,o){super(e,o),this._errorStateMatcher=i,this._viewContainerRef=s,this._isSelected=Re.w.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(kn(()=>this._stepper.selectionChange.pipe((0,Je.U)(e=>e.selectedStep===this),yn(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new Hm(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){return this._errorStateMatcher.isErrorState(e,i)||!!(e&&e.invalid&&this.interacted)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36((0,n.Gpc)(()=>KP)),n.Y36(zm,4),n.Y36(n.s_b),n.Y36($P,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-step"]],contentQueries:function(e,i,s){if(1&e&&(n.Suo(s,uI,5),n.Suo(s,eie,5)),2&e){let o;n.iGM(o=n.CRH())&&(i.stepLabel=o.first),n.iGM(o=n.CRH())&&(i._lazyContent=o.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[n._Bn([{provide:zm,useExisting:r},{provide:QP,useExisting:r}]),n.qOj],ngContentSelectors:jne,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(n.F$t(),n.YNc(0,Zne,2,1,"ng-template"))},dependencies:[bc],encapsulation:2,changeDetection:0}),r})(),KP=(()=>{class r extends CD{constructor(e,i,s){super(e,i,s),this.steps=new n.n_E,this.animationDone=new n.vpe,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new Fe.xQ,this._animationDuration="";const o=s.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===o?"vertical":"horizontal"}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(We(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Or((e,i)=>e.fromState===i.fromState&&e.toState===i.toState),We(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ji,8),n.Y36(n.sBO),n.Y36(n.SBq))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,i,s){if(1&e&&(n.Suo(s,WP,5),n.Suo(s,Xne,5)),2&e){let o;n.iGM(o=n.CRH())&&(i._steps=o),n.iGM(o=n.CRH())&&(i._icons=o)}},viewQuery:function(e,i){if(1&e&&n.Gf(qq,5),2&e){let s;n.iGM(s=n.CRH())&&(i._stepHeader=s)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(e,i){2&e&&(n.uIk("aria-orientation",i.orientation),n.ekj("mat-stepper-horizontal","horizontal"===i.orientation)("mat-stepper-vertical","vertical"===i.orientation)("mat-stepper-label-position-end","horizontal"===i.orientation&&"end"==i.labelPosition)("mat-stepper-label-position-bottom","horizontal"===i.orientation&&"bottom"==i.labelPosition)("mat-stepper-header-position-bottom","bottom"===i.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[n._Bn([{provide:CD,useExisting:r}]),n.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id","mat-horizontal-stepper-content-inactive",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,i){1&e&&(n.ynx(0,0),n.YNc(1,Yne,5,2,"div",1),n.YNc(2,zne,2,1,"ng-container",2),n.BQk(),n.YNc(3,$ne,1,23,"ng-template",null,3,n.W1O)),2&e&&(n.Q6J("ngSwitch",i.orientation),n.xp6(1),n.Q6J("ngSwitchCase","horizontal"),n.xp6(1),n.Q6J("ngSwitchCase","vertical"))},dependencies:[ln,ke,_s,Gs,Is,qq],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[Jq.horizontalStepTransition,Jq.verticalStepTransition]},changeDetection:0}),r})(),tie=(()=>{class r extends Ane{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(e,i){2&e&&n.Ikx("type",i.type)},inputs:{type:"type"},features:[n.qOj]}),r})(),nie=(()=>{class r extends Ene{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(e,i){2&e&&n.Ikx("type",i.type)},inputs:{type:"type"},features:[n.qOj]}),r})(),iie=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[Wne,zm],imports:[Xt,Yn,Gf,by,Mne,PM,yy,Xt]}),r})();function rie(r,t){}class hI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let zq=(()=>{class r extends _M{constructor(e,i,s,o,a,d,f,g){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=d,this._overlayRef=f,this._focusMonitor=g,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const T=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),T},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=s}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(i)}_focusByCssSelector(e,i){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const s=kC(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=kC();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=kC())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(XT),n.Y36(ne,8),n.Y36(hI),n.Y36(KT),n.Y36(n.R0b),n.Y36($T),n.Y36(Sl))},r.\u0275cmp=n.Xpm({type:r,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&n.Gf(bc,7),2&e){let s;n.iGM(s=n.CRH())&&(i._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&n.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[n.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&n.YNc(0,rie,0,0,"ng-template",0)},dependencies:[bc],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),r})();class XP{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Fe.xQ,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Es(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const $q=new n.OlP("DialogScrollStrategy"),sie=new n.OlP("DialogData"),oie=new n.OlP("DefaultDialogConfig"),lie={provide:$q,deps:[Go],useFactory:function aie(r){return()=>r.scrollStrategies.block()}};let cie=0,Qq=(()=>{class r{constructor(e,i,s,o,a,d){this._overlay=e,this._injector=i,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Fe.xQ,this._afterOpenedAtThisLevel=new Fe.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Co(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yn(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new hI,...i}).id=i.id||"cdk-dialog-"+cie++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),a=this._overlay.create(o),d=new XP(a,i),f=this._attachContainer(a,d,i);return d.containerInstance=f,this._attachDialogContent(e,d,f,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){e6(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){e6(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),e6(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new OC({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,s){const o=s.injector||s.viewContainerRef?.injector,a=[{provide:hI,useValue:s},{provide:XP,useValue:i},{provide:$T,useValue:e}];let d;s.container?"function"==typeof s.container?d=s.container:(d=s.container.type,a.push(...s.container.providers(s))):d=zq;const f=new jm(d,s.viewContainerRef,n.zs3.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,i,s,o){if(e instanceof n.Rgc){const a=this._createInjector(o,i,s,void 0);let d={$implicit:o.data,dialogRef:i};o.templateContext&&(d={...d,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),s.attachTemplatePortal(new Hm(e,null,d,a))}else{const a=this._createInjector(o,i,s,this._injector),d=s.attachComponentPortal(new jm(e,o.viewContainerRef,a,o.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,s,o){const a=e.injector||e.viewContainerRef?.injector,d=[{provide:sie,useValue:e.data},{provide:XP,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,s)):d.push(...e.providers)),e.direction&&(!a||!a.get(Ji,null,n.XFs.Optional))&&d.push({provide:Ji,useValue:{value:e.direction,change:(0,Ve.of)()}}),n.zs3.create({parent:a||o,providers:d})}_removeOpenDialog(e,i){const s=this.openDialogs.indexOf(e);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let s=i.length-1;s>-1;s--){const o=i[s];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Go),n.LFG(n.zs3),n.LFG(oie,8),n.LFG(r,12),n.LFG(wM),n.LFG($q))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();function e6(r,t){let e=r.length;for(;e--;)t(r[e])}let uie=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[Qq,lie],imports:[my,Gf,EM,Gf]}),r})();function die(r,t){}const YC={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},hie={dialogContainer:io("dialogContainer",[ei("void, exit",Jt({opacity:0,transform:"scale(0.7)"})),ei("enter",Jt({transform:"none"})),Ni("* => enter",Cj([zi("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Jt({transform:"none",opacity:1})),bP("@*",yP(),{optional:!0})]),YC),Ni("* => void, * => exit",Cj([zi("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Jt({opacity:0})),bP("@*",yP(),{optional:!0})]),YC)])};class Yo{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=YC.params.enterAnimationDuration,this.exitAnimationDuration=YC.params.exitAnimationDuration}}let fie=(()=>{class r extends zq{constructor(e,i,s,o,a,d,f,g){super(e,i,s,o,a,d,f,g),this._animationStateChanged=new n.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(XT),n.Y36(ne,8),n.Y36(Yo),n.Y36(KT),n.Y36(n.R0b),n.Y36($T),n.Y36(Sl))},r.\u0275cmp=n.Xpm({type:r,selectors:[["ng-component"]],features:[n.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),r})(),pie=(()=>{class r extends fie{constructor(e,i,s,o,a,d,f,g,b){super(e,i,s,o,a,d,f,b),this._changeDetectorRef=g,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||YC.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||YC.params.exitAnimationDuration}}}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(XT),n.Y36(ne,8),n.Y36(Yo),n.Y36(KT),n.Y36(n.R0b),n.Y36($T),n.Y36(n.sBO),n.Y36(Sl))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&n.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(n.Ikx("id",i._config.id),n.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),n.d8E("@dialogContainer",i._getAnimationState()))},features:[n.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&n.YNc(0,die,0,0,"ng-template",0)},dependencies:[bc],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[hie.dialogContainer]}}),r})();class Su{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Fe.xQ,this._beforeClosed=new Fe.xQ,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Lt(s=>"opened"===s.state),tn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Lt(s=>"closed"===s.state),tn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,ci.T)(this.backdropClick(),this.keydownEvents().pipe(Lt(s=>27===s.keyCode&&!this.disableClose&&!Es(s)))).subscribe(s=>{this.disableClose||(s.preventDefault(),function mie(r,t,e){r._closeInteractionType=t,r.close(e)}(this,"keydown"===s.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Lt(e=>"closing"===e.state),tn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const eh=new n.OlP("MatDialogData"),gie=new n.OlP("mat-dialog-default-options"),Wq=new n.OlP("mat-dialog-scroll-strategy"),yie={provide:Wq,deps:[Go],useFactory:function _ie(r){return()=>r.scrollStrategies.block()}};let bie=0,vie=(()=>{class r{constructor(e,i,s,o,a,d,f,g,b,T){this._overlay=e,this._defaultOptions=s,this._parentDialog=o,this._dialogRefConstructor=f,this._dialogContainerType=g,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Fe.xQ,this._afterOpenedAtThisLevel=new Fe.xQ,this._idPrefix="mat-dialog-",this.afterAllClosed=Co(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yn(void 0))),this._scrollStrategy=d,this._dialog=i.get(Qq)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let s;(i={...this._defaultOptions||new Yo,...i}).id=i.id||`${this._idPrefix}${bie++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Yo,useValue:i},{provide:hI,useValue:i}]},templateContext:()=>({dialogRef:s}),providers:(a,d,f)=>(s=new this._dialogRefConstructor(a,i,f),s.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:s}])});return s.componentInstance=o.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return r.\u0275fac=function(e){n.$Z()},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),Pi=(()=>{class r extends vie{constructor(e,i,s,o,a,d,f,g){super(e,i,o,d,f,a,Su,pie,eh,g)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Go),n.LFG(n.zs3),n.LFG(sn,8),n.LFG(gie,8),n.LFG(Wq),n.LFG(r,12),n.LFG(wM),n.LFG(n.QbO,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),Cie=0,t6=(()=>{class r{constructor(e,i,s){this._dialogRef=e,this._elementRef=i,this._dialog=s,this.id="mat-dialog-title-"+Cie++}ngOnInit(){this._dialogRef||(this._dialogRef=function wie(r,t){let e=r.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Su,8),n.Y36(n.SBq),n.Y36(Pi))},r.\u0275dir=n.lG2({type:r,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&n.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),r})(),n6=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),r})(),i6=(()=>{class r{constructor(){this.align="start"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&n.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),r})(),Kq=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[Pi,yie],imports:[uie,my,Gf,Xt,Xt]}),r})();function Tie(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-tile",3)(2,"mat-form-field",16)(3,"mat-label"),n._uU(4),n.qZA(),n._UZ(5,"input",17),n.TgZ(6,"mat-hint"),n._uU(7),n.qZA()()(),n.TgZ(8,"mat-grid-tile",3)(9,"mat-form-field",18)(10,"mat-label"),n._uU(11),n.qZA(),n._UZ(12,"input",19),n.TgZ(13,"mat-hint"),n._uU(14),n.qZA()()(),n.TgZ(15,"mat-grid-tile",3)(16,"mat-form-field",18)(17,"mat-label"),n._uU(18),n.qZA(),n._UZ(19,"input",20),n.TgZ(20,"mat-hint"),n._uU(21),n.qZA()(),n.TgZ(22,"app-menu-item",21,22),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.setStatus(s))}),n.qZA()(),n.TgZ(24,"mat-grid-tile",3)(25,"mat-form-field",23)(26,"mat-label"),n._uU(27),n.qZA(),n._UZ(28,"input",24),n.TgZ(29,"mat-hint"),n._uU(30),n.qZA()()(),n.TgZ(31,"mat-grid-tile",3)(32,"mat-form-field",25)(33,"mat-label"),n._uU(34),n.qZA(),n._UZ(35,"input",26),n.TgZ(36,"mat-hint"),n._uU(37),n.qZA()()(),n.TgZ(38,"mat-grid-tile",3)(39,"button",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.fetchFromDatabaseObject())}),n._uU(40," Fetch from Dataset "),n.qZA()(),n.BQk()}if(2&r){const e=n.MAs(23),i=n.oxw(2);n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.hij("",i.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][i.rdfslabel]," "),n.xp6(3),n.hij("",i.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][i.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.Oqu(i.annoinfo["dataset:DatasetName"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:DatasetName"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",4),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogDataObjectStatus"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.Oqu(i.annoinfo["dataset:CatalogDataObjectStatus"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.items),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:DatasetVersion"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:DatasetVersion"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.Oqu(i.annoinfo["dataset:SimpleCatalogName"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:SimpleCatalogName"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",6),n.xp6(1),n.Q6J("disabled",i.idForm.invalid)}}function Die(r,t){1&r&&n._uU(0," waiting for annotations (try again) ")}function xie(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-tile",3)(2,"button",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.setDataFromFile())}),n._uU(3," Fetch from File "),n.qZA()(),n.TgZ(4,"mat-grid-tile",3)(5,"textarea",13),n._uU(6),n.ALo(7,"json"),n.qZA()(),n.TgZ(8,"form",2),n.YNc(9,Tie,41,19,"ng-container",14),n.YNc(10,Die,1,0,"ng-template",null,15,n.W1O),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(11),i=n.oxw();n.xp6(1),n.Q6J("colspan",6),n.xp6(1),n.Q6J("disabled",null==i.catalog),n.xp6(2),n.Q6J("colspan",6),n.xp6(2),n.Oqu(n.lcZ(7,7,i.catalog)),n.xp6(2),n.Q6J("formGroup",i.idForm),n.xp6(1),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",e)}}let xy=(()=>{class r{constructor(e,i,s,o,a){this.dialogRef=e,this.menusetup=i,this.runservice=s,this.fb=o,this.data=a,this.filenamehint="Can be changed from upload name",this.filesourceidentifierlabel="File Source Identifier",this.dataimage="text",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.statusitems="dataset:CatalogDataObjectStatus",this.annoinfo=a.annoinfo,this.maintainer=a.maintainer,this.fromdatabase=a.fromdatabase,this.catalogtype=a.catalogtype,this.uploadForm=this.fb.group({FileSourceIdentifier:["No file selected"]}),this.idForm=this.fb.group({DatasetName:["",oe.required],DatasetVersion:["",oe.required],CatalogObjectUniqueGenericLabel:["",oe.required],SimpleCatalogName:["",oe.required],CatalogDataObjectStatus:["",oe.required]}),this.catalog=null}ngOnInit(){this.dataimage="texxxxxt",this.items=this.menusetup.findChoices(this.annoinfo,this.statusitems)}onNoClick(){this.dialogRef.close()}fetchFromDatabaseObject(){let e={service:"ReadSpecificCatalogObjectInDataset"};e[this.annoinfo["dataset:CatalogObjectKey"][this.identifier]]=this.idForm.get("SimpleCatalogName").value,e[this.annoinfo["dataset:DatabaseObjectType"][this.identifier]]=this.catalogtype;let i={};e["dataset:datasetfortypeincollection"]=i,i[this.annoinfo["dataset:CatalogDataObjectStatus"][this.identifier]]=this.idForm.get("CatalogDataObjectStatus").value,i[this.annoinfo["dataset:DatasetName"][this.identifier]]=this.idForm.get("DatasetName").value,i[this.annoinfo["dataset:DatasetVersion"][this.identifier]]=this.idForm.get("DatasetVersion").value,i[this.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][this.identifier]]=this.idForm.get("CatalogObjectUniqueGenericLabel").value,i["dataset:catalogobjectmaintainer"]=this.maintainer,this.runservice.run(e).subscribe({next:o=>{"true"==o["dataset:servicesuccessful"]||(this.message=o["dataset:serviceresponsemessage"],this.runservice.checkReturn(o)),this.dialogRef.close(o)}})}setDataFromFile(){if(null!=this.catalog){const e={"dataset:servicesuccessful":"true","dataset:serviceresponsemessage":"Catalog interpreted from file"};e["dataset:simpcatobj"]=this.catalog,this.dialogRef.close(e)}}uploadFileEvt(e){if(e.target.files&&e.target.files[0]){this.uploadForm.patchValue({FileSourceIdentifier:e.target.files[0].name});const o=new FileReader;o.onload=a=>{this.dataimage=a.target.result,this.catalog=this.getCatalogObject(),this.setDataFromFile()},o.readAsText(e.target.files[0])}}getCatalogObject(){let e={};return null!=this.dataimage&&(e=JSON.parse(this.dataimage)),e}setStatus(e){this.idForm.get("CatalogDataObjectStatus").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Su),n.Y36(Si),n.Y36(ga),n.Y36(Ut),n.Y36(eh))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-fetchcatalogobject"]],decls:23,vars:6,consts:[[1,"matcard"],["cols","6","rowHeight","100px"],[3,"formGroup"],[3,"colspan"],["type","file",1,"file-input",3,"change"],["fileUpload",""],["mat-mini-fab","","color","primary",1,"upload-btn",3,"click"],[1,"uploadform"],["matInput","","formControlName","FileSourceIdentifier"],[4,"ngIf"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"disabled","click"],[1,"textarea"],[4,"ngIf","ngIfElse"],["waiting",""],[1,"generic"],["matInput","","formControlName","CatalogObjectUniqueGenericLabel"],[1,"datasetname"],["matInput","","formControlName","DatasetName"],["matInput","","formControlName","CatalogDataObjectStatus",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],[1,"version"],["matInput","","formControlName","DatasetVersion","placeholder","1.0"],[1,"name"],["matInput","","formControlName","SimpleCatalogName","placeholder","1.0"]],template:function(e,i){if(1&e){const s=n.EpF();n.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"mat-grid-list",1)(3,"form",2)(4,"mat-grid-tile",3)(5,"input",4,5),n.NdJ("change",function(a){return i.uploadFileEvt(a)}),n.qZA(),n.TgZ(7,"button",6),n.NdJ("click",function(){n.CHM(s);const a=n.MAs(6);return n.KtG(a.click())}),n.TgZ(8,"mat-icon"),n._uU(9,"attach_file"),n.qZA()()(),n.TgZ(10,"mat-grid-tile",3)(11,"mat-form-field",7)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",8),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()()(),n.YNc(17,xie,12,9,"ng-container",9),n.qZA()(),n.TgZ(18,"mat-card-footer")(19,"button",10),n.NdJ("click",function(){return i.onNoClick()}),n._uU(20,"Cancel"),n.qZA(),n.TgZ(21,"button",11),n.NdJ("click",function(){return i.fetchFromDatabaseObject()}),n._uU(22,"Ok"),n.qZA()()()}2&e&&(n.xp6(3),n.Q6J("formGroup",i.uploadForm),n.xp6(1),n.Q6J("colspan",1),n.xp6(6),n.Q6J("colspan",5),n.xp6(3),n.Oqu(i.filesourceidentifierlabel),n.xp6(3),n.Oqu(i.filenamehint),n.xp6(1),n.Q6J("ngIf",i.fromdatabase))},dependencies:[ke,jt,rr,ti,Rt,en,kt,Pt,et,Xe,pD,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Fi,Ya],styles:[".file-input[_ngcontent-%COMP%]{display:none}.uploadform[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{width:100%;padding:2px}.matcard[_ngcontent-%COMP%]{width:500px}.generic[_ngcontent-%COMP%], .datasetname[_ngcontent-%COMP%], .version[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{width:100%;padding:2px}.transactionid[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{width:100%;padding:20px}"]}),r})(),vc=(()=>{class r{constructor(e,i,s){this.formBuilder=e,this.dialogRef=i,this.mydata=s,this.filename="not initial",this.catalog={},this.filenamelabel="Filename Root",this.hintlabel="Root name of the json file (no .json suffix)",this.filenamenotvalid="Filename no valid",this.saved="Saved to ",this.cancel="Canceled",this.filename=s.filename,this.catalog=s.dataimage,this.objectform=this.formBuilder.group({filename:[this.filename,oe.required]})}saveDataClick(){if(this.objectform.valid){const i=this.objectform.get("filename").value+".json",s=new Blob([JSON.stringify(this.catalog,null,2)],{type:"application/json"}),o=URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="file.txt",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o),this.dialogRef.close(this.saved+i)}else alert(this.filenamenotvalid)}closeDialog(){this.dialogRef.close(this.cancel)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Su),n.Y36(eh,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-viewcatalogandsavetolocalfile"]],decls:23,vars:7,consts:[[1,"header"],[1,"content"],["cdkTextareaAutosize","","cdkAutosizeMinRows","10","cdkAutosizeMaxRows","20",1,"textarea"],["autosize","cdkTextareaAutosize"],[3,"formGroup"],[1,"namefield"],["matInput","","formControlName","filename"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header",0)(2,"mat-card-title"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content",1)(5,"div")(6,"textarea",2,3),n._uU(8),n.ALo(9,"json"),n.qZA()(),n.TgZ(10,"div")(11,"form",4)(12,"mat-form-field",5)(13,"mat-label"),n._uU(14),n.qZA(),n._UZ(15,"input",6),n.TgZ(16,"mat-hint"),n._uU(17),n.qZA()()()()(),n.TgZ(18,"mat-card-footer")(19,"button",7),n.NdJ("click",function(){return i.closeDialog()}),n._uU(20,"Cancel"),n.qZA(),n.TgZ(21,"button",7),n.NdJ("click",function(){return i.saveDataClick()}),n._uU(22,"Save"),n.qZA()()()),2&e&&(n.xp6(3),n.hij(" ",i.filename," "),n.xp6(5),n.hij("\t\t\t\t",n.lcZ(9,5,i.catalog),"\n\t\t\t"),n.xp6(3),n.Q6J("formGroup",i.objectform),n.xp6(3),n.Oqu(i.filenamelabel),n.xp6(3),n.Oqu(i.hintlabel))},dependencies:[jt,fD,Rt,en,kt,Pt,et,lt,Xe,Oi,pD,hn,Nt,Bt,zt,Ot,Gt,Ya],styles:[".textarea[_ngcontent-%COMP%]{width:500px}.namefield[_ngcontent-%COMP%], .header[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]{width:100%}"]}),r})(),Sie=(()=>{class r{constructor(e,i){this.session=e,this.httpClient=i}run(e){return this.standardHttpCall(To_apiURL+"/transaction",e)}standardHttpCall(e,i){const s=this.session.getUID();i.uid=s;const o=this.session.getToken(),a=gf.setupHeader(o);return this.httpClient.post(e,i,{headers:a}).pipe(tr(d=>(this.errorMsg=d.error instanceof ErrorEvent?`Error: ${d.error.message}`:gf.getServerErrorMessage(d),(0,Ve.of)({"dataset:servicesuccessful":"false","dataset:serviceresponsemessage":this.errorMsg,"dataset:simpcatobj":null}))))}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Oa),n.LFG(ca))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Aie(r,t){1&r&&(n.ynx(0),n._uU(1," Processing "),n._UZ(2,"mat-spinner"),n.BQk())}function Eie(r,t){if(1&r&&(n.TgZ(0,"pre"),n._uU(1),n.ALo(2,"json"),n.qZA()),2&r){const e=n.oxw(2);n.xp6(1),n.Oqu(n.lcZ(2,1,e.data))}}function Mie(r,t){if(1&r&&(n.ynx(0),n.YNc(1,Aie,3,0,"ng-container",2),n.YNc(2,Eie,3,3,"ng-template",null,6,n.W1O),n.BQk()),2&r){const e=n.MAs(3),i=n.oxw();n.xp6(1),n.Q6J("ngIf",i.running)("ngIfElse",e)}}function Iie(r,t){1&r&&n._uU(0," no data ")}let Al=(()=>{class r{constructor(e,i,s){this.dialogRef=e,this.runtranaction=i,this.data=s,this.response={data:"help",result:"more data"},this.running=!1}ngOnInit(){}onNoClick(){this.dialogRef.close()}runTransaction(){this.running=!0,this.runtranaction.run(this.data).subscribe({next:e=>{this.running=!1,this.response=e,this.dialogRef.close(e)}})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Su),n.Y36(Sie),n.Y36(eh))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-runtransactiondialog"]],decls:12,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf","ngIfElse"],["waiting",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["setup",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"h1",0),n._uU(1),n.TgZ(2,"h1")(3,"div",1),n.YNc(4,Mie,4,2,"ng-container",2),n.YNc(5,Iie,1,0,"ng-template",null,3,n.W1O),n.qZA(),n.TgZ(7,"div",4)(8,"button",5),n.NdJ("click",function(){return i.runTransaction()}),n._uU(9,"Run"),n.qZA(),n.TgZ(10,"button",5),n.NdJ("click",function(){return i.onNoClick()}),n._uU(11,"Cancel"),n.qZA()()()()),2&e){const s=n.MAs(6);n.xp6(1),n.Oqu(i.data["prov:activity"]),n.xp6(3),n.Q6J("ngIf",null!=i.data)("ngIfElse",s)}},dependencies:[ke,jt,t6,n6,i6,$r,Ya]}),r})(),kie=(()=>{class r{constructor(e,i){this.dialogRef=e,this.data=i,this.filename="not initial",this.catalogS="not initialized",this.filename=i.filename,this.text=i.dataimage}ngOnInit(){this.filename="The File"}onNoClick(){this.dialogRef.close("Cancel"),alert("Cancel")}saveDataClick(){this.dialogRef.close("save data file simulation"),alert("save data file simulation")}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Su),n.Y36(eh))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-visualizefile"]],decls:7,vars:2,consts:[[1,"header"],[1,"content"],["cdkTextareaAutosize","","cdkAutosizeMinRows","10","cdkAutosizeMaxRows","20",1,"textarea"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header",0)(2,"mat-card-title"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content",1)(5,"textarea",2),n._uU(6),n.qZA()()()),2&e&&(n.xp6(3),n.hij(" ",i.filename," "),n.xp6(3),n.hij("\t\t\t\t",i.text,"\n\t\t\t"))},dependencies:[fD,et,lt,Xe,Oi],styles:[".textarea[_ngcontent-%COMP%]{width:400px}"]}),r})();function Rie(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-list",4)(2,"mat-grid-tile",5)(3,"mat-form-field",6)(4,"mat-label"),n._uU(5),n.qZA(),n._UZ(6,"input",7),n.TgZ(7,"mat-hint"),n._uU(8),n.qZA()()(),n.TgZ(9,"mat-grid-tile",5)(10,"mat-form-field",8)(11,"mat-label"),n._uU(12),n.qZA(),n._UZ(13,"input",9),n.TgZ(14,"mat-hint"),n._uU(15),n.qZA()()(),n.TgZ(16,"mat-grid-tile",5)(17,"mat-form-field",10)(18,"mat-label"),n._uU(19),n.qZA(),n._UZ(20,"input",11),n.TgZ(21,"mat-hint"),n._uU(22),n.qZA()(),n.TgZ(23,"app-menu-item",12,13),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setStatus(s))}),n.qZA()(),n.TgZ(25,"mat-grid-tile",5)(26,"mat-form-field",14)(27,"mat-label"),n._uU(28),n.qZA(),n._UZ(29,"input",15),n.TgZ(30,"mat-hint"),n._uU(31),n.qZA()()()(),n.BQk()}if(2&r){const e=n.MAs(24),i=n.oxw();n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.hij("",i.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][i.rdfslabel]," "),n.xp6(3),n.hij("",i.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][i.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.Oqu(i.annoinfo["dataset:DatasetName"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:DatasetName"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",4),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogDataObjectStatus"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.Oqu(i.annoinfo["dataset:CatalogDataObjectStatus"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.items),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:DatasetVersion"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:DatasetVersion"][i.rdfscomment])}}function Nie(r,t){1&r&&n._uU(0," Spec: waiting for annotations ")}let $f=(()=>{class r{constructor(e,i,s){this.fb=e,this.manageuser=i,this.menusetup=s,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.statusitems="dataset:CatalogDataObjectStatus",this.items=[],this.waiting="waiting for annotations ",this.idForm=this.fb.group({DatasetName:["",oe.required],DatasetVersion:["",oe.required],CatalogObjectUniqueGenericLabel:["",oe.required],CatalogDataObjectStatus:["",oe.required]})}ngOnInit(){null==this.subtitle&&(this.subtitle="Specification for Collection"),this.items=this.menusetup.findChoices(this.annoinfo,this.statusitems),this.manageuser.determineMaintainer().subscribe(e=>{null!=e?this.maintainer=e:alert(this.manageuser.errormaintainer)})}invalid(){return this.idForm.invalid}getData(e){const i={};e[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]]=i,i[this.annoinfo["dataset:CatalogDataObjectStatus"][this.identifier]]=this.idForm.get("CatalogDataObjectStatus").value,i[this.annoinfo["dataset:DatasetName"][this.identifier]]=this.idForm.get("DatasetName").value,i[this.annoinfo["dataset:DatasetVersion"][this.identifier]]=this.idForm.get("DatasetVersion").value,i[this.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][this.identifier]]=this.idForm.get("CatalogObjectUniqueGenericLabel").value,i[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.maintainer,this.transspec=i}setData(e){const i=e[this.annoinfo["dataset:CatalogDataObjectStatus"][this.identifier]];this.idForm.get("CatalogDataObjectStatus").setValue(i);const s=e[this.annoinfo["dataset:DatasetName"][this.identifier]];this.idForm.get("DatasetName").setValue(s);const o=e[this.annoinfo["dataset:DatasetVersion"][this.identifier]];this.idForm.get("DatasetVersion").setValue(o);const a=e[this.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][this.identifier]];this.idForm.get("CatalogObjectUniqueGenericLabel").setValue(a),this.transspec=e}setStatus(e){this.idForm.get("CatalogDataObjectStatus").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(yr),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-datasettransactionspecificationforcollection"]],inputs:{annoinfo:"annoinfo",subtitle:"subtitle"},decls:9,vars:4,consts:[[1,"matcard"],[3,"formGroup"],[4,"ngIf","ngIfElse"],["waiting",""],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"generic"],["matInput","","formControlName","CatalogObjectUniqueGenericLabel"],[1,"datasetname"],["matInput","","formControlName","DatasetName"],[1,"status"],["matInput","","formControlName","CatalogDataObjectStatus",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],[1,"version"],["matInput","","formControlName","DatasetVersion","placeholder","1.0"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-subtitle"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content")(5,"form",1),n.YNc(6,Rie,32,14,"ng-container",2),n.YNc(7,Nie,1,0,"ng-template",null,3,n.W1O),n.qZA()()()),2&e){const s=n.MAs(8);n.xp6(3),n.Oqu(i.subtitle),n.xp6(2),n.Q6J("formGroup",i.idForm),n.xp6(1),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,lt,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Fi],styles:[".generic[_ngcontent-%COMP%]{width:100%}.datasetname[_ngcontent-%COMP%], .status[_ngcontent-%COMP%], .version[_ngcontent-%COMP%]{width:100%;padding:10px}.cname[_ngcontent-%COMP%]{width:100%}.matcard[_ngcontent-%COMP%]{padding:3px;border:1px solid gray}"]}),r})();const Oie=["references"],Fie=["objectlinks"],Pie=["weblinks"],Lie=["keywords"],Bie=["transspec"];function Uie(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-tile",4)(2,"mat-form-field",16)(3,"mat-label"),n._uU(4),n.qZA(),n._UZ(5,"input",17),n.TgZ(6,"mat-hint"),n._uU(7),n.qZA()(),n.TgZ(8,"app-menu-item",18,19),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.setFileFormat(s))}),n.qZA()(),n.BQk()}if(2&r){const e=n.MAs(9),i=n.oxw(2);n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:FileSourceFormat"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu)("readonly",i.fixedtype),n.xp6(2),n.Oqu(i.annoinfo["dataset:FileSourceFormat"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.items)}}function Vie(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",2)(2,"mat-grid-list",3)(3,"mat-grid-tile",4)(4,"mat-form-field",5)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"textarea",6),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",4)(11,"mat-form-field",5)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",7),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.YNc(17,Uie,10,6,"ng-container",8),n.qZA()(),n.TgZ(18,"app-datasettransactionspecificationforcollection",9,10),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n._UZ(20,"app-keywordlistprimitive",null,11),n.TgZ(22,"app-setofsitereferences",12,13),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(24,"app-setofdataobjectlinks",12,14),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(26,"app-datasetreference",12,15),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.infoform),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionAbstractFileStaging"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionAbstractFileStaging"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",4),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionTitleFileStaging"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionTitleFileStaging"][e.rdfscomment]),n.xp6(1),n.Q6J("ngIf",null!=e.items),n.xp6(1),n.Q6J("annoinfo",e.annoinfo),n.xp6(4),n.Q6J("anno",e.annoinfo),n.xp6(2),n.Q6J("anno",e.annoinfo),n.xp6(2),n.Q6J("anno",e.annoinfo)}}function Zie(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" Repository: ",e.message," ")}}let jie=(()=>{class r{constructor(e,i){this.formBuilder=e,this.menusetup=i,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.formatmenulabel="dataset:FileSourceFormat",this.infoform=this.formBuilder.group({FileSourceFormat:["",oe.required],DescriptionTitleFileStaging:["",oe.required],DescriptionAbstractFileStaging:["",oe.required]})}ngOnInit(){this.items=this.menusetup.findChoices(this.annoinfo,this.formatmenulabel)}invalid(){let e=!0;return null!=this.transspec&&(e=this.transspec.invalid()||this.infoform.invalid),e}getData(e){e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]=this.infoform.get("DescriptionTitleFileStaging").value,e[this.annoinfo["dataset:DescriptionTitleFileStaging"][this.identifier]]=this.infoform.get("DescriptionTitleFileStaging").value,e[this.annoinfo["dataset:DescriptionAbstractFileStaging"][this.identifier]]=this.infoform.get("DescriptionAbstractFileStaging").value,e[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]=this.infoform.get("FileSourceFormat").value;const i={};e[this.annoinfo["dataset:DataDescriptionFileStaging"][this.identifier]]=i;const s={};i[this.annoinfo["dataset:PurposeConceptFileStaging"][this.identifier]]=s,s[this.annoinfo["dataset:PurposeFileStaging"][this.identifier]]="dataset:PurposeRepositoryDataOrigin",s[this.annoinfo["dataset:ConceptFileStaging"][this.identifier]]="dataset:ChemConnectConceptChemicalStructure",i[this.annoinfo["dataset:DescriptionAbstractFileStaging"][this.identifier]]=this.infoform.get("DescriptionAbstractFileStaging").value,i[this.annoinfo["dataset:DescriptionTitleFileStaging"][this.identifier]]=this.infoform.get("DescriptionTitleFileStaging").value,i[this.annoinfo["dataset:DescriptionKeywordFileStaging"][this.identifier]]=this.keywords.getKeys(),new Date;const d=new Date;i[this.annoinfo["dataset:DateCreated"][this.identifier]]=new uh("en-US").transform(d,"YYYY-MM-DDTHH:mm"),this.transspec.getData(e),this.addSetOfReferencesAndLinks(e)}addSetOfReferencesAndLinks(e){this.references.getData(e),this.weblinks.getData(e),this.objectlinks.getData(e)}setData(e){if(null!=e){this.infoform.get("DescriptionTitleFileStaging").setValue(e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]),this.infoform.get("DescriptionTitleFileStaging").setValue(e[this.annoinfo["dataset:DescriptionTitleFileStaging"][this.identifier]]),this.infoform.get("DescriptionAbstractFileStaging").setValue(e[this.annoinfo["dataset:DescriptionAbstractFileStaging"][this.identifier]]),this.infoform.get("FileSourceFormat").setValue(e[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]);const i=e[this.annoinfo["dataset:DataDescriptionFileStaging"][this.identifier]];if(null!=i){this.infoform.get("DescriptionAbstractFileStaging").setValue(i[this.annoinfo["dataset:DescriptionAbstractFileStaging"][this.identifier]]),this.infoform.get("DescriptionTitleFileStaging").setValue(i[this.annoinfo["dataset:DescriptionTitleFileStaging"][this.identifier]]);const s=i[this.annoinfo["dataset:DescriptionKeywordFileStaging"][this.identifier]];null!=s&&(this.keywords.setKeys(s),this.transspec.setData(e[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]]),this.setSetOfReferencesAndLinks(e))}}}setSetOfReferencesAndLinks(e){const i=e["dcterms:BibliographicResource"];null!=i&&this.references.setData(i);const s=e["foaf:page"];null!=s&&this.weblinks.setData(s);const o=e["skos:mappingRelation"];null!=o&&this.objectlinks.setData(o)}setFileFormat(e){this.infoform.get("FileSourceFormat").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-datasetrepositoryfile"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Oie,5),n.Gf(Fie,5),n.Gf(Pie,5),n.Gf(Lie,5),n.Gf(Bie,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.references=s.first),n.iGM(s=n.CRH())&&(i.objectlinks=s.first),n.iGM(s=n.CRH())&&(i.weblinks=s.first),n.iGM(s=n.CRH())&&(i.keywords=s.first),n.iGM(s=n.CRH())&&(i.transspec=s.first)}},inputs:{annoinfo:"annoinfo",maintainer:"maintainer"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"filesourcetitle"],["matInput","","formControlName","DescriptionAbstractFileStaging"],["matInput","","formControlName","DescriptionTitleFileStaging"],[4,"ngIf"],[3,"annoinfo","annoinfoChange"],["transspec",""],["keywords",""],[3,"anno","annoChange"],["weblinks",""],["objectlinks",""],["references",""],[1,"namefield"],["matInput","","formControlName","FileSourceFormat",3,"matMenuTriggerFor","readonly"],[3,"items","selectionEvent"],["menu",""]],template:function(e,i){if(1&e&&(n.YNc(0,Vie,28,12,"ng-container",0),n.YNc(1,Zie,2,1,"ng-template",null,1,n.W1O)),2&e){const s=n.MAs(2);n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Iq,yD,bD,vD,Fi,$f],styles:[".filesourcetitle[_ngcontent-%COMP%], .namefield[_ngcontent-%COMP%], .infoform[_ngcontent-%COMP%]{width:100%;padding:20px}.fileformat[_ngcontent-%COMP%]{width:100%}.generic[_ngcontent-%COMP%], .datasetname[_ngcontent-%COMP%], .version[_ngcontent-%COMP%]{width:100%;padding:20px}.file-input[_ngcontent-%COMP%]{display:none}.uploadform[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{width:100%}"]}),r})();const Hie=["reposfile"];function qie(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-list",4)(2,"form",5)(3,"mat-grid-tile",6)(4,"input",7,8),n.NdJ("change",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.uploadFileEvt(s))}),n.qZA(),n.TgZ(6,"button",9),n.NdJ("click",function(){n.CHM(e);const s=n.MAs(5);return n.KtG(s.click())}),n.TgZ(7,"mat-icon"),n._uU(8,"attach_file"),n.qZA()()(),n.TgZ(9,"mat-grid-tile",6)(10,"mat-form-field",10)(11,"mat-label"),n._uU(12),n.qZA(),n._UZ(13,"input",11),n.TgZ(14,"mat-hint"),n._uU(15),n.qZA()()(),n.TgZ(16,"mat-grid-tile",6)(17,"button",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.displayFile())}),n.TgZ(18,"mat-icon"),n._uU(19,"visibility"),n.qZA()()()()(),n.TgZ(20,"app-datasetrepositoryfile",13,14),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(2),n.Q6J("formGroup",e.infoform),n.xp6(1),n.Q6J("colspan",1),n.xp6(6),n.Q6J("colspan",4),n.xp6(3),n.Oqu(e.annoinfo["dataset:FileSourceIdentifier"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:FileSourceIdentifier"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",1),n.xp6(1),n.Q6J("disabled",null==e.dataimage),n.xp6(3),n.Q6J("annoinfo",e.annoinfo)("maintainer",e.maintainer)}}let r6=(()=>{class r{constructor(e,i,s,o,a){this.annotations=e,this._formBuilder=s,this.dialog=o,this.cd=a,this.catalogtype="dataset:ActivityRepositoryInitialReadLocalFile",this.uploadfnotsuccessful="Upload of local file not successful",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.title="Read Local File Activity Informaton for Transaction",this.dataimage=null,i.determineMaintainer().subscribe(d=>{null!=d?this.maintainer=d:alert(i.errormaintainer)})}ngOnInit(){this.infoform=this._formBuilder.group({FileSourceIdentifier:["",oe.required],Identifier:["No file",oe.required]})}invalid(){let e=!0;return null!=this.reposfile&&(e=this.reposfile.invalid()||this.infoform.invalid),e}uploadFileEvt(e){if(e.target.files&&e.target.files[0]){const i=event.target.files[0];this.infoform.patchValue({FileSourceIdentifier:i.name});const s=new FileReader;s.onload=o=>{this.dataimage=o.target.result},s.readAsText(e.target.files[0])}else alert(this.uploadfnotsuccessful)}displayFile(){this.dialog.open(kie,{data:{filename:this.infoform.get("FileSourceIdentifier").value,dataimage:this.dataimage}})}getDataImage(){return this.dataimage}getData(e){const i=this.infoform.get("FileSourceIdentifier").value;e[this.annoinfo["dataset:FileSourceIdentifier"][this.identifier]]=i,e[this.annoinfo["dataset:FileSourceMediaSubType"][this.identifier]]="",e[this.annoinfo["dataset:FileSourceMediaType"][this.identifier]]=O.textfile,e[this.annoinfo["dataset:UploadFileSource"][this.identifier]]=O.LocalFileSystem,this.reposfile.getData(e)}setData(e){const i=this.infoform.get("FileSourceIdentifier").value;e[this.annoinfo["dataset:FileSourceIdentifier"][this.identifier]]=i,this.reposfile.setData(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(yr),n.Y36(Ut),n.Y36(Pi),n.Y36(n.sBO))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-activityrepositoryinitialreadlocalfile"]],viewQuery:function(e,i){if(1&e&&n.Gf(Hie,5),2&e){let s;n.iGM(s=n.CRH())&&(i.reposfile=s.first)}},inputs:{annoinfo:"annoinfo"},decls:7,vars:2,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf"],["cols","6","rowHeight","100px"],[3,"formGroup"],[3,"colspan"],["type","file","accept","text/*",1,"file-input",3,"change"],["fileUpload",""],["mat-mini-fab","","color","primary",1,"upload-btn",3,"click"],[1,"infoform"],["matInput","","formControlName","FileSourceIdentifier"],["mat-mini-fab","","color","primary",1,"upload-btn",3,"disabled","click"],[3,"annoinfo","maintainer","annoinfoChange","maintainerChange"],["reposfile",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,qie,22,9,"ng-container",3),n.qZA()()),2&e&&(n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo))},dependencies:[ke,jt,rr,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,jie],styles:[".file-input[_ngcontent-%COMP%]{display:none}.browse-button[_ngcontent-%COMP%]{width:100px;position:center}.upload-btn[_ngcontent-%COMP%]{margin-right:10px}.uploadform[_ngcontent-%COMP%], .infoform[_ngcontent-%COMP%]{width:100%}"]}),r})();const Gie=["upload"];function Yie(r,t){if(1&r&&(n.ynx(0),n._UZ(1,"div",13),n.BQk()),2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("innerHTML",e.resultHtml,n.oJD)}}function Jie(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-list",5)(2,"mat-grid-tile",6)(3,"button",7),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.displayCatalogInfo())}),n._uU(4),n.qZA()(),n.TgZ(5,"mat-grid-tile",6)(6,"button",8),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.fetchInformation())}),n._uU(7),n.qZA()(),n.TgZ(8,"mat-grid-tile",6)(9,"button",9),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.submit())}),n._uU(10),n.qZA()()(),n.TgZ(11,"app-activityrepositoryinitialreadlocalfile",10,11),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n._UZ(13,"mat-divider"),n.YNc(14,Yie,2,1,"ng-container",12),n._UZ(15,"mat-divider"),n.BQk()}if(2&r){const e=n.oxw();n.xp6(2),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",e.displaydescbutton),n.xp6(1),n.Oqu(e.displaybutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",e.loadfromdatabase),n.xp6(1),n.hij(" ",e.fetch," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",e.submitdescr),n.Q6J("disabled",e.invalid()),n.xp6(1),n.Oqu(e.submitbutton),n.xp6(1),n.Q6J("annoinfo",e.annoinfo),n.xp6(3),n.Q6J("ngIf",null!=e.resultHtml)}}function zie(r,t){1&r&&(n._uU(0," Setup "),n._UZ(1,"mat-spinner"))}let $ie=(()=>{class r{constructor(e,i){this.annotations=e,this.dialog=i,this.repositoryEvent=new n.vpe,this.getannotationsfnotsuccessful="Initialization not successful",this.failedresponse="Storage of stagine file failed",this.title="Upload File to Respository",this.filedefault="UploadFileActivity",this.displaydescbutton="Display  information to send to read local file transaction",this.displaybutton="Display",this.loadfromdatabase="Load transaction information from file",this.fetch="Load Info",this.submitdescr="Submit Read Local File Transaction",this.submitbutton="Submit",this.catalogtype="dataset:ActivityRepositoryInitialReadLocalFile",this.readinfailed="Activity Read Failed",this.readincanceled="Cancel Read",this.failedsubmission="Failed Submission",this.acterror='Expecting "dataset:activity" at the top level of the JSON object',this.getAnnotations()}ngOnInit(){}invalid(){let e=!0;return null!=this.upload&&(e=this.upload.invalid()),e}getTransactionData(e){e[O.TransactionEventType]=O.InitialReadInOfRepositoryFileActivity;const i={};this.upload.getData(i),e[O.ActivityInfo]=i,i[O.UploadFileSource]=O.StringSource,i[O.FileSourceIdentifier]=this.upload.getDataImage()}setData(e){e["dataset:activityinfo"]?this.upload.setData(e["dataset:activityinfo"]):alert(this.acterror)}getAnnotations(){this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;if(this.resultHtml=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.activitydata=s[O.outputobject],this.annoinfo=s[O.annotations]}else alert(this.getannotationsfnotsuccessful)},error:e=>{alert(this.getannotationsfnotsuccessful+"\n"+e)}})}displayCatalogInfo(){const e={};this.upload.getData(e);const i=new Yo;i.disableClose=!1,i.autoFocus=!0,i.data={filename:this.filedefault,dataimage:e},this.dialog.open(vc,i).afterClosed().subscribe(o=>{})}submit(){const e={};this.getTransactionData(e),this.dialog.open(Al,{data:e}).afterClosed().subscribe(s=>{if(null!=s){const o=s["dataset:servicesuccessful"];this.resultHtml=s["dataset:serviceresponsemessage"],"true"==o?this.repositoryEvent.emit(s):alert(this.failedresponse)}else this.resultHtml=this.failedsubmission})}fetchInformation(){this.dialog.open(xy,{data:{annoinfo:this.annoinfo,maintainer:this.maintainer,fromdatabase:!1,catalogtype:this.catalogtype}}).afterClosed().subscribe(i=>{null!=i?"true"==i["dataset:servicesuccessful"]?(this.activitydata=i["dataset:simpcatobj"],this.setData(this.activitydata)):alert(this.readinfailed):alert(this.readincanceled)})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(Pi))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-uploadfileinformation"]],viewQuery:function(e,i){if(1&e&&n.Gf(Gie,5),2&e){let s;n.iGM(s=n.CRH())&&(i.upload=s.first)}},outputs:{repositoryEvent:"repositoryEvent"},decls:9,vars:3,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],["cols","6","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"display-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"rbutton",3,"matTooltip","disabled","click"],[3,"annoinfo","annoinfoChange"],["upload",""],[4,"ngIf"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,Jie,16,12,"ng-container",3),n.YNc(7,zie,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,jt,zr,ro,et,lt,gn,Xe,rn,Et,wt,$r,r6],styles:[".display-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%], .rbutton[_ngcontent-%COMP%]{width:100%;padding:10px}"]}),r})(),Qie=(()=>{class r{constructor(){this.filemediatype="text/*",this.filemediasubtype="",this.uploadfilesource="dataset:LocalFileSystem",this.maintainer="Administrator",this.collectionobjecttype="",this.addreference="Add Reference",this.bibliolabel="Full Title",this.bibliohint="The full title of the manuscript, paper or report",this.referencelabel="Bibliographic Reference",this.referencehint="One line reference indicating publication, date, pages, etc.",this.doilabel="Identification",this.doihint="The DOI or ISBN or any other appropriate identifier",this.linecountlabel="Lines in Block",this.linecounthint="The number of lines in each parsed block of the file",this.partitionMethodlabel="Partition Method",this.partitionMethodhint="The method to partition into individual blocks to be interpreted",this.cataloglabel="Database Object",this.cataloghint="This is the data that is stored for each block",this.unitclasslabel="Unit Class",this.unitclasshint="The class of unit that is needed",this.unitspecificlabel="Chosen Unit",this.unitspecifichint="The specific unit of the parameter",this.uncertaintylabel="Uncertainty Type",this.uncertaintyhint="The type of uncertainty of the parameter",this.enthalpylabel="Enthalpy",this.parameterlabellabel="Parameter Label",this.parameterlabelhint="The label assigned to the parameter"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Wie=["spec"];function Kie(r,t){if(1&r&&(n.TgZ(0,"mat-option",13),n._uU(1),n.qZA()),2&r){const e=t.$implicit;n.Q6J("value",e),n.xp6(1),n.hij("",e," ")}}function Xie(r,t){if(1&r&&(n.ynx(0),n.TgZ(1,"mat-form-field",14)(2,"mat-label"),n._uU(3),n.qZA(),n._UZ(4,"input",15),n.TgZ(5,"mat-hint"),n._uU(6),n.qZA()(),n.BQk()),2&r){const e=n.oxw(2);n.xp6(3),n.Oqu(e.annoinfo["dataset:BlockLineCount"][e.rdfslabel]),n.xp6(1),n.Q6J("readonly",!0),n.xp6(2),n.Oqu(e.annoinfo["dataset:BlockLineCount"][e.rdfscomment])}}function ere(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",1)(2,"mat-grid-list",2)(3,"mat-grid-tile",3)(4,"mat-form-field",4)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",5),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",3)(11,"mat-form-field",6)(12,"mat-label"),n._uU(13),n.qZA(),n.TgZ(14,"mat-select",7),n.NdJ("selectionChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.selectFileFormat(s.value))}),n.YNc(15,Kie,2,2,"mat-option",8),n.qZA(),n.TgZ(16,"mat-hint"),n._uU(17),n.qZA()()(),n.TgZ(18,"mat-grid-tile",3)(19,"mat-form-field",9)(20,"mat-label"),n._uU(21),n.qZA(),n._UZ(22,"input",10),n.TgZ(23,"mat-hint"),n._uU(24),n.qZA()()(),n.TgZ(25,"mat-grid-tile",3),n.YNc(26,Xie,7,3,"ng-container",0),n.qZA()()(),n.TgZ(27,"app-datasettransactionspecificationforcollection",11,12),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.parseinfoform),n.xp6(2),n.Q6J("colspan",9),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionTitle"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionTitle"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(e.annoinfo["dataset:FileSourceFormat"][e.rdfslabel]),n.xp6(2),n.Q6J("ngForOf",e.filesourcetypechoices),n.xp6(2),n.Oqu(e.annoinfo["dataset:FileSourceFormat"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(e.annoinfo["dataset:FilePartitionMethod"][e.rdfslabel]),n.xp6(1),n.Q6J("readonly",!0),n.xp6(2),n.Oqu(e.annoinfo["dataset:FilePartitionMethod"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(1),n.Q6J("ngIf",e.showblkcnt),n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}let Xq=(()=>{class r{constructor(e,i,s,o){this.uploadService=e,this.annotations=i,this._formBuilder=o,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.showblkcnt=!0,this.blkcntid="",this.descrtitleid="",this.formatid="",this.methodid="",this.specid="",this.getannofilefnotsuccessful="Error in retrieving File Format information",this.parseinfoform=this._formBuilder.group({BlockLineCount:["not applicable"],DescriptionTitle:["",oe.required],FileSourceFormat:["",oe.required],FilePartitionMethod:["",oe.required]}),s.determineMaintainer().subscribe(a=>{null!=a?this.maintainer=a:alert(s.determineMaintainer)}),this.uploadService.getFormatClassification().subscribe(a=>{this.formatInformation=a,this.filesourcetypechoices=Object.keys(a);for(const d of Object.entries(a));},a=>{alert(this.getannofilefnotsuccessful)})}ngOnInit(){}invalid(){return this.parseinfoform.invalid||this.spec.invalid()}setIDs(){this.blkcntid=this.annoinfo["dataset:BlockLineCount"][this.identifier],this.descrtitleid=this.annoinfo["dataset:DescriptionTitle"][this.identifier],this.formatid=this.annoinfo["dataset:FileSourceFormat"][this.identifier],this.methodid=this.annoinfo["dataset:FilePartitionMethod"][this.identifier],this.specid=this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]}setData(e){this.setIDs(),this.parseinfoform.get("BlockLineCount").setValue(e[this.blkcntid]),alert("ActivityrepositorypartitiontocatalogComponent 2"),this.parseinfoform.get("DescriptionTitle").setValue(e[this.descrtitleid]),this.parseinfoform.get("FileSourceFormat").setValue(e[this.formatid]),this.parseinfoform.get("FilePartitionMethod").setValue(e[this.methodid]),this.spec.setData(e[this.specid])}getData(e){this.setIDs(),e[this.blkcntid]=this.parseinfoform.get("BlockLineCount").value,e[this.descrtitleid]=this.parseinfoform.get("DescriptionTitle").value,e[this.formatid]=this.parseinfoform.get("FileSourceFormat").value,e[this.methodid]=this.parseinfoform.get("FilePartitionMethod").value,this.spec.getData(e)}selectFileFormat(e){this.parseinfoform.get("FilePartitionMethod").setValue(this.formatInformation[e]["dataset:partitionMethod"]);const i=this.formatInformation[e]["dataset:blocklinecount"];this.showblkcnt=i.length>0,this.parseinfoform.get("BlockLineCount").setValue(i)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(xu),n.Y36(Rn),n.Y36(yr),n.Y36(Ut))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-activityrepositorypartitiontocatalog"]],viewQuery:function(e,i){if(1&e&&n.Gf(Wie,5),2&e){let s;n.iGM(s=n.CRH())&&(i.spec=s.first)}},inputs:{annoinfo:"annoinfo"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"infoform",3,"formGroup"],["cols","9","rowHeight","100px"],[3,"colspan"],[1,"title"],["matInput","","formControlName","DescriptionTitle"],["appearance","file",1,"fileformat"],["formControlName","FileSourceFormat",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"version"],["matInput","","formControlName","FilePartitionMethod",3,"readonly"],[3,"annoinfo","annoinfoChange"],["spec",""],[3,"value"],[1,"type"],["matInput","","formControlName","BlockLineCount",3,"readonly"]],template:function(e,i){1&e&&n.YNc(0,ere,29,15,"ng-container",0),2&e&&n.Q6J("ngIf",null!=i.annoinfo)},dependencies:[ln,ke,Rt,en,kt,Pt,Et,wt,hn,Nt,Bt,zt,Ot,Gt,cI,nD,$f],styles:[".title[_ngcontent-%COMP%], .fileformat[_ngcontent-%COMP%], .version[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:100%;padding:2px}.loading[_ngcontent-%COMP%]{background:lightblue;border:5px solid gray}"]}),r})();const tre=["partition"];function nre(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-list",6)(2,"mat-grid-tile",7)(3,"button",8),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.displayActivity())}),n._uU(4),n.qZA()(),n.TgZ(5,"mat-grid-tile",7)(6,"button",8),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.setFormatDefaults())}),n._uU(7),n.qZA()(),n.TgZ(8,"mat-grid-tile",7)(9,"button",9),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.submitParse())}),n._uU(10),n.qZA()()(),n.TgZ(11,"app-activityrepositorypartitiontocatalog",10,11),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(2),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",e.displaydescbutton),n.xp6(1),n.Oqu(e.displaybutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",e.loadfromdatabase),n.xp6(1),n.hij(" ",e.fetch," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",e.submitdescr),n.Q6J("disabled",e.invalid()),n.xp6(1),n.Oqu(e.submitbutton),n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function ire(r,t){1&r&&(n._uU(0," Setup "),n._UZ(1,"mat-spinner"))}function rre(r,t){if(1&r&&(n.ynx(0),n._UZ(1,"div",12),n.BQk()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("innerHTML",e.resultHtml,n.oJD)}}let sre=(()=>{class r{constructor(e,i,s,o,a,d,f,g){this.annotations=i,this._formBuilder=s,this.labels=o,this.uploadService=a,this.identifiers=d,this.dialog=f,this.fileservice=g,this.parsedEvent=new n.vpe,this.identifier=O.dctermsidentifier,this.fetch="Fetch Defaults",this.fetchdescr="Fetch default information from repository object information",this.displaybutton="Display",this.displaydescbutton="Display activity information and save to file",this.submitbutton="Submit Transaction",this.submitdescr="Submit transaction to parse repository file",this.failedsubmission="Partition of file failed",this.failedresponse="Partitioning gave error",this.resultHtml="Initializing",e.determineMaintainer().subscribe(b=>{null!=b?this.maintainer=b:alert(e.errormaintainer)})}ngAfterViewInit(){this.fileservice.getFormatClassification().subscribe({next:i=>{this.fileformatdata=i}}),this.annotations.getNewCatalogObject("dataset:ActivityRepositoryPartitionToCatalog").subscribe({next:i=>{const s=i;this.resultHtml=s[O.message],s[O.successful]?this.annoinfo=s[O.catalogobject][O.annotations]:this.resultHtml=i},error:i=>{alert("Get Annotations failed:")}}),this.uploadService.getFormatClassification().subscribe(i=>{this.formatInformation=i},i=>{console.log("An error accessing getFormatClassification Service")})}invalid(){return null==this.repositorystaging||this.partition.invalid()}setFileStaging(e){null!=e?(this.repositorystaging=e,this.setFormatDefaults()):alert("staging is not defined")}setFormatDefaults(){if(null!=this.annoinfo)if(null!=this.repositorystaging){const e=this.formatValue();if(null!=e&&null!=this.formatInformation){const i=this.formatInformation[e];if(null!=i){const s=i["dataset:partitionMethod"],o=i["dataset:blocklinecount"],a={};this.partition.setIDs(),a[this.partition.blkcntid]=o,a[this.partition.formatid]=e,a[this.partition.methodid]=s,a[this.partition.descrtitleid]=this.repositorystaging[this.partition.descrtitleid],a[this.partition.specid]=this.repositorystaging[this.partition.specid],this.partition.setData(a)}else alert("Unknown file format type")}else alert("Could not set up format defaults based on file format")}else alert("Need to set up repository file prerequisite");else alert("Partition interface not set up: reload repository when set up")}formatValue(){let e=null;if(null!=this.repositorystaging){const i=this.repositorystaging["dataset:gcsstagingblob"];null!=i?e=i[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]:alert("blob not found")}return e}createParseActivity(){const e={};if(null!=this.repositorystaging){e["prov:activity"]="dataset:PartiionSetWithinRepositoryFile";const i={};e["dataset:activityinfo"]=i,this.partition.getData(i);const o={};o["dataset:initreposfile"]=this.repositorystaging["dataset:transactionforobject"],e["dataset:transreqobj"]=o}else alert("Need to set up repository file");return e}submitParse(){const e=this.createParseActivity();this.dialog.open(Al,{data:e}).afterClosed().subscribe(s=>{if(null!=s){const o=s["dataset:servicesuccessful"];this.resultHtml=s["dataset:serviceresponsemessage"],"true"==o?this.parsedEvent.emit(s):alert(this.failedresponse)}else this.resultHtml=this.failedsubmission})}displayActivity(){const e={};this.partition.getData(e);const i=new Yo;i.disableClose=!1,i.autoFocus=!0,this.title="Activity Value",i.data={filename:this.title,dataimage:e},this.dialog.open(vc,i).afterClosed().subscribe(o=>{})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yr),n.Y36(Rn),n.Y36(Ut),n.Y36(Qie),n.Y36(xu),n.Y36(Ar),n.Y36(Pi),n.Y36(xu))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-parseuploadedfile"]],viewQuery:function(e,i){if(1&e&&n.Gf(tre,5),2&e){let s;n.iGM(s=n.CRH())&&(i.partition=s.first)}},outputs:{parsedEvent:"parsedEvent"},decls:12,vars:4,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],["cols","6","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","disabled","click"],[3,"annoinfo","annoinfoChange"],["partition",""],[3,"innerHTML"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,nre,13,11,"ng-container",3),n.YNc(7,ire,2,0,"ng-template",null,4,n.W1O),n._UZ(9,"mat-divider"),n.YNc(10,rre,2,1,"ng-container",5),n._UZ(11,"mat-divider"),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s),n.xp6(4),n.Q6J("ngIf",null!=i.resultHtml)}},dependencies:[ke,jt,zr,ro,et,lt,gn,Xe,rn,Et,wt,$r,Xq],styles:[".submit-btn[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();function ore(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"span")(1,"button",18),n.NdJ("click",function(){const o=n.CHM(e).$implicit,a=n.oxw();return n.KtG(a.setDatasetName(o))}),n.TgZ(2,"span"),n._uU(3),n.qZA()()()}if(2&r){const e=t.$implicit,i=n.oxw();n.xp6(3),n.Oqu(e[i.identifiers.CatalogObjectKey])}}function are(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"span")(1,"button",18),n.NdJ("click",function(){const o=n.CHM(e).$implicit,a=n.oxw();return n.KtG(a.setUniqueName(o))}),n.TgZ(2,"span"),n._uU(3),n.qZA()()()}if(2&r){const e=t.$implicit,i=n.oxw();n.xp6(3),n.Oqu(e[i.identifiers.CatalogObjectKey])}}function lre(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"span")(1,"button",18),n.NdJ("click",function(){const o=n.CHM(e).$implicit,a=n.oxw();return n.KtG(a.setTransactionTypeName(o))}),n.TgZ(2,"span"),n._uU(3),n.qZA()()()}if(2&r){const e=t.$implicit,i=n.oxw();n.xp6(3),n.Oqu(e[i.identifiers.CatalogObjectKey])}}function cre(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"span")(1,"button",18),n.NdJ("click",function(){const o=n.CHM(e).$implicit,a=n.oxw();return n.KtG(a.setTransactionName(o))}),n.TgZ(2,"span"),n._uU(3),n.qZA()()()}if(2&r){const e=t.$implicit,i=n.oxw();n.xp6(3),n.Oqu(e[i.identifiers.CatalogObjectKey])}}function ure(r,t){if(1&r&&n._uU(0),2&r){n.oxw();const e=n.MAs(58);n.hij(" ",e," ")}}let s6=(()=>{class r{constructor(e,i,s,o,a){this.fb=e,this.dialogRef=i,this.runservice=s,this.identifiers=o,this.data=a,this.uniquenameitems=[],this.typeitems=[],this.transactionitems=[],this.waiting="Initialization",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.annoinfo=a[O.annoinfo],this.idForm=this.fb.group({CatalogDataObjectMaintainer:["",oe.required],CatalogObjectUniqueGenericLabel:["",oe.required],DatasetName:["",oe.required],TransactionEventType:["",oe.required],TransactionID:["",oe.required]});const d={};d[O.service]="ReadCatalogTransactionObjectHierarchy",d[this.identifiers.CatalogDataObjectMaintainer]=a[this.identifiers.CatalogDataObjectMaintainer],d[this.identifiers.TransactionEventType]=a[this.identifiers.TransactionEventType],this.runservice.run(d).subscribe({next:f=>{if("true"===f[O.successful]){const T=f[O.catalogobject][0];this.idForm.get("CatalogDataObjectMaintainer").setValue(T[o.CatalogObjectKey]),this.processDatasetMenu(T[o.CatalogHiearchyNode])}else this.runservice.checkReturn(f),this.dialogRef.close(f)}})}ngOnInit(){}processDatasetMenu(e){e.length>1?this.setDatasetMenu(e):1===e.length?(this.setDatasetName(e[0]),this.datasetitems=[]):this.notransactionsfound("No datasets found")}setDatasetMenu(e){this.datasetitems=e}setDatasetName(e){const i=e[this.identifiers.CatalogObjectKey];this.idForm.get("DatasetName").setValue(i),this.processUniqueNameMenu(e[this.identifiers.CatalogHiearchyNode])}processUniqueNameMenu(e){e.length>1?this.setUniqueNameMenu(e):1===e.length?(this.setUniqueName(e[0]),this.uniquenameitems=[]):this.notransactionsfound("No transaction classes found")}setUniqueNameMenu(e){this.uniquenameitems=e}setUniqueName(e){const i=e[this.identifiers.CatalogObjectKey];this.processTransactiontypeMenu(e[this.identifiers.CatalogHiearchyNode]),this.idForm.get("CatalogObjectUniqueGenericLabel").setValue(i)}processTransactiontypeMenu(e){e.length>1?this.setTransactionTypeMenu(e):1===e.length?(this.setTransactionTypeName(e[0]),this.typeitems=[]):this.notransactionsfound("No datasets found")}setTransactionTypeMenu(e){this.typeitems=e}setTransactionTypeName(e){const i=e[this.identifiers.CatalogObjectKey],s=e[this.identifiers.CatalogHiearchyNode];this.idForm.get("TransactionEventType").setValue(i),this.processTransactionMenu(s)}processTransactionMenu(e){e.length>1?this.setTransactionMenu(e):1===e.length?this.setTransactionName(e[0]):this.notransactionsfound("No datasets found")}setTransactionMenu(e){this.transactionitems=e}setTransactionName(e){this.transaction=e["dataset:minimumdatabaseobject"];const i=this.transaction[this.identifiers.TransactionID];this.idForm.get("TransactionID").setValue(i)}notransactionsfound(e){alert("No transactions found: \n"+e),this.dialogRef.close()}transactionFound(){const e={};e[O.successful]="true",e[O.message]="Transaction found",e[O.catalogobject]=this.transaction,this.dialogRef.close(e)}onNoClick(){this.dialogRef.close()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Su),n.Y36(ga),n.Y36(Ar),n.Y36(eh))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-findintermediatettransaction"]],decls:62,vars:26,consts:[[1,"matcard"],[3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","CatalogDataObjectMaintainer"],["matInput","","formControlName","DatasetName",3,"matMenuTriggerFor"],["datasetmenu",""],[4,"ngFor","ngForOf"],["matInput","","formControlName","CatalogObjectUniqueGenericLabel",3,"matMenuTriggerFor"],["uniquenamesmenu",""],["matInput","","formControlName","TransactionEventType","placeholder","1.0",3,"matMenuTriggerFor"],["transactiontypemenu",""],["matInput","","formControlName","TransactionID",3,"matMenuTriggerFor"],["transactionmenu",""],["mat-mini-fab","","color","primary",1,"submit-btn",3,"disabled","click"],["waiting",""],["mat-button","",3,"click"],["mat-menu-item","","color","primary",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),n._uU(3,"\nFind Transaction object\n"),n.qZA()(),n.TgZ(4,"mat-card-content")(5,"form",1)(6,"mat-grid-list",2)(7,"mat-grid-tile",3)(8,"mat-form-field",4)(9,"mat-label"),n._uU(10),n.qZA(),n._UZ(11,"input",5),n.TgZ(12,"mat-hint"),n._uU(13),n.qZA()()(),n.TgZ(14,"mat-grid-tile",3)(15,"mat-form-field",4)(16,"mat-label"),n._uU(17),n.qZA(),n._UZ(18,"input",6),n.TgZ(19,"mat-hint"),n._uU(20),n.qZA()(),n.TgZ(21,"mat-menu",null,7),n.YNc(23,ore,4,1,"span",8),n.qZA()(),n.TgZ(24,"mat-grid-tile",3)(25,"mat-form-field",4)(26,"mat-label"),n._uU(27),n.qZA(),n._UZ(28,"input",9),n.TgZ(29,"mat-hint"),n._uU(30),n.qZA()(),n.TgZ(31,"mat-menu",null,10),n.YNc(33,are,4,1,"span",8),n.qZA()(),n.TgZ(34,"mat-grid-tile",3)(35,"mat-form-field",4)(36,"mat-label"),n._uU(37),n.qZA(),n._UZ(38,"input",11),n.TgZ(39,"mat-hint"),n._uU(40),n.qZA()(),n.TgZ(41,"mat-menu",null,12),n.YNc(43,lre,4,1,"span",8),n.qZA()(),n.TgZ(44,"mat-grid-tile",3)(45,"mat-form-field",4)(46,"mat-label"),n._uU(47),n.qZA(),n._UZ(48,"input",13),n.TgZ(49,"mat-hint"),n._uU(50),n.qZA()(),n.TgZ(51,"mat-menu",null,14),n.YNc(53,cre,4,1,"span",8),n.qZA()(),n.TgZ(54,"mat-grid-tile",3)(55,"button",15),n.NdJ("click",function(){return i.transactionFound()}),n._uU(56," Fetch from Dataset "),n.qZA()()()(),n.YNc(57,ure,1,1,"ng-template",null,16,n.W1O),n.qZA(),n.TgZ(59,"mat-card-footer")(60,"button",17),n.NdJ("click",function(){return i.onNoClick()}),n._uU(61,"Cancel"),n.qZA()()()),2&e){const s=n.MAs(22),o=n.MAs(32),a=n.MAs(42),d=n.MAs(52);n.xp6(5),n.Q6J("formGroup",i.idForm),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.hij("",i.annoinfo["dataset:CatalogDataObjectMaintainer"][i.rdfslabel]," "),n.xp6(3),n.hij("",i.annoinfo["dataset:CatalogDataObjectMaintainer"][i.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.Oqu(i.annoinfo["dataset:DatasetName"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",s),n.xp6(2),n.Oqu(i.annoinfo["dataset:DatasetName"][i.rdfscomment]),n.xp6(3),n.Q6J("ngForOf",i.datasetitems),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.hij("",i.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][i.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",o),n.xp6(2),n.hij("",i.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][i.rdfscomment]," "),n.xp6(3),n.Q6J("ngForOf",i.uniquenameitems),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.Oqu(i.annoinfo["dataset:TransactionEventType"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",a),n.xp6(2),n.Oqu(i.annoinfo["dataset:TransactionEventType"][i.rdfscomment]),n.xp6(3),n.Q6J("ngForOf",i.typeitems),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.Oqu(i.annoinfo["dataset:TransactionID"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",d),n.xp6(2),n.Oqu(i.annoinfo["dataset:TransactionID"][i.rdfscomment]),n.xp6(3),n.Q6J("ngForOf",i.transactionitems),n.xp6(1),n.Q6J("colspan",6),n.xp6(1),n.Q6J("disabled",i.idForm.invalid)}},dependencies:[ln,jt,jC,Km,ti,Rt,en,kt,Pt,et,lt,Xe,Oi,pD,Et,wt,hn,Nt,Bt,zt,Ot,Gt],styles:[".matcard[_ngcontent-%COMP%]{width:300px}.label[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();const dre=["firestoreid"];function hre(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div")(2,"button",8),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.toggleObjectView())}),n._uU(3,"Hide JSON"),n.qZA()(),n.TgZ(4,"div")(5,"pre"),n._uU(6),n.ALo(7,"json"),n.qZA()(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(6),n.Oqu(n.lcZ(7,1,e.dataobject))}}function fre(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"button",8),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.toggleObjectView())}),n._uU(1,"View Object as JSON"),n.qZA()}}let wD=(()=>{class r{constructor(e,i,s){this.dialogRef=e,this.identifiers=i,this.inputdata=s,this.objectdisplay=!1,this.dataobject=this.inputdata.catalog,this.type=this.dataobject[this.identifiers.DatabaseObjectType],this.anno=this.inputdata.annotations,this.dataobjectstring="SavecatalogdataobjectdialogComponent"}toggleObjectView(){this.objectdisplay=!this.objectdisplay}ngAfterViewInit(){this.firestoreid.setData(this.dataobject[this.identifiers.FirestoreCatalogID])}onNoClick(){this.dialogRef.close("Canceled")}saveDataClick(){this.dialogRef.close("Successful (simulated) Write")}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Su),n.Y36(Ar),n.Y36(eh))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-savecatalogdataobjectdialog"]],viewQuery:function(e,i){if(1&e&&n.Gf(dre,5),2&e){let s;n.iGM(s=n.CRH())&&(i.firestoreid=s.first)}},decls:16,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf","ngIfElse"],["askobjectview",""],[3,"anno","annoChange"],["firestoreid",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","",1,"viewobjectbutton",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"h1",0),n._uU(1,"Save Data Object "),n.TgZ(2,"strong"),n._uU(3),n.qZA(),n._uU(4," at Firestore Database Address"),n.qZA(),n.TgZ(5,"div",1),n.YNc(6,hre,8,3,"ng-container",2),n.YNc(7,fre,2,0,"ng-template",null,3,n.W1O),n.TgZ(9,"app-firesytorecatalogid",4,5),n.NdJ("annoChange",function(o){return i.anno=o}),n.qZA()(),n.TgZ(11,"div",6)(12,"button",7),n.NdJ("click",function(){return i.onNoClick()}),n._uU(13,"Cancel"),n.qZA(),n.TgZ(14,"button",7),n.NdJ("click",function(){return i.saveDataClick()}),n._uU(15,"Save"),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(3),n.Oqu(i.type),n.xp6(3),n.Q6J("ngIf",i.objectdisplay)("ngIfElse",s),n.xp6(3),n.Q6J("anno",i.anno)}},dependencies:[ke,jt,t6,n6,i6,Du,Ya],styles:[".viewobjectbutton[_ngcontent-%COMP%]{width:100%;align:center}"]}),r})();class eG{toggleView(t){this.showData=t}messageToJSON(t){return JSON.parse(t.message)}}let tG=(()=>{class r extends eG{constructor(e,i,s){super(),this.dialog=e,this.annotations=i,this.identifiers=s,this.annoinfo=null,this.annoReady=new n.vpe,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.message="Initial",this.display=!1}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{this.message="got response",this.message=e;const i=e;if(this.message="response JSON",this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.display=!0,this.annoReady.emit(this.display)}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}openDialog(e){this.dialog.open(wD,{data:{catalog:e,annotations:this.annoinfo}}).afterClosed().subscribe(s=>{alert(s)})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Pi),n.Y36(Rn),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-savecatalogdataobject"]],features:[n.qOj],decls:2,vars:0,template:function(e,i){1&e&&(n.TgZ(0,"p"),n._uU(1,"savecatalogdataobject works!"),n.qZA())}}),r})(),pre=(()=>{class r{constructor(e,i,s){this.formBuilder=e,this.identifiers=i,this.menusetup=s,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.formatmenulabel="dataset:FileSourceFormat",this.objectform=this.formBuilder.group({DescriptionAbstract:["",oe.required],FileSourceFormat:["",oe.required],GCSFileName:["",oe.required],GCSFilePath:["",oe.required]})}ngAfterViewInit(){this.items=this.menusetup.findChoices(this.anno,this.formatmenulabel)}setData(e){this.objectform.get("DescriptionAbstract").setValue(e[this.identifiers.DescriptionAbstract]),this.objectform.get("FileSourceFormat").setValue(e[this.identifiers.FileSourceFormat]),this.objectform.get("GCSFileName").setValue(e[this.identifiers.GCSFileName]),this.objectform.get("GCSFilePath").setValue(e[this.identifiers.GCSFilePath])}getData(e){const i={};e[this.identifiers.GCSBlobFileInformationStaging]=i,i[this.identifiers.DescriptionAbstract]=this.objectform.get("DescriptionAbstract").value,i[this.identifiers.FileSourceFormat]=this.objectform.get("FileSourceFormat").value,i[this.identifiers.GCSFileName]=this.objectform.get("GCSFileName").value,i[this.identifiers.GCSFilePath]=this.objectform.get("GCSFilePath").value}setFileFormat(e){this.objectform.get("FileSourceFormat").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Ar),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-gcsblobfileinformationstaging"]],inputs:{anno:"anno"},decls:39,vars:14,consts:[[1,"cardbase"],[1,"title"],[3,"formGroup"],["cols","6","rowHeight","60px"],[3,"colspan"],[1,"namefield"],["matInput","","formControlName","GCSFileName",1,"namefield"],["matInput","","formControlName","GCSFilePath"],["matInput","","formControlName","FileSourceFormat",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],["matInput","","formControlName","DescriptionAbstract"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle"),n._uU(4,"Google Cloud Storage Information"),n.qZA()()(),n.TgZ(5,"mat-card-content")(6,"form",2)(7,"div")(8,"mat-grid-list",3)(9,"mat-grid-tile",4)(10,"mat-form-field",5)(11,"mat-label"),n._uU(12),n.qZA(),n._UZ(13,"input",6),n.TgZ(14,"mat-hint"),n._uU(15),n.qZA()()(),n.TgZ(16,"mat-grid-tile",4)(17,"mat-form-field",5)(18,"mat-label"),n._uU(19),n.qZA(),n._UZ(20,"input",7),n.TgZ(21,"mat-hint"),n._uU(22),n.qZA()()(),n.TgZ(23,"mat-grid-tile",4)(24,"mat-form-field",5)(25,"mat-label"),n._uU(26),n.qZA(),n._UZ(27,"input",8),n.TgZ(28,"mat-hint"),n._uU(29),n.qZA()(),n.TgZ(30,"app-menu-item",9,10),n.NdJ("selectionEvent",function(o){return i.setFileFormat(o)}),n.qZA()()()(),n.TgZ(32,"div")(33,"mat-form-field",5)(34,"mat-label"),n._uU(35),n.qZA(),n._UZ(36,"textarea",11),n.TgZ(37,"mat-hint"),n._uU(38),n.qZA()()()()()()),2&e){const s=n.MAs(31);n.xp6(6),n.Q6J("formGroup",i.objectform),n.xp6(3),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.anno["dataset:GCSFileName"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:GCSFileName"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.anno["dataset:GCSFilePath"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:GCSFilePath"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.anno["dataset:FileSourceFormat"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",s.childMenu),n.xp6(2),n.Oqu(i.anno["dataset:FileSourceFormat"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.items),n.xp6(5),n.Oqu(i.anno["dataset:DescriptionAbstract"][i.rdfslabel]),n.xp6(3),n.Oqu(i.anno["dataset:DescriptionAbstract"][i.rdfscomment])}},dependencies:[ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Fi],styles:[".cardbase[_ngcontent-%COMP%]{border:2px solid lightgrey}.title[_ngcontent-%COMP%], .namefield[_ngcontent-%COMP%]{width:100%}"]}),r})();const mre=["simpledata"],gre=["firestoreid"],_re=["references"],yre=["objectlinks"],bre=["weblinks"],vre=["gcs"],Cre=["description"];function wre(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div")(2,"form",5)(3,"mat-form-field",6)(4,"mat-label"),n._uU(5),n.qZA(),n._UZ(6,"input",7),n.qZA()()(),n.TgZ(7,"app-datadatadescription",8,9),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("descriptionsuffixChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.descriptionsuffix=s)}),n.qZA(),n.TgZ(9,"app-gcsblobfileinformationstaging",10,11),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n._UZ(11,"app-simpledatabaseobjectstructure",12,13),n.TgZ(13,"app-setofsitereferences",10,14),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(15,"app-setofdataobjectlinks",10,15),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(17,"app-datasetreference",10,16),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(19,"app-firesytorecatalogid",10,17),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(2),n.Q6J("formGroup",e.objectform),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionTitle"][e.rdfslabel]),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("descriptionsuffix",e.descriptionsuffix),n.xp6(2),n.Q6J("anno",e.annoinfo),n.xp6(2),n.Q6J("anno",e.annoinfo),n.xp6(2),n.Q6J("anno",e.annoinfo),n.xp6(2),n.Q6J("anno",e.annoinfo),n.xp6(2),n.Q6J("anno",e.annoinfo),n.xp6(2),n.Q6J("anno",e.annoinfo)}}function Tre(r,t){1&r&&(n._uU(0," Setup "),n._UZ(1,"mat-spinner"))}let o6=(()=>{class r extends tG{constructor(e,i,s,o){super(e,s,o),this.dialog=e,this.formBuilder=i,this.annotations=s,this.identifiers=o,this.descriptionsuffix="FileStaging",this.menuclass="dataset:FileSourceFormat",this.catalogtype="dataset:DatasetRepositoryFileStaging",this.getCatalogAnnoations()}ngOnInit(){this.objectform=this.formBuilder.group({DescriptionTitle:["",oe.required]})}ngAfterViewInit(){}setData(e){if(null!=this.simpledata){this.simpledata.setData(e),this.firestoreid.setData(e[this.identifiers.FirestoreCatalogID]),this.references.setData(e[this.identifiers.DataSetReference]),this.gcs.setData(e[this.identifiers.GCSBlobFileInformationStaging]),this.objectlinks.setData(e[this.identifiers.DataObjectLink]),this.objectlinks.setData(e[this.identifiers.ObjectSiteReference]),this.description.setData(e["descr-filestaging"]);const b=e[this.identifiers.DescriptionTitle];null!=b&&this.objectform.get("DescriptionTitle").setValue(b)}else alert("Display objects not set up")}openMenu(){}getData(e){null!=this.simpledata&&(this.simpledata.getData(e),this.references.getData(e),this.weblinks.getData(e),this.objectlinks.getData(e),this.gcs.getData(e),this.firestoreid.getData(e),this.description.getData(e))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Pi),n.Y36(Ut),n.Y36(Rn),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-datasetrepositoryfilestaging"]],viewQuery:function(e,i){if(1&e&&(n.Gf(mre,5),n.Gf(gre,5),n.Gf(_re,5),n.Gf(yre,5),n.Gf(bre,5),n.Gf(vre,5),n.Gf(Cre,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.simpledata=s.first),n.iGM(s=n.CRH())&&(i.firestoreid=s.first),n.iGM(s=n.CRH())&&(i.references=s.first),n.iGM(s=n.CRH())&&(i.objectlinks=s.first),n.iGM(s=n.CRH())&&(i.weblinks=s.first),n.iGM(s=n.CRH())&&(i.gcs=s.first),n.iGM(s=n.CRH())&&(i.description=s.first)}},features:[n.qOj],decls:9,vars:2,consts:[[1,"cardbase"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],[1,"namefield"],["matInput","","formControlName","DescriptionTitle",1,"namefield"],[3,"annoinfo","descriptionsuffix","annoinfoChange","descriptionsuffixChange"],["description",""],[3,"anno","annoChange"],["gcs",""],[3,"anno"],["simpledata",""],["weblinks",""],["objectlinks",""],["references",""],["firestoreid",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-title",2),n._uU(4,"Repository File Staging"),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,wre,21,10,"ng-container",3),n.YNc(7,Tre,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(6),n.Q6J("ngIf",i.display)("ngIfElse",s)}},dependencies:[ke,Rt,kt,Pt,et,lt,gn,Xe,Oi,hn,Nt,Bt,zt,Ot,Gt,$r,zP,aI,Du,yD,bD,vD,pre],styles:[".title[_ngcontent-%COMP%]{width:80}.cardbase[_ngcontent-%COMP%]{width:100%;border:2px solid lightgrey}.rbutton[_ngcontent-%COMP%]{float:right;width:10%}.title-group[_ngcontent-%COMP%], .namefield[_ngcontent-%COMP%]{width:100%}"]}),r})(),nG=(()=>{class r{constructor(){this.catalogtypes=[{label:"Benson Rules",format:"dataset:TherGasBensonRules",catalog:"dataset:RepositoryTherGasThermodynamicsBlock",id:1,method:"dataset:PartitionTherGasThermodynamics",type:0},{label:"Disassociation Energy",format:"dataset:JThermodynamicsDisassociationEnergyFormat",catalog:"dataset:RepositoryParsedToFixedBlockSize",id:0,method:"dataset:PartitionToLineSet",type:1,BlockLineCount:1},{label:"Meta Atom",format:"dataset:JThermodynamicsMetaAtomFormat",catalog:"dataset:RepositoryParsedToFixedBlockSize",id:0,method:"dataset:PartitionToLineSet",type:1,BlockLineCount:1},{label:"Vibrational Modes",format:"dataset:JThermodynamicsVibrationalModes",catalog:"dataset:RepositoryParsedToFixedBlockSize",id:0,method:"dataset:PartitionToLineSet",type:1,BlockLineCount:1},{label:"Symmetry Definition",format:"dataset:JThermodynamicsSymmetryDefinitionFormat",catalog:"dataset:RepositoryParsedToFixedBlockSize",id:0,method:"dataset:PartitionXMLListOfCatalogObjects",type:1,BlockLineCount:1}],this.errorcatalogtypes="Error in determining catalog types"}getTherGasCatalogTypes(){return(0,Ve.of)(this.catalogtypes)}dataFormatInformation(e){let i=null,s=0;for(;null==i&&s<this.catalogtypes.length;){const o=this.catalogtypes[s];e==o.format&&(i=o),s++}return(0,Ve.of)(i)}setDataFormat(e,i){const s=e.format;i.get("FileSourceFormat").setValue(s);const o=e.method;return i.get("FilePartitionMethod").setValue(o),e.type}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Dre=["simpledata"],xre=["firestoreid"],Sre=["references"],Are=["objectlinks"],Ere=["weblinks"];function Mre(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div")(2,"form",5)(3,"mat-form-field",6)(4,"mat-label"),n._uU(5),n.qZA(),n._UZ(6,"input",7),n.TgZ(7,"mat-hint"),n._uU(8),n.qZA()(),n.TgZ(9,"app-menu-item",8,9),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setFileFormat(s))}),n.qZA(),n.TgZ(11,"mat-form-field",6)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",10),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()(),n.TgZ(17,"mat-form-field",6)(18,"mat-label"),n._uU(19),n.qZA(),n._UZ(20,"input",11),n.TgZ(21,"mat-hint"),n._uU(22),n.qZA()(),n.TgZ(23,"app-menu-item",8,12),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setFilePartition(s))}),n.qZA()()(),n.TgZ(25,"app-setofsitereferences",13,14),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(27,"app-setofdataobjectlinks",13,15),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(29,"app-datasetreference",13,16),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(31,"app-simpledatabaseobjectstructure",13,17),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(33,"app-firesytorecatalogid",13,18),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(10),i=n.MAs(24),s=n.oxw();n.xp6(2),n.Q6J("formGroup",s.objectform),n.xp6(3),n.Oqu(s.annoinfo["dataset:FileSourceFormat"][s.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu)("readonly",s.fixedtype),n.xp6(2),n.Oqu(s.annoinfo["dataset:FileSourceFormat"][s.rdfscomment]),n.xp6(1),n.Q6J("items",s.items),n.xp6(4),n.Oqu(s.annoinfo["dataset:Position"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:Position"][s.rdfscomment]),n.xp6(3),n.Oqu(s.annoinfo["dataset:FilePartitionMethod"][s.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",i.childMenu)("readonly",s.fixedtype),n.xp6(2),n.Oqu(s.annoinfo["dataset:FilePartitionMethod"][s.rdfscomment]),n.xp6(1),n.Q6J("items",s.partitionitems),n.xp6(2),n.Q6J("anno",s.annoinfo),n.xp6(2),n.Q6J("anno",s.annoinfo),n.xp6(2),n.Q6J("anno",s.annoinfo),n.xp6(2),n.Q6J("anno",s.annoinfo),n.xp6(2),n.Q6J("anno",s.annoinfo)}}function Ire(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let iG=(()=>{class r{constructor(e,i,s,o){this.menusetup=e,this.formBuilder=i,this.interfaceconstants=s,this.identifiers=o,this.display=!1,this.fixedtype=!1,this.postype=0,this.formatmenulabel="dataset:FileSourceFormat",this.partitionmenulabel="dataset:FilePartitionMethod",this.title="File Partition Element",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier}ngOnInit(){this.objectform=this.formBuilder.group({FilePartitionMethod:["",oe.required],FileSourceFormat:["File Format",oe.required],Position:["",oe.required]})}ngAfterViewInit(){this.annoReady.subscribe(e=>{this.annoinfo=e,this.items=this.menusetup.findChoices(this.annoinfo,this.formatmenulabel),this.partitionitems=this.menusetup.findChoices(this.annoinfo,this.partitionmenulabel),this.display=!0})}setDataFormat(e){null!=e&&this.setDataFormatNonNull(e)}setDataFormatNonNull(e){const i=e.format;"dataset:TherGasBensonRules"==i?(this.objectform.get("FileSourceFormat").setValue("dataset:TherGasBensonRules"),this.objectform.get("FilePartitionMethod").setValue("dataset:PartitionTherGasThermodynamics"),this.postype=0):"dataset:JThermodynamicsDisassociationEnergyFormat"==i?(this.objectform.get("FileSourceFormat").setValue("dataset:JThermodynamicsDisassociationEnergyFormat"),this.objectform.get("FilePartitionMethod").setValue("dataset:PartitionToLineSet"),this.postype=1):"dataset:JThermodynamicsMetaAtomFormat"==i?(this.objectform.get("FileSourceFormat").setValue("dataset:JThermodynamicsMetaAtomFormat"),this.objectform.get("FilePartitionMethod").setValue("dataset:PartitionToLineSet"),this.postype=1):"dataset:JThermodynamicsVibrationalModes"==i&&(this.objectform.get("FileSourceFormat").setValue("dataset:JThermodynamicsVibrationalModes"),this.objectform.get("FilePartitionMethod").setValue("dataset:PartitionToLineSet"),this.postype=1),this.fixedtype=!0}setPosType(e){"dataset:TherGasBensonRules"==e?this.postype=0:("dataset:JThermodynamicsDisassociationEnergyFormat"==e||"dataset:JThermodynamicsMetaAtomFormat"==e||"dataset:JThermodynamicsVibrationalModes"==e||"dataset:JThermodynamicsSymmetryDefinitionFormat"==e)&&(this.postype=1)}setData(e){null!=this.simpledata?(this.objectform.get("FilePartitionMethod").setValue(e[this.identifiers.FilePartitionMethod]),this.objectform.get("FileSourceFormat").setValue(e[this.identifiers.FileSourceFormat]),this.setPosition(e),this.simpledata.setData(e),this.firestoreid.setData(e[this.identifiers.FirestoreCatalogID]),this.references.setData(e[this.identifiers.DataSetReference]),this.objectlinks.setData(e[this.identifiers.DataObjectLink]),this.weblinks.setData(e[this.identifiers.ObjectSiteReference])):alert("Display not set up yes (refresh)")}setPosition(e){if(this.setPosType(e[this.identifiers.FileSourceFormat]),0==this.postype){const s=e[this.annoinfo["dataset:RepositoryThermoPartitionBlock"][this.identifier]];this.objectform.get("Position").setValue(s[this.identifiers.Position])}else this.objectform.get("Position").setValue(e[this.identifiers.Position])}getData(e){null!=this.simpledata&&(e[this.identifiers.FilePartitionMethod]=this.objectform.get("FilePartitionMethod").value,e[this.identifiers.FileSourceFormat]=this.objectform.get("FileSourceFormat").value,e[this.identifiers.Position]=this.objectform.get("Position").value,this.simpledata.getData(e),this.references.getData(e),this.weblinks.getData(e),this.objectlinks.getData(e),this.firestoreid.getData(e))}setFileFormat(e){this.fixedtype?this.interfaceconstants.dataFormatInformation(e).subscribe(i=>{null!=i?this.setDataFormatNonNull(i):alert(this.interfaceconstants.errorcatalogtypes)}):this.objectform.get("FileSourceFormat").setValue(e)}setFilePartition(e){this.fixedtype||this.objectform.get("FilePartitionMethod").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Si),n.Y36(Ut),n.Y36(nG),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-repositorydatapartitionblock"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Dre,5),n.Gf(xre,5),n.Gf(Sre,5),n.Gf(Are,5),n.Gf(Ere,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.simpledata=s.first),n.iGM(s=n.CRH())&&(i.firestoreid=s.first),n.iGM(s=n.CRH())&&(i.references=s.first),n.iGM(s=n.CRH())&&(i.objectlinks=s.first),n.iGM(s=n.CRH())&&(i.weblinks=s.first)}},inputs:{annoReady:"annoReady"},decls:9,vars:3,consts:[[1,"cardbase"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],[1,"namefield"],["matInput","","formControlName","FileSourceFormat",3,"matMenuTriggerFor","readonly"],[3,"items","selectionEvent"],["menu",""],["matInput","","formControlName","Position",1,"namefield"],["matInput","","formControlName","FilePartitionMethod",3,"matMenuTriggerFor","readonly"],["partitionmenu",""],[3,"anno","annoChange"],["weblinks",""],["objectlinks",""],["references",""],["simpledata",""],["firestoreid",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,Mre,35,18,"ng-container",3),n.YNc(7,Ire,2,1,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",i.display)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,hn,Nt,Bt,zt,Ot,Gt,aI,Du,yD,bD,vD,Fi],styles:[".title[_ngcontent-%COMP%]{width:80}.cardbase[_ngcontent-%COMP%]{width:100%;border:2px solid lightgrey}.namefield[_ngcontent-%COMP%]{width:30%;padding-right:20px}"]}),r})();const kre=["partition"];function Rre(r,t){if(1&r&&(n.ynx(0),n.TgZ(1,"div")(2,"form",6)(3,"mat-form-field",7)(4,"mat-label"),n._uU(5),n.qZA(),n._UZ(6,"input",8),n.TgZ(7,"mat-hint"),n._uU(8),n.qZA()(),n.TgZ(9,"mat-form-field",9)(10,"mat-label"),n._uU(11),n.qZA(),n._UZ(12,"textarea",10,11),n.TgZ(14,"mat-hint"),n._uU(15),n.qZA()()()(),n.BQk()),2&r){const e=n.oxw();n.xp6(2),n.Q6J("formGroup",e.objectform),n.xp6(3),n.Oqu(e.annoinfo["dataset:BlockLineCount"][e.rdfslabel]),n.xp6(1),n.Q6J("readonly",!0),n.xp6(2),n.Oqu(e.annoinfo["dataset:BlockLineCount"][e.rdfscomment]),n.xp6(3),n.Oqu(e.annoinfo["dataset:ParsedLine"][e.rdfslabel]),n.xp6(4),n.Oqu(e.annoinfo["dataset:ParsedLine"][e.rdfscomment])}}function Nre(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let rG=(()=>{class r{constructor(e,i,s,o,a){this.menusetup=e,this.dialog=i,this.formBuilder=s,this.annotations=o,this.identifiers=a,this.annoReady=new n.vpe,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.message="Initial",this.title="Fixed Number of Lines Block",this.display=!1,this.objectform=this.formBuilder.group({BlockLineCount:[1,oe.required],ParsedLine:["Line 1",oe.required]}),this.catalogtype="dataset:RepositoryParsedToFixedBlockSize",this.getCatalogAnnoations()}ngOnInit(){}setData(e){const i=this.annoinfo["dataset:BlockLineCount"][this.identifier];this.objectform.get("BlockLineCount").setValue(e[i]);const o=e[this.annoinfo["dataset:ParsedLine"][this.identifier]];let a="";for(let d of o)a=a.concat(d).concat("\n");this.objectform.get("ParsedLine").setValue(a),this.partition.setData(e)}getData(e){e[this.annoinfo["dataset:BlockLineCount"][this.identifier]]=this.objectform.get("BlockLineCount").value;const s=this.annoinfo["dataset:ParsedLine"][this.identifier],a=this.objectform.get("ParsedLine").value.split("\n");let d=[];for(let f of a)d.push(f);e[s]=d,this.partition.getData(e)}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{this.message="got response",this.message=e;const i=e;if(this.message="response JSON",this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.display=!0,this.annoReady.emit(this.annoinfo),null!=this.cataloginfo&&this.partition.setDataFormat(this.cataloginfo),this.objectform.get("BlockLineCount").setValue(this.cataloginfo.BlockLineCount)}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}setFormat(e){this.partition.setDataFormat(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Si),n.Y36(Pi),n.Y36(Ut),n.Y36(Rn),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-repositoryparsedtofixedblocksize"]],viewQuery:function(e,i){if(1&e&&n.Gf(kre,5),2&e){let s;n.iGM(s=n.CRH())&&(i.partition=s.first)}},inputs:{cataloginfo:"cataloginfo"},decls:11,vars:4,consts:[[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"annoReady","annoReadyChange"],["partition",""],[3,"formGroup"],[1,"countfield"],["matInput","","formControlName","BlockLineCount",3,"readonly"],[1,"parsedlines"],["matInput","","formControlName","ParsedLine","cdkTextareaAutosize","","cdkAutosizeMinRows","3","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title-group",0)(3,"mat-card-title",1),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,Rre,16,6,"ng-container",2),n.YNc(7,Nre,2,1,"ng-template",null,3,n.W1O),n.TgZ(9,"app-repositorydatapartitionblock",4,5),n.NdJ("annoReadyChange",function(o){return i.annoReady=o}),n.qZA()()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",i.display)("ngIfElse",s),n.xp6(3),n.Q6J("annoReady",i.annoReady)}},dependencies:[ke,fD,Rt,en,kt,Pt,et,lt,gn,Xe,Oi,hn,Nt,Bt,zt,Ot,Gt,iG],styles:[".parsedlines[_ngcontent-%COMP%]{width:90%}.countfield[_ngcontent-%COMP%]{width:10%}"]}),r})();const Ore=["spec"],Fre=["firestoreid"],Pre=["references"],Lre=["objectlinks"],Bre=["weblinks"];function Ure(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-datasettransactionspecificationforcollection",3,4),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("subtitleChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.specsubtitle=s)}),n.qZA(),n.TgZ(3,"app-setofsitereferences",5,6),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(5,"app-setofdataobjectlinks",5,7),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(7,"app-datasetreference",5,8),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(9,"app-firesytorecatalogid",5,9),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(11,"form",10)(12,"mat-grid-list",11)(13,"mat-grid-tile",12)(14,"mat-form-field",13)(15,"mat-label"),n._uU(16),n.qZA(),n._UZ(17,"input",14),n.TgZ(18,"mat-hint"),n._uU(19),n.qZA(),n.TgZ(20,"app-menu-item",15,16),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setDatabaseObjectType(s))}),n.qZA()()(),n.TgZ(22,"mat-grid-tile",17)(23,"mat-form-field",13)(24,"mat-label"),n._uU(25),n.qZA(),n._UZ(26,"input",18),n.TgZ(27,"mat-hint"),n._uU(28),n.qZA()()(),n.TgZ(29,"mat-grid-tile",17)(30,"mat-form-field",13)(31,"mat-label"),n._uU(32),n.qZA(),n._UZ(33,"input",19),n.TgZ(34,"mat-hint"),n._uU(35),n.qZA()()(),n.TgZ(36,"mat-grid-tile",17)(37,"mat-form-field",13)(38,"mat-label"),n._uU(39),n.qZA(),n._UZ(40,"input",20),n.TgZ(41,"mat-hint"),n._uU(42),n.qZA()()(),n.TgZ(43,"mat-grid-tile",17)(44,"mat-form-field",13)(45,"mat-label"),n._uU(46),n.qZA(),n._UZ(47,"input",21),n.TgZ(48,"mat-hint"),n._uU(49),n.qZA()()(),n.TgZ(50,"mat-grid-tile",17)(51,"mat-form-field",13)(52,"mat-label"),n._uU(53),n.qZA(),n._UZ(54,"input",22),n.TgZ(55,"mat-hint"),n._uU(56),n.qZA()()()()(),n.BQk()}if(2&r){const e=n.MAs(21),i=n.oxw();n.xp6(1),n.Q6J("annoinfo",i.annoinfo)("subtitle",i.specsubtitle),n.xp6(2),n.Q6J("anno",i.annoinfo),n.xp6(2),n.Q6J("anno",i.annoinfo),n.xp6(2),n.Q6J("anno",i.annoinfo),n.xp6(2),n.Q6J("anno",i.annoinfo),n.xp6(2),n.Q6J("formGroup",i.objectform),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.hij("",i.annoinfo["dataset:DatabaseObjectType"][i.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.hij("",i.annoinfo["dataset:DatabaseObjectType"][i.rdfscomment]," "),n.xp6(1),n.Q6J("items",i.items),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogObjectKey"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogObjectKey"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:TransactionID"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:TransactionID"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogObjectOwner"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogObjectOwner"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogObjectAccessModify"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogObjectAccessModify"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogObjectAccessRead"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogObjectAccessRead"][i.rdfscomment])}}function Vre(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Activity information "),n.qZA())}let TD=(()=>{class r{constructor(e,i,s){this.manageuser=e,this.formBuilder=i,this.menusetup=s,this.objectmenulabel="dataset:DatabaseObjectType",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.specsubtitle="Collection Specification",this.objectform=this.formBuilder.group({DatabaseObjectType:["",oe.required],CatalogObjectOwner:["",oe.required],CatalogObjectKey:["",oe.required],TransactionID:["",oe.required],CatalogObjectAccessModify:["",oe.required],CatalogObjectAccessRead:["",oe.required]})}ngOnInit(){this.items=this.menusetup.findChoices(this.annoinfo,this.objectmenulabel),null!=this.catalogtype&&(this.objectform.get("DatabaseObjectType").setValue(this.catalogtype),this.manageuser.determineMaintainer().subscribe(e=>{null!=e?(this.objectform.get("CatalogObjectOwner").setValue(e),this.objectform.get("CatalogObjectAccessModify").setValue(e),this.objectform.get("CatalogObjectAccessRead").setValue(e)):alert(this.manageuser.errormaintainer)}))}setDatabaseObjectType(e){this.objectform.get("DatabaseObjectType").setValue(e)}setData(e){this.objectform.get("DatabaseObjectType").setValue(e[this.annoinfo["dataset:DatabaseObjectType"][this.identifier]]),this.objectform.get("CatalogObjectOwner").setValue(e[this.annoinfo["dataset:CatalogObjectOwner"][this.identifier]]),this.objectform.get("CatalogObjectKey").setValue(e[this.annoinfo["dataset:CatalogObjectKey"][this.identifier]]),this.objectform.get("TransactionID").setValue(e[this.annoinfo["dataset:TransactionID"][this.identifier]]),this.objectform.get("CatalogObjectAccessModify").setValue(e[this.annoinfo["dataset:CatalogObjectAccessModify"][this.identifier]]),this.objectform.get("CatalogObjectAccessRead").setValue(e[this.annoinfo["dataset:CatalogObjectAccessRead"][this.identifier]]),this.spec.setData(e[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]]),this.firestoreid.setData(e[this.annoinfo["dataset:FirestoreCatalogID"][this.identifier]]),this.references.setData(e[this.annoinfo["dataset:DataSetReference"][this.identifier]]),this.objectlinks.setData(e[this.annoinfo["dataset:DataObjectLink"][this.identifier]]),this.weblinks.setData(e[this.annoinfo["dataset:ObjectSiteReference"][this.identifier]])}getData(e){e[this.annoinfo["dataset:DatabaseObjectType"][this.identifier]]=this.objectform.get("DatabaseObjectType").value,e[this.annoinfo["dataset:CatalogObjectOwner"][this.identifier]]=this.objectform.get("CatalogObjectOwner").value,e[this.annoinfo["dataset:CatalogObjectKey"][this.identifier]]=this.objectform.get("CatalogObjectKey").value,e[this.annoinfo["dataset:TransactionID"][this.identifier]]=this.objectform.get("TransactionID").value,e[this.annoinfo["dataset:CatalogObjectAccessModify"][this.identifier]]=this.objectform.get("CatalogObjectAccessModify").value,e[this.annoinfo["dataset:CatalogObjectAccessRead"][this.identifier]]=this.objectform.get("CatalogObjectAccessRead").value,this.references.getData(e),this.weblinks.getData(e),this.objectlinks.getData(e),this.firestoreid.getData(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yr),n.Y36(Ut),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-chemconnectthermodynamicsdatabase"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Ore,5),n.Gf(Fre,5),n.Gf(Pre,5),n.Gf(Lre,5),n.Gf(Bre,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.spec=s.first),n.iGM(s=n.CRH())&&(i.firestoreid=s.first),n.iGM(s=n.CRH())&&(i.references=s.first),n.iGM(s=n.CRH())&&(i.objectlinks=s.first),n.iGM(s=n.CRH())&&(i.weblinks=s.first)}},inputs:{annoinfo:"annoinfo",catalogtype:"catalogtype"},decls:5,vars:2,consts:[[1,"card"],[4,"ngIf","ngIfElse"],["loading",""],[3,"annoinfo","subtitle","annoinfoChange","subtitleChange"],["spec",""],[3,"anno","annoChange"],["weblinks",""],["objectlinks",""],["references",""],["firestoreid",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],["background","lightgray",3,"colspan"],[1,"label"],["matInput","","formControlName","DatabaseObjectType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],[3,"colspan"],["matInput","","formControlName","CatalogObjectKey"],["matInput","","formControlName","TransactionID"],["matInput","","formControlName","CatalogObjectOwner"],["matInput","","formControlName","CatalogObjectAccessModify"],["matInput","","formControlName","CatalogObjectAccessRead"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-content"),n.YNc(2,Ure,57,27,"ng-container",1),n.YNc(3,Vre,2,0,"ng-template",null,2,n.W1O),n.qZA()()),2&e){const s=n.MAs(4);n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,Xe,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Du,yD,bD,vD,Fi,$f],styles:[".label[_ngcontent-%COMP%]{width:100%}"]}),r})();function Zre(r,t){if(1&r&&(n.TgZ(0,"mat-option",15),n._uU(1),n.qZA()),2&r){const e=t.$implicit;n.Q6J("value",e),n.xp6(1),n.Oqu(e)}}let Xm=(()=>{class r{constructor(e,i){this._formBuilder=e,this.menusetup=i,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.uncertaintymenulabel="dataset:DataPointUncertainty",this.getparameterdatanotsuccessful="failed to get parameter data",this.defaultuncertainty="dataset:ImpliedDigitsUncertainty",this.paramspecform=this._formBuilder.group({ParameterLabel:["",oe.required],UnitClass:["",oe.required],UnitsOfValue:["",oe.required],ParameterTypeSpecification:["",oe.required],DataPointUncertainty:["",oe.required]})}invalid(){return this.paramspecform.invalid}ngOnInit(){this.title=this.parameterinfo["skos:prefLabel"],this.paramspecform.get("UnitClass").setValue(this.parameterinfo["qudt:QuantityKind"]),this.paramspecform.get("ParameterTypeSpecification").setValue(this.parameterinfo["dataset:dynamicType"]),this.items=this.menusetup.findChoices(this.annoinfo,this.uncertaintymenulabel),this.unitsarray=this.parameterinfo["qudt:Unit"],this.paramspecform.get("ParameterLabel").setValue(this.parameterinfo["skos:prefLabel"]),this.paramspecform.get("UnitsOfValue").setValue(this.unitsarray[0]),this.paramspecform.get("DataPointUncertainty").setValue(this.defaultuncertainty)}setUncertainty(e){this.paramspecform.get("DataPointUncertainty").setValue(e)}setIDs(){this.parameterlabeltid=this.annoinfo["dataset:ParameterLabel"][this.identifier],this.unitclassid=this.annoinfo["dataset:UnitClass"][this.identifier],this.unitsofvalueid=this.annoinfo["dataset:UnitsOfValue"][this.identifier],this.parametertypeid=this.annoinfo["dataset:ParameterTypeSpecification"][this.identifier],this.unitsid=this.annoinfo["dataset:ValueUnits"][this.identifier],this.uncertaintyid=this.annoinfo["dataset:DataPointUncertainty"][this.identifier]}getData(e){this.setIDs(),e[this.parameterlabeltid]=this.paramspecform.get("ParameterLabel").value;const i={};e[this.unitsid]=i,i[this.unitclassid]=this.paramspecform.get("UnitClass").value,i[this.unitsofvalueid]=this.paramspecform.get("UnitsOfValue").value,e[this.parametertypeid]=this.paramspecform.get("ParameterTypeSpecification").value,e[this.uncertaintyid]=this.paramspecform.get("DataPointUncertainty").value}setData(e){this.setIDs(),this.paramspecform.get("ParameterLabel").setValue(e[this.parameterlabeltid]);const i=e[this.unitsid];this.paramspecform.get("UnitClass").setValue(i[this.unitclassid]),this.paramspecform.get("UnitsOfValue").setValue(i[this.unitsofvalueid]),this.paramspecform.get("ParameterTypeSpecification").setValue(e[this.parametertypeid]),this.paramspecform.get("DataPointUncertainty").setValue(e[this.uncertaintyid])}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-parameterspecification"]],inputs:{annoinfo:"annoinfo",parameterinfo:"parameterinfo"},decls:46,vars:20,consts:[[1,"card"],[1,"title-group"],[1,"title"],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","75px",1,"unitset"],["background","lightgray",3,"colspan"],[1,"label"],["matInput","","formControlName","ParameterLabel"],["formControlName","UnitsOfValue"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","DataPointUncertainty",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],["matInput","","formControlName","UnitClass"],["matInput","","formControlName","ParameterTypeSpecification"],[3,"value"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content")(6,"form",3)(7,"mat-grid-list",4)(8,"mat-grid-tile",5)(9,"mat-form-field",6)(10,"mat-label"),n._uU(11),n.qZA(),n._UZ(12,"input",7),n.TgZ(13,"mat-hint"),n._uU(14),n.qZA()()(),n.TgZ(15,"mat-grid-tile",5)(16,"mat-form-field",6)(17,"mat-label"),n._uU(18),n.qZA(),n.TgZ(19,"mat-select",8),n.YNc(20,Zre,2,2,"mat-option",9),n.qZA(),n.TgZ(21,"mat-hint"),n._uU(22),n.qZA()()(),n.TgZ(23,"mat-grid-tile",5)(24,"mat-form-field",6)(25,"mat-label"),n._uU(26),n.qZA(),n._UZ(27,"input",10),n.TgZ(28,"mat-hint"),n._uU(29),n.qZA(),n.TgZ(30,"app-menu-item",11,12),n.NdJ("selectionEvent",function(o){return i.setUncertainty(o)}),n.qZA()()(),n.TgZ(32,"mat-grid-tile",5)(33,"mat-form-field",6)(34,"mat-label"),n._uU(35),n.qZA(),n._UZ(36,"input",13),n.TgZ(37,"mat-hint"),n._uU(38),n.qZA()()(),n.TgZ(39,"mat-grid-tile",5)(40,"mat-form-field",6)(41,"mat-label"),n._uU(42),n.qZA(),n._UZ(43,"input",14),n.TgZ(44,"mat-hint"),n._uU(45),n.qZA()()()()()()()),2&e){const s=n.MAs(31);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("formGroup",i.paramspecform),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:ParameterLabel"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:ParameterLabel"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:UnitsOfValue"][i.rdfslabel]),n.xp6(2),n.Q6J("ngForOf",i.unitsarray),n.xp6(2),n.Oqu(i.annoinfo["dataset:UnitsOfValue"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:DataPointUncertainty"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",s.childMenu),n.xp6(2),n.Oqu(i.annoinfo["dataset:DataPointUncertainty"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.items),n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.Oqu(i.annoinfo["dataset:UnitClass"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:UnitClass"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(i.annoinfo["dataset:ParameterTypeSpecification"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:ParameterTypeSpecification"][i.rdfscomment])}},dependencies:[ln,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,cI,nD,Fi],styles:[".card[_ngcontent-%COMP%]{width:100%;border:2px solid lightgrey}.label[_ngcontent-%COMP%]{width:100%}"]}),r})();const jre=["paramspec"];function Hre(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-parameterspecification",12,13),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.parameterinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.parameterinfo)}}function qre(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Parameter Specification "),n.qZA())}function Gre(r,t){if(1&r&&(n.ynx(0),n.TgZ(1,"form",5)(2,"mat-grid-list",6)(3,"mat-grid-tile",7)(4,"mat-form-field",8)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",9),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",7)(11,"mat-form-field",8)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",10),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()()()(),n.YNc(17,Hre,3,2,"ng-container",3),n.YNc(18,qre,2,0,"ng-template",null,11,n.W1O),n.BQk()),2&r){const e=n.MAs(19),i=n.oxw();n.xp6(1),n.Q6J("formGroup",i.objectform),n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.Oqu(i.annoinfo["dataset:ValueAsString"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:ValueAsString"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(i.annoinfo["dataset:ValueUncertainty"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:ValueUncertainty"][i.rdfscomment]),n.xp6(1),n.Q6J("ngIf",null!=i.parameterinfo)("ngIfElse",e)}}function Yre(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Parameter Annotations "),n.qZA())}let a6=(()=>{class r{constructor(e){this.formBuilder=e,this.display=!0,this.specdisplay=!1,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.objectform=this.formBuilder.group({ValueAsString:["",oe.required],ValueUncertainty:["",oe.required]})}ngOnInit(){}getData(e){e[this.annoinfo["dataset:ValueAsString"][this.identifier]]=this.objectform.get("ValueAsString").value,e[this.annoinfo["dataset:ValueUncertainty"][this.identifier]]=this.objectform.get("ValueUncertainty").value;const i={};this.paramspec.getData(i),e[this.annoinfo["dataset:ParameterSpecification"][this.identifier]]=i}setData(e){this.objectform.get("ValueAsString").setValue(e[this.annoinfo["dataset:ValueAsString"][this.identifier]]),this.objectform.get("ValueUncertainty").setValue(e[this.annoinfo["dataset:ValueUncertainty"][this.identifier]]),this.paramspec.setData(e[this.annoinfo["dataset:ParameterSpecification"][this.identifier]])}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-parametervalue"]],viewQuery:function(e,i){if(1&e&&n.Gf(jre,5),2&e){let s;n.iGM(s=n.CRH())&&(i.paramspec=s.first)}},inputs:{annoinfo:"annoinfo",parameterinfo:"parameterinfo",title:"title"},decls:9,vars:3,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","ValueAsString"],["matInput","","formControlName","ValueUncertainty"],["specdisplayoff",""],[3,"annoinfo","parameterinfo","annoinfoChange","parameterinfoChange"],["paramspec",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,Gre,20,9,"ng-container",3),n.YNc(7,Yre,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Xm],styles:[".label[_ngcontent-%COMP%]{width:100%}"]}),r})();function Jre(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",13)(2,"mat-grid-list",4)(3,"mat-grid-tile",5)(4,"mat-form-field",6)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",14),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",5)(11,"mat-form-field",6)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",15),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.TgZ(17,"mat-grid-tile",5)(18,"mat-icon",16),n.NdJ("click",function(){const o=n.CHM(e).index,a=n.oxw(2);return n.KtG(a.deleteAtomCount(o))}),n._uU(19," delete_forever"),n.qZA()()()(),n.BQk()}if(2&r){const e=t.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("formGroup",e),n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.Oqu(i.annoinfo["dataset:JThermodynamics2DSpeciesLabel"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:JThermodynamics2DSpeciesLabel"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:AtomTypeCount"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:AtomTypeCount"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",1)}}function zre(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",3)(2,"mat-grid-list",4)(3,"mat-grid-tile",5)(4,"mat-form-field",6)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",7),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",5)(11,"mat-form-field",6)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",8),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.TgZ(17,"mat-grid-tile",5)(18,"mat-form-field",6)(19,"mat-label"),n._uU(20),n.qZA(),n._UZ(21,"input",9),n.TgZ(22,"mat-hint"),n._uU(23),n.qZA()()()(),n.TgZ(24,"button",10),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.addAtomCount())}),n._uU(25),n.qZA(),n.ynx(26,11),n.YNc(27,Jre,20,8,"ng-container",12),n.BQk(),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.countform),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.Oqu(e.annoinfo["dataset:CarbonAtomCount"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:CarbonAtomCount"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(e.annoinfo["dataset:HydrogenAtomCount"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:HydrogenAtomCount"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(e.annoinfo["dataset:OxygenAtomCount"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:OxygenAtomCount"][e.rdfscomment]),n.xp6(2),n.Oqu(e.addatomcount),n.xp6(2),n.Q6J("ngForOf",e.atomcounts.controls)}}function $re(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading H Disassociation Parameter Annotations "),n.qZA())}let Qre=(()=>{class r{constructor(e){this.formBuilder=e,this.countform=this.formBuilder.group({CarbonAtomCount:["",oe.required],HydrogenAtomCount:["",oe.required],OxygenAtomCount:["",oe.required],atomcounts:this.formBuilder.array([])}),this.addatomcount="Add Atom Count",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.title="Atom Counts"}ngOnInit(){}getData(e){e[this.annoinfo["dataset:CarbonAtomCount"][this.identifier]]=this.countform.get("CarbonAtomCount").value,e[this.annoinfo["dataset:HydrogenAtomCount"][this.identifier]]=this.countform.get("HydrogenAtomCount").value,e[this.annoinfo["dataset:OxygenAtomCount"][this.identifier]]=this.countform.get("OxygenAtomCount").value;const i=[];e[this.annoinfo["dataset:JThermodynamicsAtomCount"][this.identifier]]=i;for(const s of this.atomcounts.controls){const o={};o[this.annoinfo["dataset:AtomTypeCount"][this.identifier]]=s.get("AtomTypeCount").value,o[this.annoinfo["dataset:JThermodynamics2DSpeciesLabel"][this.identifier]]=s.get("JThermodynamics2DSpeciesLabel").value,i.push(o)}}setData(e){this.countform.get("CarbonAtomCount").setValue(e[this.annoinfo["dataset:CarbonAtomCount"][this.identifier]]),this.countform.get("HydrogenAtomCount").setValue(e[this.annoinfo["dataset:HydrogenAtomCount"][this.identifier]]),this.countform.get("OxygenAtomCount").setValue(e[this.annoinfo["dataset:OxygenAtomCount"][this.identifier]]),this.setAtomCountData(e[this.annoinfo["dataset:JThermodynamicsAtomCount"][this.identifier]])}setAtomCountData(e){for(const i of e){const s=this.newAtomCount();s.get("AtomTypeCount").setValue(i[this.annoinfo["dataset:AtomTypeCount"][this.identifier]]),s.get("JThermodynamics2DSpeciesLabel").setValue(i[this.annoinfo["dataset:JThermodynamics2DSpeciesLabel"][this.identifier]]),this.atomcounts.push(s)}}get atomcounts(){return this.countform.controls.atomcounts}newAtomCount(){return this.formBuilder.group({AtomTypeCount:["",oe.required],JThermodynamics2DSpeciesLabel:["",oe.required]})}addAtomCount(){const e=this.newAtomCount();this.atomcounts.push(e)}deleteAtomCount(e){this.atomcounts.removeAt(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-jthermodynamicsatomcountset"]],inputs:{annoinfo:"annoinfo"},decls:7,vars:3,consts:[[1,"card"],[4,"ngIf","ngIfElse"],["loading",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","CarbonAtomCount"],["matInput","","formControlName","HydrogenAtomCount"],["matInput","","formControlName","OxygenAtomCount"],["mat-button","","color","primary",3,"click"],["formArrayName","atomcounts"],[4,"ngFor","ngForOf"],[1,"count-form-row",3,"formGroup"],["matInput","","formControlName","JThermodynamics2DSpeciesLabel"],["matInput","","formControlName","AtomTypeCount"],[1,"delete-btn",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header"),n._uU(2),n.qZA(),n.TgZ(3,"mat-card-content"),n.YNc(4,zre,28,12,"ng-container",1),n.YNc(5,$re,2,0,"ng-template",null,2,n.W1O),n.qZA()()),2&e){const s=n.MAs(6);n.xp6(2),n.hij(" ",i.title," "),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ln,ke,jt,rr,Rt,en,kt,Pt,et,lt,Xe,Et,wt,Nt,Bt,zt,Ot,Gt,wy],styles:[".label[_ngcontent-%COMP%]{width:100%}.countlabel[_ngcontent-%COMP%]{width:100%;padding:5px}"]}),r})();const Wre=["counts"];function Kre(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",3)(2,"mat-grid-list",4)(3,"mat-grid-tile",5)(4,"mat-form-field",6)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",7),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",5)(11,"mat-form-field",6)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",8),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.TgZ(17,"mat-grid-tile",5)(18,"mat-form-field",9)(19,"mat-label"),n._uU(20),n.qZA(),n._UZ(21,"textarea",10,11),n.TgZ(23,"mat-hint"),n._uU(24),n.qZA()()()(),n.TgZ(25,"app-jthermodynamicsatomcountset",12,13),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA()(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.objectform),n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.Oqu(e.annoinfo["dataset:JThermodynamicsStructureIsomerName"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:JThermodynamicsStructureIsomerName"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(e.annoinfo["dataset:JThermodynamicsStructureName"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:JThermodynamicsStructureName"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.hij("",e.annoinfo["dataset:JThermodynamicsStructureAsCMLString"][e.rdfslabel]," "),n.xp6(4),n.hij("",e.annoinfo["dataset:JThermodynamicsStructureAsCMLString"][e.rdfscomment]," "),n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function Xre(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Annotations "),n.qZA())}let JC=(()=>{class r{constructor(e){this.formBuilder=e,this.title="2D Species Structure",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.objectform=this.formBuilder.group({JThermodynamicsStructureAsCMLString:["",oe.required],JThermodynamicsStructureIsomerName:["",oe.required],JThermodynamicsStructureName:["",oe.required]})}ngOnInit(){}getData(e){e[this.annoinfo["dataset:JThermodynamicsStructureAsCMLString"][this.identifier]]=this.objectform.get("JThermodynamicsStructureAsCMLString").value,e[this.annoinfo["dataset:JThermodynamicsStructureIsomerName"][this.identifier]]=this.objectform.get("JThermodynamicsStructureIsomerName").value,e[this.annoinfo["dataset:JThermodynamicsStructureName"][this.identifier]]=this.objectform.get("JThermodynamicsStructureName").value;const i={};e[this.annoinfo["dataset:JThermodynamicsAtomCountSet"][this.identifier]]=i,this.counts.getData(i)}setData(e){const i=e[this.annoinfo["dataset:JThermodynamicsStructureAsCMLString"][this.identifier]];this.objectform.get("JThermodynamicsStructureAsCMLString").setValue(i);const s=e[this.annoinfo["dataset:JThermodynamicsStructureIsomerName"][this.identifier]];this.objectform.get("JThermodynamicsStructureIsomerName").setValue(s);const o=e[this.annoinfo["dataset:JThermodynamicsStructureName"][this.identifier]];this.objectform.get("JThermodynamicsStructureName").setValue(o),this.counts.setData(e[this.annoinfo["dataset:JThermodynamicsAtomCountSet"][this.identifier]])}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-jthermodynamics2dspeciesstructure"]],viewQuery:function(e,i){if(1&e&&n.Gf(Wre,5),2&e){let s;n.iGM(s=n.CRH())&&(i.counts=s.first)}},inputs:{annoinfo:"annoinfo"},decls:7,vars:3,consts:[[1,"card"],[4,"ngIf","ngIfElse"],["loading",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","JThermodynamicsStructureIsomerName"],["matInput","","formControlName","JThermodynamicsStructureName"],[1,"textarea"],["matInput","","formControlName","JThermodynamicsStructureAsCMLString","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],[3,"annoinfo","annoinfoChange"],["counts",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header"),n._uU(2),n.qZA(),n.TgZ(3,"mat-card-content"),n.YNc(4,Kre,27,11,"ng-container",1),n.YNc(5,Xre,2,0,"ng-template",null,2,n.W1O),n.qZA()()),2&e){const s=n.MAs(6);n.xp6(2),n.hij(" ",i.title," "),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,fD,Rt,en,kt,Pt,et,lt,Xe,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Qre],styles:[".label[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{width:100%}"]}),r})();const ese=["base"],tse=["energy"],nse=["structure"];function ise(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-parametervalue",8,9),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.molarenergy=s)})("titleChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.energytitle=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.molarenergy)("title",e.energytitle)}}function rse(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Specification being loaded "),n.qZA())}function sse(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.YNc(1,ise,3,3,"ng-container",2),n.YNc(2,rse,2,0,"ng-template",null,3,n.W1O),n.TgZ(4,"app-jthermodynamics2dspeciesstructure",4,5),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(6,"app-chemconnectthermodynamicsdatabase",6,7),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("catalogtypeChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.catalogtype=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.specdisplay)("ngIfElse",e.specloading),n.xp6(3),n.Q6J("annoinfo",e.annoinfo),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("catalogtype",e.catalogtype)}}function ose(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let ase=(()=>{class r{constructor(e){this.annotations=e,this.display=!1,this.specdisplay=!1,this.identifier=O.dctermsidentifier,this.annoReady=new n.vpe,this.molarenergyparameter="dataset:ParameterSpecificationHDisassociationEnergy",this.energytitle="Hydrogen Disassociation Energy Value",this.catalogtype="dataset:JThermodynamicsDisassociationEnergyOfStructure",this.title="H Disassociation Energy of Structure",this.getCatalogAnnoations();const i=[];i.push(this.molarenergyparameter),e.getParameterSet(i).subscribe({next:s=>{this.molarenergy=s[this.molarenergyparameter],this.specdisplay=!0}})}ngOnInit(){}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;if(this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.display=!0,this.annoReady.emit(this.annoinfo)}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}getData(e){this.base.getData(e);const i={};this.energy.getData(i),e[this.annoinfo["dataset:JThermodynamicDisassociationEnergy"][this.identifier]]=i;const s={};this.structure.getData(s),e[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]]=s}setData(e){this.base.setData(e);const i=e.get("dataset:JThermodynamicDisassociationEnergy").value;this.energy.setData(i),this.structure.setData(e[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]])}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-jthermodynamicdisassociationenergy"]],viewQuery:function(e,i){if(1&e&&(n.Gf(ese,5),n.Gf(tse,5),n.Gf(nse,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.base=s.first),n.iGM(s=n.CRH())&&(i.energy=s.first),n.iGM(s=n.CRH())&&(i.structure=s.first)}},outputs:{annoReady:"annoReady"},decls:9,vars:3,consts:[[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"annoinfo","annoinfoChange"],["structure",""],[3,"annoinfo","catalogtype","annoinfoChange","catalogtypeChange"],["base",""],[3,"annoinfo","parameterinfo","title","annoinfoChange","parameterinfoChange","titleChange"],["energy",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title-group",0)(3,"mat-card-subtitle",1),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,sse,8,5,"ng-container",2),n.YNc(7,ose,2,1,"ng-template",null,3,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",i.display)("ngIfElse",s)}},dependencies:[ke,et,lt,gn,Xe,rn,TD,a6,JC]}),r})();const lse=["base"],cse=["freqobject"],use=["structure"];function dse(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-parametervalue",14,15),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.frequency=s)})("titleChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.frequencytitle=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.frequency)("title",e.frequencytitle)}}function hse(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Specification being loaded "),n.qZA())}function fse(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",4)(2,"mat-grid-list",5)(3,"mat-grid-tile",6)(4,"mat-form-field",7)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",6)(11,"mat-form-field",7)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",9),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()()()(),n.YNc(17,dse,3,3,"ng-container",2),n.YNc(18,hse,2,0,"ng-template",null,3,n.W1O),n.TgZ(20,"app-jthermodynamics2dspeciesstructure",10,11),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(22,"app-chemconnectthermodynamicsdatabase",12,13),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("catalogtypeChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.catalogtype=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.idForm),n.xp6(2),n.Q6J("colspan",4),n.xp6(3),n.hij("",e.annoinfo["dataset:JThermodynamicsVibrationalModeLabel"][e.rdfslabel]," "),n.xp6(3),n.hij("",e.annoinfo["dataset:JThermodynamicsVibrationalModeLabel"][e.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(e.annoinfo["dataset:StructureVibrationalFrequencySymmetry"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:StructureVibrationalFrequencySymmetry"][e.rdfscomment]),n.xp6(1),n.Q6J("ngIf",e.specdisplay)("ngIfElse",e.specloading),n.xp6(3),n.Q6J("annoinfo",e.annoinfo),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("catalogtype",e.catalogtype)}}function pse(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let mse=(()=>{class r{constructor(e,i){this.fb=e,this.annotations=i,this.display=!1,this.specdisplay=!1,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.annoReady=new n.vpe,this.annowaiting="Waiting for annotations setup",this.frequencyparameter="dataset:ParameterSpecificationStructureVibrationFrequency",this.frequencytitle="Frequency Associated with Structure",this.catalogtype="dataset:JThermodynamicsVibrationalStructure",this.title="Frequency Contribution to Thermodynamics",this.idForm=this.fb.group({JThermodynamicsVibrationalModeLabel:["",oe.required],StructureVibrationalFrequencySymmetry:["",oe.required]}),this.getCatalogAnnoations();const s=[];s.push(this.frequencyparameter),i.getParameterSet(s).subscribe({next:o=>{this.frequency=o[this.frequencyparameter],this.specdisplay=!0}})}ngOnInit(){}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;if(this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.display=!0,this.annoReady.emit(this.annoinfo)}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}getData(e){e[this.annoinfo["dataset:JThermodynamicsVibrationalModeLabel"][this.identifier]]=this.idForm.get("JThermodynamicsVibrationalModeLabel").value,e[this.annoinfo["dataset:StructureVibrationalFrequencySymmetry"][this.identifier]]=this.idForm.get("StructureVibrationalFrequencySymmetry").value;const i={};this.freqobject.getData(i),e[this.annoinfo["dataset:StructureVibrationalFrequency"][this.identifier]]=i;const s={};this.structure.getData(s),e[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]]=s}setData(e){const i=e[this.annoinfo["dataset:JThermodynamicsVibrationalModeLabel"][this.identifier]];this.idForm.get("JThermodynamicsVibrationalModeLabel").setValue(i);const s=e[this.annoinfo["dataset:StructureVibrationalFrequencySymmetry"][this.identifier]];this.idForm.get("StructureVibrationalFrequencySymmetry").setValue(s),this.freqobject.setData(e[this.annoinfo["dataset:StructureVibrationalFrequency"][this.identifier]]),this.structure.setData(e[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]]),this.base.setData(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Rn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-jthermodynamicsvibrationalstructure"]],viewQuery:function(e,i){if(1&e&&(n.Gf(lse,5),n.Gf(cse,5),n.Gf(use,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.base=s.first),n.iGM(s=n.CRH())&&(i.freqobject=s.first),n.iGM(s=n.CRH())&&(i.structure=s.first)}},outputs:{annoReady:"annoReady"},decls:9,vars:3,consts:[[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","JThermodynamicsVibrationalModeLabel"],["matInput","","formControlName","StructureVibrationalFrequencySymmetry"],[3,"annoinfo","annoinfoChange"],["structure",""],[3,"annoinfo","catalogtype","annoinfoChange","catalogtypeChange"],["base",""],[3,"annoinfo","parameterinfo","title","annoinfoChange","parameterinfoChange","titleChange"],["freqobject",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title-group",0)(3,"mat-card-subtitle",1),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,fse,24,12,"ng-container",2),n.YNc(7,pse,2,1,"ng-template",null,3,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",i.display)("ngIfElse",s)}},dependencies:[ke,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,TD,a6,JC],styles:[".label[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();const gse=["base"],_se=["structure"];function yse(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-jthermodynamics2dspeciesstructure",4,5),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(3,"app-chemconnectthermodynamicsdatabase",6,7),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("catalogtypeChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.catalogtype=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("annoinfo",e.annoinfo),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("catalogtype",e.catalogtype)}}function bse(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let vse=(()=>{class r{constructor(e){this.annotations=e,this.title="Temperature Dependent Thermodynamics of Species",this.display=!1,this.specdisplay=!1,this.identifier=O.dctermsidentifier,this.annoReady=new n.vpe,this.catalogtype="dataset:JThermodynamics2DMoleculeThermodynamics",this.getCatalogAnnoations()}ngOnInit(){}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;if(this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.display=!0,this.annoReady.emit(this.annoinfo)}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}getData(e){this.base.getData(e);const i={};this.structure.getData(i),e[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]]=i}setData(e){this.structure.setData(e[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]]),this.base.setData(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-jthermodynamics2dmoleculethermodynamics"]],viewQuery:function(e,i){if(1&e&&(n.Gf(gse,5),n.Gf(_se,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.base=s.first),n.iGM(s=n.CRH())&&(i.structure=s.first)}},outputs:{annoReady:"annoReady"},decls:9,vars:3,consts:[[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"annoinfo","annoinfoChange"],["structure",""],[3,"annoinfo","catalogtype","annoinfoChange","catalogtypeChange"],["base",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title-group",0)(3,"mat-card-subtitle",1),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,yse,5,3,"ng-container",2),n.YNc(7,bse,2,1,"ng-template",null,3,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",i.display)("ngIfElse",s)}},dependencies:[ke,et,lt,gn,Xe,rn,TD,JC]}),r})();const Cse=["base"],wse=["structure"];function Tse(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",4)(2,"mat-form-field",5)(3,"mat-label"),n._uU(4),n.qZA(),n._UZ(5,"input",6),n.TgZ(6,"mat-hint"),n._uU(7),n.qZA()(),n.TgZ(8,"app-menu-item",7,8),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setType(s))}),n.qZA()(),n.TgZ(10,"app-jthermodynamics2dspeciesstructure",9,10),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(12,"app-chemconnectthermodynamicsdatabase",11,12),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("catalogtypeChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.catalogtype=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(9),i=n.oxw();n.xp6(1),n.Q6J("formGroup",i.objectform),n.xp6(3),n.Oqu(i.annoinfo["dataset:JThermodynamicsSubstructureType"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.Oqu(i.annoinfo["dataset:JThermodynamicsSubstructureType"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.items),n.xp6(2),n.Q6J("annoinfo",i.annoinfo),n.xp6(2),n.Q6J("annoinfo",i.annoinfo)("catalogtype",i.catalogtype)}}function Dse(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let xse=(()=>{class r{constructor(e,i,s){this.annotations=e,this.formBuilder=i,this.menusetup=s,this.title="Temperature Dependent Thermodynamics of Species",this.message="Still loading",this.display=!1,this.specdisplay=!1,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.typeloc="dataset:JThermodynamicsSubstructureType",this.objectform=this.formBuilder.group({JThermodynamicsSubstructureType:["",oe.required]}),this.annoReady=new n.vpe,this.catalogtype="dataset:JThermodynamics2DSubstructureThermodynamics",this.getCatalogAnnoations()}ngOnInit(){}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;if(this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.items=this.menusetup.findChoices(this.annoinfo,this.typeloc),this.display=!0,this.annoReady.emit(this.annoinfo)}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}getData(e){e[this.annoinfo["dataset:JThermodynamicsSubstructureType"][this.identifier]]=this.objectform.get("JThermodynamicsSubstructureType").value,this.base.getData(e);const s={};this.structure.getData(s),e[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]]=s}setData(e){const i=e[this.annoinfo["dataset:JThermodynamicsSubstructureType"][this.identifier]];this.objectform.get("JThermodynamicsSubstructureType").setValue(i),this.structure.setData(e[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]]),this.base.setData(e)}setType(e){this.objectform.get("JThermodynamicsSubstructureType").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(Ut),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-jthermodynamics2dsubstructurethermodynamics"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Cse,5),n.Gf(wse,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.base=s.first),n.iGM(s=n.CRH())&&(i.structure=s.first)}},outputs:{annoReady:"annoReady"},decls:9,vars:3,consts:[[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],[1,"type"],["matInput","","formControlName","JThermodynamicsSubstructureType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],[3,"annoinfo","annoinfoChange"],["structure",""],[3,"annoinfo","catalogtype","annoinfoChange","catalogtypeChange"],["base",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title-group",0)(3,"mat-card-subtitle",1),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,Tse,14,8,"ng-container",2),n.YNc(7,Dse,2,1,"ng-template",null,3,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,hn,Nt,Bt,zt,Ot,Gt,Fi,TD,JC],styles:[".type[_ngcontent-%COMP%]{width:100%}"]}),r})();const Sse=["enthalpyobj"],Ase=["entropyobj"],Ese=["heatcapacityspecobj"],Mse=["temperaturespecobj"];function Ise(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",12)(2,"mat-grid-list",13)(3,"mat-grid-tile",14)(4,"mat-form-field",15)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",16),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",14)(11,"mat-form-field",15)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",17),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.TgZ(17,"mat-grid-tile",14)(18,"mat-form-field",15)(19,"mat-label"),n._uU(20),n.qZA(),n._UZ(21,"input",18),n.TgZ(22,"mat-hint"),n._uU(23),n.qZA()()(),n.TgZ(24,"mat-grid-tile",14)(25,"mat-icon",19),n.NdJ("click",function(){const o=n.CHM(e).index,a=n.oxw(3);return n.KtG(a.deletePair(o))}),n._uU(26," delete_forever"),n.qZA()()()(),n.BQk()}if(2&r){const e=t.$implicit,i=n.oxw(3);n.xp6(1),n.Q6J("formGroup",e),n.xp6(2),n.Q6J("colspan",4),n.xp6(3),n.hij("",i.annoinfo["dataset:ThermodynamicHeatCapacityValue"][i.rdfslabel]," "),n.xp6(3),n.hij("",i.annoinfo["dataset:ThermodynamicHeatCapacityValue"][i.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",4),n.xp6(3),n.hij("",i.annoinfo["dataset:ThermodynamicTemperature"][i.rdfslabel]," "),n.xp6(3),n.hij("",i.annoinfo["dataset:ThermodynamicTemperature"][i.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",4),n.xp6(3),n.Oqu(i.annoinfo["dataset:ValueUncertainty"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:ValueUncertainty"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",1)}}function kse(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-parametervalue",4,5),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.enthalpyspec=s)})("titleChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.enthalpytitle=s)}),n.qZA(),n.TgZ(3,"app-parametervalue",4,6),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.entropyspec=s)})("titleChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.entropytitle=s)}),n.qZA(),n.TgZ(5,"app-parameterspecification",7,8),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.heatcapacityspec=s)}),n.qZA(),n.TgZ(7,"app-parameterspecification",7,9),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.temperaturespec=s)}),n.qZA(),n.TgZ(9,"button",10),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.addPair())}),n._uU(10),n.qZA(),n.YNc(11,Ise,27,11,"ng-container",11),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.enthalpyspec)("title",e.enthalpytitle),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.entropyspec)("title",e.entropytitle),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.heatcapacityspec),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.temperaturespec),n.xp6(3),n.Oqu(e.addpair),n.xp6(1),n.Q6J("ngForOf",e.pairs.controls)}}function Rse(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Specification being loaded "),n.qZA())}function Nse(r,t){if(1&r&&(n.ynx(0),n.YNc(1,kse,12,12,"ng-container",2),n.YNc(2,Rse,2,0,"ng-template",null,3,n.W1O),n.BQk()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.specdisplay)("ngIfElse",e.specloading)}}function Ose(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let Fse=(()=>{class r{constructor(e,i){this.annotations=e,this.formBuilder=i,this.message="Start",this.title="Temperature Dependent Thermodynamic Specification",this.display=!1,this.enthalpytitle="Standard Enthalpy",this.entropytitle="Standard Entropy",this.addpair="Add Temperature/HeatCapacityPair",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.pair=this.formBuilder.group({ThermodynamicHeatCapacityValue:["",oe.required],ThermodynamicTemperature:["",oe.required],ValueUncertainty:["",oe.required]}),this.enthalpyid="dataset:ParameterSpecificationEnthaply",this.entropyid="dataset:ParameterSpecificationEntropy",this.heatcapacityid="dataset:ParameterSpecificationHeatCapacity",this.temperatureid="dataset:ParameterSpecificationTemperature",this.specdisplay=!1,this.pairs=this.formBuilder.array([]);const s=[];s.push(this.enthalpyid),s.push(this.entropyid),s.push(this.heatcapacityid),s.push(this.temperatureid),e.getParameterSet(s).subscribe({next:o=>{this.enthalpyspec=o[this.enthalpyid],this.entropyspec=o[this.entropyid],this.heatcapacityspec=o[this.heatcapacityid],this.temperaturespec=o[this.temperatureid],this.specdisplay=!0}}),this.message="Done"}ngOnInit(){}setData(e){this.enthalpyobj.setData(e[this.annoinfo["dataset:ThermodynamicStandardEnthalpy"][this.identifier]]),this.entropyobj.setData(e[this.annoinfo["dataset:ThermodynamicStandardEntropy"][this.identifier]]),this.setDataPairs(e[this.annoinfo["dataset:ThermodynamicCpAtTemperature"][this.identifier]])}getData(e){const i={};this.enthalpyobj.getData(i),e[this.annoinfo["dataset:ThermodynamicStandardEnthalpy"][this.identifier]]=i;const s={};this.entropyobj.getData(s),e[this.annoinfo["dataset:ThermodynamicStandardEntropy"][this.identifier]]=s;const o={};this.getDataPairs(o),e[this.annoinfo["dataset:ThermodynamicCpAtTemperature"][this.identifier]]=o}getDataPairs(e){for(const i of this.pairs.controls){const s={};s[this.annoinfo["dataset:ThermodynamicHeatCapacityValue"][this.identifier]]=i.get("ThermodynamicHeatCapacityValue").value,s[this.annoinfo["dataset:ThermodynamicTemperature"][this.identifier]]=i.get("ThermodynamicTemperature").value,s[this.annoinfo["dataset:ValueUncertainty"][this.identifier]]=i.get("ValueUncertainty").value,e.push(s)}}setDataPairs(e){this.pairs.clear();for(const i of e){const s=this.newPair();s.get("ThermodynamicHeatCapacityValue").setValue(i[this.annoinfo["dataset:ThermodynamicHeatCapacityValue"][this.identifier]]),s.get("ThermodynamicTemperature").setValue(i[this.annoinfo["dataset:ThermodynamicTemperature"][this.identifier]]),s.get("ValueUncertainty").setValue(i[this.annoinfo["dataset:ValueUncertainty"][this.identifier]]),this.pairs.push(s)}}newPair(){return this.formBuilder.group({ThermodynamicHeatCapacityValue:["",oe.required],ThermodynamicTemperature:["",oe.required],ValueUncertainty:["",oe.required]})}addPair(){const e=this.newPair();this.pairs.push(e)}deletePair(e){this.pairs.removeAt(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(Ut))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-jthermodynamicstandardthermodynamics"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Sse,5),n.Gf(Ase,5),n.Gf(Ese,5),n.Gf(Mse,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.enthalpyobj=s.first),n.iGM(s=n.CRH())&&(i.entropyobj=s.first),n.iGM(s=n.CRH())&&(i.heatcapacityspecobj=s.first),n.iGM(s=n.CRH())&&(i.temperaturespecobj=s.first)}},inputs:{annoinfo:"annoinfo"},decls:9,vars:3,consts:[[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"annoinfo","parameterinfo","title","annoinfoChange","parameterinfoChange","titleChange"],["enthalpyobj",""],["entropyobj",""],[3,"annoinfo","parameterinfo","annoinfoChange","parameterinfoChange"],["heatcapacityspecobj",""],["temperaturespecobj",""],["mat-button","","color","primary",1,"addbutton",3,"click"],[4,"ngFor","ngForOf"],[1,"count-form-row",3,"formGroup"],["cols","13","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","ThermodynamicHeatCapacityValue"],["matInput","","formControlName","ThermodynamicTemperature"],["matInput","","formControlName","ValueUncertainty"],[1,"delete-btn",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title-group",0)(3,"mat-card-subtitle",1),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,Nse,4,2,"ng-container",2),n.YNc(7,Ose,2,1,"ng-template",null,3,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ln,ke,jt,rr,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,Nt,Bt,zt,Ot,Gt,Xm,a6],styles:[".label[_ngcontent-%COMP%]{width:100%;padding:2px}.addbutton[_ngcontent-%COMP%]{width:100%;justify-content:center}"]}),r})();function Pse(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",12)(2,"mat-grid-list",13)(3,"mat-grid-tile",5)(4,"mat-form-field",6)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",14),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",5)(11,"mat-form-field",6)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",14),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.TgZ(17,"mat-grid-tile",5)(18,"mat-icon",15),n.NdJ("click",function(){const o=n.CHM(e).index,a=n.oxw(2);return n.KtG(a.deleteAtomCount(o))}),n._uU(19," delete_forever"),n.qZA()()()(),n.BQk()}if(2&r){const e=t.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("formGroup",e),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.hij("",i.annoinfo["dataset:ThermodynamicBensonMultiplicity"][i.rdfslabel]," "),n.xp6(3),n.hij("",i.annoinfo["dataset:ThermodynamicBensonMultiplicity"][i.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.hij("",i.annoinfo["dataset:ThermodynamicBensonMultiplicity"][i.rdfslabel]," "),n.xp6(3),n.hij("",i.annoinfo["dataset:ThermodynamicBensonMultiplicity"][i.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",1)}}function Lse(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",3)(2,"mat-grid-list",4)(3,"mat-grid-tile",5)(4,"mat-form-field",6)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",7),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",5)(11,"mat-form-field",6)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",8),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()()(),n.TgZ(17,"button",9),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.addAtomCount())}),n._uU(18),n.qZA(),n.ynx(19,10),n.YNc(20,Pse,20,8,"ng-container",11),n.BQk(),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.countform),n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.Oqu(e.annoinfo["dataset:BensonRuleDatabaseReference"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:BensonRuleDatabaseReference"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(e.annoinfo["dataset:JThermodynamicsBensonCenterAtom"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:JThermodynamicsBensonCenterAtom"][e.rdfscomment]),n.xp6(2),n.Oqu(e.addatomcount),n.xp6(2),n.Q6J("ngForOf",e.atomcounts.controls)}}function Bse(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Benson Rule Annotations "),n.qZA())}let Use=(()=>{class r{constructor(e){this.formBuilder=e,this.countform=this.formBuilder.group({BensonRuleDatabaseReference:["",oe.required],JThermodynamicsBensonCenterAtom:["",oe.required],atomcounts:this.formBuilder.array([])}),this.addatomcount="Add Connecting Atom",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.title="Benson Atom Structure Data"}ngOnInit(){}getData(e){e[this.annoinfo["dataset:BensonRuleDatabaseReference"][this.identifier]]=this.countform.get("BensonRuleDatabaseReference").value,e[this.annoinfo["dataset:JThermodynamicsBensonCenterAtom"][this.identifier]]=this.countform.get("JThermodynamicsBensonCenterAtom").value;const i=[];e[this.annoinfo["dataset:JThermodynamicsBensonConnectionWithMultiplicity"][this.identifier]]=i;for(const s of this.atomcounts.controls){const o={};o[this.annoinfo["dataset:JThermodynamicsBensonConnectingAtom"][this.identifier]]=s.get("JThermodynamicsBensonConnectingAtom").value,o[this.annoinfo["dataset:ThermodynamicBensonMultiplicity"][this.identifier]]=s.get("ThermodynamicBensonMultiplicity").value,i.push(o)}}setData(e){this.countform.get("BensonRuleDatabaseReference").setValue(e[this.annoinfo["dataset:BensonRuleDatabaseReference"][this.identifier]]),this.countform.get("JThermodynamicsBensonCenterAtom").setValue(e[this.annoinfo["dataset:JThermodynamicsBensonCenterAtom"][this.identifier]]),this.setAtomCountData(e[this.annoinfo["dataset:JThermodynamicsBensonConnectionWithMultiplicity"][this.identifier]])}setAtomCountData(e){for(const i of e){const s=this.newAtomCount();s.get("JThermodynamicsBensonConnectingAtom").setValue(i[this.annoinfo["dataset:JThermodynamicsBensonConnectingAtom"][this.identifier]]),s.get("ThermodynamicBensonMultiplicity").setValue(i[this.annoinfo["dataset:ThermodynamicBensonMultiplicity"][this.identifier]]),this.atomcounts.push(s)}}get atomcounts(){return this.countform.controls.atomcounts}newAtomCount(){return this.formBuilder.group({JThermodynamicsBensonConnectingAtom:["",oe.required],ThermodynamicBensonMultiplicity:["",oe.required]})}addAtomCount(){const e=this.newAtomCount();this.atomcounts.push(e)}deleteAtomCount(e){this.atomcounts.removeAt(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-jthermodynamicsbensonrulestructure"]],inputs:{annoinfo:"annoinfo"},decls:7,vars:3,consts:[[1,"card"],[4,"ngIf","ngIfElse"],["loading",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","BensonRuleDatabaseReference"],["matInput","","formControlName","JThermodynamicsBensonCenterAtom"],["mat-button","","color","primary",1,"addbutton",3,"click"],["formArrayName","atomcounts"],[4,"ngFor","ngForOf"],[1,"count-form-row",3,"formGroup"],["cols","13","rowHeight","100px"],["matInput","","formControlName","ThermodynamicBensonMultiplicity"],[1,"delete-btn",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header"),n._uU(2),n.qZA(),n.TgZ(3,"mat-card-content"),n.YNc(4,Lse,21,9,"ng-container",1),n.YNc(5,Bse,2,0,"ng-template",null,2,n.W1O),n.qZA()()),2&e){const s=n.MAs(6);n.xp6(2),n.hij(" ",i.title," "),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ln,ke,jt,rr,Rt,en,kt,Pt,et,lt,Xe,Et,wt,Nt,Bt,zt,Ot,Gt,wy],styles:[".label[_ngcontent-%COMP%]{width:100%;padding:2px}.addbutton[_ngcontent-%COMP%]{width:100%;justify-content:center}"]}),r})();const Vse=["bensonstructure"],Zse=["thermo"],jse=["base"];function Hse(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-jthermodynamicsbensonrulestructure",2,3),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(3,"app-jthermodynamicstandardthermodynamics",2,4),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("annoinfo",e.annoinfo),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)}}function qse(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let Gse=(()=>{class r{constructor(e){this.annotations=e,this.title="Benson Rule Definition",this.display=!1,this.specdisplay=!1,this.identifier=O.dctermsidentifier,this.catalogsetdata=null,this.annoReady=new n.vpe,this.catalogtype="dataset:ThermodynamicBensonRuleDefinition",this.getCatalogAnnoations()}ngOnInit(){}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;if(this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.display=!0,this.annoReady.emit(this.annoinfo)}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}getData(e){this.base.getData(e);const i={};this.bensonstructure.getData(i),e[this.annoinfo["dataset:JThermodynamicsBensonRuleStructure"][this.identifier]]=i}setData(e){null!=this.annoinfo?null!=this.thermo?(this.thermo.setData(e[this.annoinfo["dataset:JThermodynamicStandardThermodynamics"][this.identifier]]),this.bensonstructure.setData(e[this.annoinfo["dataset:JThermodynamicsBensonRuleStructure"][this.identifier]])):alert("Refresh data if not shown"):this.catalogsetdata=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-thermodynamicbensonruledefinition"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Vse,5),n.Gf(Zse,5),n.Gf(jse,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.bensonstructure=s.first),n.iGM(s=n.CRH())&&(i.thermo=s.first),n.iGM(s=n.CRH())&&(i.base=s.first)}},outputs:{annoReady:"annoReady"},decls:7,vars:3,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"annoinfo","annoinfoChange"],["bensonstructure",""],["thermo",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header"),n._uU(2),n.qZA(),n.TgZ(3,"mat-card-content"),n.YNc(4,Hse,5,2,"ng-container",0),n.YNc(5,qse,2,1,"ng-template",null,1,n.W1O),n.qZA()()),2&e){const s=n.MAs(6);n.xp6(2),n.hij(" ",i.title," "),n.xp6(2),n.Q6J("ngIf",i.display)("ngIfElse",s)}},dependencies:[ke,et,lt,Xe,Fse,Use]}),r})();const Yse=["base"],Jse=["structure"];function zse(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",4)(2,"mat-grid-list",5)(3,"mat-grid-tile",6)(4,"mat-form-field",7)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",6)(11,"mat-form-field",7)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",9),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()(),n.TgZ(17,"app-menu-item",10,11),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setType(s))}),n.qZA()(),n.TgZ(19,"mat-grid-tile",6)(20,"mat-form-field",7)(21,"mat-label"),n._uU(22),n.qZA(),n._UZ(23,"input",12),n.TgZ(24,"mat-hint"),n._uU(25),n.qZA()()(),n.TgZ(26,"mat-grid-tile",6)(27,"mat-form-field",7)(28,"mat-label"),n._uU(29),n.qZA(),n._UZ(30,"input",13),n.TgZ(31,"mat-hint"),n._uU(32),n.qZA()(),n.TgZ(33,"app-menu-item",10,14),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setMetaAtomType(s))}),n.qZA()(),n.TgZ(35,"mat-grid-tile",6)(36,"mat-form-field",7)(37,"mat-label"),n._uU(38),n.qZA(),n._UZ(39,"input",15),n.TgZ(40,"mat-hint"),n._uU(41),n.qZA()()(),n.TgZ(42,"mat-grid-tile",6)(43,"mat-form-field",7)(44,"mat-label"),n._uU(45),n.qZA(),n._UZ(46,"input",16),n.TgZ(47,"mat-hint"),n._uU(48),n.qZA()()()()(),n.TgZ(49,"app-jthermodynamics2dspeciesstructure",17,18),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(18),i=n.MAs(34),s=n.oxw();n.xp6(1),n.Q6J("formGroup",s.objectform),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:JThermodynamics2DSpeciesLabel"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:JThermodynamics2DSpeciesLabel"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.hij("",s.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][s.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.hij("",s.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][s.rdfscomment]," "),n.xp6(1),n.Q6J("items",s.items),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.hij("",s.annoinfo["dataset:JThermodynamicsStructureSpecification"][s.rdfslabel]," "),n.xp6(3),n.hij("",s.annoinfo["dataset:JThermodynamicsStructureSpecification"][s.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:JThermodynamicsMetaAtomType"][s.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",i.childMenu),n.xp6(2),n.Oqu(s.annoinfo["dataset:JThermodynamicsMetaAtomType"][s.rdfscomment]),n.xp6(1),n.Q6J("items",s.metaatomtypeitems),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:JThermodynamicsMetaAtomLabel"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:JThermodynamicsMetaAtomLabel"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:JThermodynamicsStructureName"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:JThermodynamicsStructureName"][s.rdfscomment]),n.xp6(1),n.Q6J("annoinfo",s.annoinfo)}}function $se(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let Qse=(()=>{class r{constructor(e,i,s){this.annotations=e,this.formBuilder=i,this.menusetup=s,this.title="Meta Atom Definition",this.message="Still loading",this.display=!1,this.specdisplay=!1,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.typeloc="dataset:JThermodynamicsSpeciesSpecificationType",this.metaatomtypeloc="dataset:JThermodynamicsMetaAtomType",this.objectform=this.formBuilder.group({JThermodynamics2DSpeciesLabel:["",oe.required],JThermodynamicsSpeciesSpecificationType:["",oe.required],JThermodynamicsStructureSpecification:["",oe.required],JThermodynamicsMetaAtomLabel:["",oe.required],JThermodynamicsMetaAtomType:["",oe.required],JThermodynamicsStructureName:["",oe.required]}),this.annoReady=new n.vpe,this.catalogtype="dataset:JThermodynamicsMetaAtomDefinition",this.getCatalogAnnoations()}ngOnInit(){}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;if(this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.items=this.menusetup.findChoices(this.annoinfo,this.typeloc),this.metaatomtypeitems=this.menusetup.findChoices(this.annoinfo,this.metaatomtypeloc),this.display=!0,this.annoReady.emit(this.annoinfo)}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}getData(e){e[this.annoinfo["dataset:JThermodynamics2DSpeciesLabel"][this.identifier]]=this.objectform.get("JThermodynamics2DSpeciesLabel").value,e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]]=this.objectform.get("JThermodynamicsSpeciesSpecificationType").value,e[this.annoinfo["dataset:JThermodynamicsStructureSpecification"][this.identifier]]=this.objectform.get("JThermodynamicsStructureSpecification").value;const a={};a[this.annoinfo["dataset:JThermodynamicsMetaAtomLabel"][this.identifier]]=this.objectform.get("JThermodynamicsMetaAtomLabel").value,a[this.annoinfo["dataset:JThermodynamicsMetaAtomType"][this.identifier]]=this.objectform.get("JThermodynamicsMetaAtomType").value,a[this.annoinfo["dataset:JThermodynamicsStructureName"][this.identifier]]=this.objectform.get("JThermodynamicsStructureName").value,e[this.annoinfo["dataset:JThermodynamicsMetaAtomInfo"][this.identifier]]=a,this.base.getData(e);const T={};this.structure.getData(T),a[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]]=T}setData(e){const i=this.annoinfo["dataset:JThermodynamics2DSpeciesLabel"][this.identifier];this.objectform.get("JThermodynamics2DSpeciesLabel").setValue(e[i]);const s=this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier];this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(e[s]);const o=this.annoinfo["dataset:JThermodynamicsStructureSpecification"][this.identifier];this.objectform.get("JThermodynamicsStructureSpecification").setValue(e[o]);const d=e[this.annoinfo["dataset:JThermodynamicsMetaAtomInfo"][this.identifier]],f=this.annoinfo["dataset:JThermodynamicsMetaAtomLabel"][this.identifier];this.objectform.get("JThermodynamicsMetaAtomLabel").setValue(d[f]);const g=this.annoinfo["dataset:JThermodynamicsMetaAtomType"][this.identifier];this.objectform.get("JThermodynamicsMetaAtomType").setValue(d[g]);const b=this.annoinfo["dataset:JThermodynamicsStructureName"][this.identifier];this.objectform.get("JThermodynamicsStructureName").setValue(d[b]),this.base.setData(e),this.structure.setData(d[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]])}setType(e){this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(e)}setMetaAtomType(e){this.objectform.get("JThermodynamicsMetaAtomType").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(Ut),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-jthermodynamicsmetaatomdefinition"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Yse,5),n.Gf(Jse,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.base=s.first),n.iGM(s=n.CRH())&&(i.structure=s.first)}},outputs:{annoReady:"annoReady"},decls:9,vars:3,consts:[[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","JThermodynamics2DSpeciesLabel"],["matInput","","formControlName","JThermodynamicsSpeciesSpecificationType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],["matInput","","formControlName","JThermodynamicsStructureSpecification"],["matInput","","formControlName","JThermodynamicsMetaAtomType",3,"matMenuTriggerFor"],["metaatommenu",""],["matInput","","formControlName","JThermodynamicsMetaAtomLabel"],["matInput","","formControlName","JThermodynamicsStructureName"],[3,"annoinfo","annoinfoChange"],["structure",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title-group",0)(3,"mat-card-subtitle",1),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,zse,51,24,"ng-container",2),n.YNc(7,$se,2,1,"ng-template",null,3,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Fi,JC],styles:[".label[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();const Wse=["base"],Kse=["structure"];function Xse(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",20)(2,"mat-grid-list",21)(3,"mat-grid-tile",6)(4,"mat-form-field",7)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",22),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",6)(11,"mat-form-field",7)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",23),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.TgZ(17,"mat-grid-tile",6)(18,"mat-form-field",7)(19,"mat-label"),n._uU(20),n.qZA(),n._UZ(21,"input",24),n.TgZ(22,"mat-hint"),n._uU(23),n.qZA()(),n.TgZ(24,"app-menu-item",9,25),n.NdJ("selectionEvent",function(s){const a=n.CHM(e).index,d=n.oxw(2);return n.KtG(d.setNodeType(a,s))}),n.qZA()(),n.TgZ(26,"mat-grid-tile",6)(27,"mat-icon",26),n.NdJ("click",function(){const o=n.CHM(e).index,a=n.oxw(2);return n.KtG(a.deleteAtomCount(o))}),n._uU(28," delete_forever"),n.qZA()()()(),n.BQk()}if(2&r){const e=t.$implicit,i=n.MAs(25),s=n.oxw(2);n.xp6(1),n.Q6J("formGroup",e),n.xp6(2),n.Q6J("colspan",4),n.xp6(3),n.hij(" ",s.annoinfo["dataset:JThermodynamicsSymmetryDefinitionNodeLabel"][s.rdfslabel]," "),n.xp6(3),n.hij(" ",s.annoinfo["dataset:JThermodynamicsSymmetryDefinitionNodeLabel"][s.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",4),n.xp6(3),n.hij(" ",s.annoinfo["dataset:JThermodynamicsSymmetryDefinitionSubGroupLabel"][s.rdfslabel]," "),n.xp6(3),n.hij(" ",s.annoinfo["dataset:JThermodynamicsSymmetryDefinitionSubGroupLabel"][s.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",4),n.xp6(3),n.Oqu(s.annoinfo["dataset:JThermodynamicsSymmetryDefinitionNodeType"][s.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",i.childMenu),n.xp6(2),n.Oqu(s.annoinfo["dataset:JThermodynamicsSymmetryDefinitionNodeType"][s.rdfscomment]),n.xp6(1),n.Q6J("items",s.nodetypeitems),n.xp6(2),n.Q6J("colspan",1)}}function eoe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",4)(2,"mat-grid-list",5)(3,"mat-grid-tile",6)(4,"mat-form-field",7)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()(),n.TgZ(10,"app-menu-item",9,10),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setSymmType(s))}),n.qZA()(),n.TgZ(12,"mat-grid-tile",6)(13,"mat-form-field",7)(14,"mat-label"),n._uU(15),n.qZA(),n._UZ(16,"input",11),n.TgZ(17,"mat-hint"),n._uU(18),n.qZA()()(),n.TgZ(19,"mat-grid-tile",6)(20,"mat-form-field",7)(21,"mat-label"),n._uU(22),n.qZA(),n._UZ(23,"input",12),n.TgZ(24,"mat-hint"),n._uU(25),n.qZA()()()(),n.TgZ(26,"button",13),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.addSymmElement())}),n._uU(27),n.qZA(),n.ynx(28,14),n.YNc(29,Xse,29,13,"ng-container",15),n.BQk(),n.qZA(),n.TgZ(30,"app-jthermodynamics2dspeciesstructure",16,17),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(32,"app-chemconnectthermodynamicsdatabase",18,19),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("catalogtypeChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.catalogtype=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(11),i=n.oxw();n.xp6(1),n.Q6J("formGroup",i.objectform),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:StructureSymmetryType"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.Oqu(i.annoinfo["dataset:StructureSymmetryType"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.symmtypeitems),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.hij("",i.annoinfo["dataset:JThermodynamicSymmetryDefinitionLabel"][i.rdfslabel]," "),n.xp6(3),n.hij("",i.annoinfo["dataset:JThermodynamicSymmetryDefinitionLabel"][i.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:SymmetryFactorOfStructure"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:SymmetryFactorOfStructure"][i.rdfscomment]),n.xp6(2),n.Oqu(i.addsymmelement),n.xp6(2),n.Q6J("ngForOf",i.symmelements.controls),n.xp6(1),n.Q6J("annoinfo",i.annoinfo),n.xp6(2),n.Q6J("annoinfo",i.annoinfo)("catalogtype",i.catalogtype)}}function toe(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Annotation Information "),n.qZA())}let noe=(()=>{class r{constructor(e,i,s){this.annotations=e,this.formBuilder=i,this.menusetup=s,this.title="Symmetry Structure Information",this.addsymmelement="Add Symmetry Element",this.message="Still loading",this.display=!1,this.specdisplay=!1,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.symmtypeloc="dataset:StructureSymmetryType",this.nodetypeloc="dataset:JThermodynamicsSymmetryDefinitionNodeType",this.objectform=this.formBuilder.group({JThermodynamicSymmetryDefinitionLabel:["",oe.required],StructureSymmetryType:["",oe.required],SymmetryFactorOfStructure:["",oe.required],symmelements:this.formBuilder.array([])}),this.annoReady=new n.vpe,this.catalogtype="dataset:JThermodynamicsSymmetryStructureDefinition",this.getCatalogAnnoations()}ngOnInit(){}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;if(this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.symmtypeitems=this.menusetup.findChoices(this.annoinfo,this.symmtypeloc),this.nodetypeitems=this.menusetup.findChoices(this.annoinfo,this.nodetypeloc),this.display=!0,this.annoReady.emit(this.annoinfo)}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}get symmelements(){return this.objectform.controls.symmelements}newSymmElement(){return this.formBuilder.group({JThermodynamicsSymmetryDefinitionNodeLabel:["",oe.required],JThermodynamicsSymmetryDefinitionNodeType:["",oe.required],JThermodynamicsSymmetryDefinitionSubGroupLabel:["",oe.required]})}addSymmElement(){const e=this.newSymmElement();return this.symmelements.push(e),e}deleteAtomCount(e){this.symmelements.removeAt(e)}getData(e){const i={};i[this.annoinfo["dataset:JThermodynamicSymmetryDefinitionLabel"][this.identifier]]=this.objectform.get("JThermodynamicSymmetryDefinitionLabel").value,i[this.annoinfo["dataset:StructureSymmetryType"][this.identifier]]=this.objectform.get("StructureSymmetryType").value,i[this.annoinfo["dataset:SymmetryFactorOfStructure"][this.identifier]]=this.objectform.get("SymmetryFactorOfStructure").value,e[this.annoinfo["dataset:JThermodynamicsSymmetryDefinition"][this.identifier]]=i;const f=[];i[this.annoinfo["dataset:JThermodynamicsSymmetryNodeGroupDefinition"][this.identifier]]=f;for(const b of this.symmelements.controls){const T={};T[this.annoinfo["dataset:JThermodynamicsSymmetryDefinitionNodeLabel"][this.identifier]]=b.get("JThermodynamicsSymmetryDefinitionNodeLabel").value,T[this.annoinfo["dataset:JThermodynamicsSymmetryDefinitionNodeType"][this.identifier]]=b.get("JThermodynamicsSymmetryDefinitionNodeType").value,T[this.annoinfo["dataset:JThermodynamicsSymmetryDefinitionSubGroupLabel"][this.identifier]]=b.get("JThermodynamicsSymmetryDefinitionSubGroupLabel").value,f.push(T)}this.base.getData(e);const g={};this.structure.getData(g),e[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]]=g}setData(e){const s=e[this.annoinfo["dataset:JThermodynamicsSymmetryDefinition"][this.identifier]],o=this.annoinfo["dataset:JThermodynamicSymmetryDefinitionLabel"][this.identifier];this.objectform.get("JThermodynamicSymmetryDefinitionLabel").setValue(s[o]);const a=this.annoinfo["dataset:StructureSymmetryType"][this.identifier];this.objectform.get("StructureSymmetryType").setValue(s[a]);const d=this.annoinfo["dataset:SymmetryFactorOfStructure"][this.identifier];this.objectform.get("SymmetryFactorOfStructure").setValue(s[d]);const f=s[this.annoinfo["dataset:JThermodynamicsSymmetryNodeGroupDefinition"][this.identifier]];for(const b of f){const T=this.addSymmElement(),E=this.annoinfo["dataset:JThermodynamicsSymmetryDefinitionNodeLabel"][this.identifier];T.get("JThermodynamicsSymmetryDefinitionNodeLabel").setValue(b[E]);const R=this.annoinfo["dataset:JThermodynamicsSymmetryDefinitionNodeType"][this.identifier];T.get("JThermodynamicsSymmetryDefinitionNodeType").setValue(b[R]);const L=this.annoinfo["dataset:JThermodynamicsSymmetryDefinitionSubGroupLabel"][this.identifier];T.get("JThermodynamicsSymmetryDefinitionSubGroupLabel").setValue(b[L])}this.base.setData(e),this.structure.setData(e[this.annoinfo["dataset:JThermodynamics2DSpeciesStructure"][this.identifier]])}setSymmType(e){this.objectform.get("StructureSymmetryType").setValue(e)}setNodeType(e,i){this.symmelements.controls[e].get("JThermodynamicsSymmetryDefinitionNodeType").setValue(i)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(Ut),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-jthermodynamicssymmetrystructuredefinition"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Wse,5),n.Gf(Kse,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.base=s.first),n.iGM(s=n.CRH())&&(i.structure=s.first)}},outputs:{annoReady:"annoReady"},decls:9,vars:3,consts:[[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","StructureSymmetryType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["symmtypemenu",""],["matInput","","formControlName","JThermodynamicSymmetryDefinitionLabel"],["matInput","","formControlName","SymmetryFactorOfStructure"],["mat-button","","color","primary",1,"addbutton",3,"click"],["formArrayName","symmelements"],[4,"ngFor","ngForOf"],[3,"annoinfo","annoinfoChange"],["structure",""],[3,"annoinfo","catalogtype","annoinfoChange","catalogtypeChange"],["base",""],[1,"count-form-row",3,"formGroup"],["cols","13","rowHeight","100px"],["matInput","","formControlName","JThermodynamicsSymmetryDefinitionNodeLabel"],["matInput","","formControlName","JThermodynamicsSymmetryDefinitionSubGroupLabel"],["matInput","","formControlName","JThermodynamicsSymmetryDefinitionNodeType",3,"matMenuTriggerFor"],["nodetypemenu",""],[1,"delete-btn",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title-group",0)(3,"mat-card-subtitle",1),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,eoe,34,17,"ng-container",2),n.YNc(7,toe,2,0,"ng-template",null,3,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ln,ke,jt,rr,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,Nt,Bt,zt,Ot,Gt,wy,Fi,TD,JC],styles:[".label[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();function ioe(r,t){if(1&r&&(n.ynx(0),n.TgZ(1,"form",4)(2,"div")(3,"mat-form-field",5)(4,"mat-label"),n._uU(5),n.qZA(),n._UZ(6,"textarea",6,7),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()()(),n.BQk()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.objectform),n.xp6(4),n.Oqu(e.annoinfo["dataset:RepositoryThermoPartitionBlock"][e.rdfslabel]),n.xp6(4),n.Oqu(e.annoinfo["dataset:RepositoryThermoPartitionBlock"][e.rdfscomment])}}function roe(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let soe=(()=>{class r{constructor(e){this.formBuilder=e,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.display=!1,this.title="Thermodynamic Block"}ngOnInit(){this.annoReady.subscribe(e=>{this.annoinfo=e,this.display=!0}),this.objectform=this.formBuilder.group({ThermoBlock:["",oe.required]})}setData(e){const s=this.annoinfo["dataset:ThermodynamicsTherGasLine1a"][this.identifier],o=this.annoinfo["dataset:ThermodynamicsTherGasLine2"][this.identifier],a=this.annoinfo["dataset:ThermodynamicsTherGasLine3"][this.identifier],f=e[this.annoinfo["dataset:RepositoryThermoPartitionBlock"][this.identifier]];let g=f[this.annoinfo["dataset:ThermodynamicsTherGasLine1"][this.identifier]];g=g.concat("\n"),null!=f[s]&&f[s].length>0&&(g=g=f[s],g=g.concat("\n")),g=g=g.concat(f[o]),g=g.concat("\n"),g=g.concat(f[a]),g=g.concat("\n"),this.objectform.get("ThermoBlock").setValue(g)}getData(e){const i={};e[this.annoinfo["dataset:RepositoryThermoPartitionBlock"][this.identifier]]=i;const o=this.objectform.get("ThermoBlock").value,a=this.annoinfo["dataset:ThermodynamicsTherGasLine1"][this.identifier],d=this.annoinfo["dataset:ThermodynamicsTherGasLine1a"][this.identifier],f=this.annoinfo["dataset:ThermodynamicsTherGasLine2"][this.identifier],g=this.annoinfo["dataset:ThermodynamicsTherGasLine3"][this.identifier],b=o.split("\n");3==b.length?(i[a]=b[0],i[d]="",i[f]=b[1],i[g]=b[2]):4==b.length?(i[a]=b[0],i[d]=b[1],i[f]=b[2],i[g]=b[3]):alert("must have 3 or 4 lines")}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-repositorythermopartitionblock"]],inputs:{annoinfo:"annoinfo",annoReady:"annoReady"},decls:9,vars:3,consts:[[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],[1,"textfield"],["matInput","","formControlName","ThermoBlock","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",1,"textblock"],["autosize","cdkTextareaAutosize"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title-group",0)(3,"mat-card-subtitle",1),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,ioe,10,3,"ng-container",2),n.YNc(7,roe,2,1,"ng-template",null,3,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",i.display)("ngIfElse",s)}},dependencies:[ke,fD,Rt,en,kt,Pt,et,lt,gn,Xe,rn,hn,Nt,Bt,zt,Ot,Gt],styles:[".textblock[_ngcontent-%COMP%]{width:100%;font-family:Lucida Console,Courier New,monospace}.textfield[_ngcontent-%COMP%]{width:100%}"]}),r})();const ooe=["thermo"],aoe=["partition"];let sG=(()=>{class r extends tG{constructor(e,i,s,o,a){super(i,o,a),this.menusetup=e,this.dialog=i,this.formBuilder=s,this.annotations=o,this.identifiers=a,this.annoReady=new n.vpe,this.message="Initial",this.title="TherGas Thermodynamic Block",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.display=!1,this.catalogtype="RepositoryTherGasThermodynamicsBlock",this.getCatalogAnnoations()}ngOnInit(){}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{this.message="got response",this.message=e;const i=e;if(this.message="response JSON",this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.display=!0,this.annoReady.emit(this.annoinfo),this.partition.setDataFormat(this.cataloginfo)}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}setData(e){this.partition.setData(e),this.thermo.setData(e)}getData(e){this.thermo.getData(e),this.partition.getData(e)}setFormat(e){this.partition.setDataFormat(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Si),n.Y36(Pi),n.Y36(Ut),n.Y36(Rn),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-repositorythergasthermodynamicsblock"]],viewQuery:function(e,i){if(1&e&&(n.Gf(ooe,5),n.Gf(aoe,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.thermo=s.first),n.iGM(s=n.CRH())&&(i.partition=s.first)}},inputs:{cataloginfo:"cataloginfo"},features:[n.qOj],decls:10,vars:4,consts:[[1,"title-group"],[1,"title"],[3,"annoinfo","annoReady","annoinfoChange","annoReadyChange"],["thermo",""],[3,"annoReady","annoReadyChange"],["partition",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title-group",0)(3,"mat-card-subtitle",1),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content")(6,"app-repositorythermopartitionblock",2,3),n.NdJ("annoinfoChange",function(o){return i.annoinfo=o})("annoReadyChange",function(o){return i.annoReady=o}),n.qZA(),n.TgZ(8,"app-repositorydatapartitionblock",4,5),n.NdJ("annoReadyChange",function(o){return i.annoReady=o}),n.qZA()()()),2&e&&(n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("annoinfo",i.annoinfo)("annoReady",i.annoReady),n.xp6(2),n.Q6J("annoReady",i.annoReady))},dependencies:[et,lt,gn,Xe,rn,iG,soe]}),r})();function loe(r,t){if(1&r&&(n.ynx(0),n.TgZ(1,"mat-grid-list",4)(2,"mat-grid-tile",5)(3,"mat-form-field",6)(4,"mat-label"),n._uU(5),n.qZA(),n._UZ(6,"input",7),n.TgZ(7,"mat-hint"),n._uU(8),n.qZA()()(),n.TgZ(9,"mat-grid-tile",5)(10,"mat-form-field",6)(11,"mat-label"),n._uU(12),n.qZA(),n._UZ(13,"input",8),n.TgZ(14,"mat-hint"),n._uU(15),n.qZA()()(),n.TgZ(16,"mat-grid-tile",5)(17,"mat-form-field",9)(18,"mat-label"),n._uU(19),n.qZA(),n._UZ(20,"textarea",10),n.TgZ(21,"mat-hint"),n._uU(22),n.qZA()()()(),n.BQk()),2&r){const e=n.oxw();n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.hij("",e.annoinfo["dataset:CatalogDataObjectMaintainer"][e.rdfslabel]," "),n.xp6(1),n.Q6J("readonly",e.maintainernotchange),n.xp6(2),n.hij("",e.annoinfo["dataset:CatalogDataObjectMaintainer"][e.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(e.annoinfo["dataset:DatasetCollectionsSetLabel"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:DatasetCollectionsSetLabel"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionAbstract"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionAbstract"][e.rdfscomment])}}function coe(r,t){1&r&&n._uU(0," Spec: waiting for annotations ")}let uoe=(()=>{class r{constructor(e){this.fb=e,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.maintainernotchange=!0,this.waiting="waiting for annotations ",this.idForm=this.fb.group({CatalogDataObjectMaintainer:["",oe.required],DatasetCollectionsSetLabel:["",oe.required],DescriptionAbstract:["",oe.required]})}ngOnInit(){this.idForm.get("CatalogDataObjectMaintainer").setValue(this.maintainer)}setMaintainer(e){this.idForm.get("CatalogDataObjectMaintainer").setValue(e)}getData(e){e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.idForm.get("CatalogDataObjectMaintainer").value,e[this.annoinfo["dataset:DatasetCollectionsSetLabel"][this.identifier]]=this.idForm.get("DatasetCollectionsSetLabel").value,e[this.annoinfo["dataset:DescriptionAbstract"][this.identifier]]=this.idForm.get("DescriptionAbstract").value}setData(e){const i=e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]];this.idForm.get("CatalogDataObjectMaintainer").setValue(i);const s=e[this.annoinfo["dataset:DatasetCollectionsSetLabel"][this.identifier]];this.idForm.get("DatasetCollectionsSetLabel").setValue(s);const o=e[this.annoinfo["dataset:DescriptionAbstract"][this.identifier]];this.idForm.get("DescriptionAbstract").setValue(o)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-chemconnectdatasetcollectionidsset"]],inputs:{annoinfo:"annoinfo",maintainer:"maintainer"},decls:6,vars:3,consts:[[1,"matcard"],[3,"formGroup"],[4,"ngIf","ngIfElse"],["waiting",""],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","CatalogDataObjectMaintainer",3,"readonly"],["matInput","","formControlName","DatasetCollectionsSetLabel"],[1,"abstract"],["matInput","","formControlName","DescriptionAbstract"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"form",1),n.YNc(3,loe,23,10,"ng-container",2),n.YNc(4,coe,1,0,"ng-template",null,3,n.W1O),n.qZA()()()),2&e){const s=n.MAs(5);n.xp6(2),n.Q6J("formGroup",i.idForm),n.xp6(1),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,Rt,en,kt,Pt,et,Xe,Et,wt,hn,Nt,Bt,zt,Ot,Gt],styles:[".label[_ngcontent-%COMP%], .abstract[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();function doe(r,t){if(1&r&&(n.ynx(0),n.TgZ(1,"mat-grid-list",4)(2,"mat-grid-tile",5)(3,"mat-form-field",6)(4,"mat-label"),n._uU(5),n.qZA(),n._UZ(6,"input",7),n.TgZ(7,"mat-hint"),n._uU(8),n.qZA()()(),n.TgZ(9,"mat-grid-tile",5)(10,"mat-form-field",8)(11,"mat-label"),n._uU(12),n.qZA(),n._UZ(13,"input",9),n.TgZ(14,"mat-hint"),n._uU(15),n.qZA()()()(),n.BQk()),2&r){const e=n.oxw();n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.Oqu(e.annoinfo["dataset:DatasetName"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:DatasetName"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(e.annoinfo["dataset:DatasetVersion"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:DatasetVersion"][e.rdfscomment])}}function hoe(r,t){1&r&&(n._uU(0," Setup "),n._UZ(1,"mat-spinner"))}let l6=(()=>{class r{constructor(e,i){this.fb=e,this.menusetup=i,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.status="CatalogObjectStatusCurrent",this.waiting="waiting for annotations ",this.idForm=this.fb.group({CatalogDataObjectStatus:["Standard",oe.required],CatalogDataObjectMaintainer:["Standard",oe.required],DatasetName:["StandardData",oe.required],DatasetVersion:["1.0",oe.required]})}ngOnInit(){null==this.subtitle&&(this.subtitle="Specification for Collection")}invalid(){return this.idForm.invalid}setStatus(e){this.status=e}getData(e){e[this.annoinfo["dataset:CatalogDataObjectStatus"][this.identifier]]=this.status,e[this.annoinfo["dataset:DatasetName"][this.identifier]]=this.idForm.get("DatasetName").value,e[this.annoinfo["dataset:DatasetVersion"][this.identifier]]=this.idForm.get("DatasetVersion").value,e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.maintainer}setData(e){this.idForm.get("CatalogDataObjectStatus").setValue(this.status);const i=e[this.annoinfo["dataset:DatasetName"][this.identifier]];this.idForm.get("DatasetName").setValue(i);const s=e[this.annoinfo["dataset:DatasetVersion"][this.identifier]];this.idForm.get("DatasetVersion").setValue(s),this.transspec=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-datasetspecificationforcollectionset"]],inputs:{annoinfo:"annoinfo",maintainer:"maintainer",subtitle:"subtitle"},decls:9,vars:4,consts:[[1,"matcard"],[3,"formGroup"],[4,"ngIf","ngIfElse"],["waiting",""],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"datasetname"],["matInput","","formControlName","DatasetName"],[1,"version"],["matInput","","formControlName","DatasetVersion","placeholder","1.0"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-subtitle"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content")(5,"form",1),n.YNc(6,doe,16,6,"ng-container",2),n.YNc(7,hoe,2,0,"ng-template",null,3,n.W1O),n.qZA()()()),2&e){const s=n.MAs(8);n.xp6(3),n.Oqu(i.subtitle),n.xp6(2),n.Q6J("formGroup",i.idForm),n.xp6(1),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,Rt,en,kt,Pt,et,lt,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,$r],styles:[".generic[_ngcontent-%COMP%]{width:100%}.datasetname[_ngcontent-%COMP%], .status[_ngcontent-%COMP%], .version[_ngcontent-%COMP%]{width:100%;padding:10px}.cname[_ngcontent-%COMP%]{width:100%}.matcard[_ngcontent-%COMP%]{padding:3px;border:1px solid gray}"]}),r})();const foe=["collectionid"],poe=["benson"],moe=["disassociation"],goe=["metaatom"],_oe=["symmetry"],yoe=["vibrational"],boe=["substructure"];function voe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-chemconnectdatasetcollectionidsset",4,5),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)}),n.qZA(),n.TgZ(3,"app-datasetspecificationforcollectionset",6,7),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("subtitleChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.bensontitle=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)}),n.qZA(),n.TgZ(5,"app-datasetspecificationforcollectionset",6,8),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("subtitleChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.disassociationtitle=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)}),n.qZA(),n.TgZ(7,"app-datasetspecificationforcollectionset",6,9),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("subtitleChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.metaatomtitle=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)}),n.qZA(),n.TgZ(9,"app-datasetspecificationforcollectionset",6,10),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("subtitleChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.symmetrytitle=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)}),n.qZA(),n.TgZ(11,"app-datasetspecificationforcollectionset",6,11),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("subtitleChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.vibrationaltitle=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)}),n.qZA(),n.TgZ(13,"app-datasetspecificationforcollectionset",6,12),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("subtitleChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.substructuretitle=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("maintainer",e.maintainer),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("subtitle",e.bensontitle)("maintainer",e.maintainer),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("subtitle",e.disassociationtitle)("maintainer",e.maintainer),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("subtitle",e.metaatomtitle)("maintainer",e.maintainer),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("subtitle",e.symmetrytitle)("maintainer",e.maintainer),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("subtitle",e.vibrationaltitle)("maintainer",e.maintainer),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("subtitle",e.substructuretitle)("maintainer",e.maintainer)}}function Coe(r,t){1&r&&(n._uU(0," Setup "),n._UZ(1,"mat-spinner"))}function woe(r,t){if(1&r&&(n.ynx(0),n._UZ(1,"mat-divider")(2,"div",13)(3,"mat-divider"),n.BQk()),2&r){const e=n.oxw();n.xp6(2),n.Q6J("innerHTML",e.message,n.oJD)}}let fI=(()=>{class r{constructor(e,i){this.annotations=e,this.manageuser=i,this.catalogtype="dataset:ThermodynamicsDatasetCollectionIDsSet",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.subtitle="Thermodynamics Collection Set IDs",this.message="Read Annotations",this.bensontitle="Benson Rules",this.disassociationtitle="Disassociation Energy",this.metaatomtitle="Meta Atom Definition",this.symmetrytitle="Symmetry Structures",this.vibrationaltitle="Vibrational Energy Structures",this.substructuretitle="2D Substructure Thermodynamics",this.maintainer="Public",this.waiting="waiting for annotations ",this.manageuser.determineMaintainer().subscribe(s=>{null!=s?(this.maintainer=s,this.collectionid.setMaintainer(this.maintainer)):alert(i.errormaintainer)}),this.getCatalogAnnoations()}ngOnInit(){}invalid(){return this.benson.invalid()||this.disassociation.invalid()||this.metaatom.invalid()||this.symmetry.invalid()||this.vibrational.invalid()||this.substructure.invalid()}getCatalogAnnoations(){this.message="Setup",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;if(this.message="<p>Setup Success</p> "+i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations]}else this.message="<p>Error in performing setup (try reloading page or logging in again):</p>"+i[O.message]},error:e=>{this.message="<p>Error in setup (try reloading or logging in again):</p>"}})}getData(e){this.collectionid.getData(e);const i={};this.benson.getData(i),e["dataset:bensonrulecolspec"]=i;const s={};this.disassociation.getData(s),e["dataset:disassociationcolspec"]=s;const o={};this.metaatom.getData(o),e["dataset:metaatomdefinitioncolspec"]=o;const a={};this.symmetry.getData(a),e["dataset:symmetrystructuredefinitioncolspec"]=a;const d={};this.vibrational.getData(d),e["dataset:vibrationalstructurecolspec"]=d;const f={};this.substructure.getData(f),e["dataset:2dsubstructurethermo"]=f}setData(e){this.collectionid.setData(e),this.benson.setData(e["dataset:bensonrule"]),this.disassociation.setData(e["dataset:disassociation"]),this.metaatom.setData(e["dataset:metaatomdefinition"]),this.symmetry.setData(e["dataset:symmetrystructuredefinition"]),this.vibrational.setData(e["dataset:vibrationalstructure"]),this.substructure.setData(e["dataset:2dsubstructurethermo"])}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(yr))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-thermodynamicsdatasetcollectionidsset"]],viewQuery:function(e,i){if(1&e&&(n.Gf(foe,5),n.Gf(poe,5),n.Gf(moe,5),n.Gf(goe,5),n.Gf(_oe,5),n.Gf(yoe,5),n.Gf(boe,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.collectionid=s.first),n.iGM(s=n.CRH())&&(i.benson=s.first),n.iGM(s=n.CRH())&&(i.disassociation=s.first),n.iGM(s=n.CRH())&&(i.metaatom=s.first),n.iGM(s=n.CRH())&&(i.symmetry=s.first),n.iGM(s=n.CRH())&&(i.vibrational=s.first),n.iGM(s=n.CRH())&&(i.substructure=s.first)}},decls:9,vars:4,consts:[[1,"matcard"],[4,"ngIf","ngIfElse"],["waiting",""],[4,"ngIf"],[3,"annoinfo","maintainer","annoinfoChange","maintainerChange"],["collectionid",""],[3,"annoinfo","subtitle","maintainer","annoinfoChange","subtitleChange","maintainerChange"],["benson",""],["disassociation",""],["metaatom",""],["symmetry",""],["vibrational",""],["substructure",""],[3,"innerHTML"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-subtitle"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content"),n.YNc(5,voe,15,20,"ng-container",1),n.YNc(6,Coe,2,0,"ng-template",null,2,n.W1O),n.YNc(8,woe,4,1,"ng-container",3),n.qZA()()),2&e){const s=n.MAs(7);n.xp6(3),n.Oqu(i.subtitle),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s),n.xp6(3),n.Q6J("ngIf",null!=i.message)}},dependencies:[ke,zr,et,lt,Xe,rn,$r,uoe,l6]}),r})();function Toe(r,t){}let c6=(()=>{class r{constructor(){this.catalogtype="No object",this.isNotSetUp=!0,this.componentRef=null}ngOnInit(){}setChild(e){this.catalogtype=e,"dataset:RepositoryFileStaging"===e?this.isNotSetUp&&(this.componentRef=this.dynamicChild.viewContainerRef.createComponent(o6),this.isNotSetUp=!1):"dataset:RepositoryParsedToFixedBlockSize"===e?this.isNotSetUp&&(this.componentRef=this.dynamicChild.viewContainerRef.createComponent(rG),this.isNotSetUp=!1):"dataset:JThermodynamicsDisassociationEnergyOfStructure"===e?this.isNotSetUp&&(this.componentRef=this.dynamicChild.viewContainerRef.createComponent(ase),this.isNotSetUp=!1):"dataset:JThermodynamicsVibrationalStructure"===e?this.isNotSetUp&&(this.componentRef=this.dynamicChild.viewContainerRef.createComponent(mse),this.isNotSetUp=!1):"dataset:JThermodynamics2DSpeciesStructure"===e?this.isNotSetUp&&(this.componentRef=this.dynamicChild.viewContainerRef.createComponent(vse),this.isNotSetUp=!1):"dataset:JThermodynamics2DSubstructureThermodynamics"===e?this.isNotSetUp&&(this.componentRef=this.dynamicChild.viewContainerRef.createComponent(xse),this.isNotSetUp=!1):"dataset:ThermodynamicBensonRuleDefinition"===e?this.isNotSetUp&&(this.componentRef=this.dynamicChild.viewContainerRef.createComponent(Gse),this.isNotSetUp=!1):"dataset:JThermodynamicsMetaAtomDefinition"===e?this.isNotSetUp&&(this.componentRef=this.dynamicChild.viewContainerRef.createComponent(Qse),this.isNotSetUp=!1):"dataset:JThermodynamicsSymmetryStructureDefinition"===e?this.isNotSetUp&&(this.componentRef=this.dynamicChild.viewContainerRef.createComponent(noe),this.isNotSetUp=!1):"dataset:RepositoryTherGasThermodynamicsBlock"===e?this.isNotSetUp&&(this.componentRef=this.dynamicChild.viewContainerRef.createComponent(sG),this.isNotSetUp=!1):"dataset:ThermodynamicsDatasetCollectionIDsSet"===e?this.isNotSetUp&&(this.componentRef=this.dynamicChild.viewContainerRef.createComponent(fI),this.isNotSetUp=!1):alert('catalog object not found: "'+e+'""')}getAnnotations(){return this.componentRef.instance.annoinfo}setData(e){this.isNotSetUp&&this.setChild(e["dataset:objectype"]),this.componentRef.instance.setData(e)}getData(e){this.isNotSetUp?alert("catalog object not found"):this.componentRef.instance.getData(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-generalcatalogobjectvisualization"]],viewQuery:function(e,i){if(1&e&&n.Gf(GC,7),2&e){let s;n.iGM(s=n.CRH())&&(i.dynamicChild=s.first)}},decls:5,vars:1,consts:[[1,"cardbase"],["appLoadChild",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header"),n._uU(2),n.qZA(),n.TgZ(3,"mat-card-content"),n.YNc(4,Toe,0,0,"ng-template",1),n.qZA()()),2&e&&(n.xp6(2),n.hij(" ",i.catalogtype," "))},dependencies:[et,lt,Xe,GC]}),r})();const Doe=["firestoreid"],xoe=["catalogview"];function Soe(r,t){if(1&r&&(n.ynx(0),n.TgZ(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),n._uU(4),n.qZA()(),n.TgZ(5,"mat-card-content")(6,"mat-tab-group")(7,"mat-tab",6)(8,"textarea",7),n._uU(9),n.ALo(10,"json"),n.qZA()(),n.TgZ(11,"mat-tab",8)(12,"div"),n._UZ(13,"app-generalcatalogobjectvisualization",null,9),n.qZA()()()()(),n.BQk()),2&r){const e=n.oxw();n.xp6(4),n.hij(" ",e.objectcontent," "),n.xp6(5),n.Oqu(n.lcZ(10,2,e.catalogobject))}}let Aoe=(()=>{class r{constructor(e){this.runservice=e,this.deleteEvent=new n.vpe,this.catalogobject={},this.objectcontent="Object Content",this.objdisplay=!1,this.serviceid="service",this.title="Firestore Object"}ngOnInit(){}setData(e){this.firestoreid.setData(e)}getData(e){this.firestoreid.getData(e)}setIndex(e){this.index=e,this.title="Object: "+this.index}deleteLink(){this.deleteEvent.emit(this.index)}getCatalogObject(){this.objdisplay=!0;const e={};e[this.serviceid]="ReadCatalogObjectWithFirestoreAddress",this.firestoreid.getData(e),this.runservice.run(e).subscribe({next:i=>{"true"==i["dataset:servicesuccessful"]?(this.catalogobject=i["dataset:simpcatobj"],null!=this.catalogobject?this.catalogview.setData(this.catalogobject):alert("Result null")):(this.runservice.checkReturn(i),alert("Read Object not successful"))}})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(ga))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-firestorelistelement"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Doe,5),n.Gf(xoe,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.firestoreid=s.first),n.iGM(s=n.CRH())&&(i.catalogview=s.first)}},inputs:{anno:"anno",catalogID:"catalogID"},outputs:{deleteEvent:"deleteEvent"},decls:14,vars:4,consts:[[1,"cardbase"],[1,"addlink"],["mat-button","",1,"deletelinkbutton",3,"click"],[3,"anno","catalogID","annoChange","catalogIDChange"],["firestoreid",""],[4,"ngIf"],["label","JSON"],["appTextareaAutosize","","rows","10",1,"md-textarea","scrollable","textarea-scrollable","form-control"],["label","Information"],["catalogview",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1),n._uU(3),n.TgZ(4,"button",2),n.NdJ("click",function(){return i.deleteLink()}),n.TgZ(5,"mat-icon"),n._uU(6,"delete"),n.qZA()(),n.TgZ(7,"button",2),n.NdJ("click",function(){return i.getCatalogObject()}),n.TgZ(8,"mat-icon"),n._uU(9,"visibility"),n.qZA()()()(),n.TgZ(10,"mat-card-content")(11,"app-firesytorecatalogid",3,4),n.NdJ("annoChange",function(o){return i.anno=o})("catalogIDChange",function(o){return i.catalogID=o}),n.qZA()()(),n.YNc(13,Soe,15,4,"ng-container",5)),2&e&&(n.xp6(3),n.hij(" ",i.title," "),n.xp6(8),n.Q6J("anno",i.anno)("catalogID",i.catalogID),n.xp6(2),n.Q6J("ngIf",i.objdisplay))},dependencies:[ke,jt,rr,et,lt,gn,Xe,Oi,Wm,Jf,Du,c6,Ya],styles:[".catalogobj[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{width:100%}.text-input[_ngcontent-%COMP%]{padding:6px 10px;color:#333;border:1px solid #444;border-radius:6px;width:100%;resize:none;overflow-y:overlay;font-family:Arial,sans-serif;font-size:14px;line-height:20px;-ms-overflow-style:none;scrollbar-width:none}.text-input[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]}),r})();function Eoe(r,t){}let u6=(()=>{class r{constructor(e){this.identifiers=e,this.listofids=[]}ngOnInit(){}addEmptyObjectLink(){const e={};e[this.identifiers.DataCatalog]="",e[this.identifiers.SimpleCatalogName]="";const i={};e[this.identifiers.CollectionDocumentIDPairAddress]=i,i[this.identifiers.CollectionDocumentIDPair]=[],this.addFirestoreID(e)}addFirestoreID(e){const i=this.dynamicChild.viewContainerRef.createComponent(Aoe);i.instance.anno=this.annoinfo,i.instance.catalogID=e,i.instance.setIndex(this.listofids.length),i.instance.deleteEvent.subscribe(s=>{this.listofids.splice(s,1),i.destroy(),this.resetLinkArray()}),this.listofids.push(i.instance)}resetLinkArray(){let e=0;for(let i of this.listofids)i.setIndex(e),e++}setData(e){this.listofids=[];for(const i of e)this.addFirestoreID(i)}getData(e){for(const i of this.listofids){const s={};i.getData(s),e.push(s[this.identifiers.FirestoreCatalogID])}}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-listoffirestoreids"]],viewQuery:function(e,i){if(1&e&&n.Gf(GC,7),2&e){let s;n.iGM(s=n.CRH())&&(i.dynamicChild=s.first)}},inputs:{annoinfo:"annoinfo",listtitle:"listtitle"},decls:10,vars:1,consts:[[1,"cardbase"],[1,"addlink"],["mat-button","",1,"addlinkbutton",3,"click"],["appLoadChild",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle"),n._uU(4),n.qZA(),n.TgZ(5,"button",2),n.NdJ("click",function(){return i.addEmptyObjectLink()}),n.TgZ(6,"mat-icon"),n._uU(7,"add"),n.qZA()()()(),n.TgZ(8,"mat-card-content"),n.YNc(9,Eoe,0,0,"ng-template",3),n.qZA()()),2&e&&(n.xp6(4),n.Oqu(i.listtitle))},dependencies:[jt,rr,et,lt,gn,Xe,rn,GC],styles:[".cardbase[_ngcontent-%COMP%]{border:2px solid lightgrey;padding:20px}.addlink[_ngcontent-%COMP%]{width:100%;color:primary}.addlinkbutton[_ngcontent-%COMP%]{width:10%;color:primary}"]}),r})();const Moe=["outlst"];function Ioe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-listoffirestoreids",8,9),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("listtitleChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.outputtransactions=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("listtitle",e.outputtransactions)}}function koe(r,t){1&r&&(n._uU(0," Setup "),n._UZ(1,"mat-spinner"))}let Roe=(()=>{class r{constructor(e,i,s,o,a){this.identifiers=e,this.annotations=i,this.uploadService=o,this.dialog=a,this.parsedTransactionEvent=new n.vpe,this.transactiontitle="Parse File Transaction",this.subtransaction="Submit parsing transaction with given information",this.transactionidsubtitle="Transaction IDs for parsing",this.fetchtransaction="Fetch",this.loadfromdatabase="Load Transaction from database or from file",this.deltransaction="Delete transaction from database",this.delete="Delete",this.readinfailed="Error in fetching Partition transaction",this.failedsubmission="Failed to delete transaction",this.identifier=O.dctermsidentifier,this.resultHtml="Initializing",this.catalogtype="dataset:DatasetTransactionEventObject",this.outputtransactions="Result of parsing",s.determineMaintainer().subscribe(d=>{null!=d?this.maintainer=d:alert(s.determineMaintainer)}),this.getCatalogAnnoations()}ngOnInit(){}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;this.message=i[O.message],i[O.successful]?(this.annoinfo=i[O.catalogobject][O.annotations],this.resultHtml="Waiting for parse tranactions"):this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}setData(e){this.transactioninfo=e,this.activity=this.transactioninfo["dataset:activityinfo"],this.outlst.setData(this.transactioninfo["dataset:transoutobjid"])}getData(e){}annoReady(e){}fetchInformation(){const e={};e[this.identifiers.CatalogDataObjectMaintainer]=this.maintainer,e[this.identifiers.TransactionEventType]="dataset:PartiionSetWithinRepositoryFile",e[O.annoinfo]=this.annoinfo,this.dialog.open(s6,{data:e}).afterClosed().subscribe(s=>{if(null!=s){const o=s[O.successful];if(this.resultHtml=s[O.message],"true"==o){const a=s[O.catalogobject];null!=a&&(this.setData(a),this.parsedTransactionEvent.emit(a))}else alert("Error in reading: "+JSON.stringify(s))}else this.resultHtml=this.readinfailed})}deleteTransaction(){const e={"prov:activity":"dataset:DatabaseDeleteTransaction"};e["dcterms:creator"]=this.maintainer,e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.maintainer;const i={"dcterms:title":"Delection Collection:  this.maintainer   "};null!=this.transactioninfo?(i[this.annoinfo["dataset:FirestoreCatalogID"][this.identifier]]=this.transactioninfo[this.annoinfo["dataset:FirestoreCatalogID"][this.identifier]],e["dataset:activityinfo"]=i,this.dialog.open(Al,{data:e}).afterClosed().subscribe(d=>{this.resultHtml=null!=d?d["dataset:serviceresponsemessage"]:this.failedsubmission})):alert("Transaction not set up yet")}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ar),n.Y36(Rn),n.Y36(yr),n.Y36(xu),n.Y36(Pi))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-parsefiletransaction"]],viewQuery:function(e,i){if(1&e&&n.Gf(Moe,5),2&e){let s;n.iGM(s=n.CRH())&&(i.outlst=s.first)}},outputs:{parsedTransactionEvent:"parsedTransactionEvent"},decls:19,vars:10,consts:[[1,"cardbase"],[1,"title"],["cols","6","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","click"],[4,"ngIf","ngIfElse"],["loading",""],[3,"innerHTML"],[3,"annoinfo","listtitle","annoinfoChange","listtitleChange"],["outlst",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle"),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content")(6,"mat-grid-list",2)(7,"mat-grid-tile",3)(8,"button",4),n.NdJ("click",function(){return i.fetchInformation()}),n._uU(9),n.qZA()(),n.TgZ(10,"mat-grid-tile",3)(11,"button",4),n.NdJ("click",function(){return i.deleteTransaction()}),n._uU(12),n.qZA()()(),n.YNc(13,Ioe,3,2,"ng-container",5),n.YNc(14,koe,2,0,"ng-template",null,6,n.W1O),n._UZ(16,"mat-divider")(17,"div",7)(18,"mat-divider"),n.qZA()()),2&e){const s=n.MAs(15);n.xp6(4),n.Oqu(i.transactiontitle),n.xp6(3),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.loadfromdatabase),n.xp6(1),n.hij(" ",i.fetchtransaction," "),n.xp6(1),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.deltransaction),n.xp6(1),n.hij(" ",i.delete," "),n.xp6(1),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s),n.xp6(4),n.Q6J("innerHTML",i.resultHtml,n.oJD)}},dependencies:[ke,jt,zr,ro,et,lt,gn,Xe,rn,Et,wt,$r,u6],styles:[".submit-btn[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();const Noe=["repository"];let Ooe=(()=>{class r{constructor(e,i,s,o,a){this.annotations=e,this.runservice=i,this.identifiers=s,this.dialog=o,this.repositoryEvent=new n.vpe,this.deletehint="Delete Repository File Transaction associated with the repository object",this.deletetransaction="Delete Transaction",this.loadcatalogfromdatabase="Fetch Previous Repository File Transaction",this.fetchcatalog="Fetch Catalog",this.readinfailed="Fetch Transaction Failed",this.readincanceled="Catalog Object fetch failed",this.catalogtype="dataset:DatasetTransactionEventObject",this.failedsubmission="Delete transaction failed",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.serviceid="service",this.catalogread=!0,a.determineMaintainer().subscribe(d=>{null!=d?this.maintainer=d:alert(a.errormaintainer)}),this.getCatalogAnnoations()}ngOnInit(){}fetchInformation(){const e={};e[this.identifiers.CatalogDataObjectMaintainer]=this.maintainer,e[this.identifiers.TransactionEventType]="dataset:InitialReadInOfRepositoryFile",e[O.annoinfo]=this.annoinfo,this.dialog.open(s6,{data:e}).afterClosed().subscribe(s=>{if(null!=s){const o=s[O.successful];if(this.resultHtml=s[O.message],"true"==o){this.transactionobj=s[O.catalogobject];const d=this.transactionobj[this.identifiers.DatabaseObjectIDOutputTransaction][0],f={};f[O.service]="ReadCatalogObjectWithFirestoreAddress",f[this.identifiers.FirestoreCatalogID]=d,this.runservice.run(f).subscribe({next:g=>{const b=g[O.message];"true"==g[O.successful]?(this.catalogobj=g[O.catalogobject],null!=this.catalogobj?(this.catalogread=!1,this.repository.setData(this.catalogobj),this.repositoryEvent.emit(this.catalogobj)):alert("Error in reading catalog object, object is null: "+JSON.stringify(b))):alert("Error in reading catalog object: "+JSON.stringify(b))}})}else alert("Error in reading transaction: "+JSON.stringify(this.resultHtml))}else alert(this.readincanceled)})}deleteTransaction(){const e={"prov:activity":"dataset:DatabaseDeleteTransaction"};e["dcterms:creator"]=this.maintainer,e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.maintainer;const i={"dcterms:title":"Delection Collection:  this.maintainer   "};i[this.annoinfo["dataset:FirestoreCatalogID"][this.identifier]]=this.transactionobj[this.identifiers.FirestoreCatalogID],e["dataset:activityinfo"]=i,this.dialog.open(Al,{data:e}).afterClosed().subscribe(d=>{if(null!=d){const f=d["dataset:servicesuccessful"];this.resultHtml=d["dataset:serviceresponsemessage"],"true"==f?this.catalogobj=null:this.runservice.checkReturn(d)}else this.resultHtml=this.failedsubmission})}setCatalog(e){this.catalogobj=e,this.repository.setData(e)}getCatalogAnnoations(){this.resultHtml="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;this.resultHtml=i[O.message],i[O.successful]&&(this.annoinfo=i[O.catalogobject][O.annotations],this.resultHtml="Annotations")},error:e=>{alert("Get Annotations failed:"+this.resultHtml)}})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(ga),n.Y36(Ar),n.Y36(Pi),n.Y36(yr))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-initialreadinofrepositoryfileevent"]],viewQuery:function(e,i){if(1&e&&n.Gf(Noe,5),2&e){let s;n.iGM(s=n.CRH())&&(i.repository=s.first)}},outputs:{repositoryEvent:"repositoryEvent"},decls:15,vars:7,consts:[[1,"cardbase"],[1,"title-group"],[1,"title"],["cols","6","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","disabled","click"],["repository",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-title",2),n._uU(4,"Repository File Staging Transaction"),n.qZA()()(),n.TgZ(5,"mat-card-content")(6,"mat-grid-list",3)(7,"mat-grid-tile",4)(8,"button",5),n.NdJ("click",function(){return i.fetchInformation()}),n._uU(9),n.qZA()(),n.TgZ(10,"mat-grid-tile",4)(11,"button",6),n.NdJ("click",function(){return i.deleteTransaction()}),n._uU(12),n.qZA()()(),n._UZ(13,"app-datasetrepositoryfilestaging",null,7),n.qZA()()),2&e&&(n.xp6(7),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.loadcatalogfromdatabase),n.xp6(1),n.hij(" ",i.fetchcatalog," "),n.xp6(1),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.deletehint),n.Q6J("disabled",i.catalogread),n.xp6(1),n.hij(" ",i.deletetransaction," "))},dependencies:[jt,ro,et,lt,gn,Xe,Oi,Et,wt,o6],styles:[".submit-btn[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();const Foe=["paramspec"],Poe=["spec"];function Loe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-parameterspecification",17,18),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.molarenergy=s)}),n.qZA(),n.TgZ(3,"app-datasettransactionspecificationforcollection",19,20),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.molarenergy),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)}}function Boe(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Specifification display disabled "),n.qZA())}function Uoe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",5)(2,"mat-grid-list",6)(3,"mat-grid-tile",7)(4,"mat-form-field",2)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",9)(11,"mat-form-field",10)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",11),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA(),n.TgZ(17,"app-menu-item",12,13),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setJThermodynamicsSpeciesSpecificationType(s))}),n.qZA()()(),n.TgZ(19,"mat-grid-tile",7)(20,"mat-form-field",2)(21,"mat-label"),n._uU(22),n.qZA(),n._UZ(23,"input",14),n.TgZ(24,"mat-hint"),n._uU(25),n.qZA()()(),n.TgZ(26,"mat-grid-tile",7)(27,"mat-form-field",2)(28,"mat-label"),n._uU(29),n.qZA(),n._UZ(30,"input",15),n.TgZ(31,"mat-hint"),n._uU(32),n.qZA()()()()(),n.YNc(33,Loe,5,3,"ng-container",3),n.YNc(34,Boe,2,0,"ng-template",null,16,n.W1O),n.BQk()}if(2&r){const e=n.MAs(18),i=n.MAs(35),s=n.oxw();n.xp6(1),n.Q6J("formGroup",s.objectform),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionTitle"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionTitle"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][s.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.Oqu(s.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][s.rdfscomment]),n.xp6(1),n.Q6J("items",s.items),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:FileSourceFormat"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:FileSourceFormat"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:BlockInterpretationMethod"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:BlockInterpretationMethod"][s.rdfscomment]),n.xp6(1),n.Q6J("ngIf",s.display)("ngIfElse",i)}}function Voe(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Activity information "),n.qZA())}let Zoe=(()=>{class r{constructor(e,i,s,o){this.formBuilder=e,this.menuserver=i,this.fileservice=s,this.menusetup=o,this.display=!1,this.fileformat="dataset:JThermodynamicsDisassociationEnergyFormat",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.speciesspecification="dataset:SpeciesSpecificationNancyLinearForm",this.molarenergyparameter=["dataset:ParameterSpecificationHDisassociationEnergy"],this.title="This is the Activity Information for Interpreting Hydrogen Disassociation Energy",this.structurespecification="dataset:JThermodynamicsSpeciesSpecificationType";const a=[];a.push(this.molarenergyparameter),i.getParameterSet(a).subscribe({next:d=>{this.molarenergy=d[this.molarenergyparameter[0]],this.display=!0}}),this.objectform=this.formBuilder.group({DescriptionTitle:["",oe.required],BlockInterpretationMethod:["",oe.required],FileSourceFormat:["File Format",oe.required],JThermodynamicsSpeciesSpecificationType:["dataset:SpeciesSpecificationNancyLinearForm",oe.required]}),this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(this.speciesspecification)}invalid(){return this.objectform.invalid}ngOnInit(){this.fileservice.getFormatClassification().subscribe({next:e=>{this.fileformatdata=e;const i=e[this.fileformat];this.objectform.get("FileSourceFormat").setValue(this.fileformat);const s=i["dataset:interpretMethod"];this.objectform.get("BlockInterpretationMethod").setValue(s)}}),this.items=this.menusetup.findChoices(this.annoinfo,this.structurespecification)}setPrerequisiteData(e){const i=e["dataset:activityinfo"],o=this.fileformatdata[this.fileformat]["dataset:interpretMethod"];this.objectform.get("BlockInterpretationMethod").setValue(o),this.objectform.get("DescriptionTitle").setValue(i[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]),this.spec.setData(i[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]])}getData(e){e[this.annoinfo["dataset:BlockInterpretationMethod"][this.identifier]]=this.objectform.get("BlockInterpretationMethod").value,e[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]=this.objectform.get("FileSourceFormat").value,e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]=this.objectform.get("DescriptionTitle").value,e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]]=this.objectform.get("JThermodynamicsSpeciesSpecificationType").value,this.spec.getData(e);const i={};this.paramspec.getData(i),e[this.annoinfo["dataset:ParameterSpecificationHDisassociationEnergy"][this.identifier]]=i}setData(e){this.objectform.get("BlockInterpretationMethod").setValue(e[this.annoinfo["dataset:BlockInterpretationMethod"]][this.identifier]),this.objectform.get("FileSourceFormat").setValue(e[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]),this.objectform.get("DescriptionTitle").setValue(e[this.annoinfo["dataset:DescriptionTitle"]][this.identifier]),this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]]),this.spec.setData(e[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]]),this.paramspec.setData(e[this.annoinfo["dataset:ParameterSpecificationHDisassociationEnergy"][this.identifier]])}setJThermodynamicsSpeciesSpecificationType(e){this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Rn),n.Y36(xu),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-activityinformationinterpretdisassociationenergy"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Foe,5),n.Gf(Poe,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.paramspec=s.first),n.iGM(s=n.CRH())&&(i.spec=s.first)}},inputs:{annoinfo:"annoinfo"},decls:9,vars:3,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],["matInput","","formControlName","DescriptionTitle"],["background","lightgray",3,"colspan"],[1,"label"],["matInput","","formControlName","JThermodynamicsSpeciesSpecificationType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],["matInput","","formControlName","FileSourceFormat"],["matInput","","formControlName","BlockInterpretationMethod"],["specdisplayoff",""],[3,"annoinfo","parameterinfo","annoinfoChange","parameterinfoChange"],["paramspec",""],[3,"annoinfo","annoinfoChange"],["spec",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,Uoe,36,17,"ng-container",3),n.YNc(7,Voe,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Fi,$f,Xm],styles:[".title[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]{width:100%}"]}),r})();const joe=["enthalpy"],Hoe=["entropy"],qoe=["heatcapacity"],Goe=["spec"];function Yoe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-tile",19)(2,"mat-form-field",9)(3,"mat-label"),n._uU(4),n.qZA(),n._UZ(5,"input",20),n.TgZ(6,"mat-hint"),n._uU(7),n.qZA(),n.TgZ(8,"app-menu-item",21,22),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.setJThermodynamicsSubstructureType(s))}),n.qZA()()(),n.TgZ(10,"mat-grid-tile",19)(11,"mat-form-field",9)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",23),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA(),n.TgZ(17,"app-menu-item",21,22),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.setJThermodynamicsSpeciesSpecificationType(s))}),n.qZA()()(),n.BQk()}if(2&r){const e=n.MAs(9),i=n.oxw(2);n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.hij("",i.annoinfo["dataset:JThermodynamicsSubstructureType"][i.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.hij("",i.annoinfo["dataset:JThermodynamicsSubstructureType"][i.rdfscomment]," "),n.xp6(1),n.Q6J("items",i.structitems),n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.hij("",i.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][i.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.hij("",i.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][i.rdfscomment]," "),n.xp6(1),n.Q6J("items",i.items)}}function Joe(r,t){1&r&&(n.TgZ(0,"mat-icon",26),n._uU(1,"cancel"),n.qZA())}function zoe(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"mat-chip",24),n.NdJ("removed",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.remove(s.keyword))}),n._uU(1),n.YNc(2,Joe,2,0,"mat-icon",25),n.qZA()}if(2&r){const e=t.$implicit,i=n.oxw(2);n.Q6J("selectable",i.selectable)("removable",i.removable),n.xp6(1),n.hij(" ",e," "),n.xp6(1),n.Q6J("ngIf",i.removable)}}function $oe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-parameterspecification",27,28),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.molarenthalpy=s)}),n.qZA(),n.TgZ(3,"app-parameterspecification",27,29),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.molarentropy=s)}),n.qZA(),n.TgZ(5,"app-parameterspecification",27,30),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.molarheatcapacity=s)}),n.qZA(),n.TgZ(7,"app-datasettransactionspecificationforcollection",31,32),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.molarenthalpy),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.molarentropy),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.molarheatcapacity),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)}}function Qoe(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Specifification display disabled "),n.qZA())}function Woe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",5)(2,"mat-grid-list",6)(3,"mat-grid-tile",7)(4,"mat-form-field",2)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",7)(11,"mat-form-field",9)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",10),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.YNc(17,Yoe,19,10,"ng-container",11),n.TgZ(18,"mat-grid-tile",7)(19,"mat-form-field",9)(20,"mat-label"),n._uU(21),n.qZA(),n._UZ(22,"input",12),n.TgZ(23,"mat-hint"),n._uU(24),n.qZA()()(),n.TgZ(25,"mat-grid-tile",7)(26,"mat-form-field",13)(27,"mat-chip-list",14,15),n.YNc(29,zoe,3,4,"mat-chip",16),n.TgZ(30,"input",17),n.NdJ("matChipInputTokenEnd",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.add(s))}),n.qZA()()()()()(),n.YNc(31,$oe,9,7,"ng-container",3),n.YNc(32,Qoe,2,0,"ng-template",null,18,n.W1O),n.BQk()}if(2&r){const e=n.MAs(28),i=n.MAs(33),s=n.oxw();n.xp6(1),n.Q6J("formGroup",s.objectform),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionTitle"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionTitle"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(s.annoinfo["dataset:FileSourceFormat"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:FileSourceFormat"][s.rdfscomment]),n.xp6(1),n.Q6J("ngIf",s.notbenson),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(s.annoinfo["dataset:BlockInterpretationMethod"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:BlockInterpretationMethod"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",6),n.xp6(4),n.Q6J("ngForOf",s.temperaturelist),n.xp6(1),n.Q6J("matChipInputFor",e)("matChipInputSeparatorKeyCodes",s.separatorKeysCodes)("matChipInputAddOnBlur",s.addOnBlur),n.xp6(1),n.Q6J("ngIf",s.display)("ngIfElse",i)}}function Koe(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Activity information "),n.qZA())}let Xoe=(()=>{class r{constructor(e,i,s,o){this.formBuilder=e,this.menuserver=i,this.fileservice=s,this.menusetup=o,this.molarenthalpyparameter="dataset:ParameterSpecificationEnthaply",this.molarentropyarameter="dataset:ParameterSpecificationEntropy",this.molarheatcapacityparameter="dataset:ParameterSpecificationHeatCapacity",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.temperaturelist=[300,400,500,600,800,1e3,1500],this.structurespecification="dataset:JThermodynamicsSpeciesSpecificationType",this.structuretype="dataset:JThermodynamicsSubstructureType",this.notbenson=!1,this.activitysetup=new n.vpe,this.display=!1;const a=[];a.push(this.molarenthalpyparameter),a.push(this.molarentropyarameter),a.push(this.molarheatcapacityparameter),i.getParameterSet(a).subscribe({next:d=>{this.molarenthalpy=d[this.molarenthalpyparameter],this.molarentropy=d[this.molarentropyarameter],this.molarheatcapacity=d[this.molarheatcapacityparameter],this.display=!0}}),this.objectform=this.formBuilder.group({DescriptionTitle:["",oe.required],BlockInterpretationMethod:["",oe.required],FileSourceFormat:["File Format",oe.required],JThermodynamicsSpeciesSpecificationType:["dataset:SpeciesSpecificationNancyLinearForm",oe.required],JThermodynamicsSubstructureType:["",oe.required]})}ngOnInit(){this.title=this.fileformat,null!=this.fileformat?this.fileservice.getFormatClassification().subscribe({next:e=>{this.fileformatdata=e}}):alert("File format not defined in ActivityinformationinterpretthermodynamicblockComponent"),this.items=this.menusetup.findChoices(this.annoinfo,this.structurespecification),this.structitems=this.menusetup.findChoices(this.annoinfo,this.structuretype)}ngAfterViewInit(){this.activitysetup.emit()}invalid(){return this.objectform.invalid}setPrerequisiteData(e){const i=e["dataset:activityinfo"],s=this.fileformatdata[this.fileformat];this.objectform.get("FileSourceFormat").setValue(this.fileformat),this.notbenson="dataset:TherGasBensonRules"!==this.fileformat;const o=s["dataset:interpretMethod"];this.objectform.get("BlockInterpretationMethod").setValue(o),this.objectform.get("DescriptionTitle").setValue(i[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]),this.spec.setData(i[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]])}getData(e){e[this.annoinfo["dataset:BlockInterpretationMethod"][this.identifier]]=this.objectform.get("BlockInterpretationMethod").value,e[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]=this.objectform.get("FileSourceFormat").value,e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]=this.objectform.get("DescriptionTitle").value,this.notbenson&&(e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]]=this.objectform.get("JThermodynamicsSpeciesSpecificationType").value,e[this.annoinfo["dataset:JThermodynamicsSubstructureType"][this.identifier]]=this.objectform.get("JThermodynamicsSubstructureType").value),this.spec.getData(e);const i={};this.enthalpy.getData(i),e[this.annoinfo["dataset:ParameterSpecificationEnthaply"][this.identifier]]=i;const s={};this.entropy.getData(s),e[this.annoinfo["dataset:ParameterSpecificationEntropy"][this.identifier]]=s;const o={};this.heatcapacity.getData(o),e[this.annoinfo["dataset:ParameterSpecificationHeatCapacity"][this.identifier]]=o;const a={};e["dataset:thermotemperature"]=a,a[this.annoinfo["dataset:ParameterLabel"][this.identifier]]="Temperature";const f={};a[this.annoinfo["dataset:ValueUnits"][this.identifier]]=f,f[this.annoinfo["dataset:UnitClass"][this.identifier]]="quantitykind:Temperature",f[this.annoinfo["dataset:UnitsOfValue"][this.identifier]]="unit:K",a[this.annoinfo["dataset:ParameterTypeSpecification"][this.identifier]]="dataset:FixedParameter",a[this.annoinfo["dataset:DataPointUncertainty"][this.identifier]]="dataset:ImpliedDigitsUncertainty",e[this.annoinfo["dataset:JThermodynamicBensonTemperatures"][this.identifier]]=this.temperaturelist}setData(e){if(this.objectform.get("FileSourceFormat").setValue(e[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]),this.objectform.get("DescriptionTitle").setValue(e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]),this.notbenson){const d=e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]];this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(d);const f=e[this.annoinfo["dataset:JThermodynamicsSubstructureType"][this.identifier]];this.objectform.get("JThermodynamicsSubstructureType").setValue(f)}this.spec.setData(e[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]]),this.entropy.setData(e[this.annoinfo["dataset:ParameterSpecificationEntropy"][this.identifier]]),this.heatcapacity.setData(e[this.annoinfo["dataset:ParameterSpecificationHeatCapacity"][this.identifier]]),this.temperaturelist=e[this.annoinfo["dataset:JThermodynamicBensonTemperatures"][this.identifier]],this.enthalpy.setData(e[this.annoinfo["dataset:ParameterSpecificationEnthalpy"][this.identifier]])}add(e){const s=Number(e.value);this.temperaturelist.push(s)}remove(e){const i=this.temperaturelist.indexOf(e);i>=0&&this.temperaturelist.splice(i,1)}setJThermodynamicsSpeciesSpecificationType(e){this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(e)}setJThermodynamicsSubstructureType(e){this.objectform.get("JThermodynamicsSubstructureType").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Rn),n.Y36(xu),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-activityinformationinterpretthermodynamicblock"]],viewQuery:function(e,i){if(1&e&&(n.Gf(joe,5),n.Gf(Hoe,5),n.Gf(qoe,5),n.Gf(Goe,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.enthalpy=s.first),n.iGM(s=n.CRH())&&(i.entropy=s.first),n.iGM(s=n.CRH())&&(i.heatcapacity=s.first),n.iGM(s=n.CRH())&&(i.spec=s.first)}},inputs:{annoinfo:"annoinfo",fileformat:"fileformat"},outputs:{activitysetup:"activitysetup"},decls:9,vars:3,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],["matInput","","formControlName","DescriptionTitle"],[1,"label"],["matInput","","formControlName","FileSourceFormat"],[4,"ngIf"],["matInput","","formControlName","BlockInterpretationMethod"],[1,"chip-list"],["aria-label","Keyword selection",1,"chip-list"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","Temperatures",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["specdisplayoff",""],["background","lightgray",3,"colspan"],["matInput","","formControlName","JThermodynamicsSubstructureType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],["matInput","","formControlName","JThermodynamicsSpeciesSpecificationType",3,"matMenuTriggerFor"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"annoinfo","parameterinfo","annoinfoChange","parameterinfoChange"],["enthalpy",""],["entropy",""],["heatcapacity",""],[3,"annoinfo","annoinfoChange"],["spec",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,Woe,34,18,"ng-container",3),n.YNc(7,Koe,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ln,ke,rr,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,sI,HC,oI,rI,hn,Nt,Bt,zt,Ot,Gt,Fi,$f,Xm],styles:[".title[_ngcontent-%COMP%], .chip-list[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]{width:100%}"]}),r})();const eae=["paramspec"],tae=["frequencyspec"];function nae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-parameterspecification",16,17),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.frequency=s)}),n.qZA(),n.TgZ(3,"app-datasettransactionspecificationforcollection",18,19),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.frequency),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)}}function iae(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Specification display disabled "),n.qZA())}function rae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",5)(2,"mat-grid-list",6)(3,"mat-grid-tile",7)(4,"mat-form-field",2)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",7)(11,"mat-form-field",2)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",9),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.TgZ(17,"mat-grid-tile",7)(18,"mat-form-field",2)(19,"mat-label"),n._uU(20),n.qZA(),n._UZ(21,"input",10),n.TgZ(22,"mat-hint"),n._uU(23),n.qZA()()(),n.TgZ(24,"mat-grid-tile",11)(25,"mat-form-field",2)(26,"mat-label"),n._uU(27),n.qZA(),n._UZ(28,"input",12),n.TgZ(29,"mat-hint"),n._uU(30),n.qZA(),n.TgZ(31,"app-menu-item",13,14),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setJThermodynamicsSpeciesSpecificationType(s))}),n.qZA()()()()(),n.YNc(33,nae,5,3,"ng-container",3),n.YNc(34,iae,2,0,"ng-template",null,15,n.W1O),n.BQk()}if(2&r){const e=n.MAs(32),i=n.MAs(35),s=n.oxw();n.xp6(1),n.Q6J("formGroup",s.objectform),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionTitle"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionTitle"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:FileSourceFormat"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:FileSourceFormat"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:BlockInterpretationMethod"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:BlockInterpretationMethod"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][s.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.Oqu(s.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][s.rdfscomment]),n.xp6(1),n.Q6J("items",s.items),n.xp6(2),n.Q6J("ngIf",s.display)("ngIfElse",i)}}function sae(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Activity information "),n.qZA())}let oae=(()=>{class r{constructor(e,i,s,o){this.formBuilder=e,this.menuserver=i,this.fileservice=s,this.menusetup=o,this.display=!1,this.fileformat="dataset:JThermodynamicsVibrationalModes",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.structurespecification="dataset:JThermodynamicsSpeciesSpecificationType",this.frequencyparameter="dataset:ParameterSpecificationStructureVibrationFrequency",this.title="This is the Activity Information for Interpreting Vibrational Contributions";const a=[];a.push(this.frequencyparameter),i.getParameterSet(a).subscribe({next:d=>{this.frequency=d[this.frequencyparameter],this.display=!0}}),this.objectform=this.formBuilder.group({DescriptionTitle:["",oe.required],BlockInterpretationMethod:["",oe.required],FileSourceFormat:["File Format",oe.required],JThermodynamicsSpeciesSpecificationType:["dataset:SpeciesSpecificationNancyLinearForm",oe.required]})}invalid(){return this.objectform.invalid}ngOnInit(){this.fileservice.getFormatClassification().subscribe({next:e=>{this.fileformatdata=e;const i=e[this.fileformat];this.objectform.get("FileSourceFormat").setValue(this.fileformat);const s=i["dataset:interpretMethod"];this.objectform.get("BlockInterpretationMethod").setValue(s)}}),this.items=this.menusetup.findChoices(this.annoinfo,this.structurespecification)}setPrerequisiteData(e){const i=e["dataset:activityinfo"],s=this.annoinfo["dataset:DescriptionTitle"][this.identifier];this.objectform.get("DescriptionTitle").setValue(i[s]),this.paramspec.setData(i[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]])}getData(e){e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]]=this.objectform.get("JThermodynamicsSpeciesSpecificationType").value,e[this.annoinfo["dataset:BlockInterpretationMethod"][this.identifier]]=this.objectform.get("BlockInterpretationMethod").value,e[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]=this.objectform.get("FileSourceFormat").value,e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]=this.objectform.get("DescriptionTitle").value,this.paramspec.getData(e);const i={};this.frequencyspec.getData(i),e[this.annoinfo["dataset:ParameterSpecificationStructureVibrationFrequency"][this.identifier]]=i}setData(e){this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]]),this.objectform.get("BlockInterpretationMethod").setValue(e[this.annoinfo["dataset:BlockInterpretationMethod"][this.identifier]]),this.objectform.get("FileSourceFormat").setValue(e[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]),this.objectform.get("DescriptionTitle").setValue(e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]),this.paramspec.setData(e),this.frequencyspec.setData(e[this.annoinfo["dataset:ParameterSpecificationStructureVibrationFrequency"][this.identifier]])}setJThermodynamicsSpeciesSpecificationType(e){this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Rn),n.Y36(xu),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-activityinformationinterpretvibrationalmode"]],viewQuery:function(e,i){if(1&e&&(n.Gf(eae,5),n.Gf(tae,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.paramspec=s.first),n.iGM(s=n.CRH())&&(i.frequencyspec=s.first)}},inputs:{annoinfo:"annoinfo"},decls:9,vars:3,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],["matInput","","formControlName","DescriptionTitle"],["matInput","","formControlName","FileSourceFormat"],["matInput","","formControlName","BlockInterpretationMethod"],["background","lightgray",3,"colspan"],["matInput","","formControlName","JThermodynamicsSpeciesSpecificationType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],["specdisplayoff",""],[3,"annoinfo","parameterinfo","annoinfoChange","parameterinfoChange"],["frequencyspec",""],[3,"annoinfo","annoinfoChange"],["paramspec",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,rae,36,17,"ng-container",3),n.YNc(7,sae,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Fi,$f,Xm],styles:[".title[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]{width:100%}"]}),r})();const aae=["spec"];function lae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-datasettransactionspecificationforcollection",12,13),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function cae(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Specification display disabled "),n.qZA())}function uae(r,t){if(1&r&&(n.ynx(0),n.TgZ(1,"form",5)(2,"mat-grid-list",6)(3,"mat-grid-tile",7)(4,"mat-form-field",2)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",7)(11,"mat-form-field",2)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",9),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.TgZ(17,"mat-grid-tile",7)(18,"mat-form-field",2)(19,"mat-label"),n._uU(20),n.qZA(),n._UZ(21,"input",10),n.TgZ(22,"mat-hint"),n._uU(23),n.qZA()()()()(),n.YNc(24,lae,3,1,"ng-container",3),n.YNc(25,cae,2,0,"ng-template",null,11,n.W1O),n.BQk()),2&r){const e=n.MAs(26),i=n.oxw();n.xp6(1),n.Q6J("formGroup",i.objectform),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.Oqu(i.annoinfo["dataset:DescriptionTitle"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:DescriptionTitle"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(i.annoinfo["dataset:FileSourceFormat"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:FileSourceFormat"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(i.annoinfo["dataset:BlockInterpretationMethod"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:BlockInterpretationMethod"][i.rdfscomment]),n.xp6(1),n.Q6J("ngIf",i.display)("ngIfElse",e)}}function dae(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Activity information "),n.qZA())}let hae=(()=>{class r{constructor(e,i){this.formBuilder=e,this.fileservice=i,this.display=!1,this.fileformat="dataset:JThermodynamicsSymmetryDefinitionFormat",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.title="This is the Activity Information for Interpreting Symmetry Contributions",this.objectform=this.formBuilder.group({DescriptionTitle:["",oe.required],BlockInterpretationMethod:["",oe.required],FileSourceFormat:["File Format",oe.required]})}ngOnInit(){this.fileservice.getFormatClassification().subscribe({next:e=>{this.fileformatdata=e;const i=e[this.fileformat];this.objectform.get("FileSourceFormat").setValue(this.fileformat);const s=i["dataset:interpretMethod"];this.objectform.get("BlockInterpretationMethod").setValue(s),this.display=!0}})}invalid(){return this.objectform.invalid}setPrerequisiteData(e){const i=e["dataset:activityinfo"],s=this.annoinfo["dataset:DescriptionTitle"][this.identifier],o=this.annoinfo["dataset:FileSourceFormat"][this.identifier];this.objectform.get("DescriptionTitle").setValue(i[s]),this.objectform.get("FileSourceFormat").setValue(i[o]),this.spec.setData(i[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]])}getData(e){e[this.annoinfo["dataset:BlockInterpretationMethod"][this.identifier]]=this.objectform.get("BlockInterpretationMethod").value,e[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]=this.objectform.get("FileSourceFormat").value,e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]=this.objectform.get("DescriptionTitle").value,this.spec.getData(e)}setData(e){this.objectform.get("BlockInterpretationMethod").setValue(e[this.annoinfo["dataset:BlockInterpretationMethod"]]),this.objectform.get("FileSourceFormat").setValue(e[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]),this.objectform.get("DescriptionTitle").setValue(e[this.annoinfo["dataset:DescriptionTitle"]]),this.spec.setData(e[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]])}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(xu))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-activityinformationinterpretsymmetryinformation"]],viewQuery:function(e,i){if(1&e&&n.Gf(aae,5),2&e){let s;n.iGM(s=n.CRH())&&(i.spec=s.first)}},inputs:{annoinfo:"annoinfo"},decls:9,vars:3,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],["matInput","","formControlName","DescriptionTitle"],["matInput","","formControlName","FileSourceFormat"],["matInput","","formControlName","BlockInterpretationMethod"],["specdisplayoff",""],[3,"annoinfo","annoinfoChange"],["spec",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,uae,27,12,"ng-container",3),n.YNc(7,dae,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,$f],styles:[".title[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]{width:100%}"]}),r})();const fae=["spec"];function pae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-datasettransactionspecificationforcollection",17,18),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function mae(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Specification display disabled "),n.qZA())}function gae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",5)(2,"mat-grid-list",6)(3,"mat-grid-tile",7)(4,"mat-form-field",2)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",7)(11,"mat-form-field",9)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",10),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.TgZ(17,"mat-grid-tile",7)(18,"mat-form-field",9)(19,"mat-label"),n._uU(20),n.qZA(),n._UZ(21,"input",11),n.TgZ(22,"mat-hint"),n._uU(23),n.qZA()()(),n.TgZ(24,"mat-grid-tile",12)(25,"mat-form-field",9)(26,"mat-label"),n._uU(27),n.qZA(),n._UZ(28,"input",13),n.TgZ(29,"mat-hint"),n._uU(30),n.qZA(),n.TgZ(31,"app-menu-item",14,15),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setSpeciesSpec(s))}),n.qZA()()()()(),n.YNc(33,pae,3,1,"ng-container",3),n.YNc(34,mae,2,0,"ng-template",null,16,n.W1O),n.BQk()}if(2&r){const e=n.MAs(32),i=n.MAs(35),s=n.oxw();n.xp6(1),n.Q6J("formGroup",s.objectform),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionTitle"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionTitle"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:FileSourceFormat"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:FileSourceFormat"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:BlockInterpretationMethod"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:BlockInterpretationMethod"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.hij("",s.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][s.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.hij("",s.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][s.rdfscomment]," "),n.xp6(1),n.Q6J("items",s.items),n.xp6(2),n.Q6J("ngIf",s.display)("ngIfElse",i)}}function _ae(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Activity information "),n.qZA())}let yae=(()=>{class r{constructor(e,i,s){this.formBuilder=e,this.fileservice=i,this.menusetup=s,this.display=!1,this.fileformat="dataset:JThermodynamicsMetaAtomFormat",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.speciesspec="dataset:JThermodynamicsSpeciesSpecificationType",this.speciesspecification="dataset:SpeciesSpecificationNancyLinearForm",this.title="This is the Activity Information for Interpreting Meta Atoms",this.objectform=this.formBuilder.group({DescriptionTitle:["",oe.required],BlockInterpretationMethod:["",oe.required],FileSourceFormat:["File Format",oe.required],JThermodynamicsSpeciesSpecificationType:[this.speciesspecification,oe.required]}),this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(this.speciesspecification)}ngOnInit(){this.fileservice.getFormatClassification().subscribe({next:e=>{this.fileformatdata=e,this.display=!0}}),this.items=this.menusetup.findChoices(this.annoinfo,this.speciesspec)}invalid(){return this.objectform.invalid}setPrerequisiteData(e){this.setData(e["dataset:activityinfo"])}getData(e){e[this.annoinfo["dataset:BlockInterpretationMethod"][this.identifier]]=this.objectform.get("BlockInterpretationMethod").value,e[this.annoinfo["dataset:FileSourceFormat"][this.identifier]]=this.objectform.get("FileSourceFormat").value,e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]=this.objectform.get("DescriptionTitle").value,e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]]=this.objectform.get("JThermodynamicsSpeciesSpecificationType").value,this.spec.getData(e)}setData(e){this.objectform.get("FileSourceFormat").setValue(this.fileformat);const s=this.fileformatdata[this.fileformat]["dataset:interpretMethod"];this.objectform.get("BlockInterpretationMethod").setValue(s),this.objectform.get("DescriptionTitle").setValue(e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]),null!=e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]]?this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]]):this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(this.speciesspecification),this.spec.setData(e[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]])}setSpeciesSpec(e){this.speciesspecification=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(xu),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-activityinformationinterpretmetaatom"]],viewQuery:function(e,i){if(1&e&&n.Gf(fae,5),2&e){let s;n.iGM(s=n.CRH())&&(i.spec=s.first)}},inputs:{annoinfo:"annoinfo"},decls:9,vars:3,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],["matInput","","formControlName","DescriptionTitle"],[1,"label"],["matInput","","formControlName","FileSourceFormat"],["matInput","","formControlName","BlockInterpretationMethod"],["background","lightgray",3,"colspan"],["matInput","","formControlName","JThermodynamicsSpeciesSpecificationType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],["specdisplayoff",""],[3,"annoinfo","annoinfoChange"],["spec",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,gae,36,17,"ng-container",3),n.YNc(7,_ae,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Fi,$f],styles:[".title[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]{width:100%}"]}),r})();function bae(r,t){if(1&r&&(n.ynx(0),n.TgZ(1,"form",5)(2,"mat-grid-list",6)(3,"mat-grid-tile",7)(4,"mat-form-field",8)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",9),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",7)(11,"mat-form-field",8)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",10),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()()()(),n.BQk()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.objectform),n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.Oqu(e.annoinfo["dataset:DatasetCollectionsSetLabel"][e.rdfslabel]),n.xp6(1),n.Q6J("readonly",e.collectionidfixed),n.xp6(2),n.Oqu(e.annoinfo["dataset:DatasetCollectionsSetLabel"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(e.annoinfo["dataset:CatalogDataObjectMaintainer"][e.rdfslabel]),n.xp6(1),n.Q6J("readonly",e.maintainernotchange),n.xp6(2),n.Oqu(e.annoinfo["dataset:CatalogDataObjectMaintainer"][e.rdfscomment])}}function vae(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Activity information "),n.qZA())}let oG=(()=>{class r{constructor(e,i){this.formBuilder=i,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.title="Collection Record ID",this.maintainernotchange=!0,this.collectionidfixed=!1,this.objectform=this.formBuilder.group({DatasetCollectionsSetLabel:["",oe.required],CatalogDataObjectMaintainer:["",oe.required]}),e.determineMaintainer().subscribe(s=>{null!=s?this.objectform.get("CatalogDataObjectMaintainer").setValue(s):alert(e.errormaintainer)})}ngOnInit(){}setMaintainer(e){this.objectform.get("CatalogDataObjectMaintainer").setValue(e)}invalid(){return this.objectform.invalid}getData(e){e[this.annoinfo["dataset:DatasetCollectionsSetLabel"][this.identifier]]=this.objectform.get("DatasetCollectionsSetLabel").value,e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.objectform.get("CatalogDataObjectMaintainer").value}setData(e){this.objectform.get("DatasetCollectionsSetLabel").setValue(e[this.annoinfo["dataset:DatasetCollectionsSetLabel"]]),this.objectform.get("CatalogDataObjectMaintainer").setValue(e[this.annoinfo["dataset:CatalogDataObjectMaintainer"]])}setDatasetCollectionsSetLabel(e){this.objectform.get("DatasetCollectionsSetLabel").setValue(e),this.collectionidfixed=!0}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yr),n.Y36(Ut))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-datasetcollectionsetrecordidinfo"]],inputs:{annoinfo:"annoinfo"},decls:9,vars:3,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","DatasetCollectionsSetLabel",3,"readonly"],["matInput","","formControlName","CatalogDataObjectMaintainer",3,"readonly"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,bae,17,9,"ng-container",3),n.YNc(7,vae,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt],styles:[".label[_ngcontent-%COMP%]{width:100%}"]}),r})();const Cae=["spec"],wae=["record"];function Tae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-datasetspecificationforcollectionset",17,18),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.maintainer=s)})("subtitleChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.subtitle=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("maintainer",e.maintainer)("subtitle",e.subtitle)}}function Dae(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Specification display disabled "),n.qZA())}function xae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-datasetcollectionsetrecordidinfo",5,6),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(3,"form",7)(4,"mat-grid-list",8)(5,"mat-grid-tile",9)(6,"mat-form-field",2)(7,"mat-label"),n._uU(8),n.qZA(),n._UZ(9,"input",10),n.TgZ(10,"mat-hint"),n._uU(11),n.qZA()()(),n.TgZ(12,"mat-grid-tile",11)(13,"mat-form-field",12)(14,"mat-label"),n._uU(15),n.qZA(),n._UZ(16,"input",13),n.TgZ(17,"mat-hint"),n._uU(18),n.qZA(),n.TgZ(19,"app-menu-item",14,15),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setObjectType(s))}),n.qZA()()()()(),n.YNc(21,Tae,3,3,"ng-container",3),n.YNc(22,Dae,2,0,"ng-template",null,16,n.W1O),n.BQk()}if(2&r){const e=n.MAs(20),i=n.MAs(23),s=n.oxw();n.xp6(1),n.Q6J("annoinfo",s.annoinfo),n.xp6(2),n.Q6J("formGroup",s.objectform),n.xp6(2),n.Q6J("colspan",4),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionTitle"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionTitle"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.hij("",s.annoinfo["dataset:DatasetCollectionType"][s.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.hij("",s.annoinfo["dataset:DatasetCollectionType"][s.rdfscomment]," "),n.xp6(1),n.Q6J("items",s.items),n.xp6(2),n.Q6J("ngIf",s.display)("ngIfElse",i)}}function Sae(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1,"Loading Activity information "),n.qZA())}let aG=(()=>{class r{constructor(e,i,s){this.formBuilder=i,this.menusetup=s,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.title="Activity Information for adding dataset to collection",this.speciesspec="dataset:DatasetCollectionType",this.display=!0,this.subtitle="Dataset ID to Insert",this.objectform=this.formBuilder.group({DescriptionTitle:["",oe.required],DatasetCollectionType:["",oe.required]}),e.determineMaintainer().subscribe(o=>{null!=o?this.maintainer=o:alert(e.errormaintainer)})}ngOnInit(){this.items=this.menusetup.findChoices(this.annoinfo,this.speciesspec)}invalid(){let e=this.objectform.invalid;return e=e||this.spec.invalid(),e=e||this.record.invalid(),e}getData(e){e[this.annoinfo["dataset:DatasetCollectionType"][this.identifier]]=this.objectform.get("DatabaseObjectType").value,e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]=this.objectform.get("DescriptionTitle").value;const i={};this.record.getData(i),e[this.annoinfo["dataset:DatasetCollectionSetRecordIDInfo"][this.identifier]]=i;const s={};this.spec.getData(s),e[this.annoinfo["dataset:DatasetSpecificationForCollectionSet"][this.identifier]]=s}setData(e){this.objectform.get("DatabaseObjectType").setValue(e[this.annoinfo["dataset:DatasetCollectionType"]]),this.objectform.get("DescriptionTitle").setValue(e[this.annoinfo["dataset:DescriptionTitle"]]),this.record.setData(e[this.annoinfo["dataset:DatasetCollectionSetRecordIDInfo"][this.identifier]]),this.spec.setData(e[this.annoinfo["dataset:DatasetSpecificationForCollectionSet"][this.identifier]])}setDatasetCollectionsSetLabel(e){this.record.setDatasetCollectionsSetLabel(e)}setObjectType(e){this.objectform.get("DatasetCollectionType").setValue(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yr),n.Y36(Ut),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-activityinformationdatasetcollectionsetadddataset"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Cae,5),n.Gf(wae,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.spec=s.first),n.iGM(s=n.CRH())&&(i.record=s.first)}},inputs:{annoinfo:"annoinfo"},decls:9,vars:3,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"annoinfo","annoinfoChange"],["record",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],["matInput","","formControlName","DescriptionTitle"],["background","lightgray",3,"colspan"],[1,"label"],["matInput","","formControlName","DatasetCollectionType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],["specdisplayoff",""],[3,"annoinfo","maintainer","subtitle","annoinfoChange","maintainerChange","subtitleChange"],["spec",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,xae,24,12,"ng-container",3),n.YNc(7,Sae,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Fi,oG,l6],styles:[".title[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]{width:100%}"]}),r})();const Aae=["record"],Eae=["collection"];function Mae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",5)(2,"mat-grid-list",6)(3,"mat-grid-tile",7)(4,"mat-form-field",2)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",7)(11,"mat-form-field",9)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"textarea",10),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()()()(),n.TgZ(17,"app-datasetcollectionsetrecordidinfo",11,12),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(19,"app-datasetspecificationforcollectionset",13,14),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)})("subtitleChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.spectitle=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.objectform),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionTitle"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionTitle"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionAbstract"][e.rdfslabel]),n.xp6(3),n.Oqu(e.annoinfo["dataset:DescriptionAbstract"][e.rdfscomment]),n.xp6(1),n.Q6J("annoinfo",e.annoinfo),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("maintainer",e.maintainer)("subtitle",e.spectitle)}}function Iae(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Activity information "),n.qZA())}let lG=(()=>{class r{constructor(e,i){this.formBuilder=i,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.title="Activity Information for creating a collection",this.spectitle="Default Collection ID Specification",this.objectform=this.formBuilder.group({DatasetCollectionType:["",oe.required],DescriptionTitle:["",oe.required],DescriptionAbstract:["",oe.required]}),this.objectform.get("DatasetCollectionType").setValue("dataset:ChemConnectThermodynamicsDatabase"),e.determineMaintainer().subscribe(s=>{null!=s?this.maintainer=s:alert(e.errormaintainer)})}ngOnInit(){}invalid(){return this.objectform.invalid||this.record.invalid()||this.collection.invalid()}getData(e){e[this.annoinfo["dataset:DatasetCollectionType"][this.identifier]]=this.objectform.get("DatasetCollectionType").value,e[this.annoinfo["dataset:DescriptionAbstract"][this.identifier]]=this.objectform.get("DescriptionAbstract").value,e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]=this.objectform.get("DescriptionTitle").value,e["dcterms:identifier"]=this.annoinfo["dataset:ActivityInformationDatasetCollectionSetCreation"][this.identifier];const i={};this.record.getData(i),e[this.annoinfo["dataset:DatasetCollectionSetRecordIDInfo"][this.identifier]]=i;const s={};this.collection.getData(s),e[this.annoinfo["dataset:DatasetSpecificationForCollectionSet"][this.identifier]]=s}setData(e){this.objectform.get("DatasetCollectionType").setValue(e[this.annoinfo["dataset:DatasetCollectionType"]]),this.objectform.get("DescriptionAbstract").setValue(e[this.annoinfo["dataset:DescriptionAbstract"]]),this.objectform.get("DescriptionTitle").setValue(e[this.annoinfo["dataset:DescriptionTitle"]]),this.record.setData(e[this.annoinfo["dataset:DatasetCollectionSetRecordIDInfo"][this.identifier]]),this.collection.setData(e[this.annoinfo["dataset:DatasetSpecificationForCollectionSet"][this.identifier]])}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yr),n.Y36(Ut))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-activityinformationdatasetcollectionsetcreation"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Aae,5),n.Gf(Eae,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.record=s.first),n.iGM(s=n.CRH())&&(i.collection=s.first)}},inputs:{annoinfo:"annoinfo"},decls:9,vars:3,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[1,"infoform",3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],["matInput","","formControlName","DescriptionTitle"],[1,"abstract"],["matInput","","formControlName","DescriptionAbstract"],[3,"annoinfo","annoinfoChange"],["record",""],[3,"annoinfo","maintainer","subtitle","annoinfoChange","maintainerChange","subtitleChange"],["collection",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,Mae,21,11,"ng-container",3),n.YNc(7,Iae,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,oG,l6],styles:[".title[_ngcontent-%COMP%]{width:100%}.label[_ngcontent-%COMP%]{width:100%;padding:2px}.abstract[_ngcontent-%COMP%]{width:100%}"]}),r})();const kae=["readlocal"],Rae=["partition"],Nae=["disassociation"],Oae=["benson"],Fae=["structure"],Pae=["species"],Lae=["frequency"],Bae=["symmetry"],Uae=["metaatom"],Vae=["collectionadd"],Zae=["collectioncreate"];function jae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityrepositoryinitialreadlocalfile",3,4),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function Hae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityrepositorypartitiontocatalog",5,6),n.NdJ("annoinputChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinput",e.annoinfo)}}function qae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformationinterpretdisassociationenergy",3,7),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function Gae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformationinterpretthermodynamicblock",8,9),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("fileformatChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.bensonformat=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("fileformat",e.bensonformat)}}function Yae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformationinterpretthermodynamicblock",8,10),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("fileformatChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.structureformat=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("fileformat",e.structureformat)}}function Jae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformationinterpretthermodynamicblock",8,11),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("fileformatChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.speciesformat=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("fileformat",e.speciesformat)}}function zae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformationinterpretvibrationalmode",3,12),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function $ae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformationinterpretsymmetryinformation",3,13),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function Qae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformationinterpretmetaatom",3,14),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function Wae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformationdatasetcollectionsetadddataset",3,15),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function Kae(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformationdatasetcollectionsetcreation",3,16),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function Xae(r,t){if(1&r&&(n.ynx(0),n.YNc(1,jae,3,1,"ng-container",2),n.YNc(2,Hae,3,1,"ng-container",2),n.YNc(3,qae,3,1,"ng-container",2),n.YNc(4,Gae,3,2,"ng-container",2),n.YNc(5,Yae,3,2,"ng-container",2),n.YNc(6,Jae,3,2,"ng-container",2),n.YNc(7,zae,3,1,"ng-container",2),n.YNc(8,$ae,3,1,"ng-container",2),n.YNc(9,Qae,3,1,"ng-container",2),n.YNc(10,Wae,3,1,"ng-container",2),n.YNc(11,Kae,3,1,"ng-container",2),n.BQk()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("ngIf","dataset:ActivityRepositoryInitialReadLocalFile"==e.activityname),n.xp6(1),n.Q6J("ngIf","dataset:ActivityRepositoryPartitionToCatalog"==e.activityname),n.xp6(1),n.Q6J("ngIf","dataset:ActivityInformationInterpretDisassociationEnergy"==e.activityname),n.xp6(1),n.Q6J("ngIf","dataset:ActivityInformationInterpretBensonRuleData"==e.activityname),n.xp6(1),n.Q6J("ngIf","dataset:ActivityInformationInterpretSubstructureThermodynamics"==e.activityname),n.xp6(1),n.Q6J("ngIf","dataset:ActivityInformationMolecularThermodynamics"==e.activityname),n.xp6(1),n.Q6J("ngIf","dataset:ActivityInformationInterpretVibrationalMode"==e.activityname),n.xp6(1),n.Q6J("ngIf","dataset:ActivityInformationInterpretSymmetryInformation"==e.activityname),n.xp6(1),n.Q6J("ngIf","dataset:ActivityInformationInterpretMetaAtom"==e.activityname),n.xp6(1),n.Q6J("ngIf","dataset:ActivityInformationDatasetCollectionSetAddDataset"==e.activityname),n.xp6(1),n.Q6J("ngIf","dataset:ActivityInformationDatasetCollectionSetCreation"==e.activityname)}}let cG=(()=>{class r{constructor(e){this.annotations=e,this.activitysetup=new n.vpe,this.displaydescbutton="Press to fill in prerequisite information",this.activityinfoid="dataset:activityinfo",this.noactivity=!0,this.identifier=O.dctermsidentifier,this.bensonformat="dataset:TherGasBensonRules",this.structureformat="dataset:TherGasSubstructureThermodynamics",this.specifiesformat="dataset:ThergasSpeciesThermodynamics",this.frequencyformat="dataset:JThermodynamicsVibrationalModes"}ngOnInit(){""==this.activityname?this.noactivity=!0:(this.noactivity=!1,this.setActivity(this.activityname))}setActivity(e){this.activityname=e,this.getCatalogAnnoationsForActivity()}setup(){this.activitysetup.emit()}invalid(){var e=!1;return this.noactivity||("dataset:ActivityRepositoryInitialReadLocalFile"==this.activityname?null!=this.readlocal&&(e=this.readlocal.invalid()):"dataset:ActivityRepositoryPartitionToCatalog"==this.activityname?null!=this.partition&&(e=this.partition.invalid()):"dataset:ActivityInformationInterpretDisassociationEnergy"==this.activityname?null!=this.disassociation&&(e=this.disassociation.invalid()):"dataset:ActivityInformationInterpretBensonRuleData"==this.activityname?this.benson&&this.benson.invalid():"dataset:ActivityInformationInterpretSubstructureThermodynamics"==this.activityname?null!=this.structure&&(e=this.structure.invalid()):"dataset:ActivityInformationMolecularThermodynamics"==this.activityname?null!=this.species&&this.species.invalid():"dataset:ActivityInformationInterpretVibrationalMode"==this.activityname?null!=this.frequency&&this.frequency.invalid():"dataset:ActivityInformationInterpretSymmetryInformation"==this.activityname?null!=this.symmetry&&(e=this.symmetry.invalid()):"dataset:ActivityInformationInterpretMetaAtom"==this.activityname?null!=this.metaatom&&(e=this.metaatom.invalid()):"dataset:ActivityInformationDatasetCollectionSetAddDataset"==this.activityname?null!=this.collectionadd&&this.collectionadd.invalid():"dataset:ActivityInformationDatasetCollectionSetCreation"==this.activityname&&null!=this.collectioncreate&&this.collectioncreate.invalid()),e}getData(e){this.noactivity||("dataset:ActivityRepositoryInitialReadLocalFile"==this.activityname?this.readlocal.getData(e):"dataset:ActivityRepositoryPartitionToCatalog"==this.activityname?this.partition.getData(e):"dataset:ActivityInformationInterpretDisassociationEnergy"==this.activityname?this.disassociation.getData(e):"dataset:ActivityInformationInterpretBensonRuleData"==this.activityname?this.benson.getData(e):"dataset:ActivityInformationInterpretSubstructureThermodynamics"==this.activityname?this.structure.getData(e):"dataset:ActivityInformationMolecularThermodynamics"==this.activityname?this.species.getData(e):"dataset:ActivityInformationInterpretVibrationalMode"==this.activityname?this.frequency.getData(e):"dataset:ActivityInformationInterpretSymmetryInformation"==this.activityname?this.symmetry.getData(e):"dataset:ActivityInformationInterpretMetaAtom"==this.activityname?this.metaatom.getData(e):"dataset:ActivityInformationDatasetCollectionSetAddDataset"==this.activityname?this.collectionadd.getData(e):"dataset:ActivityInformationDatasetCollectionSetCreation"==this.activityname?this.collectioncreate.getData(e):alert("Not known activity information: "+this.activityname))}setPrerequisiteData(e){"dataset:ActivityRepositoryInitialReadLocalFile"==this.activityname||"dataset:ActivityRepositoryPartitionToCatalog"==this.activityname||("dataset:ActivityInformationInterpretDisassociationEnergy"==this.activityname?this.disassociation&&this.disassociation.setPrerequisiteData(e):"dataset:ActivityInformationInterpretBensonRuleData"==this.activityname?null!=this.benson&&this.benson.setPrerequisiteData(e):"dataset:ActivityInformationInterpretSubstructureThermodynamics"==this.activityname?this.structure.setPrerequisiteData(e):"dataset:ActivityInformationMolecularThermodynamics"==this.activityname?this.species.setData(e):"dataset:ActivityInformationInterpretVibrationalMode"==this.activityname?null!=this.frequency&&this.frequency.setPrerequisiteData(e):"dataset:ActivityInformationInterpretSymmetryInformation"==this.activityname?null!=this.symmetry&&this.symmetry.setPrerequisiteData(e):"dataset:ActivityInformationInterpretMetaAtom"==this.activityname?null!=this.metaatom&&this.metaatom.setPrerequisiteData(e):"dataset:ActivityInformationDatasetCollectionSetAddDataset"==this.activityname||"dataset:ActivityInformationDatasetCollectionSetCreation"==this.activityname||alert("Not known activity information: "+this.activityname))}setData(e){"dataset:ActivityRepositoryInitialReadLocalFile"==this.activityname?this.readlocal.setData(e):"dataset:ActivityRepositoryPartitionToCatalog"==this.activityname?this.partition.setData(e):"dataset:ActivityInformationInterpretDisassociationEnergy"==this.activityname?this.disassociation.setData(e):"dataset:ActivityInformationInterpretBensonRuleData"==this.activityname?this.benson.getData(e):"dataset:ActivityInformationInterpretSubstructureThermodynamics"==this.activityname?this.structure.setData(e):"dataset:ActivityInformationMolecularThermodynamics"==this.activityname?this.species.setData(e):"dataset:ActivityInformationInterpretVibrationalMode"==this.activityname?this.frequency.setData(e):"dataset:ActivityInformationInterpretSymmetryInformation"==this.activityname?this.symmetry.setData(e):"dataset:ActivityInformationInterpretMetaAtom"==this.activityname?this.metaatom.setData(e):"dataset:ActivityInformationDatasetCollectionSetAddDataset"==this.activityname?this.collectionadd.setData(e):"dataset:ActivityInformationDatasetCollectionSetCreation"==this.activityname?this.collectioncreate.setData(e):alert("Not known activity information: "+this.activityname)}getCatalogAnnoationsForActivity(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.activityname).subscribe({next:e=>{const i=e;this.message=i[O.message],i[O.successful]?(this.annoinfo=i[O.catalogobject][O.annotations],this.activitysetup.emit()):this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-activityinformation"]],viewQuery:function(e,i){if(1&e&&(n.Gf(kae,5),n.Gf(Rae,5),n.Gf(Nae,5),n.Gf(Oae,5),n.Gf(Fae,5),n.Gf(Pae,5),n.Gf(Lae,5),n.Gf(Bae,5),n.Gf(Uae,5),n.Gf(Vae,5),n.Gf(Zae,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.readlocal=s.first),n.iGM(s=n.CRH())&&(i.partition=s.first),n.iGM(s=n.CRH())&&(i.disassociation=s.first),n.iGM(s=n.CRH())&&(i.benson=s.first),n.iGM(s=n.CRH())&&(i.structure=s.first),n.iGM(s=n.CRH())&&(i.species=s.first),n.iGM(s=n.CRH())&&(i.frequency=s.first),n.iGM(s=n.CRH())&&(i.symmetry=s.first),n.iGM(s=n.CRH())&&(i.metaatom=s.first),n.iGM(s=n.CRH())&&(i.collectionadd=s.first),n.iGM(s=n.CRH())&&(i.collectioncreate=s.first)}},inputs:{activityname:"activityname"},outputs:{activitysetup:"activitysetup"},decls:5,vars:1,consts:[[1,"card"],["color","primary"],[4,"ngIf"],[3,"annoinfo","annoinfoChange"],["readlocal",""],[3,"annoinput","annoinputChange"],["partition",""],["disassociation",""],[3,"annoinfo","fileformat","annoinfoChange","fileformatChange"],["benson",""],["structure",""],["species",""],["frequency",""],["symmetry",""],["metaatom",""],["collectionadd",""],["collectioncreate",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header"),n._UZ(2,"mat-card-subtitle",1),n.qZA(),n.TgZ(3,"mat-card-content"),n.YNc(4,Xae,12,11,"ng-container",2),n.qZA()()),2&e&&(n.xp6(4),n.Q6J("ngIf",null!=i.annoinfo))},dependencies:[ke,et,lt,Xe,rn,r6,Xq,Zoe,Xoe,oae,hae,yae,aG,lG],styles:[".card[_ngcontent-%COMP%]{padding:5px;border:2px solid black;border-radius:2px}.display-btn[_ngcontent-%COMP%]{width:100%}"]}),r})();const ele=["activity"];function tle(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformation",10,11),n.NdJ("activitynameChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.activitytype=s)})("activitysetup",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.activitysetup())}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("activityname",e.activitytype)}}function nle(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.noactivitymessage," ")}}let ile=(()=>{class r{constructor(e,i,s,o){this.uploadService=i,this.annotations=s,this.dialog=o,this.interpretEvent=new n.vpe,this.prereqdescbutton="Load prerequisite information (required for submission)",this.prereqbutton="Prerequisite",this.title="Partitions Interpretation to Catalog Objects",this.displaydescbutton="Display  information to send to read local file transaction",this.displaybutton="Display",this.loadfromdatabase="Load activity information from file",this.fetch="Load Info",this.submitdescr="Submit Read Local File Transaction",this.submitbutton="Submit",this.fileformaterror="File format not found",this.noactivitymessage="Activity type not defined",this.prerequisiteerror="Error in prerequisite information",this.filedefault="Interpretation",this.failedresponse="Failed Interpretation",this.readinfailed="Failed to read in Activity information",this.readincanceled="Canceled read in",this.failedsubmission="Failed interpretation",this.getannotationsfnotsuccessful="Annotations not found",e.determineMaintainer().subscribe(a=>{null!=a?this.maintainer=a:alert(e.errormaintainer)}),this.uploadService.getFormatClassification().subscribe(a=>{this.formatInformation=a},a=>{console.log("An error accessing getFormatClassification Service")})}ngOnInit(){this.resultHtml="<div>No Submission</div>"}invalid(){var e=!this.prerequisitebutton;return null==this.activity||e||this.activity.invalid()}setFileFormat(e){this.formatinfodata=this.formatInformation[e],null==this.formatinfodata?(this.formatinfodata=this.findInFormatInformation(e),null==this.formatinfodata?alert(this.fileformaterror+": "+e):this.activitytype=this.formatinfodata["prov:activity"]):this.activitytype=this.formatinfodata["prov:activity"]}findInFormatInformation(e){let i="",s=!0;const o=Object.keys(this.formatInformation);let a=0;for(;s;){const d=o[a];this.formatInformation[d]["dataset:filesourceformat"]==e&&(i=d,s=!1),a++}return i}setPrerequisite(e){this.prerequisite=e,this.activityinfo=this.prerequisite["dataset:activityinfo"],null!=this.activityinfo?(this.prerequisitebutton=!0,this.specificationid=this.activityinfo["dataset:datasettransactionspecification"],null!=this.specificationid?this.filedefault=this.specificationid["dataset:uniquegenericname"]:alert(this.prerequisiteerror),null!=this.activity&&this.activity.setPrerequisiteData(this.prerequisite)):alert(this.prerequisiteerror)}activitysetup(){null!=this.prerequisite?this.activity.setPrerequisiteData(this.prerequisite):alert("prerequisite not set up")}getTransactionData(e){if(null!=this.activity){e["prov:activity"]="dataset:TransactionInterpretTextBlock";const i={};if(e["dataset:activityinfo"]=i,this.activity.getData(i),null!=this.prerequisite){const o={};o["dataset:partitionfile"]=this.prerequisite["dataset:firestorecatalog"],e["dataset:transreqobj"]=o}else alert("Prerequisite not set")}else alert("Need to set up repository file");return e}getAnnotations(e){this.annotations.getNewCatalogObject(e).subscribe(i=>{if(i[O.successful]){const o=i[O.catalogobject];this.activityinitialdata=o.dataobject,this.annoinfo=o[O.annotations],this.activity.setActivity(this.activitytype)}else alert(this.getannotationsfnotsuccessful)})}displayActivity(){const e={};this.activity.getData(e);const i=new Yo;i.disableClose=!1,i.autoFocus=!0,i.data={filename:this.filedefault,dataimage:e},this.dialog.open(vc,i).afterClosed().subscribe(o=>{})}submit(){const e={};this.getTransactionData(e),this.dialog.open(Al,{data:e}).afterClosed().subscribe(s=>{if(null!=s){const o=s["dataset:servicesuccessful"];this.resultHtml=s["dataset:serviceresponsemessage"],"true"==o?this.interpretEvent.emit(s):alert(this.failedresponse)}})}fetchInformation(){this.dialog.open(xy,{data:{annoinfo:this.annoinfo,maintainer:this.maintainer,fromdatabase:!1,catalogtype:this.activitytype}}).afterClosed().subscribe(i=>{null!=i?"true"==i["dataset:servicesuccessful"]?this.activity.setData(i["dataset:simpcatobj"]):alert(this.readinfailed):alert(this.readincanceled)})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yr),n.Y36(xu),n.Y36(Rn),n.Y36(Pi))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-transactioninterprettextblock"]],viewQuery:function(e,i){if(1&e&&n.Gf(ele,5),2&e){let s;n.iGM(s=n.CRH())&&(i.activity=s.first)}},outputs:{interpretEvent:"interpretEvent"},decls:27,vars:17,consts:[[1,"card"],[1,"title-group"],[1,"title"],["cols","8","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","disabled","click"],[4,"ngIf","ngIfElse"],["noactivity",""],[3,"innerHTML"],[3,"activityname","activitynameChange","activitysetup"],["activity",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content")(6,"mat-grid-list",3)(7,"mat-grid-tile",4)(8,"button",5),n.NdJ("click",function(){return i.displayActivity()}),n._uU(9),n.qZA()(),n.TgZ(10,"mat-grid-tile",4)(11,"button",5),n.NdJ("click",function(){return i.activitysetup()}),n._uU(12),n.qZA()(),n.TgZ(13,"mat-grid-tile",4)(14,"button",5),n.NdJ("click",function(){return i.fetchInformation()}),n._uU(15),n.qZA()(),n.TgZ(16,"mat-grid-tile",4)(17,"button",6),n.NdJ("click",function(){return i.submit()}),n._uU(18),n.qZA()()(),n.YNc(19,tle,3,1,"ng-container",7),n.YNc(20,nle,2,1,"ng-template",null,8,n.W1O),n._UZ(22,"mat-divider"),n.TgZ(23,"p"),n._uU(24,"Results"),n.qZA(),n._UZ(25,"div",9)(26,"mat-divider"),n.qZA()()),2&e){const s=n.MAs(21);n.xp6(4),n.Oqu(i.title),n.xp6(3),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.displaydescbutton),n.xp6(1),n.Oqu(i.displaybutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.prereqdescbutton),n.xp6(1),n.Oqu(i.prereqbutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.loadfromdatabase),n.xp6(1),n.hij(" ",i.fetch," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.submitdescr),n.Q6J("disabled",i.invalid()),n.xp6(1),n.Oqu(i.submitbutton),n.xp6(1),n.Q6J("ngIf",null!=i.activitytype)("ngIfElse",s),n.xp6(6),n.Q6J("innerHTML",i.resultHtml,n.oJD)}},dependencies:[ke,jt,zr,ro,et,lt,gn,Xe,rn,Et,wt,cG],styles:[".submit-btn[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();const rle=["outlst"];let sle=(()=>{class r{constructor(e,i,s,o){this.identifiers=e,this.annotations=i,this.dialog=o,this.interpretTransactionEvent=new n.vpe,this.transactiontitle="Interpret Text Block Transaction",this.fetchtransaction="Fetch",this.loadfromdatabase="Load Transaction from database or from file",this.deltransaction="Delete transaction from database",this.delete="Delete",this.readinfailed="Error in fetching Partition transaction",this.failedsubmission="Failed to delete transaction",this.identifier=O.dctermsidentifier,this.catalogtype="dataset:DatasetTransactionEventObject",this.outputtransactions="Result of text block interpretation",s.determineMaintainer().subscribe(a=>{null!=a?this.maintainer=a:alert(s.determineMaintainer)}),this.getCatalogAnnoations()}ngOnInit(){}getCatalogAnnoations(){this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;this.resultHtml=i[O.message],i[O.successful]&&(this.annoinfo=i[O.catalogobject][O.annotations])},error:e=>{alert("Get Annotations failed:")}})}setData(e){this.transactionobject=e,this.activity=this.transactionobject["dataset:activityinfo"],this.outlst.setData(this.transactionobject["dataset:transoutobjid"])}getData(e){}annoReady(e){}fetchInformation(){const e={};e[this.identifiers.CatalogDataObjectMaintainer]=this.maintainer,e[this.identifiers.TransactionEventType]="dataset:TransactionInterpretTextBlock",e[O.annoinfo]=this.annoinfo,this.dialog.open(s6,{data:e}).afterClosed().subscribe(s=>{if(null!=s){const o=s[O.successful];this.resultHtml=s[O.message],"true"==o?(this.transactionobject=s[O.catalogobject],null!=this.transactionobject&&(this.setData(this.transactionobject),this.interpretTransactionEvent.emit(this.transactionobject))):alert("Error in reading: "+JSON.stringify(s))}else this.resultHtml=this.readinfailed})}deleteTransaction(){const e={"prov:activity":"dataset:DatabaseDeleteTransaction"};e["dcterms:creator"]=this.maintainer,e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.maintainer;const i={"dcterms:title":"Delection Collection:  this.maintainer   "};i[this.annoinfo["dataset:FirestoreCatalogID"][this.identifier]]=this.transactionobject[this.annoinfo["dataset:FirestoreCatalogID"][this.identifier]],e["dataset:activityinfo"]=i,this.dialog.open(Al,{data:e}).afterClosed().subscribe(d=>{if(null!=d){const f=d["dataset:servicesuccessful"];this.resultHtml=d["dataset:serviceresponsemessage"],"true"==f&&alert("Transaction delete successful")}else this.resultHtml=this.failedsubmission})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ar),n.Y36(Rn),n.Y36(yr),n.Y36(Pi))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-interprettextblockresults"]],viewQuery:function(e,i){if(1&e&&n.Gf(rle,5),2&e){let s;n.iGM(s=n.CRH())&&(i.outlst=s.first)}},outputs:{interpretTransactionEvent:"interpretTransactionEvent"},decls:18,vars:10,consts:[[1,"cardbase"],[1,"title"],["cols","6","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","click"],[3,"annoinfo","listtitle","annoinfoChange","listtitleChange"],["outlst",""],[3,"innerHTML"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle"),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content")(6,"mat-grid-list",2)(7,"mat-grid-tile",3)(8,"button",4),n.NdJ("click",function(){return i.fetchInformation()}),n._uU(9),n.qZA()(),n.TgZ(10,"mat-grid-tile",3)(11,"button",4),n.NdJ("click",function(){return i.deleteTransaction()}),n._uU(12),n.qZA()()(),n.TgZ(13,"app-listoffirestoreids",5,6),n.NdJ("annoinfoChange",function(o){return i.annoinfo=o})("listtitleChange",function(o){return i.outputtransactions=o}),n.qZA(),n._UZ(15,"mat-divider")(16,"div",7)(17,"mat-divider"),n.qZA()()),2&e&&(n.xp6(4),n.Oqu(i.transactiontitle),n.xp6(3),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.loadfromdatabase),n.xp6(1),n.hij(" ",i.fetchtransaction," "),n.xp6(1),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.deltransaction),n.xp6(1),n.hij(" ",i.delete," "),n.xp6(1),n.Q6J("annoinfo",i.annoinfo)("listtitle",i.outputtransactions),n.xp6(3),n.Q6J("innerHTML",i.resultHtml,n.oJD))},dependencies:[jt,zr,ro,et,lt,gn,Xe,rn,Et,wt,u6],styles:[".submit-btn[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();const ole=["uploadinfo"],ale=["repositoryresults"],lle=["parse"],cle=["parsetransaction"],ule=["interpret"],dle=["interprettransaction"];function hle(r,t){1&r&&n._uU(0,"File Upload")}function fle(r,t){1&r&&n._uU(0,"Upload Transaction")}function ple(r,t){1&r&&n._uU(0,"Partition File")}function mle(r,t){1&r&&n._uU(0,"Partition Transaction")}function gle(r,t){1&r&&n._uU(0,"Interpret Partition")}function _le(r,t){1&r&&n._uU(0,"Interpret Transaction")}function yle(r,t){1&r&&n._uU(0,"Done")}let ble=(()=>{class r{constructor(e,i){this._formBuilder=e,this.uploadService=i,this.filemediatype="dataset:FileTypeText",this.filemediasubtype="",this.uploadfilesource="dataset:LocalFileSystem",this.maintainer="Administrator",this.collectionobjecttype="",this.unitset=["quantitykind:MolarEnergy","quantitykind:MolarEntropy","quantitykind:MolarHeatCapacity","quantitykind:Frequency"],this.repositorystaging=new n.vpe,this.parseFile=new n.vpe}ngOnInit(){this.createform=this._formBuilder.group({}),this.references=new dD([]),this.uploadService.getTitleChoices().subscribe(e=>{this.titleInformation=e,this.titles=Object.keys(e)},e=>{console.log("An error accessing getTitleChoices() Service")}),this.uploadService.getUnitSet(this.unitset).subscribe(e=>{this.unitInformation=e},e=>{console.log("An error accessing getUnitSet Service")}),this.uploadService.getUncertaintyChoices().subscribe(e=>{this.uncertaintyInformation=e},e=>{console.log("An error accessing getUnitSet Service")})}ngAfterViewInit(){}repositoryEvent(e){const i=e[O.catalogobject][0];this.repositoryresults.setCatalog(i),this.parse.setFileStaging(i)}uploadTransEvent(e){const i=e[O.catalogobject];this.repositoryresults.setCatalog(i),this.parse.setFileStaging(i);const s=this.parse.formatValue();this.interpret.setFileFormat(s)}parsedEvent(e){const i=e[O.TransactionEventObject];this.parsetransaction.setData(i),this.interpret.setFileFormat(i["dataset:activityinfo"]["dataset:filesourceformat"]),this.interpret.setPrerequisite(i)}parsedTransactionEvent(e){const i=e;this.parsetransaction.setData(e),this.interpret.setFileFormat(i[O.ActivityInfo]["dataset:filesourceformat"]),this.interpret.setPrerequisite(e)}interpretEvent(e){this.interprettransaction.setData(e[O.TransactionEventObject])}interpretTransactionEvent(e){}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(xu))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-uploadsteps"]],viewQuery:function(e,i){if(1&e&&(n.Gf(ole,5),n.Gf(ale,5),n.Gf(lle,5),n.Gf(cle,5),n.Gf(ule,5),n.Gf(dle,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.uploadinfo=s.first),n.iGM(s=n.CRH())&&(i.repositoryresults=s.first),n.iGM(s=n.CRH())&&(i.parse=s.first),n.iGM(s=n.CRH())&&(i.parsetransaction=s.first),n.iGM(s=n.CRH())&&(i.interpret=s.first),n.iGM(s=n.CRH())&&(i.interprettransaction=s.first)}},features:[n._Bn([{provide:$P,useValue:{showError:!0}}])],decls:162,vars:0,consts:[["stepper",""],[1,"example-card"],["matStepLabel",""],[3,"repositoryEvent"],["uploadinfo",""],["mat-button","","matStepperPrevious",""],["mat-button","","matStepperNext",""],["repositoryresults",""],[3,"parsedEvent"],["parse",""],[3,"parsedTransactionEvent"],["parsetransaction",""],[3,"interpretEvent"],["interpret",""],[3,"interpretTransactionEvent"],["interprettransaction",""],["mat-button","",3,"click"]],template:function(e,i){if(1&e){const s=n.EpF();n.TgZ(0,"mat-stepper",null,0)(2,"mat-step")(3,"mat-card",1)(4,"mat-card-header")(5,"mat-card-subtitle"),n._uU(6,"Upload Data"),n.qZA(),n.TgZ(7,"mat-card-title"),n._uU(8,"Upload data to the database"),n.qZA()(),n.TgZ(9,"mat-card-content")(10,"p"),n._uU(11,"Files are uploaded and interpreted into the fundamental data sets. Each data type has its own set. Within a given data type, there can be different revisions, representing updates to the information and there can also be a further distinction, referenced by a unique name, of data that should be used together, for example from the same source. Within a given data type, the specific set that should be used in a calculation is referenced by the revision label and a general grouping. This grouping is indicative of the source of the data. A new set of data, perhaps from a difference generation source, could have a different name. Comparisons, through their use in thermodynamic calculations, can be made by specifying one or the other set in the dataset collection specification."),n.qZA(),n.TgZ(12,"p"),n._uU(13,"The uploading of data occurs in several steps. First, the raw file is uploaded and stored in the database storage. This file, is then partitioned. The partitioning depends on the type of data that is stored. Each of these partitions are then interpreted and are added to a set corresponding to this data type."),n.qZA(),n._UZ(14,"p")(15,"mat-divider"),n.qZA()()(),n.TgZ(16,"mat-step"),n.YNc(17,hle,1,0,"ng-template",2),n.TgZ(18,"p"),n._uU(19," This menu is used to upload a data file into the repository. The file is stored as read in (no modifications). Once the information is completed, the "),n.TgZ(20,"b"),n._uU(21,"Submit"),n.qZA(),n._uU(22," button will start the upload transaction. If successful, the results will appear in the next tab. "),n.qZA(),n.TgZ(23,"p"),n._uU(24," The file is uploaded from the computer by pressing the upload button (looks like a paper clip). It can be visualized with the eye button. "),n.qZA(),n.TgZ(25,"p"),n._uU(26," The information is filled in. The description and the title is for the researcher's reference. The "),n.TgZ(27,"i"),n._uU(28,"File Source Format"),n.qZA(),n._uU(29," specifies the type of file and will determine how the file is to be parsed and interpreted. The "),n.TgZ(30,"i"),n._uU(31,"Specification for Collection"),n.qZA(),n._uU(32," information is used to place all information in the repository. The "),n.TgZ(33,"i"),n._uU(34,"Unique Generic Name"),n.qZA(),n._uU(35," is used identify all intermediate data (upload and parsing information) associated with this file. The "),n.TgZ(36,"i"),n._uU(37,"Dataset Name"),n.qZA(),n._uU(38," should be the name of an existing collection dataset. The "),n.TgZ(39,"i"),n._uU(40,"Object Status"),n.qZA(),n._uU(41," (start with Current) and "),n.TgZ(42,"i"),n._uU(43,"Version"),n.qZA(),n._uU(44," further identify the final repository information. The "),n.TgZ(45,"i"),n._uU(46,"Version"),n.qZA(),n._uU(47," should correspond to that in the dataset collection. If, for example, the initial information should be replaced, another version identifier would be used and this would be specified in the dataset collection under the data type. "),n.qZA(),n.TgZ(48,"p"),n._uU(49," If this file originates from a paper, this can be specified in the "),n.TgZ(50,"i"),n._uU(51,"Set of References"),n.qZA(),n._uU(52,". If, for example, the file has its origins from something online, the link can be established with "),n.TgZ(53,"i"),n._uU(54,"Set of Web Links"),n.qZA()(),n.TgZ(55,"app-uploadfileinformation",3,4),n.NdJ("repositoryEvent",function(a){return i.repositoryEvent(a)}),n.qZA(),n.TgZ(57,"div")(58,"button",5),n._uU(59,"Back"),n.qZA(),n.TgZ(60,"button",6),n._uU(61,"Next"),n.qZA()()(),n.TgZ(62,"mat-step"),n.YNc(63,fle,1,0,"ng-template",2),n.TgZ(64,"p"),n._uU(65," This tab is the result of uploading the file to the repository. This is the information assocated with the file. If the information is what is expected, then you can move to the next tab. If there is an error, you can delete the transaction and try uploading again. "),n.qZA(),n.TgZ(66,"app-initialreadinofrepositoryfileevent",3,7),n.NdJ("repositoryEvent",function(a){return i.uploadTransEvent(a)}),n.qZA(),n.TgZ(68,"div")(69,"button",5),n._uU(70,"Back"),n.qZA(),n.TgZ(71,"button",6),n._uU(72,"Next"),n.qZA()()(),n.TgZ(73,"mat-step"),n.YNc(74,ple,1,0,"ng-template",2),n.TgZ(75,"p"),n._uU(76," In this step, the file will be partitioned into the individual data objects. For example, if the file had benson rules, this transaction would separate out each block of information representing a benson rule. The information for this step (including specifying the prerequisite of reading in the file) is already filled in. If OK, press the "),n.TgZ(77,"b"),n._uU(78,"Submit"),n.qZA(),n._uU(79," button. The next tab will show the result of the partitioning. "),n.qZA(),n.TgZ(80,"p"),n._uU(81," The information has been already fill in. This includes the "),n.TgZ(82,"i"),n._uU(83,"File Source Format"),n.qZA(),n._uU(84," which was given in the last menu. Using this, the "),n.TgZ(85,"i"),n._uU(86,"Partition Method"),n.qZA(),n._uU(87," and "),n.TgZ(88,"i"),n._uU(89,"Line Count"),n.qZA(),n._uU(90," (if needed). Note that the "),n.TgZ(91,"i"),n._uU(92,">Specification for Collection"),n.qZA(),n._uU(93," is also carried over from the last menu. "),n.qZA(),n.TgZ(94,"app-parseuploadedfile",8,9),n.NdJ("parsedEvent",function(a){return i.parsedEvent(a)}),n.qZA(),n.TgZ(96,"div")(97,"button",5),n._uU(98,"Back"),n.qZA(),n.TgZ(99,"button",6),n._uU(100,"Next"),n.qZA()()(),n.TgZ(101,"mat-step"),n.YNc(102,mle,1,0,"ng-template",2),n.TgZ(103,"p"),n._uU(104," This tab shows the set of partitions that were made. Each block shows the position of each partition. The number of blocks should correspond to the number of partitions. You can look at the parsed data for each block by pressing the eye above the block (sometimes you have to press it twice, if all the information is not shown). The next tab will interpret each of these partitions. "),n.qZA(),n.TgZ(105,"app-parsefiletransaction",10,11),n.NdJ("parsedTransactionEvent",function(a){return i.parsedTransactionEvent(a)}),n.qZA(),n.TgZ(107,"div")(108,"button",5),n._uU(109,"Back"),n.qZA(),n.TgZ(110,"button",6),n._uU(111,"Next"),n.qZA()()(),n.TgZ(112,"mat-step"),n.YNc(113,gle,1,0,"ng-template",2),n.TgZ(114,"p"),n._uU(115," This sets up the information for the interpretation of each parsed block. To get the information from the prerequisite parsing transaction, press the "),n.TgZ(116,"b"),n._uU(117,"Prerequisite"),n.qZA(),n._uU(118," button "),n.qZA(),n.TgZ(119,"p"),n._uU(120," Most of the information is filled in by the prerequisite. However, sometimes some additional information is needed. For example, if the file type is "),n.TgZ(121,"i"),n._uU(122,"TherGasSubstructureThermodynamics"),n.qZA(),n._uU(123,", then the type of substructure has to be specified, for example "),n.TgZ(124,"i"),n._uU(125,"HBISubstructure"),n.qZA(),n._uU(126," or "),n.TgZ(127,"i"),n._uU(128,"Ring Strain Structure"),n.qZA()(),n.TgZ(129,"p"),n._uU(130," In this menu you can specify which units the file uses. The default is "),n.TgZ(131,"i"),n._uU(132,"calories"),n.qZA(),n._uU(133," units. But if, for example, the units are based on "),n.TgZ(134,"i"),n._uU(135,"Joules"),n.qZA(),n._uU(136,", this can be specified. If there is an uncertainty, the type of uncertainty can also be specified. "),n.qZA(),n.TgZ(137,"app-transactioninterprettextblock",12,13),n.NdJ("interpretEvent",function(a){return i.interpretEvent(a)}),n.qZA(),n.TgZ(139,"div")(140,"button",5),n._uU(141,"Back"),n.qZA(),n.TgZ(142,"button",6),n._uU(143,"Next"),n.qZA()()(),n.TgZ(144,"mat-step"),n.YNc(145,_le,1,0,"ng-template",2),n.TgZ(146,"app-interprettextblockresults",14,15),n.NdJ("interpretTransactionEvent",function(a){return i.interpretTransactionEvent(a)}),n.qZA(),n.TgZ(148,"div")(149,"button",5),n._uU(150,"Back"),n.qZA(),n.TgZ(151,"button",6),n._uU(152,"Next"),n.qZA()()(),n.TgZ(153,"mat-step"),n.YNc(154,yle,1,0,"ng-template",2),n.TgZ(155,"p"),n._uU(156,"You are now done."),n.qZA(),n.TgZ(157,"div")(158,"button",5),n._uU(159,"Back"),n.qZA(),n.TgZ(160,"button",16),n.NdJ("click",function(){n.CHM(s);const a=n.MAs(1);return n.KtG(a.reset())}),n._uU(161,"Reset"),n.qZA()()()()}},dependencies:[jt,zr,et,lt,Xe,Oi,rn,WP,uI,KP,tie,nie,$ie,sre,Roe,Ooe,ile,sle],styles:[".mat-form-field[_ngcontent-%COMP%]{margin-top:16px}"]}),r})(),vle=0;const d6=new n.OlP("CdkAccordion");let Cle=(()=>{class r{constructor(){this._stateChanges=new Fe.xQ,this._openCloseAllActions=new Fe.xQ,this.id="cdk-accordion-"+vle++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=at(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[n._Bn([{provide:d6,useExisting:r}]),n.TTD]}),r})(),wle=0,Tle=(()=>{class r{constructor(e,i,s){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=s,this._openCloseAllSubscription=Re.w.EMPTY,this.closed=new n.vpe,this.opened=new n.vpe,this.destroyed=new n.vpe,this.expandedChange=new n.vpe,this.id="cdk-accordion-child-"+wle++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=s.listen((o,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=at(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=at(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(d6,12),n.Y36(n.sBO),n.Y36(Dq))},r.\u0275dir=n.lG2({type:r,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[n._Bn([{provide:d6,useValue:void 0}])]}),r})(),Dle=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})();const xle=["body"];function Sle(r,t){}const Ale=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ele=["mat-expansion-panel-header","*","mat-action-row"];function Mle(r,t){if(1&r&&n._UZ(0,"span",2),2&r){const e=n.oxw();n.Q6J("@indicatorRotate",e._getExpandedState())}}const Ile=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],kle=["mat-panel-title","mat-panel-description","*"],h6=new n.OlP("MAT_ACCORDION"),uG="225ms cubic-bezier(0.4,0.0,0.2,1)",dG={indicatorRotate:io("indicatorRotate",[ei("collapsed, void",Jt({transform:"rotate(0deg)"})),ei("expanded",Jt({transform:"rotate(180deg)"})),Ni("expanded <=> collapsed, void => collapsed",zi(uG))]),bodyExpansion:io("bodyExpansion",[ei("collapsed, void",Jt({height:"0px",visibility:"hidden"})),ei("expanded",Jt({height:"*",visibility:"visible"})),Ni("expanded <=> collapsed, void => collapsed",zi(uG))])},hG=new n.OlP("MAT_EXPANSION_PANEL");let Rle=(()=>{class r{constructor(e,i){this._template=e,this._expansionPanel=i}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc),n.Y36(hG,8))},r.\u0275dir=n.lG2({type:r,selectors:[["ng-template","matExpansionPanelContent",""]]}),r})(),Nle=0;const fG=new n.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Ole=(()=>{class r extends Tle{constructor(e,i,s,o,a,d,f){super(e,i,s),this._viewContainerRef=o,this._animationMode=d,this._hideToggle=!1,this.afterExpand=new n.vpe,this.afterCollapse=new n.vpe,this._inputChanges=new Fe.xQ,this._headerId="mat-expansion-panel-header-"+Nle++,this._bodyAnimationDone=new Fe.xQ,this.accordion=e,this._document=a,this._bodyAnimationDone.pipe(Or((g,b)=>g.fromState===b.fromState&&g.toState===b.toState)).subscribe(g=>{"void"!==g.fromState&&("expanded"===g.toState?this.afterExpand.emit():"collapsed"===g.toState&&this.afterCollapse.emit())}),f&&(this.hideToggle=f.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=at(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(yn(null),Lt(()=>this.expanded&&!this._portal),tn(1)).subscribe(()=>{this._portal=new Hm(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(h6,12),n.Y36(n.sBO),n.Y36(Dq),n.Y36(n.s_b),n.Y36(ne),n.Y36(n.QbO,8),n.Y36(fG,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,s){if(1&e&&n.Suo(s,Rle,5),2&e){let o;n.iGM(o=n.CRH())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&n.Gf(xle,5),2&e){let s;n.iGM(s=n.CRH())&&(i._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&n.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[n._Bn([{provide:h6,useValue:void 0},{provide:hG,useExisting:r}]),n.qOj,n.TTD],ngContentSelectors:Ele,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(n.F$t(Ale),n.Hsn(0),n.TgZ(1,"div",0,1),n.NdJ("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),n.TgZ(3,"div",2),n.Hsn(4,1),n.YNc(5,Sle,0,0,"ng-template",3),n.qZA(),n.Hsn(6,2),n.qZA()),2&e&&(n.xp6(1),n.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),n.uIk("aria-labelledby",i._headerId),n.xp6(4),n.Q6J("cdkPortalOutlet",i._portal))},dependencies:[bc],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[dG.bodyExpansion]},changeDetection:0}),r})();class Fle{}const Ple=eD(Fle);let Lle=(()=>{class r extends Ple{constructor(e,i,s,o,a,d,f){super(),this.panel=e,this._element=i,this._focusMonitor=s,this._changeDetectorRef=o,this._animationMode=d,this._parentChangeSubscription=Re.w.EMPTY;const g=e.accordion?e.accordion._stateChanges.pipe(Lt(b=>!(!b.hideToggle&&!b.togglePosition))):vs.E;this.tabIndex=parseInt(f||"")||0,this._parentChangeSubscription=(0,ci.T)(e.opened,e.closed,g,e._inputChanges.pipe(Lt(b=>!!(b.hideToggle||b.disabled||b.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Lt(()=>e._containsFocus())).subscribe(()=>s.focusVia(i,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Es(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ole,1),n.Y36(n.SBq),n.Y36(Sl),n.Y36(n.sBO),n.Y36(fG,8),n.Y36(n.QbO,8),n.$8M("tabindex"))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&n.NdJ("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(n.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),n.Udp("height",i._getHeaderHeight()),n.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[n.qOj],ngContentSelectors:kle,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(n.F$t(Ile),n.TgZ(0,"span",0),n.Hsn(1),n.Hsn(2,1),n.Hsn(3,2),n.qZA(),n.YNc(4,Mle,1,1,"span",1)),2&e&&(n.ekj("mat-content-hide-toggle",!i._showToggle()),n.xp6(4),n.Q6J("ngIf",i._showToggle()))},dependencies:[ke],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[dG.indicatorRotate]},changeDetection:0}),r})(),Ble=(()=>{class r extends Cle{constructor(){super(...arguments),this._ownHeaders=new n.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=at(e)}ngAfterContentInit(){this._headers.changes.pipe(yn(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new PC(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["mat-accordion"]],contentQueries:function(e,i,s){if(1&e&&n.Suo(s,Lle,5),2&e){let o;n.iGM(o=n.CRH())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[n._Bn([{provide:h6,useExisting:r}]),n.qOj]}),r})(),pG=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn,Xt,Dle,Gf]}),r})();const Ule=["extracatinfo"],Vle=["datadescription"];let Zle=(()=>{class r{constructor(){this.type="type",this.title="one line description",this.toggleView=new n.vpe}ngOnInit(){this.showExtra=!1,this.descrloc="descr-"+this.descriptionsuffix,this.titleloc="title-"+this.descriptionsuffix}ngOnChanges(e){this.setData(this.baseobjdata,this.annoinfo)}ngAfterViewInit(){}toggleExtra(){this.showExtra=!this.showExtra,this.toggleView.emit(this.showExtra)}setData(e,i){if(null!=i){const a=i["title-"+this.descriptionsuffix],d="rdfs:label";this.simpleNametip=i.simple[d],this.titletip=a[d]}if(null!=e){this.type=e.type;const s=e.catid;null!=e.catid&&(this.simpleName=e.catid.simpleName),this.simpleName=s.simple;const o="title-"+this.descriptionsuffix,a="descr-"+this.descriptionsuffix;null!=e[a]&&(this.title=e[a][o]),this.extra.setData(e,i)}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-catalogbasedata"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Ble,5),n.Gf(Ule,5),n.Gf(Vle,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.accordion=s.first),n.iGM(s=n.CRH())&&(i.extra=s.first),n.iGM(s=n.CRH())&&(i.description=s.first)}},inputs:{descriptionsuffix:"descriptionsuffix",baseobjdata:"baseobjdata",annoinfo:"annoinfo"},outputs:{toggleView:"toggleView"},features:[n.TTD],decls:12,vars:2,consts:[["cols","10","rowHeight","30px"],["colspan","2"],["mat-button","","matTooltip","Simple Name","placement","top","color","primary",1,"simplename"],["colspan","7"],["mat-button","","matTooltip","Description","placement","top","color","primary",1,"title"],["colspan","1"],["mat-icon-button","","matTooltip","more details","color","primary",1,"toggle",3,"click"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-grid-list",0)(1,"mat-grid-tile",1)(2,"button",2),n._uU(3),n.qZA()(),n.TgZ(4,"mat-grid-tile",3)(5,"button",4),n._uU(6),n.qZA()(),n.TgZ(7,"mat-grid-tile",5)(8,"button",6),n.NdJ("click",function(){return i.toggleExtra()}),n.TgZ(9,"mat-icon"),n._uU(10," remove_red_eye "),n.qZA()()()(),n._UZ(11,"mat-divider")),2&e&&(n.xp6(3),n.hij(" ",i.simpleName," "),n.xp6(3),n.hij(" ",i.title," "))},dependencies:[jt,zr,rr,ro,Et,wt],styles:[".simplename[_ngcontent-%COMP%], .title[_ngcontent-%COMP%], .toggle[_ngcontent-%COMP%]{font-size:20px}"]}),r})();const jle=["mat-calendar-body",""];function Hle(r,t){if(1&r&&(n.TgZ(0,"tr",2)(1,"td",3),n._uU(2),n.qZA()()),2&r){const e=n.oxw();n.xp6(1),n.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),n.uIk("colspan",e.numCols),n.xp6(1),n.hij(" ",e.label," ")}}function qle(r,t){if(1&r&&(n.TgZ(0,"td",3),n._uU(1),n.qZA()),2&r){const e=n.oxw(2);n.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),n.uIk("colspan",e._firstRowOffset),n.xp6(1),n.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Gle(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"td",7)(1,"button",8),n.NdJ("click",function(s){const a=n.CHM(e).$implicit,d=n.oxw(2);return n.KtG(d._cellClicked(a,s))})("focus",function(s){const a=n.CHM(e).$implicit,d=n.oxw(2);return n.KtG(d._emitActiveDateChange(a,s))}),n.TgZ(2,"div",9),n._uU(3),n.qZA(),n._UZ(4,"div",10),n.qZA()()}if(2&r){const e=t.$implicit,i=t.index,s=n.oxw().index,o=n.oxw();n.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),n.uIk("data-mat-row",s)("data-mat-col",i),n.xp6(1),n.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(s,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,s,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,s,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),n.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(s,i)?0:-1),n.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),n.xp6(1),n.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),n.xp6(1),n.hij(" ",e.displayValue," ")}}function Yle(r,t){if(1&r&&(n.TgZ(0,"tr",4),n.YNc(1,qle,2,6,"td",5),n.YNc(2,Gle,5,47,"td",6),n.qZA()),2&r){const e=t.$implicit,i=t.index,s=n.oxw();n.xp6(1),n.Q6J("ngIf",0===i&&s._firstRowOffset),n.xp6(1),n.Q6J("ngForOf",e)}}function Jle(r,t){if(1&r&&(n.TgZ(0,"th",5)(1,"span",6),n._uU(2),n.qZA(),n.TgZ(3,"span",7),n._uU(4),n.qZA()()),2&r){const e=t.$implicit;n.xp6(2),n.Oqu(e.long),n.xp6(2),n.Oqu(e.narrow)}}const zle=["*"];function $le(r,t){}function Qle(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"mat-month-view",5),n.NdJ("activeDateChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.activeDate=s)})("_userSelection",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._dateSelected(s))}),n.qZA()}if(2&r){const e=n.oxw();n.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function Wle(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"mat-year-view",6),n.NdJ("activeDateChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.activeDate=s)})("monthSelected",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._monthSelectedInYearView(s))})("selectedChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._goToDateInView(s,"month"))}),n.qZA()}if(2&r){const e=n.oxw();n.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Kle(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"mat-multi-year-view",7),n.NdJ("activeDateChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.activeDate=s)})("yearSelected",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._yearSelectedInMultiYearView(s))})("selectedChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o._goToDateInView(s,"year"))}),n.qZA()}if(2&r){const e=n.oxw();n.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Xle(r,t){}const ece=["button"];function tce(r,t){1&r&&(n.O4$(),n.TgZ(0,"svg",3),n._UZ(1,"path",4),n.qZA())}const nce=[[["","matDatepickerToggleIcon",""]]],ice=["[matDatepickerToggleIcon]"];let DD=(()=>{class r{constructor(){this.changes=new Fe.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class f6{constructor(t,e,i,s,o={},a=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=s,this.cssClasses=o,this.compareValue=a,this.rawValue=d}}let zC=(()=>{class r{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new n.vpe,this.previewChange=new n.vpe,this.activeDateChange=new n.vpe,this._enterHandler=s=>{if(this._skipNextFocus&&"focus"===s.type)this._skipNextFocus=!1;else if(s.target&&this.isRange){const o=this._getCellFromElement(s.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:s}))}},this._leaveHandler=s=>{null!==this.previewEnd&&this.isRange&&s.target&&this._getCellFromElement(s.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:s}))},i.runOutsideAngular(()=>{const s=e.nativeElement;s.addEventListener("mouseenter",this._enterHandler,!0),s.addEventListener("focus",this._enterHandler,!0),s.addEventListener("mouseleave",this._leaveHandler,!0),s.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:s,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=s&&s.length&&s[0].length?o-s[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let s=e*this.numCols+i;return e&&(s-=this._firstRowOffset),s==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(tn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return p6(e,this.startValue,this.endValue)}_isRangeEnd(e){return m6(e,this.startValue,this.endValue)}_isInRange(e){return g6(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return p6(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,s){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][s-1];if(!o){const a=this.rows[i-1];o=a&&a[a.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,s){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][s+1];if(!o){const a=this.rows[i+1];o=a&&a[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return m6(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return g6(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return p6(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return m6(e,this.previewStart,this.previewEnd)}_isInPreview(e){return g6(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(mG(e)?i=e:mG(e.parentNode)&&(i=e.parentNode),i){const s=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(s&&o)return this.rows[parseInt(s)][parseInt(o)]}return null}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.R0b))},r.\u0275cmp=n.Xpm({type:r,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[n.TTD],attrs:jle,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(n.YNc(0,Hle,3,6,"tr",0),n.YNc(1,Yle,3,2,"tr",1)),2&e&&(n.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),n.xp6(1),n.Q6J("ngForOf",i.rows))},dependencies:[Fn,ln,ke],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),r})();function mG(r){return"TD"===r.nodeName}function p6(r,t,e){return null!==e&&t!==e&&r<e&&r===t}function m6(r,t,e){return null!==t&&t!==e&&r>=t&&r===e}function g6(r,t,e,i){return i&&null!==t&&null!==e&&t!==e&&r>=t&&r<=e}class Ua{constructor(t,e){this.start=t,this.end=e}}let eg=(()=>{class r{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Fe.xQ,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const s=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:s})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return r.\u0275fac=function(e){n.$Z()},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),rce=(()=>{class r extends eg{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new r(this._adapter);return e.updateSelection(this.selection,this),e}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Ao))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();const gG={provide:eg,deps:[[new n.FiY,new n.tp0,eg],Ao],useFactory:function oce(r,t){return r||new rce(t)}},pI=new n.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let _G=(()=>{class r{constructor(e,i,s,o,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=s,this._dir=o,this._rangeStrategy=a,this._rerenderSubscription=Re.w.EMPTY,this.selectedChange=new n.vpe,this._userSelection=new n.vpe,this.activeDateChange=new n.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(s,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ua?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yn(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,s=this._getDateFromDayOfMonth(i);let o,a;this._selected instanceof Ua?(o=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):o=a=this._getDateInCurrentMonth(this._selected),(o!==i||a!==i)&&this.selectedChange.emit(s),this._userSelection.emit({value:s,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const s=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,s=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,s?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,s?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Es(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((a,d)=>({long:a,narrow:i[d]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let s=0,o=this._firstWeekOffset;s<e;s++,o++){7==o&&(this._weeks.push([]),o=0);const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),s+1),d=this._shouldEnableDate(a),f=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),g=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new f6(s+1,i[s],f,d,g,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),s=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,s,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Ua?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.sBO),n.Y36(_y,8),n.Y36(Ao,8),n.Y36(Ji,8),n.Y36(pI,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&n.Gf(zC,5),2&e){let s;n.iGM(s=n.CRH())&&(i._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[n.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(n.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),n.YNc(3,Jle,5,2,"th",2),n.qZA(),n.TgZ(4,"tr"),n._UZ(5,"th",3),n.qZA()(),n.TgZ(6,"tbody",4),n.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),n.qZA()()),2&e&&(n.xp6(3),n.Q6J("ngForOf",i._weekdays),n.xp6(3),n.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[ln,zC],encapsulation:2,changeDetection:0}),r})(),yG=(()=>{class r{constructor(e,i,s){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=s,this._rerenderSubscription=Re.w.EMPTY,this.selectedChange=new n.vpe,this.yearSelected=new n.vpe,this.activeDateChange=new n.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(s,this.minDate,this.maxDate),bG(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ua?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-xD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let s=0,o=[];s<24;s++)o.push(i+s),4==o.length&&(this._years.push(o.map(a=>this._createCellForYear(a))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,s=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(s),this.selectedChange.emit(o)}_updateActiveDate(e){const s=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,s=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,s?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,s?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-xD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-xD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return xD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),s))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),s=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new f6(e,s,s,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ua){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.sBO),n.Y36(Ao,8),n.Y36(Ji,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&n.Gf(zC,5),2&e){let s;n.iGM(s=n.CRH())&&(i._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(n.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),n._UZ(3,"th",2),n.qZA()(),n.TgZ(4,"tbody",3),n.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),n.qZA()()),2&e&&(n.xp6(4),n.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[zC],encapsulation:2,changeDetection:0}),r})();function bG(r,t,e,i,s){const o=r.getYear(t),a=r.getYear(e),d=vG(r,i,s);return Math.floor((o-d)/24)===Math.floor((a-d)/24)}function xD(r,t,e,i){return function uce(r,t){return(r%t+t)%t}(r.getYear(t)-vG(r,e,i),24)}function vG(r,t,e){let i=0;return e?i=r.getYear(e)-24+1:t&&(i=r.getYear(t)),i}let CG=(()=>{class r{constructor(e,i,s,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=s,this._dir=o,this._rerenderSubscription=Re.w.EMPTY,this.selectedChange=new n.vpe,this.monthSelected=new n.vpe,this.activeDateChange=new n.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(s,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ua?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(s);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){const s=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,s=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,s?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,s?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(s=>this._createCellForMonth(s,e[s]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),s))}_createCellForMonth(e,i){const s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(s,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(s,"year"):void 0;return new f6(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const s=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>s||e===s&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const s=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<s||e===s&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Ua?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.sBO),n.Y36(_y,8),n.Y36(Ao,8),n.Y36(Ji,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&n.Gf(zC,5),2&e){let s;n.iGM(s=n.CRH())&&(i._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(n.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),n._UZ(3,"th",2),n.qZA()(),n.TgZ(4,"tbody",3),n.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),n.qZA()()),2&e&&(n.xp6(4),n.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[zC],encapsulation:2,changeDetection:0}),r})(),dce=0,hce=(()=>{class r{constructor(e,i,s,o,a){this._intl=e,this.calendar=i,this._dateAdapter=s,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+dce++,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-xD(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),s=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(s,0,1));return this._intl.formatYearRange(o,a)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):bG(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(DD),n.Y36((0,n.Gpc)(()=>b6)),n.Y36(Ao,8),n.Y36(_y,8),n.Y36(n.sBO))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:zle,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"div",0)(1,"div",1)(2,"button",2),n.NdJ("click",function(){return i.currentPeriodClicked()}),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.O4$(),n.TgZ(5,"svg",3),n._UZ(6,"polygon",4),n.qZA()(),n.kcU(),n._UZ(7,"div",5),n.Hsn(8),n.TgZ(9,"button",6),n.NdJ("click",function(){return i.previousClicked()}),n.qZA(),n.TgZ(10,"button",7),n.NdJ("click",function(){return i.nextClicked()}),n.qZA()()()),2&e&&(n.xp6(2),n.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),n.xp6(1),n.uIk("id",i._buttonDescriptionId),n.xp6(1),n.Oqu(i.periodButtonText),n.xp6(1),n.ekj("mat-calendar-invert","month"!==i.calendar.currentView),n.xp6(4),n.Q6J("disabled",!i.previousEnabled()),n.uIk("aria-label",i.prevButtonLabel),n.xp6(1),n.Q6J("disabled",!i.nextEnabled()),n.uIk("aria-label",i.nextButtonLabel))},dependencies:[jt],encapsulation:2,changeDetection:0}),r})(),b6=(()=>{class r{constructor(e,i,s,o){this._dateAdapter=i,this._dateFormats=s,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new n.vpe,this.yearSelected=new n.vpe,this.monthSelected=new n.vpe,this.viewChanged=new n.vpe(!0),this._userSelection=new n.vpe,this.stateChanges=new Fe.xQ,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ua?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new jm(this.headerComponent||hce),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,s=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||s||e.dateFilter;if(o&&!o.firstChange){const a=this._getCurrentViewComponent();a&&(this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Ua||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(DD),n.Y36(Ao,8),n.Y36(_y,8),n.Y36(n.sBO))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(n.Gf(_G,5),n.Gf(CG,5),n.Gf(yG,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.monthView=s.first),n.iGM(s=n.CRH())&&(i.yearView=s.first),n.iGM(s=n.CRH())&&(i.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[n._Bn([gG]),n.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(n.YNc(0,$le,0,0,"ng-template",0),n.TgZ(1,"div",1),n.YNc(2,Qle,1,8,"mat-month-view",2),n.YNc(3,Wle,1,6,"mat-year-view",3),n.YNc(4,Kle,1,6,"mat-multi-year-view",4),n.qZA()),2&e&&(n.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),n.xp6(1),n.Q6J("ngSwitch",i.currentView),n.xp6(1),n.Q6J("ngSwitchCase","month"),n.xp6(1),n.Q6J("ngSwitchCase","year"),n.xp6(1),n.Q6J("ngSwitchCase","multi-year"))},dependencies:[Gs,Is,rj,bc,_G,CG,yG],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),r})();const wG={transformPanel:io("transformPanel",[Ni("void => enter-dropdown",zi("120ms cubic-bezier(0, 0, 0.2, 1)",_P([Jt({opacity:0,transform:"scale(1, 0.8)"}),Jt({opacity:1,transform:"scale(1, 1)"})]))),Ni("void => enter-dialog",zi("150ms cubic-bezier(0, 0, 0.2, 1)",_P([Jt({opacity:0,transform:"scale(0.7)"}),Jt({transform:"none",opacity:1})]))),Ni("* => void",zi("100ms linear",Jt({opacity:0})))]),fadeInCalendar:io("fadeInCalendar",[ei("void",Jt({opacity:0})),ei("enter",Jt({opacity:1})),Ni("void => *",zi("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let fce=0;const TG=new n.OlP("mat-datepicker-scroll-strategy"),mce={provide:TG,deps:[Go],useFactory:function pce(r){return()=>r.scrollStrategies.reposition()}},gce=Kd(class{constructor(r){this._elementRef=r}});let _ce=(()=>{class r extends gce{constructor(e,i,s,o,a,d){super(e),this._changeDetectorRef=i,this._globalModel=s,this._dateAdapter=o,this._rangeSelectionStrategy=a,this._subscriptions=new Re.w,this._animationDone=new Fe.xQ,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,s=e.value,o=i instanceof Ua;if(o&&this._rangeSelectionStrategy){const a=this._rangeSelectionStrategy.selectionFinished(s,i,e.event);this._model.updateSelection(a,this)}else s&&(o||!this._dateAdapter.sameDate(s,i))&&this._model.add(s);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(eg),n.Y36(Ao),n.Y36(pI,8),n.Y36(DD))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&n.Gf(b6,5),2&e){let s;n.iGM(s=n.CRH())&&(i._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&n.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(n.d8E("@transformPanel",i._animationState),n.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[n.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"div",0)(1,"mat-calendar",1),n.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)}),n.qZA(),n.YNc(2,Xle,0,0,"ng-template",2),n.TgZ(3,"button",3),n.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),n._uU(4),n.qZA()()),2&e){let s;n.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),n.uIk("aria-modal",!0)("aria-labelledby",null!==(s=i._dialogLabelId)&&void 0!==s?s:void 0),n.xp6(1),n.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),n.xp6(1),n.Q6J("cdkPortalOutlet",i._actionsPortal),n.xp6(1),n.ekj("cdk-visually-hidden",!i._closeButtonFocused),n.Q6J("color",i.color||"primary"),n.xp6(1),n.Oqu(i._closeButtonText)}},dependencies:[Fn,jt,$Q,bc,b6],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[wG.transformPanel,wG.fadeInCalendar]},changeDetection:0}),r})(),DG=(()=>{class r{constructor(e,i,s,o,a,d,f){this._overlay=e,this._ngZone=i,this._viewContainerRef=s,this._dateAdapter=a,this._dir=d,this._model=f,this._inputStateChanges=Re.w.EMPTY,this._document=(0,n.f3M)(ne),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new n.vpe,this.monthSelected=new n.vpe,this.viewChanged=new n.vpe(!0),this.openedStream=new n.vpe,this.closedStream=new n.vpe,this._opened=!1,this.id="mat-datepicker-"+fce++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Fe.xQ,this._scrollStrategy=o}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=at(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=at(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=at(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function b9(r,t=/\s+/){const e=[];if(null!=r){const i=Array.isArray(r)?r:`${r}`.split(t);for(const s of i){const o=`${s}`.trim();o&&e.push(o)}}return e}(e)}get opened(){return this._opened}set opened(e){at(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;s instanceof ZZ&&(this._setConnectedPositions(s),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=kC(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:s,location:o}=this._componentRef;s._startExitAnimation(),s._animationDone.pipe(tn(1)).subscribe(()=>{const a=this._document.activeElement;e&&(!a||a===this._document.activeElement||o.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new jm(_ce,this._viewContainerRef),s=this._overlayRef=this._overlay.create(new OC({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(s).subscribe(o=>{o&&o.preventDefault(),this.close()}),s.keydownEvents().subscribe(o=>{const a=o.keyCode;(38===a||40===a||37===a||39===a||33===a||34===a)&&o.preventDefault()}),this._componentRef=s.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(tn(1)).subscribe(()=>s.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",s="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",a="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:a,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:a},{originX:s,originY:a,overlayX:s,overlayY:o},{originX:s,originY:o,overlayX:s,overlayY:a}])}_getCloseStream(e){return(0,ci.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Lt(i=>27===i.keyCode&&!Es(i)||this.datepickerInput&&Es(i,"altKey")&&38===i.keyCode)))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Go),n.Y36(n.R0b),n.Y36(n.s_b),n.Y36(TG),n.Y36(Ao,8),n.Y36(Ji,8),n.Y36(eg))},r.\u0275dir=n.lG2({type:r,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[n.TTD]}),r})(),yce=(()=>{class r extends DG{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[n._Bn([gG,{provide:DG,useExisting:r}]),n.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),r})();class mI{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let bce=(()=>{class r{constructor(e,i,s){this._elementRef=e,this._dateAdapter=i,this._dateFormats=s,this.dateChange=new n.vpe,this.dateInput=new n.vpe,this.stateChanges=new Fe.xQ,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Re.w.EMPTY,this._localeSubscription=Re.w.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),d=this._getMinDate();return!d||!a||this._dateAdapter.compareDate(d,a)<=0?null:{matDatepickerMin:{min:d,actual:a}}},this._maxValidator=o=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),d=this._getMaxDate();return!d||!a||this._dateAdapter.compareDate(d,a)>=0?null:{matDatepickerMax:{max:d,actual:a}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=at(e),s=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&s.blur&&s.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const s=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(s),this._cvaOnChange(s),this._onTouched(),this._formatValue(s),this.dateInput.emit(new mI(this,this._elementRef.nativeElement)),this.dateChange.emit(new mI(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function vce(r,t){const e=Object.keys(r);for(let i of e){const{previousValue:s,currentValue:o}=r[i];if(!t.isDateInstance(s)||!t.isDateInstance(o))return!0;if(!t.sameDate(s,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let s=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(s),s=this._dateAdapter.getValidDateOrNull(s);const o=!this._dateAdapter.sameDate(s,this.value);!s||o?this._cvaOnChange(s):(e&&!this.value&&this._cvaOnChange(s),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(s),this.dateInput.emit(new mI(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new mI(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(Ao,8),n.Y36(_y,8))},r.\u0275dir=n.lG2({type:r,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[n.TTD]}),r})();const Cce={provide:Ms,useExisting:(0,n.Gpc)(()=>v6),multi:!0},wce={provide:Zs,useExisting:(0,n.Gpc)(()=>v6),multi:!0};let v6=(()=>{class r extends bce{constructor(e,i,s,o){super(e,i,s),this._formField=o,this._closedSubscription=Re.w.EMPTY,this._validator=oe.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(Ao,8),n.Y36(_y,8),n.Y36(QM,8))},r.\u0275dir=n.lG2({type:r,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&n.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),2&e&&(n.Ikx("disabled",i.disabled),n.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[n._Bn([Cce,wce,{provide:QH,useExisting:r}]),n.qOj]}),r})(),xG=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["","matDatepickerToggleIcon",""]]}),r})(),Tce=(()=>{class r{constructor(e,i,s){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Re.w.EMPTY;const o=Number(s);this.tabIndex=o||0===o?o:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=at(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:(0,Ve.of)(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Ve.of)(),s=this.datepicker?(0,ci.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Ve.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,ci.T)(this._intl.changes,e,i,s).subscribe(()=>this._changeDetectorRef.markForCheck())}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(DD),n.Y36(n.sBO),n.$8M("tabindex"))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,s){if(1&e&&n.Suo(s,xG,5),2&e){let o;n.iGM(o=n.CRH())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&n.Gf(ece,5),2&e){let s;n.iGM(s=n.CRH())&&(i._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&n.NdJ("click",function(o){return i._open(o)}),2&e&&(n.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),n.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[n.TTD],ngContentSelectors:ice,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(n.F$t(nce),n.TgZ(0,"button",0,1),n.YNc(2,tce,2,0,"svg",2),n.Hsn(3),n.qZA()),2&e&&(n.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),n.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),n.xp6(2),n.Q6J("ngIf",!i._customIcon))},dependencies:[ke,jt],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),r})(),SG=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[DD,mce],imports:[Yn,by,my,EM,Gf,Xt,qf]}),r})(),Dce=(()=>{class r{constructor(e){this.datePipe=e,this.sourceID="sourceID",this.dateS="",this.owner="Public",this.access="access"}ngOnChanges(e){this.setData(this.extrainfo,this.annoinfo)}ngOnInit(){const e=new Date;this.dateS=this.datePipe.transform(e,"yyyy-MM-dd")}setData(e,i){null!=e&&(this.dateS=e.date,this.sourceID=e.sourceID,this.owner=e.owner,this.access=e.access)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(uh))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-catalogbaseextra"]],inputs:{extrainfo:"extrainfo",annoinfo:"annoinfo"},features:[n._Bn([uh]),n.TTD],decls:27,vars:6,consts:[[1,"extra"],["cols","11","rowHeight","70px"],["colspan","2"],[1,"sourceID"],["matInput","","disabled","",3,"value"],[1,"owner"],[1,"access"],["colspan","5"],["appearance","legacy",1,"example-full-width"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["matDatepickerToggleIcon",""],["picker",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"div",0)(1,"mat-grid-list",1)(2,"mat-grid-tile",2)(3,"mat-form-field",3)(4,"mat-label"),n._uU(5,"Source ID"),n.qZA(),n._UZ(6,"input",4),n.qZA()(),n.TgZ(7,"mat-grid-tile",2)(8,"mat-form-field",5)(9,"mat-label"),n._uU(10,"Owner"),n.qZA(),n._UZ(11,"input",4),n.qZA()(),n.TgZ(12,"mat-grid-tile",2)(13,"mat-form-field",6)(14,"mat-label"),n._uU(15,"Priviledges"),n.qZA(),n._UZ(16,"input",4),n.qZA()(),n.TgZ(17,"mat-grid-tile",7)(18,"mat-form-field",8)(19,"mat-label"),n._uU(20),n.qZA(),n._UZ(21,"input",9),n.TgZ(22,"mat-datepicker-toggle",10)(23,"mat-icon",11),n._uU(24,"keyboard_arrow_down"),n.qZA()(),n._UZ(25,"mat-datepicker",null,12),n.qZA()()()()),2&e){const s=n.MAs(26);n.xp6(6),n.s9C("value",i.sourceID),n.xp6(5),n.s9C("value",i.owner),n.xp6(5),n.s9C("value",i.access),n.xp6(4),n.Oqu(i.dateS),n.xp6(1),n.Q6J("matDatepicker",s),n.xp6(1),n.Q6J("for",s)}},dependencies:[rr,Rt,kt,HP,Pt,Et,wt,yce,v6,Tce,xG],styles:[".sourceID[_ngcontent-%COMP%], .access[_ngcontent-%COMP%]{float:left;width:100%}.owner[_ngcontent-%COMP%]{float:left;width:100%;background-color:primary}.date[_ngcontent-%COMP%]{float:left;width:100%}"]}),r})(),xce=(()=>{class r{constructor(){}ngOnChanges(e){this.setData(this.catidobj,this.annoinfo)}ngOnInit(){}setData(e,i){if(null!=i){const s="rdfs:label",o=i.simple;this.cataloganno=i.catalog;const a=i.base;this.simplelab=o[s],this.cataloglab=this.cataloganno[s],this.baselab=a[s]}null!=e&&(this.simple=e.simple,this.catalog=e.catalog,this.catalogbase=e.base)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-catalogid"]],inputs:{catidobj:"catidobj",annoinfo:"annoinfo"},features:[n.TTD],decls:17,vars:6,consts:[[1,"extra"],["cols","4","rowHeight","70px"],["colspan","1"],[1,"simple"],["matInput","","disabled","",3,"value"],[1,"catalog"],["colspan","2"],[1,"base"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"mat-grid-list",1)(2,"mat-grid-tile",2)(3,"mat-form-field",3)(4,"mat-label"),n._uU(5),n.qZA(),n._UZ(6,"input",4),n.qZA()(),n.TgZ(7,"mat-grid-tile",2)(8,"mat-form-field",5)(9,"mat-label"),n._uU(10),n.qZA(),n._UZ(11,"input",4),n.qZA()(),n.TgZ(12,"mat-grid-tile",6)(13,"mat-form-field",7)(14,"mat-label"),n._uU(15),n.qZA(),n._UZ(16,"input",4),n.qZA()()()()),2&e&&(n.xp6(5),n.Oqu(i.simplelab),n.xp6(1),n.s9C("value",i.simple),n.xp6(4),n.Oqu(i.cataloglab),n.xp6(1),n.s9C("value",i.catalog),n.xp6(4),n.Oqu(i.baselab),n.xp6(1),n.s9C("value",i.catalogbase))},dependencies:[Rt,kt,Pt,Et,wt],styles:[".extra[_ngcontent-%COMP%]{width:100%}.simple[_ngcontent-%COMP%], .catalog[_ngcontent-%COMP%], .base[_ngcontent-%COMP%]{width:100%;float:left}"],changeDetection:0}),r})();function Sce(r,t){1&r&&n._UZ(0,"div")}function Ace(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",8)(1,"button",9),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.addElement())}),n.TgZ(2,"mat-icon"),n._uU(3,"add_circle_outline"),n.qZA()(),n._uU(4),n.qZA()}if(2&r){const e=n.oxw();n.xp6(4),n.hij(" ",e.comment," ")}}function Ece(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"button",9),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.addElement())}),n.TgZ(1,"mat-icon"),n._uU(2,"add_circle_outline"),n.qZA()(),n._uU(3)}if(2&r){const e=n.oxw();n.xp6(3),n.hij(" ",e.comment," ")}}function Mce(r,t){1&r&&(n.TgZ(0,"div")(1,"div",13),n._UZ(2,"cdk-virtual-scroll-viewport",14),n.qZA()()),2&r&&(n.xp6(2),n.Q6J("itemSize",126))}function Ice(r,t){if(1&r&&(n.TgZ(0,"div")(1,"cdk-virtual-scroll-viewport",10)(2,"div",11),n.YNc(3,Mce,3,1,"div",12),n.qZA()()()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("itemSize",126),n.xp6(2),n.Q6J("ngForOf",e.refinfo)}}function kce(r,t){1&r&&n._UZ(0,"div",17)}function Rce(r,t){if(1&r&&(n.TgZ(0,"div",15),n.YNc(1,kce,1,0,"div",16),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.refinfo)}}function Nce(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" OOps; ",e.recordtype," ")}}let Oce=(()=>{class r{constructor(){this.primary=!0}ngOnInit(){}ngOnChanges(e){this.setData()}setData(){this.objanno=this.annoinfo[this.objlabel],this.recordlabel=this.objanno[O.rdfslabel],this.comment=this.objanno[O.rdfscomment],this.recordtype=this.objanno[O.dctype]}addElement(){if(null==this.refinfo&&(this.refinfo=[]),"DataSetReference"==this.recordtype){const e={};e[O.datacitePrimaryResourceIdentifier]="DOI",e[O.dctermstitle]="title",e[O.dctermsdescription]="reference",e[O.dccreator]=[],this.refinfo.push(e)}if("NameOfPerson"==this.recordtype){const e={};e[O.foaftitle]="Dr.",e[O.foafGivenName]="Bugs",e[O.foafFamilyName]="Bunny",this.refinfo.push(e)}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-multiplerecords"]],inputs:{annoinfo:"annoinfo",refinfo:"refinfo",objlabel:"objlabel",primary:"primary"},features:[n.TTD],decls:11,vars:6,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["class","elseblock"],["elseBlock",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","subobjectref",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"block"],[3,"click"],[1,"masterviewport",3,"itemSize"],[1,"multbox"],[4,"ngFor","ngForOf"],[1,"multboxelement"],[1,"viewport",3,"itemSize"],[1,"subobjectref"],["width","100%",4,"ngFor","ngForOf"],["width","100%"]],template:function(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,Sce,1,0,"div",0),n.YNc(2,Ace,5,1,"ng-template",null,1,n.W1O),n.YNc(4,Ece,4,1,"ng-template",2,3,n.W1O),n.TgZ(6,"div",4),n.YNc(7,Ice,4,2,"div",5),n.YNc(8,Rce,2,1,"div",6),n.TgZ(9,"div"),n.YNc(10,Nce,2,1,"div",7),n.qZA()()()),2&e){const s=n.MAs(3),o=n.MAs(5);n.xp6(1),n.Q6J("ngIf",i.primary)("ngIfThen",s)("ngIfElse",o),n.xp6(5),n.Q6J("ngSwitch",i.recordtype),n.xp6(1),n.Q6J("ngSwitchCase","DataSetReference"),n.xp6(1),n.Q6J("ngSwitchCase","NameOfPerson")}},dependencies:[ln,ke,Gs,Is,Ca,rr,G9,W9],styles:['.block[_ngcontent-%COMP%]{background-color:#0cf;width:"100%"}.elseblock[_ngcontent-%COMP%]{background-color:#6cf}.masterviewport[_ngcontent-%COMP%]{height:300px;width:100%;border:1px solid black}.viewport[_ngcontent-%COMP%]{height:300px;width:600px;border:1px solid black}.multbox[_ngcontent-%COMP%]{display:flex;background-color:#6ff}.multboxelement[_ngcontent-%COMP%]{flex:1;padding-right:30px}.objectref[_ngcontent-%COMP%]{background-color:#6ff;padding-bottom:20px}.subobjectref[_ngcontent-%COMP%]{background-color:#6ff;padding-bottom:5px}']}),r})();const Fce=["basedataobj"],Pce=["catid"];function Lce(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div"),n._UZ(1,"app-catalogbaseextra",4)(2,"mat-divider")(3,"app-catalogid",5)(4,"mat-divider")(5,"mat-divider"),n.TgZ(6,"app-multiplerecords",6),n.NdJ("refinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.catalogobj.ref=s)})("refinfochange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.refinfochange(s))}),n.qZA(),n._UZ(7,"mat-divider"),n.TgZ(8,"app-multiplerecords",6),n.NdJ("refinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.catalogobj.httpreference=s)})("refinfochange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.refinfochange(s))}),n.qZA(),n._UZ(9,"mat-divider"),n.qZA()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("extrainfo",e.catalogobj),n.xp6(2),n.Q6J("catidobj",e.catidobj)("annoinfo",e.annoinfo),n.xp6(3),n.Q6J("annoinfo",e.annoinfo)("refinfo",e.catalogobj.ref)("objlabel","ref"),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("refinfo",e.catalogobj.httpreference)("objlabel","httpreference")}}let Bce=(()=>{class r extends eG{constructor(e){super(),this.annotations=e,this.type="type",this.title="one line description",this.showExtra=!1,this.descriptionsuffix="FileStaging"}ngOnInit(){this.annotations.getNewCatalogObject("dataset:RepositoryFileStaging").subscribe({next:e=>{const i=this.messageToJSON(e);if(this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.baseobjdata=this.catalogobj,alert(JSON.stringify(this.baseobjdata)),this.catidobj=this.catalogobj.catid,this.reflabel="ref"}else alert(this.message)},error:e=>{alert("Get Annotations failed:"+this.message)}})}setData(e,i){null!=this.baseobj&&this.baseobj.setData(e,i),null!=this.catid&&this.catid.setData(e.catid,i)}saveit(){alert(JSON.stringify(this.catalogobj.ref))}refinfochange(e){}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-repositorydatafile"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Fce,5),n.Gf(Pce,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.baseobj=s.first),n.iGM(s=n.CRH())&&(i.catid=s.first)}},features:[n.qOj],decls:6,vars:4,consts:[["mat-button","","color","primary",1,"repository",3,"click"],[3,"baseobjdata","descriptionsuffix","annoinfo","toggleView"],["basedataobj",""],[4,"ngIf"],[3,"annoinfo","extrainfo"],[3,"catidobj","annoinfo"],[3,"annoinfo","refinfo","objlabel","refinfoChange","refinfochange"]],template:function(e,i){1&e&&(n.TgZ(0,"div")(1,"button",0),n.NdJ("click",function(){return i.saveit()}),n._uU(2," save it "),n.qZA()(),n.TgZ(3,"app-catalogbasedata",1,2),n.NdJ("toggleView",function(o){return i.toggleView(o)}),n.qZA(),n.YNc(5,Lce,10,10,"div",3)),2&e&&(n.xp6(3),n.Q6J("baseobjdata",i.baseobjdata)("descriptionsuffix",i.descriptionsuffix)("annoinfo",i.annoinfo),n.xp6(2),n.Q6J("ngIf",i.showData))},dependencies:[ke,jt,zr,Zle,Dce,xce,Oce],styles:[".repository[_ngcontent-%COMP%]{width:100%;height:50px;color:primary}"]}),r})();const Uce=["fixedpartitionblock"],Vce=["thermopartitionblock"];function Zce(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-repositoryparsedtofixedblocksize",13,14),n.NdJ("cataloginfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.cataloginfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("cataloginfo",e.cataloginfo)}}function jce(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-repositorythergasthermodynamicsblock",13,15),n.NdJ("cataloginfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.cataloginfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("cataloginfo",e.cataloginfo)}}function Hce(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"span")(1,"button",16),n.NdJ("click",function(){const o=n.CHM(e).index,a=n.oxw();return n.KtG(a.setCatalogType(o))}),n._uU(2),n.qZA()()}if(2&r){const e=t.$implicit;n.xp6(2),n.hij(" ",e.label," ")}}let qce=(()=>{class r{constructor(e,i,s,o){this.dialog=s,this.dialogvis=o,this.title="Manage Repository File Staging",this.readinfailed="Catalog object read failed",this.ctypechoice="Partition Type to Visualize",this.displaydescbutton="Display Partition as JSON",this.displaybutton="Display",this.savedescr="Save to database",this.savebutton="Save",this.fetchdescr="Retrieve from Database",this.fetchbutton="Retrieve",this.errorcatalogtypes="Error in determining catalog types",this.message="info not initialized",e.determineMaintainer().subscribe(a=>{null!=a?this.maintainer=a:alert(e.errormaintainer)}),i.getTherGasCatalogTypes().subscribe(a=>{null!=a?this.catalogtypes=a:alert(i.errorcatalogtypes)})}ngOnInit(){this.setCatalogType(1)}saveCatalog(){const e={};this.getData(e),this.openDialog(e)}openDialog(e){this.dialog.open(wD,{data:{catalog:e,annotations:this.annoinfo}}).afterClosed().subscribe(s=>{alert(s)})}getAnnotations(){let e={};return 0==this.ctypeid?e=this.fixedpartitionblock.annoinfo:1==this.ctypeid&&(e=this.thermopartitionblock.annoinfo),e}setData(e){0==this.ctypeid?this.fixedpartitionblock.setData(e):1==this.ctypeid&&this.thermopartitionblock.setData(e)}getData(e){0==this.ctypeid?this.fixedpartitionblock.getData(e):1==this.ctypeid&&this.thermopartitionblock.getData(e)}fetchInformation(){this.annoinfo=this.getAnnotations(),this.dialog.open(xy,{data:{annoinfo:this.annoinfo,maintainer:this.maintainer,fromdatabase:!0,catalogtype:this.catalogtype}}).afterClosed().subscribe(i=>{if(null!=i){const s=i["dataset:servicesuccessful"];this.message=i["dataset:serviceresponsemessage"],"true"==s?(this.catalog=i["dataset:simpcatobj"],this.setData(this.catalog)):this.message="Fail to fetch Partition Block"}else this.message=this.readinfailed})}setCatalogType(e){this.ctypelabel=this.catalogtypes[e].label,this.ctypeid=this.catalogtypes[e].id,this.catalogtype=this.catalogtypes[e].catalog,this.cataloginfo=this.catalogtypes[e],0==this.ctypeid?this.fixedpartitionblock.setFormat(this.cataloginfo):1==this.ctypeid&&this.thermopartitionblock.setFormat(this.cataloginfo)}displayCatalogInfo(){const e={};this.getData(e);let i=this.ctypelabel;const s=new Yo;s.disableClose=!1,s.autoFocus=!0,s.data={filename:i,dataimage:e},this.dialogvis.open(vc,s).afterClosed().subscribe(a=>{})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(yr),n.Y36(nG),n.Y36(Pi),n.Y36(Pi))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-managerepositorydatapartitionblockcomponent"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Uce,5),n.Gf(Vce,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.fixedpartitionblock=s.first),n.iGM(s=n.CRH())&&(i.thermopartitionblock=s.first)}},decls:27,vars:17,consts:[[1,"cardbase"],[1,"title-group"],[1,"title"],["cols","8","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"display-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"fetch-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"rbutton",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"rtypebutton",3,"matMenuTriggerFor"],[4,"ngIf"],[3,"innerHTML"],["ctypes","matMenu"],[4,"ngFor","ngForOf"],[3,"cataloginfo","cataloginfoChange"],["fixedpartitionblock",""],["thermopartitionblock",""],["mat-menu-item","",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-title",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content")(6,"mat-grid-list",3)(7,"mat-grid-tile",4)(8,"button",5),n.NdJ("click",function(){return i.displayCatalogInfo()}),n._uU(9),n.qZA()(),n.TgZ(10,"mat-grid-tile",4)(11,"button",6),n.NdJ("click",function(){return i.fetchInformation()}),n._uU(12),n.qZA()(),n.TgZ(13,"mat-grid-tile",4)(14,"button",7),n.NdJ("click",function(){return i.saveCatalog()}),n._uU(15),n.qZA()(),n.TgZ(16,"mat-grid-tile",4)(17,"button",8),n._uU(18),n.qZA()()(),n._UZ(19,"mat-divider"),n.YNc(20,Zce,3,1,"ng-container",9),n.YNc(21,jce,3,1,"ng-container",9),n._UZ(22,"mat-divider")(23,"div",10),n.qZA(),n.TgZ(24,"mat-menu",null,11),n.YNc(26,Hce,3,1,"span",12),n.qZA()()),2&e){const s=n.MAs(25);n.xp6(4),n.Oqu(i.title),n.xp6(3),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.displaydescbutton),n.xp6(1),n.Oqu(i.displaybutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.fetchdescr),n.xp6(1),n.Oqu(i.fetchbutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.savedescr),n.xp6(1),n.Oqu(i.savebutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.Q6J("matMenuTriggerFor",s),n.xp6(1),n.Oqu(i.ctypelabel),n.xp6(2),n.Q6J("ngIf",0==i.ctypeid),n.xp6(1),n.Q6J("ngIf",1==i.ctypeid),n.xp6(2),n.Q6J("innerHTML",i.message,n.oJD),n.xp6(3),n.Q6J("ngForOf",i.catalogtypes)}},dependencies:[ln,ke,jt,zr,jC,Km,ti,ro,et,lt,gn,Xe,Oi,Et,wt,sG,rG],styles:[".rbutton[_ngcontent-%COMP%]{float:right;width:100%}.title-group[_ngcontent-%COMP%], .fetch-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%], .display-btn[_ngcontent-%COMP%], .rtypebutton[_ngcontent-%COMP%]{width:100%}"]}),r})();const Gce=["staging"];let Yce=(()=>{class r{constructor(e,i,s){this.dialogvis=e,this.dialog=i,this.loadfromdatabase="Load object from file or database",this.fetchstaging="Retrieve",this.readinfailed="Read of staging information failed (problem with server)",this.displaydescbutton="Display Partition as JSON",this.displaybutton="Display",this.savedescr="Save to database",this.savebutton="Save",this.title="File Staging",s.determineMaintainer().subscribe(o=>{null!=o?this.maintainer=o:alert(s.errormaintainer)})}ngOnInit(){}fetchInformation(){this.annoinfo=this.staging.annoinfo,this.dialog.open(xy,{data:{annoinfo:this.annoinfo,maintainer:this.maintainer,fromdatabase:!0,catalogtype:"dataset:RepositoryFileStaging"}}).afterClosed().subscribe(i=>{if(null!=i){const s=i["dataset:servicesuccessful"];if(this.resultHtml=i["dataset:serviceresponsemessage"],"true"==s){const o=i["dataset:simpcatobj"];null!=o&&this.staging.setData(o)}}else this.resultHtml=this.readinfailed})}displayCatalogInfo(){const e={};this.staging.getData(e);const i=new Yo;i.disableClose=!1,i.autoFocus=!0,i.data={filename:this.title,dataimage:e},this.dialogvis.open(vc,i).afterClosed().subscribe(o=>{})}saveCatalog(){const e={};this.staging.getData(e),this.openDialog(e)}openDialog(e){this.dialog.open(wD,{data:{catalog:e,annotations:this.annoinfo}}).afterClosed().subscribe(s=>{alert(s)})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Pi),n.Y36(Pi),n.Y36(yr))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-managedatasetrepositoryfilestaging"]],viewQuery:function(e,i){if(1&e&&n.Gf(Gce,5),2&e){let s;n.iGM(s=n.CRH())&&(i.staging=s.first)}},decls:20,vars:12,consts:[["cols","6","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"display-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"rbutton",3,"matTooltip","click"],[3,"innerHTML"],["staging",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content")(5,"mat-grid-list",0)(6,"mat-grid-tile",1)(7,"button",2),n.NdJ("click",function(){return i.displayCatalogInfo()}),n._uU(8),n.qZA()(),n.TgZ(9,"mat-grid-tile",1)(10,"button",3),n.NdJ("click",function(){return i.fetchInformation()}),n._uU(11),n.qZA()(),n.TgZ(12,"mat-grid-tile",1)(13,"button",4),n.NdJ("click",function(){return i.saveCatalog()}),n._uU(14),n.qZA()()(),n.TgZ(15,"mat-grid-list",0)(16,"mat-grid-tile",1),n._UZ(17,"div",5),n.qZA()(),n._UZ(18,"app-datasetrepositoryfilestaging",null,6),n.qZA()()),2&e&&(n.xp6(3),n.hij("\n",i.title,"\n"),n.xp6(3),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.displaydescbutton),n.xp6(1),n.Oqu(i.displaybutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.loadfromdatabase),n.xp6(1),n.hij(" ",i.fetchstaging," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.savedescr),n.xp6(1),n.Oqu(i.savebutton),n.xp6(2),n.Q6J("colspan",6),n.xp6(1),n.Q6J("innerHTML",i.resultHtml,n.oJD))},dependencies:[jt,ro,et,lt,Xe,Oi,Et,wt,o6],styles:[".submit-btn[_ngcontent-%COMP%], .display-btn[_ngcontent-%COMP%]{width:100%}.rbutton[_ngcontent-%COMP%]{float:right;width:100%}"]}),r})();function Jce(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",4)(2,"mat-grid-list",5)(3,"mat-grid-tile",6)(4,"mat-form-field",7)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",6)(11,"mat-form-field",9)(12,"mat-label"),n._uU(13),n.qZA(),n._UZ(14,"input",10),n.TgZ(15,"mat-hint"),n._uU(16),n.qZA()()(),n.TgZ(17,"mat-grid-tile",6)(18,"mat-form-field",11)(19,"mat-label"),n._uU(20),n.qZA(),n._UZ(21,"input",12),n.TgZ(22,"mat-hint"),n._uU(23),n.qZA()(),n.TgZ(24,"app-menu-item",13,14),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setTransaction(s))}),n.qZA()(),n.TgZ(26,"mat-grid-tile",6)(27,"mat-form-field",15)(28,"mat-label"),n._uU(29),n.qZA(),n._UZ(30,"input",16),n.TgZ(31,"mat-hint"),n._uU(32),n.qZA()()(),n.TgZ(33,"mat-grid-tile",6)(34,"button",17),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.fetchFromDatabaseObject())}),n._uU(35," Fetch from Dataset "),n.qZA()()()(),n.BQk()}if(2&r){const e=n.MAs(25),i=n.oxw();n.xp6(1),n.Q6J("formGroup",i.idForm),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.hij("",i.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][i.rdfslabel]," "),n.xp6(3),n.hij("",i.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][i.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.Oqu(i.annoinfo["dataset:DatasetName"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:DatasetName"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.Oqu(i.transactionslabel),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.Oqu(i.transactionshint),n.xp6(1),n.Q6J("items",i.transactionsitems),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.Oqu(i.annoinfo["dataset:TransactionID"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:TransactionID"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",6),n.xp6(1),n.Q6J("disabled",i.idForm.invalid)}}function zce(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Initializing "),n.qZA())}let $ce=(()=>{class r{constructor(e,i,s,o,a){this.fb=e,this.menusetup=i,this.dialogRef=s,this.runservice=o,this.data=a,this.transactionslabel="Transaction Event",this.transactionshint="Transaction Event",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.serviceid="service",this.annoinfoid="annoinfo",this.maintainerid="maintainer",this.transactionchoicesid="transactionchoices",this.transactionid="transaction",this.transactions="dataset:TransactionEventType",this.idForm=this.fb.group({DatasetName:["",oe.required],CatalogObjectUniqueGenericLabel:["",oe.required],TransactionID:["",oe.required],TransactionEventType:["",oe.required]}),this.annoinfo=a[this.annoinfoid],this.maintainer=a[this.maintainerid];const d=a[this.transactionchoicesid];null!=d&&(this.transactions=d);const f=a[this.transactionid];null!=f&&this.idForm.get("TransactionEventType").setValue(f),this.transactionsitems=this.menusetup.findChoices(this.annoinfo,this.transactions)}ngOnInit(){}setTransaction(e){this.idForm.get("TransactionEventType").setValue(e)}onNoClick(){this.dialogRef.close()}fetchFromDatabaseObject(){const e={};e[this.serviceid]="FindSpecificTransactionInDataset",e[this.annoinfo["dataset:TransactionID"][this.identifier]]=this.idForm.get("TransactionID").value,e[this.annoinfo["dataset:TransactionEventType"][this.identifier]]=this.idForm.get("TransactionEventType").value;const i={};e[this.annoinfo["dataset:ActivityInformationRecord"][this.identifier]]=i;const s={};i[this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier]]=s,s[this.annoinfo["dataset:DatasetVersion"][this.identifier]]="1.0",s[this.annoinfo["dataset:DatasetName"][this.identifier]]=this.idForm.get("DatasetName").value,s[this.annoinfo["dataset:CatalogObjectUniqueGenericLabel"][this.identifier]]=this.idForm.get("CatalogObjectUniqueGenericLabel").value,s["dataset:catalogobjectmaintainer"]=this.maintainer,this.runservice.run(e).subscribe({next:a=>{"true"==a["dataset:servicesuccessful"]||this.runservice.checkReturn(a),this.dialogRef.close(a)}})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Si),n.Y36(Su),n.Y36(ga),n.Y36(eh))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-findspecifictransactionindataset"]],decls:8,vars:2,consts:[[1,"matcard"],[4,"ngIf","ngIfElse"],["waiting",""],["mat-button","",3,"click"],[3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"generic"],["matInput","","formControlName","CatalogObjectUniqueGenericLabel"],[1,"datasetname"],["matInput","","formControlName","DatasetName"],[1,"transactions"],["matInput","","formControlName","TransactionEventType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["transactionsmenu",""],[1,"transactionid"],["matInput","","formControlName","TransactionID","placeholder","1.0"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"disabled","click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-content"),n.YNc(2,Jce,36,17,"ng-container",1),n.YNc(3,zce,2,0,"ng-template",null,2,n.W1O),n.qZA(),n.TgZ(5,"mat-card-footer")(6,"button",3),n.NdJ("click",function(){return i.onNoClick()}),n._uU(7,"Cancel"),n.qZA()()()),2&e){const s=n.MAs(4);n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ke,jt,ti,Rt,en,kt,Pt,et,Xe,pD,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Fi],styles:[".matcard[_ngcontent-%COMP%]{width:500px}.generic[_ngcontent-%COMP%], .datasetname[_ngcontent-%COMP%]{width:100%;padding:20px}.uploadform[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{width:100%}.transactions[_ngcontent-%COMP%], .transactionid[_ngcontent-%COMP%]{width:100%;padding:20px}"]}),r})();const Qce=["firestoreid"],Wce=["spec"],Kce=["activity"],Xce=["outputobjects"],eue=["requiredobjects"];function tue(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",24)(2,"span"),n._uU(3),n.qZA()(),n.TgZ(4,"app-menu-item",25,26),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.setTransaction(s))}),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(5),i=n.oxw(2);n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.Oqu(i.transactionlabel),n.xp6(1),n.Q6J("items",i.items)}}function nue(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Transaction Choices "),n.qZA())}function iue(r,t){if(1&r&&(n.ynx(0),n._UZ(1,"app-activityinformation",27,28),n.BQk()),2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("activityname",e.activityname)}}function rue(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," Loading Activity "),n.qZA())}function sue(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div")(2,"form",5)(3,"mat-grid-list",6)(4,"mat-grid-tile",7)(5,"mat-form-field",8)(6,"mat-label"),n._uU(7),n.qZA(),n._UZ(8,"input",9),n.TgZ(9,"mat-hint"),n._uU(10),n.qZA()()(),n.TgZ(11,"mat-grid-tile",7)(12,"mat-form-field",8)(13,"mat-label"),n._uU(14),n.qZA(),n._UZ(15,"input",10),n.TgZ(16,"mat-hint"),n._uU(17),n.qZA()()(),n.TgZ(18,"mat-grid-tile",7)(19,"mat-form-field",8)(20,"mat-label"),n._uU(21),n.qZA(),n._UZ(22,"input",11),n.TgZ(23,"mat-hint"),n._uU(24),n.qZA()()(),n.TgZ(25,"mat-grid-tile",7)(26,"mat-form-field",8)(27,"mat-label"),n._uU(28),n.qZA(),n._UZ(29,"input",12),n.TgZ(30,"mat-hint"),n._uU(31),n.qZA()()(),n.TgZ(32,"mat-grid-tile",7)(33,"mat-form-field",8)(34,"mat-label"),n._uU(35),n.qZA(),n._UZ(36,"input",13),n.TgZ(37,"mat-hint"),n._uU(38),n.qZA()()(),n.TgZ(39,"mat-grid-tile",7)(40,"mat-form-field",8)(41,"mat-label"),n._uU(42),n.qZA(),n._UZ(43,"input",14),n.TgZ(44,"mat-hint"),n._uU(45),n.qZA()()()()()(),n.YNc(46,tue,6,3,"ng-container",3),n.YNc(47,nue,2,0,"ng-template",null,15,n.W1O),n.YNc(49,iue,3,1,"ng-container",3),n.YNc(50,rue,2,0,"ng-template",null,16,n.W1O),n.TgZ(52,"app-listoffirestoreids",17,18),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("listtitleChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.outputtransactions=s)}),n.qZA(),n.TgZ(54,"app-listoffirestoreids",17,19),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("listtitleChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.inputtransactions=s)}),n.qZA(),n.TgZ(56,"app-datasettransactionspecificationforcollection",20,21),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.TgZ(58,"app-firesytorecatalogid",22,23),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(48),i=n.MAs(51),s=n.oxw();n.xp6(2),n.Q6J("formGroup",s.objectform),n.xp6(2),n.Q6J("colspan",6),n.xp6(3),n.Oqu(s.annoinfo["dataset:DataTypeComment"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:DataTypeComment"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:TransactionEventType"][s.rdfslabel]),n.xp6(1),n.Q6J("readonly",!0),n.xp6(2),n.Oqu(s.annoinfo["dataset:TransactionEventType"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:TransactionKey"][s.rdfslabel]),n.xp6(1),n.Q6J("readonly",!0),n.xp6(2),n.Oqu(s.annoinfo["dataset:TransactionKey"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:DatabaseObjectType"][s.rdfslabel]),n.xp6(1),n.Q6J("readonly",!0),n.xp6(2),n.Oqu(s.annoinfo["dataset:DatabaseObjectType"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:CatalogObjectOwner"][s.rdfslabel]),n.xp6(1),n.Q6J("readonly",!0),n.xp6(2),n.Oqu(s.annoinfo["dataset:CatalogObjectOwner"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",4),n.xp6(3),n.Oqu(s.annoinfo["dataset:TransactionID"][s.rdfslabel]),n.xp6(1),n.Q6J("readonly",!0),n.xp6(2),n.Oqu(s.annoinfo["dataset:TransactionID"][s.rdfscomment]),n.xp6(1),n.Q6J("ngIf",s.displaytransactions)("ngIfElse",e),n.xp6(3),n.Q6J("ngIf",s.activitydisplay)("ngIfElse",i),n.xp6(3),n.Q6J("annoinfo",s.annoinfo)("listtitle",s.outputtransactions),n.xp6(2),n.Q6J("annoinfo",s.annoinfo)("listtitle",s.inputtransactions),n.xp6(2),n.Q6J("annoinfo",s.annoinfo),n.xp6(2),n.Q6J("anno",s.annoinfo)}}function oue(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.message," ")}}let aue=(()=>{class r{constructor(e,i,s,o,a,d,f){this.formBuilder=e,this.annotations=s,this.router=o,this.route=a,this.runservice=d,this.menusetup=f,this.annoReady=new n.vpe,this.display=!1,this.displaytransactions=!1,this.activitydisplay=!1,this.activityname="dataset:ActivityRepositoryInitialReadLocalFile",this.catalogtype="dataset:DatasetTransactionEventObject",this.title="Dataset Transaction Event",this.transactionlabel="Choose Transaction",this.outputtransactions="Output Objects",this.inputtransactions="Input Objects",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.serviceid="service",this.activityinfo="dataset:activityinfo",i.determineMaintainer().subscribe(T=>{null!=T?this.maintainer=T:alert(i.errormaintainer)}),this.getCatalogAnnoations();const g={};g[this.serviceid]="DatasetCreateTransactionTree",g[this.activityinfo]={},this.runservice.run(g).subscribe({next:T=>{if("true"==T["dataset:servicesuccessful"]){const R=T["dataset:simpcatobj"];this.transanno=R.annotations,null!=R?(this.items=f.findTransactionChoices(R),this.displaytransactions=!0):alert("no classification result")}else alert("not successful")}})}setTransaction(e){this.activityinfotype=this.transanno[e],null!=this.activityinfotype&&(this.activityname=this.activityinfotype["dcterms:source"],this.transactionlabel=this.activityname,null!=this.activityname&&(this.activitydisplay=!0))}setIDs(){this.shortdescriptionid=this.annoinfo["dataset:ShortTransactionDescription"][this.identifier],this.firestorecatid=this.annoinfo["dataset:FirestoreCatalogID"][this.identifier],this.specid=this.annoinfo["dataset:DatasetTransactionSpecificationForCollection"][this.identifier],this.activityid=this.annoinfo["dataset:ActivityInformationRecord"][this.identifier],this.typecommentid=this.annoinfo["dataset:DataTypeComment"][this.identifier],this.transkeyid=this.annoinfo["dataset:TransactionKey"][this.identifier],this.eventtypeid=this.annoinfo["dataset:TransactionEventType"][this.identifier],this.objtypeid=this.annoinfo["dataset:DatabaseObjectType"][this.identifier],this.transidid=this.annoinfo["dataset:TransactionID"][this.identifier],this.ownerid=this.annoinfo["dataset:CatalogObjectOwner"][this.identifier]}ngOnInit(){this.objectform=this.formBuilder.group({DataTypeComment:["",oe.required],TransactionKey:["",oe.required],TransactionEventType:["",oe.required],DatabaseObjectType:["",oe.required],TransactionID:["",oe.required],CatalogObjectOwner:["",oe.required]})}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;if(this.message=i[O.message],i[O.successful]){const s=i[O.catalogobject];this.catalogobj=s[O.outputobject],this.annoinfo=s[O.annotations],this.display=!0,this.annoReady.emit(this.annoinfo)}else this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}getData(e){this.setIDs(),e[this.identifier]="dataset:datasettransactionevent",e[this.objtypeid]=this.objectform.get("DatabaseObjectType").value,e[this.transidid]=this.objectform.get("TransactionID").value,e[this.ownerid]=this.maintainer;const i={};e[this.shortdescriptionid]=i,i[this.typecommentid]=this.objectform.get("DataTypeComment").value,i[this.transkeyid]=this.objectform.get("TransactionKey").value,i[this.eventtypeid]=this.objectform.get("TransactionEventType").value;const s={};e[this.firestorecatid]=s,this.firestoreid.getData(s);const o={};e[this.specid]=o,this.spec.getData(o);const a={};e[this.activityid]=a,this.activity.getData(a);const d=[];e["dataset:transoutobjid"]=d,this.outputobjects.getData(d)}setData(e){this.setIDs(),this.objectform.get("DatabaseObjectType").setValue(e[this.objtypeid]),this.objectform.get("CatalogObjectOwner").setValue(e[this.ownerid]),this.objectform.get("TransactionID").setValue(e[this.transidid]);const i=e[this.shortdescriptionid];this.objectform.get("DataTypeComment").setValue(i[this.typecommentid]),this.objectform.get("TransactionKey").setValue(i[this.transkeyid]),this.objectform.get("TransactionEventType").setValue(i[this.eventtypeid]),this.maintainer=e[this.ownerid],this.firestoreid.setData(e[this.firestorecatid]),this.spec.setData(e[this.specid]),this.activity.setData(e[this.activityid]),this.outputobjects.setData(e["dataset:transoutobjid"]),this.requiredobjects.setData(e["dataset:requiredtransitionid"])}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(yr),n.Y36(Rn),n.Y36(jn),n.Y36(au),n.Y36(ga),n.Y36(Si))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-datasettransactioneventobject"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Qce,5),n.Gf(Wce,5),n.Gf(Kce,5),n.Gf(Xce,5),n.Gf(eue,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.firestoreid=s.first),n.iGM(s=n.CRH())&&(i.spec=s.first),n.iGM(s=n.CRH())&&(i.activity=s.first),n.iGM(s=n.CRH())&&(i.outputobjects=s.first),n.iGM(s=n.CRH())&&(i.requiredobjects=s.first)}},inputs:{catalogobj:"catalogobj"},outputs:{annoReady:"annoReady"},decls:9,vars:3,consts:[[1,"cardbase"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],["cols","6","rowHeight","100px"],[3,"colspan"],[1,"namefield"],["matInput","","formControlName","DataTypeComment",1,"namefield"],["matInput","","formControlName","TransactionEventType",1,"namefield",3,"readonly"],["matInput","","formControlName","TransactionKey",1,"namefield",3,"readonly"],["matInput","","formControlName","DatabaseObjectType",1,"namefield",3,"readonly"],["matInput","","formControlName","CatalogObjectOwner",1,"namefield",3,"readonly"],["matInput","","formControlName","TransactionID",1,"namefield",3,"readonly"],["loadingchoices",""],["loadingactivity",""],[3,"annoinfo","listtitle","annoinfoChange","listtitleChange"],["outputobjects",""],["requiredobjects",""],[3,"annoinfo","annoinfoChange"],["spec",""],[3,"anno","annoChange"],["firestoreid",""],["mat-menu-item","","color","primary",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],[3,"activityname"],["activity",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,sue,60,34,"ng-container",3),n.YNc(7,oue,2,1,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",i.display)("ngIfElse",s)}},dependencies:[ke,Km,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Du,Fi,$f,cG,u6],styles:[".namefield[_ngcontent-%COMP%]{width:100%}"]}),r})();const lue=["transevent"];let cue=(()=>{class r{constructor(e,i){this.dialog=e,this.readinfailed="Read of staging information failed (problem with server)",this.title="Transaction Event",this.displaydescbutton="Display Partition as JSON",this.displaybutton="Display",this.savedescr="Save to database",this.savebutton="Save",this.loadfromdatabase="Fetch transition from database",this.fetch="Database",i.determineMaintainer().subscribe(s=>{null!=s?this.maintainer=s:alert(i.errormaintainer)})}ngOnInit(){}fetchInformation(){this.annoinfo=this.transevent.annoinfo,this.dialog.open($ce,{data:{annoinfo:this.annoinfo,maintainer:this.maintainer}}).afterClosed().subscribe(i=>{if(null!=i){const s=i["dataset:servicesuccessful"];if(this.resultHtml=i["dataset:serviceresponsemessage"],"true"==s){const o=i["dataset:simpcatobj"];null!=o&&this.transevent.setData(o)}else alert("Error in reading: "+JSON.stringify(i))}else this.resultHtml=this.readinfailed})}displayCatalogInfo(){const e={};this.transevent.getData(e);const i=new Yo;i.disableClose=!1,i.autoFocus=!0,i.data={filename:this.title,dataimage:e},this.dialog.open(vc,i).afterClosed().subscribe(o=>{})}saveCatalog(){const e={};this.transevent.getData(e),this.openDialog(e)}openDialog(e){this.dialog.open(wD,{data:{catalog:e,annotations:this.annoinfo}}).afterClosed().subscribe(s=>{alert(s)})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Pi),n.Y36(yr))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-managedatasettransactioneventobject"]],viewQuery:function(e,i){if(1&e&&n.Gf(lue,5),2&e){let s;n.iGM(s=n.CRH())&&(i.transevent=s.first)}},decls:25,vars:12,consts:[["cols","6","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"display-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"rbutton",3,"matTooltip","click"],["transevent",""],["cols","6"],[3,"innerHTML"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content")(5,"mat-grid-list",0)(6,"mat-grid-tile",1)(7,"button",2),n.NdJ("click",function(){return i.displayCatalogInfo()}),n._uU(8),n.qZA()(),n.TgZ(9,"mat-grid-tile",1)(10,"button",3),n.NdJ("click",function(){return i.fetchInformation()}),n._uU(11),n.qZA()(),n.TgZ(12,"mat-grid-tile",1)(13,"button",4),n.NdJ("click",function(){return i.saveCatalog()}),n._uU(14),n.qZA()()(),n._UZ(15,"app-datasettransactioneventobject",null,5),n.qZA()(),n.TgZ(17,"mat-card")(18,"mat-card-header")(19,"mat-card-title"),n._uU(20,"\nHTML Output\n"),n.qZA()(),n.TgZ(21,"mat-card-content")(22,"mat-grid-list",6)(23,"mat-grid-tile",1),n._UZ(24,"div",7),n.qZA()()()()),2&e&&(n.xp6(3),n.hij("\n",i.title,"\n"),n.xp6(3),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.displaydescbutton),n.xp6(1),n.Oqu(i.displaybutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.loadfromdatabase),n.xp6(1),n.hij(" ",i.fetch," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.savedescr),n.xp6(1),n.Oqu(i.savebutton),n.xp6(9),n.Q6J("colspan",6),n.xp6(1),n.Q6J("innerHTML",i.resultHtml,n.oJD))},dependencies:[jt,ro,et,lt,Xe,Oi,Et,wt,aue],styles:[".submit-btn[_ngcontent-%COMP%], .display-btn[_ngcontent-%COMP%]{width:100%}.rbutton[_ngcontent-%COMP%]{float:right;width:100%}"]}),r})();const uue=["catalogvis"];function due(r,t){if(1&r&&(n.TgZ(0,"mat-option",11),n._uU(1),n.qZA()),2&r){const e=t.$implicit;n.Q6J("value",e),n.xp6(1),n.hij(" ",e," ")}}let hue=(()=>{class r{constructor(e,i,s){this.dialog=e,this.annotations=s,this.readinfailed="Read of staging information failed (problem with server)",this.title="Manage Catalog Object",this.choices=["dataset:RepositoryFileStaging","dataset:RepositoryParsedToFixedBlockSize","dataset:RepositoryTherGasThermodynamicsBlock","dataset:JThermodynamicsDisassociationEnergyOfStructure","dataset:JThermodynamicsVibrationalStructure","dataset:JThermodynamics2DSpeciesStructure","dataset:JThermodynamics2DSubstructureThermodynamics","dataset:ThermodynamicBensonRuleDefinition","dataset:JThermodynamicsMetaAtomDefinition","dataset:JThermodynamicsSymmetryStructureDefinition","dataset:ThermodynamicsDatasetCollectionIDsSet"],this.choice="Choose Catalog Object",this.displaydescbutton="Display Partition as JSON",this.displaybutton="Display",this.savedescr="Save to database",this.savebutton="Save",this.loadfromdatabase="Fetch catalog object from database",this.fetch="Database",this.selectcataloglabel="Select Catalog Object",this.selectcatalogcomment="Select the catalog object to visualize",this.display=!1,i.determineMaintainer().subscribe(o=>{null!=o?this.maintainer=o:alert(i.errormaintainer)})}ngOnInit(){}fetchInformation(){this.annoinfo=this.catalogvis.getAnnotations(),alert(JSON.stringify(this.annoinfo)),this.dialog.open(xy,{data:{annoinfo:this.annoinfo,maintainer:this.maintainer,fromdatabase:!0,catalogtype:this.catalogtype}}).afterClosed().subscribe(i=>{if(null!=i){const s=i["dataset:servicesuccessful"];if(this.resultHtml=i["dataset:serviceresponsemessage"],"true"==s){const o=i["dataset:simpcatobj"];null!=o&&this.catalogvis.setData(o)}else alert("Error in reading: "+JSON.stringify(i))}else this.resultHtml=this.readinfailed})}displayCatalogInfo(){const e={};this.catalogvis.getData(e);const i=new Yo;i.disableClose=!1,i.autoFocus=!0,i.data={filename:this.title,dataimage:e},this.dialog.open(vc,i).afterClosed().subscribe(o=>{})}saveCatalog(){const e={};this.catalogvis.getData(e),this.openDialog(e)}openDialog(e){this.dialog.open(wD,{data:{catalog:e,annotations:this.annoinfo}}).afterClosed().subscribe(s=>{alert(s)})}setDatabaseObject(e){this.catalogtype=e,this.catalogvis.setChild(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Pi),n.Y36(yr),n.Y36(Rn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-managegeneralcatalogobjectvis"]],viewQuery:function(e,i){if(1&e&&n.Gf(uue,5),2&e){let s;n.iGM(s=n.CRH())&&(i.catalogvis=s.first)}},decls:29,vars:15,consts:[["cols","6","rowHeight","100px"],[3,"colspan"],["appearance","fill",1,"display-btn"],[3,"value","valueChange"],["background","lightgray",3,"value",4,"ngFor","ngForOf"],["mat-mini-fab","","color","primary",1,"display-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"rbutton",3,"matTooltip","click"],["catalogvis",""],["cols","6"],[3,"innerHTML"],["background","lightgray",3,"value"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content")(5,"mat-grid-list",0)(6,"mat-grid-tile",1)(7,"mat-form-field",2)(8,"mat-select",3),n.NdJ("valueChange",function(o){return i.choice=o})("valueChange",function(){return i.setDatabaseObject(i.choice)}),n.YNc(9,due,2,2,"mat-option",4),n.qZA()()(),n.TgZ(10,"mat-grid-tile",1)(11,"button",5),n.NdJ("click",function(){return i.displayCatalogInfo()}),n._uU(12),n.qZA()(),n.TgZ(13,"mat-grid-tile",1)(14,"button",6),n.NdJ("click",function(){return i.fetchInformation()}),n._uU(15),n.qZA()(),n.TgZ(16,"mat-grid-tile",1)(17,"button",7),n.NdJ("click",function(){return i.saveCatalog()}),n._uU(18),n.qZA()()(),n._UZ(19,"app-generalcatalogobjectvisualization",null,8),n.qZA()(),n.TgZ(21,"mat-card")(22,"mat-card-header")(23,"mat-card-title"),n._uU(24," HTML Output "),n.qZA()(),n.TgZ(25,"mat-card-content")(26,"mat-grid-list",9)(27,"mat-grid-tile",1),n._UZ(28,"div",10),n.qZA()()()()),2&e&&(n.xp6(3),n.hij(" ",i.choice," "),n.xp6(3),n.Q6J("colspan",6),n.xp6(2),n.Q6J("value",i.choice),n.xp6(1),n.Q6J("ngForOf",i.choices),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.displaydescbutton),n.xp6(1),n.Oqu(i.displaybutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.loadfromdatabase),n.xp6(1),n.hij(" ",i.fetch," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.savedescr),n.xp6(1),n.Oqu(i.savebutton),n.xp6(9),n.Q6J("colspan",6),n.xp6(1),n.Q6J("innerHTML",i.resultHtml,n.oJD))},dependencies:[ln,jt,ro,Rt,et,lt,Xe,Oi,Et,wt,cI,nD,c6],styles:[".submit-btn[_ngcontent-%COMP%], .display-btn[_ngcontent-%COMP%]{width:100%}.rbutton[_ngcontent-%COMP%]{float:right;width:100%}"]}),r})();const fue=["activity"],pue=["tranactionfirestoreid"];function mue(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-list",1)(2,"mat-grid-tile",2),n._uU(3),n.qZA(),n.TgZ(4,"mat-grid-tile",2)(5,"button",3),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.deleteTransaction())}),n._uU(6),n.qZA()()(),n.TgZ(7,"app-firesytorecatalogid",11,12),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.cataloganno=s)})("catalogIDChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.transfirestoreid=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(2),n.Q6J("colspan",4),n.xp6(1),n.hij(" ",e.transfirestoretitle," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",e.deltransdescbutton),n.xp6(1),n.Oqu(e.deltransbutton),n.xp6(1),n.Q6J("anno",e.cataloganno)("catalogID",e.transfirestoreid)}}function gue(r,t){1&r&&n._uU(0," No Transaction ")}function _ue(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformationdatasetcollectionsetcreation",8,9),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.YNc(3,mue,9,7,"ng-container",5),n.YNc(4,gue,1,0,"ng-template",null,10,n.W1O),n.BQk()}if(2&r){const e=n.MAs(5),i=n.oxw();n.xp6(1),n.Q6J("annoinfo",i.annoinfo),n.xp6(2),n.Q6J("ngIf",null!=i.cataloganno&&i.viewtransactionid)("ngIfElse",e)}}function yue(r,t){if(1&r&&n._uU(0),2&r){const e=n.oxw();n.hij(" ",e.waitmessage," ")}}let bue=(()=>{class r{constructor(e){this.dialog=e,this.newCollectionC=new n.vpe,this.transfirestoretitle="Transaction for Collection Creation",this.deltransdescbutton="Delete the Collection Creation Transaction",this.deltransbutton="Delete",this.title="Create New Dataset Collection",this.waitmessage="Waiting for Initialization",this.failedsubmission="Creation of Dataset Collection not successful",this.subtransaction="Run Transaction to create a new Collection Set",this.submit="Create",this.displaybutton="Activity Info",this.displaydescbutton="Display Activity Information",this.identifier=O.dctermsidentifier,this.viewcollectionset=!1,this.viewtransactionid=!0}ngOnInit(){}invalid(){let e=!1;return null!=this.activity&&(e=this.activity.invalid()),e}setTransaction(e){this.catalog=e,this.transfirestoreid=this.catalog["dataset:transactionforobject"],null!=this.transfirestoreid&&(this.viewtransactionid=!0,this.tranactionfirestoreid.setData(this.transfirestoreid))}getData(e){e["prov:activity"]="dataset:DatasetCollectionSetCreationEvent",e["dcterms:creator"]=this.maintainer,e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.maintainer;const i={};this.activity.getData(i),e["dataset:activityinfo"]=i}submitInformation(){const e={};this.getData(e),e["prov:activity"]="dataset:DatasetCollectionSetCreationEvent",this.dialog.open(Al,{data:e}).afterClosed().subscribe(s=>{if(null!=s){const o=s["dataset:servicesuccessful"];this.resultHtml=s["dataset:serviceresponsemessage"],"true"==o&&(this.catalog=s["dataset:simpcatobj"][0],null!=this.catalog&&(this.newCollectionC.emit(this.catalog),this.transfirestoreid=this.catalog["dataset:transactionforobject"],null!=this.transfirestoreid&&(this.viewtransactionid=!0,this.tranactionfirestoreid.setData(this.transfirestoreid))))}else this.resultHtml=this.failedsubmission})}displayTransactionInput(){const e={};this.getData(e);const i=new Yo;i.disableClose=!1,i.autoFocus=!0,i.data={filename:this.title,dataimage:e},this.dialog.open(vc,i).afterClosed().subscribe(o=>{})}deleteTransaction(){const e={"prov:activity":"dataset:DatabaseDeleteTransaction"};e["dcterms:creator"]=this.maintainer,e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.maintainer;const i={"dcterms:title":"Delection Collection:  this.maintainer   "};i[this.annoinfo["dataset:FirestoreCatalogID"][this.identifier]]=this.transfirestoreid,e["dataset:activityinfo"]=i,this.dialog.open(Al,{data:e}).afterClosed().subscribe(a=>{this.resultHtml=null!=a?a["dataset:serviceresponsemessage"]:this.failedsubmission})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Pi))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-createnewdatasetcollection"]],viewQuery:function(e,i){if(1&e&&(n.Gf(fue,5),n.Gf(pue,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.activity=s.first),n.iGM(s=n.CRH())&&(i.tranactionfirestoreid=s.first)}},inputs:{maintainer:"maintainer",annoinfo:"annoinfo"},outputs:{newCollectionC:"newCollectionC"},decls:18,vars:11,consts:[[1,"matcard"],["cols","6","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"display-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","disabled","click"],[4,"ngIf","ngIfElse"],["waiting",""],[3,"innerHTML"],[3,"annoinfo","annoinfoChange"],["activity",""],["noviewtransactionid",""],[3,"anno","catalogID","annoChange","catalogIDChange"],["tranactionfirestoreid",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content")(5,"mat-grid-list",1)(6,"mat-grid-tile",2)(7,"button",3),n.NdJ("click",function(){return i.displayTransactionInput()}),n._uU(8),n.qZA()(),n.TgZ(9,"mat-grid-tile",2)(10,"button",4),n.NdJ("click",function(){return i.submitInformation()}),n._uU(11),n.qZA()()(),n.YNc(12,_ue,6,3,"ng-container",5),n.YNc(13,yue,1,1,"ng-template",null,6,n.W1O),n._UZ(15,"mat-divider")(16,"div",7)(17,"mat-divider"),n.qZA()()),2&e){const s=n.MAs(14);n.xp6(3),n.Oqu(i.title),n.xp6(3),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.displaydescbutton),n.xp6(1),n.Oqu(i.displaybutton),n.xp6(1),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.subtransaction),n.Q6J("disabled",i.invalid()),n.xp6(1),n.hij(" ",i.submit," "),n.xp6(1),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s),n.xp6(4),n.Q6J("innerHTML",i.resultHtml,n.oJD)}},dependencies:[ke,jt,zr,ro,et,lt,Xe,Oi,Et,wt,Du,lG],styles:[".display-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{width:100%;padding:5px}"]}),r})();function vue(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",2)(2,"mat-form-field",3)(3,"mat-label"),n._uU(4),n.qZA(),n._UZ(5,"input",4),n.TgZ(6,"app-menu-item",5,6),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setCollectionSet(s))}),n.qZA(),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.BQk()}if(2&r){const e=n.MAs(7),i=n.oxw();n.xp6(1),n.Q6J("formGroup",i.objectform),n.xp6(3),n.Oqu(i.label),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(1),n.Q6J("items",i.collectionmenu),n.xp6(3),n.Oqu(i.hint)}}function Cue(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.nomenumessage," ")}}let wue=(()=>{class r{constructor(e,i){this.formBuilder=e,this.runservice=i,this.chosen=new n.vpe,this.identifier=O.dctermsidentifier,this.collectionTitle="Collection Sets",this.nomenumessage="Loading Collection Sets",this.collectionmenu=[{displayName:"Choices",disabled:!1,value:"Answer",children:[]}],this.objectform=this.formBuilder.group({DatasetCollectionName:["",oe.required]})}ngOnInit(){this.findCollectionSets()}setCollectionSet(e){const i=e[this.annoinfo["dataset:DatasetCollectionsSetLabel"][this.identifier]];this.objectform.get("DatasetCollectionName").setValue(i),this.chosen.emit(e)}findCollectionSets(){const e={service:"FindAllDatasetCollectionSets"};e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.maintainer,this.runservice.run(e).subscribe({next:i=>{"true"===i["dataset:servicesuccessful"]?(this.collectionarray=i[O.catalogobject],this.collectionmenu=this.createMenu(this.collectionarray),this.setCollectionSet(this.collectionarray[0])):alert("findCollectionSets() error")},error:i=>{alert("Get Collection Sets failed:")}})}createMenu(e){const i=[];for(const o of e)i.push({displayName:o[this.annoinfo["dataset:DatasetCollectionsSetLabel"][this.identifier]],disabled:!1,value:o,children:[]});return i}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(ga))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-finddatasetcollectionidsets"]],inputs:{annoinfo:"annoinfo",maintainer:"maintainer",label:"label",hint:"hint"},outputs:{chosen:"chosen"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup"],[1,"parameter"],["matInput","","formControlName","DatasetCollectionName",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""]],template:function(e,i){if(1&e&&(n.YNc(0,vue,10,5,"ng-container",0),n.YNc(1,Cue,2,1,"ng-template",null,1,n.W1O)),2&e){const s=n.MAs(2);n.Q6J("ngIf",null!=i.collectionmenu)("ngIfElse",s)}},dependencies:[ke,ti,Rt,en,kt,Pt,hn,Nt,Bt,zt,Ot,Gt,Fi],styles:[".parameter[_ngcontent-%COMP%]{width:100%;padding:2px;height:75px}"]}),r})();function Tue(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-tile",3)(2,"mat-form-field",16)(3,"mat-label"),n._uU(4),n.qZA(),n._UZ(5,"input",17),n.TgZ(6,"mat-hint"),n._uU(7),n.qZA()()(),n.TgZ(8,"div"),n._uU(9,"Here"),n.qZA(),n.TgZ(10,"mat-grid-tile",3)(11,"app-finddatasetcollectionidsets",18),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.maintainer=s)})("chosen",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.chosen(s))})("labelChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo["dataset:DatasetCollectionsSetLabel"][o.rdfslabel]=s)})("hintChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo["dataset:DatasetCollectionsSetLabel"][o.rdfscomment]=s)}),n.qZA()(),n.TgZ(12,"mat-grid-tile",3)(13,"button",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.fetchFromDatabase())}),n._uU(14," Fetch from Dataset "),n.qZA()(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.hij("",e.annoinfo["dataset:CatalogDataObjectMaintainer"][e.rdfslabel]," "),n.xp6(1),n.Q6J("readonly",e.maintainernotchange),n.xp6(2),n.hij("",e.annoinfo["dataset:CatalogDataObjectMaintainer"][e.rdfscomment]," "),n.xp6(3),n.Q6J("colspan",6),n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("maintainer",e.maintainer)("label",e.annoinfo["dataset:DatasetCollectionsSetLabel"][e.rdfslabel])("hint",e.annoinfo["dataset:DatasetCollectionsSetLabel"][e.rdfscomment]),n.xp6(1),n.Q6J("colspan",6),n.xp6(1),n.Q6J("disabled",e.idForm.invalid)}}function Due(r,t){1&r&&n._uU(0," waiting for annotations (try again) ")}function xue(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-tile",3)(2,"button",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.setDataFromFile())}),n._uU(3," Fetch from File "),n.qZA()(),n.TgZ(4,"mat-grid-tile",3)(5,"textarea",13),n._uU(6),n.ALo(7,"json"),n.qZA()(),n.TgZ(8,"form",2),n.YNc(9,Tue,15,11,"ng-container",14),n.YNc(10,Due,1,0,"ng-template",null,15,n.W1O),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(11),i=n.oxw();n.xp6(1),n.Q6J("colspan",6),n.xp6(1),n.Q6J("disabled",null==i.catalog),n.xp6(2),n.Q6J("colspan",6),n.xp6(2),n.Oqu(n.lcZ(7,7,i.catalog)),n.xp6(2),n.Q6J("formGroup",i.idForm),n.xp6(1),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",e)}}let Sue=(()=>{class r{constructor(e,i,s,o){this.dialogRef=e,this.runservice=i,this.fb=s,this.data=o,this.filenamehint="Can be changed from upload name",this.filesourceidentifierlabel="File Source Identifier",this.dataimage="text",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.maintainernotchange=!0,this.title="Fetch Dataset Collection IDs",this.annoinfo=o.annoinfo,this.maintainer=o.maintainer,this.fromdatabase=o.fromdatabase,this.catalogtype=o.catalogtype,this.uploadForm=this.fb.group({FileSourceIdentifier:["No file selected"]}),this.idForm=this.fb.group({CatalogDataObjectMaintainer:["",oe.required],DatasetCollectionsSetLabel:["",oe.required]}),this.catalog=null}ngOnInit(){this.dataimage="texxxxxt",this.idForm.get("CatalogDataObjectMaintainer").setValue(this.maintainer)}setMaintainer(e){this.idForm.get("CatalogDataObjectMaintainer").setValue(e)}chosen(e){this.collectionset=e;const i=e[this.annoinfo["dataset:DatasetCollectionsSetLabel"][this.identifier]];this.idForm.get("DatasetCollectionsSetLabel").setValue(i)}onNoClick(){this.dialogRef.close()}fetchFromDatabase(){if(null==this.collectionset){let e={service:"GetListOfDatasetCollectionIDsSet"};e["dcterms:creator"]=this.maintainer;const i={};e["dataset:collectionsetrecordidinfo"]=i,i[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.idForm.get("CatalogDataObjectMaintainer").value,i[this.annoinfo["dataset:DatasetCollectionsSetLabel"][this.identifier]]=this.idForm.get("DatasetCollectionsSetLabel").value,this.runservice.run(e).subscribe({next:s=>{"true"==s["dataset:servicesuccessful"]||(this.message=s["dataset:serviceresponsemessage"],this.runservice.checkReturn(s)),this.dialogRef.close(s)}})}else{const e={"dataset:servicesuccessful":"true","dataset:serviceresponsemessage":"Retrieved from database selection"};e[O.catalogobject]=this.collectionset,this.dialogRef.close(e)}}setDataFromFile(){if(null!=this.catalog){const e={"dataset:servicesuccessful":"true","dataset:serviceresponsemessage":"Catalog interpreted from file"};e["dataset:simpcatobj"]=this.catalog,this.dialogRef.close(e)}}uploadFileEvt(e){if(e.target.files&&e.target.files[0]){this.uploadForm.patchValue({FileSourceIdentifier:e.target.files[0].name});const s=new FileReader;s.onload=o=>{this.dataimage=o.target.result,this.catalog=this.getCatalogObject(),this.setDataFromFile()},s.readAsText(e.target.files[0])}}getCatalogObject(){let e={};return null!=this.dataimage&&(e=JSON.parse(this.dataimage)),e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Su),n.Y36(ga),n.Y36(Ut),n.Y36(eh))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-fetchcollectiondatasetids"]],decls:26,vars:7,consts:[[1,"matcard"],["cols","6","rowHeight","100px"],[3,"formGroup"],[3,"colspan"],["type","file",1,"file-input",3,"change"],["fileUpload",""],["mat-mini-fab","","color","primary",1,"upload-btn",3,"click"],[1,"uploadform"],["matInput","","formControlName","FileSourceIdentifier"],[4,"ngIf"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"disabled","click"],[1,"textarea"],[4,"ngIf","ngIfElse"],["waiting",""],[1,"label"],["matInput","","formControlName","CatalogDataObjectMaintainer",3,"readonly"],[1,"label",3,"annoinfo","maintainer","label","hint","annoinfoChange","maintainerChange","chosen","labelChange","hintChange"]],template:function(e,i){if(1&e){const s=n.EpF();n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content")(5,"mat-grid-list",1)(6,"form",2)(7,"mat-grid-tile",3)(8,"input",4,5),n.NdJ("change",function(a){return i.uploadFileEvt(a)}),n.qZA(),n.TgZ(10,"button",6),n.NdJ("click",function(){n.CHM(s);const a=n.MAs(9);return n.KtG(a.click())}),n.TgZ(11,"mat-icon"),n._uU(12,"attach_file"),n.qZA()()(),n.TgZ(13,"mat-grid-tile",3)(14,"mat-form-field",7)(15,"mat-label"),n._uU(16),n.qZA(),n._UZ(17,"input",8),n.TgZ(18,"mat-hint"),n._uU(19),n.qZA()()()(),n.YNc(20,xue,12,9,"ng-container",9),n.qZA()(),n.TgZ(21,"mat-card-footer")(22,"button",10),n.NdJ("click",function(){return i.onNoClick()}),n._uU(23,"Cancel"),n.qZA(),n.TgZ(24,"button",11),n.NdJ("click",function(){return i.fetchFromDatabase()}),n._uU(25,"Ok"),n.qZA()()()}2&e&&(n.xp6(3),n.Oqu(i.title),n.xp6(3),n.Q6J("formGroup",i.uploadForm),n.xp6(1),n.Q6J("colspan",1),n.xp6(6),n.Q6J("colspan",5),n.xp6(3),n.Oqu(i.filesourceidentifierlabel),n.xp6(3),n.Oqu(i.filenamehint),n.xp6(1),n.Q6J("ngIf",i.fromdatabase))},dependencies:[ke,jt,rr,Rt,en,kt,Pt,et,lt,Xe,Oi,pD,Et,wt,hn,Nt,Bt,zt,Ot,Gt,wue,Ya],styles:[".label[_ngcontent-%COMP%]{width:100%;height:75px;padding:2px}.file-input[_ngcontent-%COMP%]{display:none}.uploadform[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{width:100%}.matcard[_ngcontent-%COMP%]{width:500px}.generic[_ngcontent-%COMP%], .datasetname[_ngcontent-%COMP%], .transactionid[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{width:100%;padding:20px}"]}),r})();const Aue=["thermocollectionset"];let Eue=(()=>{class r{constructor(e,i){this.annotations=e,this.dialog=i,this.newCollectionV=new n.vpe,this.waitmessage="Waiting for Initialization",this.title="Collection Set ID",this.readinfailed="Could not read in Collection Set",this.readincanceled="Fetch canceled",this.loadfromdatabase="Load Collection Set",this.fetch="fetch",this.displaybutton="Display",this.displaydescbutton="Display Collection Dataset IDs",this.rdfslabel=O.rdfslabel}ngOnInit(){}setData(e){this.thermocollectionset.setData(e)}fetchInformation(){this.dialog.open(Sue,{data:{annoinfo:this.annoinfo,maintainer:this.maintainer,fromdatabase:!0,catalogtype:"dataset:ThermodynamicsDatasetCollectionIDsSet"}}).afterClosed().subscribe(i=>{if(null!=i){const s=i["dataset:servicesuccessful"];this.resultHtml=i["dataset:serviceresponsemessage"],"true"==s?(this.catalog=i[O.catalogobject],this.newCollectionV.emit(this.catalog)):alert(this.readinfailed)}else alert(this.readincanceled)})}displayCatalogInfo(){const e={};this.thermocollectionset.getData(e);const i=new Yo;i.disableClose=!1,i.autoFocus=!0,i.data={filename:this.title,dataimage:e},this.dialog.open(vc,i).afterClosed().subscribe(o=>{})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(Pi))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-visualizedatasetcollectionids"]],viewQuery:function(e,i){if(1&e&&n.Gf(Aue,5),2&e){let s;n.iGM(s=n.CRH())&&(i.thermocollectionset=s.first)}},inputs:{maintainer:"maintainer",annoinfo:"annoinfo"},outputs:{newCollectionV:"newCollectionV"},decls:14,vars:7,consts:[[1,"matcard"],["cols","4","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"display-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","click"],["thermocollectionset",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content")(5,"mat-grid-list",1)(6,"mat-grid-tile",2)(7,"button",3),n.NdJ("click",function(){return i.displayCatalogInfo()}),n._uU(8),n.qZA()(),n.TgZ(9,"mat-grid-tile",2)(10,"button",4),n.NdJ("click",function(){return i.fetchInformation()}),n._uU(11),n.qZA()()(),n._UZ(12,"app-thermodynamicsdatasetcollectionidsset",null,5),n.qZA()()),2&e&&(n.xp6(3),n.Oqu(i.title),n.xp6(3),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.displaydescbutton),n.xp6(1),n.Oqu(i.displaybutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",i.loadfromdatabase),n.xp6(1),n.hij(" ",i.fetch," "))},dependencies:[jt,ro,et,lt,Xe,Oi,Et,wt,fI],styles:[".display-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();const Mue=["activity"],Iue=["tranactionfirestoreid"];function kue(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-list",1)(2,"mat-grid-tile",2),n._uU(3),n.qZA(),n.TgZ(4,"mat-grid-tile",2)(5,"button",11),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.deleteTransaction())}),n._uU(6),n.qZA()()(),n.TgZ(7,"app-firesytorecatalogid",12,13),n.NdJ("annoChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.annoinfo=s)})("catalogIDChange",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.transfirestoreid=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw(2);n.xp6(2),n.Q6J("colspan",4),n.xp6(1),n.hij(" ",e.transfirestoretitle," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",e.deltransdescbutton),n.Q6J("disabled",null==e.transfirestoreid),n.xp6(1),n.hij("",e.deltransbutton," "),n.xp6(1),n.Q6J("anno",e.annoinfo)("catalogID",e.transfirestoreid)}}function Rue(r,t){1&r&&n._uU(0," No Transaction ")}function Nue(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-activityinformationdatasetcollectionsetadddataset",8,9),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.actannoinfo=s)}),n.qZA(),n.YNc(3,kue,9,8,"ng-container",5),n.YNc(4,Rue,1,0,"ng-template",null,10,n.W1O),n.BQk()}if(2&r){const e=n.MAs(5),i=n.oxw();n.xp6(1),n.Q6J("annoinfo",i.actannoinfo),n.xp6(2),n.Q6J("ngIf",null!=i.catannoinfo&&i.viewtransactionid)("ngIfElse",e)}}function Oue(r,t){if(1&r&&n._uU(0),2&r){const e=n.oxw();n.hij(" ",e.waitmessage," ")}}let Fue=(()=>{class r{constructor(e,i,s){this.formBuilder=e,this.annotations=i,this.dialog=s,this.newCollectionM=new n.vpe,this.original=!1,this.viewtransactionid=!1,this.transfirestoretitle="Transaction Information for Modification",this.title="Modify Dataset Information in Collection Set",this.displaydescbutton="Display Activity informaition for Collection Modification",this.displaybutton="Display",this.subtransaction="Submit modification transaction",this.submit="Transaction",this.waitmessage="Setting up Information",this.deltransdescbutton="Retract the last modification of the collection set",this.deltransbutton="Delete Transaction",this.failedsubmission="Failed to execute modification",this.specsubtitle="New Rectord Information",this.originaltransactionnamelabel="Original Collection Set",this.originaltransactionnamehint="The Collecton Set that is to be modified",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.activitytype="dataset:ActivityInformationDatasetCollectionSetAddDataset",this.catalogtype="dataset:ThermodynamicsDatasetCollectionIDsSet",this.objectform=this.formBuilder.group({DatasetCollectionsSetLabel:["",oe.required]}),this.getCatalogAnnoations(this.activitytype),this.getCatalogAnnoations(this.catalogtype)}ngOnInit(){}invalid(){let e=!1;return null!=this.activity&&(e=this.activity.invalid()||this.objectform.invalid),e}setPrerequisite(e){this.original=!0,this.prerequisite=e[this.catannoinfo["dataset:FirestoreCatalogIDForTransaction"][this.identifier]],this.activity.setDatasetCollectionsSetLabel(e[this.catannoinfo["dataset:DatasetCollectionsSetLabel"][this.identifier]])}getCatalogAnnoations(e){this.waitmessage="Waiting for Info call",this.annotations.getNewCatalogObject(e).subscribe({next:s=>{const o=s;if(this.waitmessage=o[O.message],o[O.successful]){const a=o[O.catalogobject];e==this.activitytype?this.actannoinfo=a[O.annotations]:e==this.catalogtype&&(this.catannoinfo=a[O.annotations])}else this.waitmessage=s},error:s=>{alert("Get Annotations failed:"+this.waitmessage)}})}getData(e){e["prov:activity"]="dataset:DatasetCollectionSetAddDatasetEvent";const i={};i["dataset:datasetcollectionsetcreationevent"]=this.prerequisite,e["dataset:transreqobj"]=i,e["dcterms:creator"]=this.maintainer,e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.maintainer;const s={};this.activity.getData(s),e["dataset:activityinfo"]=s}displayTransactionInput(){const e={};this.getData(e);const i=new Yo;i.disableClose=!1,i.autoFocus=!0,i.data={filename:this.title,dataimage:e},this.dialog.open(vc,i).afterClosed().subscribe(o=>{})}submitInformation(){const e={};this.getData(e),this.dialog.open(Al,{data:e}).afterClosed().subscribe(s=>{if(null!=s){const o=s["dataset:servicesuccessful"];this.resultHtml=s["dataset:serviceresponsemessage"],"true"==o&&(this.catalog=s["dataset:simpcatobj"][0],null!=this.catalog&&(this.newCollectionM.emit(this.catalog),this.transfirestoreid=this.catalog["dataset:transactionforobject"],null!=this.transfirestoreid&&(this.viewtransactionid=!0,this.tranactionfirestoreid.setData(this.transfirestoreid))))}else this.resultHtml=this.failedsubmission})}deleteTransaction(){const e={"prov:activity":"dataset:DatabaseDeleteTransaction"};e["dcterms:creator"]=this.maintainer,e[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.maintainer;const i={"dcterms:title":"Delection Collection:  this.maintainer   "};i[this.annoinfo["dataset:FirestoreCatalogID"][this.identifier]]=this.transfirestoreid,e["dataset:activityinfo"]=i,this.dialog.open(Al,{data:e}).afterClosed().subscribe(a=>{if(null!=a){const d=a["dataset:servicesuccessful"];this.resultHtml=a["dataset:serviceresponsemessage"],"true"==d&&(this.viewtransactionid=!1)}else this.resultHtml=this.failedsubmission})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Rn),n.Y36(Pi))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-modifydatasetcollectionids"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Mue,5),n.Gf(Iue,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.activity=s.first),n.iGM(s=n.CRH())&&(i.tranactionfirestoreid=s.first)}},inputs:{maintainer:"maintainer",annoinfo:"annoinfo"},outputs:{newCollectionM:"newCollectionM"},decls:18,vars:11,consts:[[1,"matcard"],["cols","6","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"display-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","disabled","click"],[4,"ngIf","ngIfElse"],["waiting",""],[3,"innerHTML"],[3,"annoinfo","annoinfoChange"],["activity",""],["noviewtransactionid",""],["mat-mini-fab","","color","primary",1,"display-btn",3,"matTooltip","disabled","click"],[3,"anno","catalogID","annoChange","catalogIDChange"],["tranactionfirestoreid",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),n._uU(3),n.qZA()(),n.TgZ(4,"mat-card-content")(5,"mat-grid-list",1)(6,"mat-grid-tile",2)(7,"button",3),n.NdJ("click",function(){return i.displayTransactionInput()}),n._uU(8),n.qZA()(),n.TgZ(9,"mat-grid-tile",2)(10,"button",4),n.NdJ("click",function(){return i.submitInformation()}),n._uU(11),n.qZA()()(),n.YNc(12,Nue,6,3,"ng-container",5),n.YNc(13,Oue,1,1,"ng-template",null,6,n.W1O),n._UZ(15,"mat-divider")(16,"div",7)(17,"mat-divider"),n.qZA()()),2&e){const s=n.MAs(14);n.xp6(3),n.Oqu(i.title),n.xp6(3),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.displaydescbutton),n.xp6(1),n.hij("",i.displaybutton," "),n.xp6(1),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.subtransaction),n.Q6J("disabled",i.invalid()),n.xp6(1),n.hij(" ",i.submit," "),n.xp6(1),n.Q6J("ngIf",null!=i.actannoinfo)("ngIfElse",s),n.xp6(4),n.Q6J("innerHTML",i.resultHtml,n.oJD)}},dependencies:[ke,jt,zr,ro,et,lt,Xe,Oi,Et,wt,Du,aG],styles:[".display-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%], .original[_ngcontent-%COMP%]{width:100%;padding:5px}"]}),r})();const Pue=["createcollection"],Lue=["modifycollection"],Bue=["visualcollection"];let Uue=(()=>{class r{constructor(e,i){this.annotations=e,this.waitmessage="Initializing",this.catalogtype="dataset:ActivityInformationDatasetCollectionSetCreation",this.getCatalogAnnoations(),i.determineMaintainer().subscribe(s=>{null!=s?this.maintainer=s:alert(i.errormaintainer)})}ngOnInit(){}setData(e){this.modifycollection.setPrerequisite(e),this.visualcollection.setData(e)}newCollectionV(e){this.setData(e)}newCollectionM(e){this.setData(e)}newCollectionC(e){this.setData(e)}getCatalogAnnoations(){this.waitmessage="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;this.waitmessage=i[O.message],i[O.successful]?this.cataloganno=i[O.catalogobject][O.annotations]:this.waitmessage=e},error:e=>{alert("Get Annotations failed:"+this.waitmessage)}})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(yr))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-managedatasetcollections"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Pue,5),n.Gf(Lue,5),n.Gf(Bue,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.createcollection=s.first),n.iGM(s=n.CRH())&&(i.modifycollection=s.first),n.iGM(s=n.CRH())&&(i.visualcollection=s.first)}},decls:80,vars:7,consts:[["label","Info"],[1,"example-card"],["label","Visualize"],[3,"annoinfo","maintainer","newCollectionV","annoinfoChange","maintainerChange"],["visualcollection",""],["label","Create"],[3,"maintainer","annoinfo","maintainerChange","newCollectionC","annoinfoChange"],["createcollection",""],["label","Modify"],[3,"maintainer","annoinfo","maintainerChange","annoinfoChange","newCollectionM"],["modifycollection",""]],template:function(e,i){1&e&&(n.TgZ(0,"mat-tab-group")(1,"mat-tab",0)(2,"mat-card",1)(3,"mat-card-header")(4,"mat-card-subtitle"),n._uU(5,"Dataset Collection"),n.qZA(),n.TgZ(6,"mat-card-title"),n._uU(7,"Manage the Collections of Datasets"),n.qZA()(),n.TgZ(8,"mat-card-content")(9,"div")(10,"p"),n._uU(11," The dataset collection specifies which set of fundamental data should be used for the thermodyanmic calculations. With a single label, the specific set of fundamental data is referenced. This allows for keeping track of which fundamental data is being used. A single dataset collection specifies which combination of fundamental data should be used for the calculations. For each type of fundamental data, the datset name and version is given. "),n.qZA(),n.TgZ(12,"p"),n._uU(13," With the dataset collection management interface, a collection set is defined, referenced by a unique name, by giving which sets of fundamental data should be used. The fundamental datasets are uploaded and referenced by a unique name and a version indicator. These are the parameters that are specified for the collection set. "),n.qZA()(),n.TgZ(14,"div"),n._uU(15," In creating or modifying a dataset corrections, the "),n.TgZ(16,"i"),n._uU(17,"DatasetName"),n.qZA(),n._uU(18," and the "),n.TgZ(19,"i"),n._uU(20,"Dataset Version"),n.qZA(),n._uU(21," is given for each of the types of fundamental data: "),n.TgZ(22,"ul")(23,"li")(24,"b"),n._uU(25,"Benson Rules"),n.qZA(),n._uU(26,": These are the atom corrections due to the method of Benson. "),n.qZA(),n.TgZ(27,"li")(28,"b"),n._uU(29,"2D Substructure Thermodynamics"),n.qZA(),n._uU(30," These are thermodynamic corrections due to 2D-graphical structures. These include "),n.TgZ(31,"i"),n._uU(32,"HBI structures"),n.qZA(),n._uU(33," for radical correction in the THERM computations, the "),n.TgZ(34,"i"),n._uU(35,"steric corrections"),n.qZA(),n._uU(36," (nearest neighbor) and "),n.TgZ(37,"i"),n._uU(38,"ring strain energies"),n.qZA(),n._uU(39,". "),n.qZA(),n.TgZ(40,"li")(41,"b"),n._uU(42,"Symmetry Structures"),n.qZA(),n._uU(43," These are the structures and contributions describing the "),n.TgZ(44,"i"),n._uU(45,"internal"),n.qZA(),n._uU(46,", "),n.TgZ(47,"i"),n._uU(48,"external"),n.qZA(),n._uU(49," and "),n.TgZ(50,"i"),n._uU(51,"optical"),n.qZA(),n._uU(52," symmetries "),n.qZA(),n.TgZ(53,"li")(54,"b"),n._uU(55,"Vibrational Energy Structures"),n.qZA(),n._uU(56,": In the JTHERGAS computations, these are the corrections used for losses of vibrational modes due to the radical. "),n.qZA(),n.TgZ(57,"li")(58,"b"),n._uU(59,"Disassociation Energy"),n.qZA(),n._uU(60,": In the JTHERGAS computations, these are the estimations of the hydrogen bond disassociation due to the radical. "),n.qZA(),n.TgZ(61,"li")(62,"b"),n._uU(63,"Meta Atom Definition"),n.qZA(),n._uU(64," These are definitions of functional groups which are treated as a single entity or atom. Meta atoms can be benson rule structures, function groups, such as "),n.TgZ(65,"i"),n._uU(66,"co"),n.qZA(),n._uU(67," and "),n.TgZ(68,"i"),n._uU(69,"co2"),n.qZA(),n._uU(70,", used in definition "),n.qZA()()()()()(),n.TgZ(71,"mat-tab",2)(72,"app-visualizedatasetcollectionids",3,4),n.NdJ("newCollectionV",function(o){return i.newCollectionV(o)})("annoinfoChange",function(o){return i.cataloganno=o})("maintainerChange",function(o){return i.maintainer=o})("annoinfoChange",function(o){return i.cataloganno=o}),n.qZA()(),n.TgZ(74,"mat-tab",5)(75,"app-createnewdatasetcollection",6,7),n.NdJ("maintainerChange",function(o){return i.maintainer=o})("newCollectionC",function(o){return i.newCollectionC(o)})("annoinfoChange",function(o){return i.cataloganno=o}),n.qZA()(),n.TgZ(77,"mat-tab",8)(78,"app-modifydatasetcollectionids",9,10),n.NdJ("maintainerChange",function(o){return i.maintainer=o})("annoinfoChange",function(o){return i.cataloganno=o})("newCollectionM",function(o){return i.newCollectionM(o)}),n.qZA()()()),2&e&&(n.xp6(72),n.Q6J("annoinfo",i.cataloganno)("maintainer",i.maintainer)("annoinfo",i.cataloganno),n.xp6(3),n.Q6J("maintainer",i.maintainer)("annoinfo",i.cataloganno),n.xp6(3),n.Q6J("maintainer",i.maintainer)("annoinfo",i.cataloganno))},dependencies:[et,lt,Xe,Oi,rn,Wm,Jf,bue,Eue,Fue]}),r})();function Vue(r,t){1&r&&(n.ynx(0),n._uU(1," Processing "),n._UZ(2,"mat-spinner"),n.BQk())}function Zue(r,t){if(1&r&&(n.TgZ(0,"pre"),n._uU(1),n.ALo(2,"json"),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.Oqu(n.lcZ(2,1,e.data))}}let AG=(()=>{class r{constructor(e,i,s){this.dialogRef=e,this.data=i,this.runservice=s,this.running=!1}ngOnInit(){}runService(){this.running=!0,this.runservice.run(this.data).subscribe({next:e=>{this.running=!1,"true"==e["dataset:servicesuccessful"]||this.runservice.checkReturn(e),this.dialogRef.close(e)}})}onNoClick(){this.dialogRef.close()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Su),n.Y36(eh),n.Y36(ga))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-rundatabaseservice"]],decls:11,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf","ngIfElse"],["setup",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"h1",0),n._uU(1),n.qZA(),n.TgZ(2,"div",1),n.YNc(3,Vue,3,0,"ng-container",2),n.YNc(4,Zue,3,3,"ng-template",null,3,n.W1O),n.qZA(),n.TgZ(6,"div",4)(7,"button",5),n.NdJ("click",function(){return i.runService()}),n._uU(8,"Run"),n.qZA(),n.TgZ(9,"button",5),n.NdJ("click",function(){return i.onNoClick()}),n._uU(10,"Cancel"),n.qZA()()),2&e){const s=n.MAs(5);n.xp6(1),n.Oqu(i.data["prov:activity"]),n.xp6(2),n.Q6J("ngIf",i.running)("ngIfElse",s)}},dependencies:[ke,jt,t6,n6,i6,$r,Ya]}),r})(),jue=(()=>{class r{constructor(){this.fetchInformationfailed="Fetch information failed",this.fetchInformationCanceled="Fetch information canceled",this.getannotationsfnotsuccessful="Annotations not found",this.displaybutton="Display",this.displaydescbutton="Display JSON of current object",this.loadfromfile="Load Catalog object from file",this.fetchobjectbutton="Fetch"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Hue=[[["caption"]],[["colgroup"],["col"]]],que=["caption","colgroup, col"];function w6(r){return class extends r{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=at(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const $C=new n.OlP("CDK_TABLE");let QC=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkCellDef",""]]}),r})(),WC=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkHeaderCellDef",""]]}),r})(),gI=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkFooterCellDef",""]]}),r})();class zue{}const $ue=w6(zue);let Qf=(()=>{class r extends $ue{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=at(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return r.\u0275fac=function(e){return new(e||r)(n.Y36($C,8))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,s){if(1&e&&(n.Suo(s,QC,5),n.Suo(s,WC,5),n.Suo(s,gI,5)),2&e){let o;n.iGM(o=n.CRH())&&(i.cell=o.first),n.iGM(o=n.CRH())&&(i.headerCell=o.first),n.iGM(o=n.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[n._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),n.qOj]}),r})();class T6{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let D6=(()=>{class r extends T6{constructor(e,i){super(e,i)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Qf),n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[n.qOj]}),r})(),x6=(()=>{class r extends T6{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const s=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Qf),n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[n.qOj]}),r})();class MG{constructor(){this.tasks=[],this.endTasks=[]}}const S6=new n.OlP("_COALESCED_STYLE_SCHEDULER");let IG=(()=>{class r{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Fe.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new MG,this._getScheduleObservable().pipe(We(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new MG;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Pn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(tn(1))}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(n.R0b))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),A6=(()=>{class r{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof SD?e.headerCell.template:this instanceof AD?e.footerCell.template:e.cell.template}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc),n.Y36(n.ZZ4))},r.\u0275dir=n.lG2({type:r,features:[n.TTD]}),r})();class Que extends A6{}const Wue=w6(Que);let SD=(()=>{class r extends Wue{constructor(e,i,s){super(e,i),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc),n.Y36(n.ZZ4),n.Y36($C,8))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[n.qOj,n.TTD]}),r})();class Kue extends A6{}const Xue=w6(Kue);let AD=(()=>{class r extends Xue{constructor(e,i,s){super(e,i),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc),n.Y36(n.ZZ4),n.Y36($C,8))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[n.qOj,n.TTD]}),r})(),_I=(()=>{class r extends A6{constructor(e,i,s){super(e,i),this._table=s}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc),n.Y36(n.ZZ4),n.Y36($C,8))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[n.qOj]}),r})(),Wf=(()=>{class r{constructor(e){this._viewContainer=e,r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}}return r.mostRecentCellOutlet=null,r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b))},r.\u0275dir=n.lG2({type:r,selectors:[["","cdkCellOutlet",""]]}),r})(),E6=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&n.GkF(0,0)},dependencies:[Wf],encapsulation:2}),r})(),I6=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&n.GkF(0,0)},dependencies:[Wf],encapsulation:2}),r})(),yI=(()=>{class r{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc))},r.\u0275dir=n.lG2({type:r,selectors:[["ng-template","cdkNoDataRow",""]]}),r})();const kG=["top","bottom","left","right"];class ede{constructor(t,e,i,s,o=!0,a=!0,d){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=s,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const s of t)if(s.nodeType===s.ELEMENT_NODE){i.push(s);for(let o=0;o<s.children.length;o++)i.push(s.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const s of i)this._removeStickyStyle(s,e)})}updateStickyColumns(t,e,i,s=!0){if(!t.length||!this._isBrowser||!e.some(E=>E)&&!i.some(E=>E))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],a=o.children.length,d=this._getCellWidths(o,s),f=this._getStickyStartColumnPositions(d,e),g=this._getStickyEndColumnPositions(d,i),b=e.lastIndexOf(!0),T=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const E="rtl"===this.direction,R=E?"right":"left",L=E?"left":"right";for(const Y of t)for(let W=0;W<a;W++){const ve=Y.children[W];e[W]&&this._addStickyStyle(ve,R,f[W],W===b),i[W]&&this._addStickyStyle(ve,L,g[W],W===T)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===b?[]:d.slice(0,b+1).map((Y,W)=>e[W]?Y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===T?[]:d.slice(T).map((Y,W)=>i[W+T]?Y:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const s="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,a=[],d=[],f=[];for(let b=0,T=0;b<s.length;b++){if(!o[b])continue;a[b]=T;const E=s[b];f[b]=this._isNativeHtmlTable?Array.from(E.children):[E];const R=E.getBoundingClientRect().height;T+=R,d[b]=R}const g=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let b=0;b<s.length;b++){if(!o[b])continue;const T=a[b],E=b===g;for(const R of f[b])this._addStickyStyle(R,i,T,E)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:d,offsets:a,elements:f}):this._positionListener?.stickyFooterRowsUpdated({sizes:d,offsets:a,elements:f})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(s=>!s)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const s of e)t.style[s]="",t.classList.remove(this._borderCellCss[s]);kG.some(s=>-1===e.indexOf(s)&&t.style[s])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,s){t.classList.add(this._stickCellCss),s&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const s of kG)t.style[s]&&(i+=e[s]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],s=t.children;for(let o=0;o<s.length;o++)i.push(s[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let s=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=s,s+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let s=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=s,s+=t[o]);return i}}const k6=new n.OlP("CDK_SPL");let bI=(()=>{class r{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b),n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["","rowOutlet",""]]}),r})(),vI=(()=>{class r{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b),n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["","headerRowOutlet",""]]}),r})(),CI=(()=>{class r{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b),n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["","footerRowOutlet",""]]}),r})(),wI=(()=>{class r{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.s_b),n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["","noDataRowOutlet",""]]}),r})(),TI=(()=>{class r{constructor(e,i,s,o,a,d,f,g,b,T,E,R){this._differs=e,this._changeDetectorRef=i,this._elementRef=s,this._dir=a,this._platform=f,this._viewRepeater=g,this._coalescedStyleScheduler=b,this._viewportRuler=T,this._stickyPositioningListener=E,this._ngZone=R,this._onDestroy=new Fe.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new n.vpe,this.viewChange=new li({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=at(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=at(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(We(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),nI(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(s,o,a)=>this._getEmbeddedViewArgs(s.item,a),s=>s.item.data,s=>{1===s.operation&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(s=>{i.get(s.currentIndex).context.$implicit=s.item.data}),this._updateNoDataRow(),this._ngZone&&n.R0b.isInAngularZone()?this._ngZone.onStable.pipe(tn(1),We(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._elementRef.nativeElement.querySelector("thead");s&&(s.style.display=e.length?"":"none");const o=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),s=this._elementRef.nativeElement.querySelector("tfoot");s&&(s.style.display=e.length?"":"none");const o=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{const a=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===o&&a.push(i[d]);this._addStickyColumnStyles(a,o)}),s.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let o=this._data[s];const a=this._getRenderRowsForData(o,s,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let d=0;d<a.length;d++){let f=a[d];const g=this._cachedRenderRowsMap.get(f.data);g.has(f.rowDef)?g.get(f.rowDef).push(f):g.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,i,s){return this._getRowDefs(e,i).map(a=>{const d=s&&s.has(a)?s.get(a):[];if(d.length){const f=d.shift();return f.dataIndex=i,f}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),DI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=DI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=DI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=DI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,d)=>a||!!d.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const s=this._headerRowDefs.reduce(e,!1);s&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||s||o}_switchDataSource(e){this._data=[],nI(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;nI(this.dataSource)?e=this.dataSource.connect(this):function C6(r){return!!r&&(r instanceof mn.y||"function"==typeof r.lift&&"function"==typeof r.subscribe)}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Ve.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(We(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const s=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),o=s.map(d=>d.sticky),a=s.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let s=0;s<e.viewContainer.length;s++){const o=e.viewContainer.get(s);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;o&&s.push(o)}return s}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,s,o={}){const a=e.viewContainer.createEmbeddedView(i.template,o,s);return this._renderCellTemplateForItem(i,o),a}_renderCellTemplateForItem(e,i){for(let s of this._getCellTemplates(e))Wf.mostRecentCellOutlet&&Wf.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,s=e.length;i<s;i++){const a=e.get(i).context;a.count=s,a.first=0===i,a.last=i===s-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const s=this._columnDefsByName.get(i);return e.extractCellTemplate(s)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const s of i){const o=this._document.createElement(s.tag);o.setAttribute("role","rowgroup");for(const a of s.outlets)o.appendChild(a.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,s)=>i||s.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ede(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Ve.of)()).pipe(We(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const s=this._noDataRowOutlet.viewContainer;if(i){const o=s.createEmbeddedView(e.templateRef),a=o.rootNodes[0];1===o.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else s.clear();this._isShowingNoDataRow=i}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.ZZ4),n.Y36(n.sBO),n.Y36(n.SBq),n.$8M("role"),n.Y36(Ji,8),n.Y36(ne),n.Y36(Ri),n.Y36(gD),n.Y36(S6),n.Y36($d),n.Y36(k6,12),n.Y36(n.R0b,8))},r.\u0275cmp=n.Xpm({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,s){if(1&e&&(n.Suo(s,yI,5),n.Suo(s,Qf,5),n.Suo(s,_I,5),n.Suo(s,SD,5),n.Suo(s,AD,5)),2&e){let o;n.iGM(o=n.CRH())&&(i._noDataRow=o.first),n.iGM(o=n.CRH())&&(i._contentColumnDefs=o),n.iGM(o=n.CRH())&&(i._contentRowDefs=o),n.iGM(o=n.CRH())&&(i._contentHeaderRowDefs=o),n.iGM(o=n.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(n.Gf(bI,7),n.Gf(vI,7),n.Gf(CI,7),n.Gf(wI,7)),2&e){let s;n.iGM(s=n.CRH())&&(i._rowOutlet=s.first),n.iGM(s=n.CRH())&&(i._headerRowOutlet=s.first),n.iGM(s=n.CRH())&&(i._footerRowOutlet=s.first),n.iGM(s=n.CRH())&&(i._noDataRowOutlet=s.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[n._Bn([{provide:$C,useExisting:r},{provide:gD,useClass:wq},{provide:S6,useClass:IG},{provide:k6,useValue:null}])],ngContentSelectors:que,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(n.F$t(Hue),n.Hsn(0),n.Hsn(1,1),n.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[bI,vI,CI,wI],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),r})();function DI(r,t){return r.concat(Array.from(t))}let nde=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[gM]}),r})();const ide=[[["caption"]],[["colgroup"],["col"]]],rde=["caption","colgroup, col"];let R6=(()=>{class r extends TI{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&n.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[n._Bn([{provide:gD,useClass:wq},{provide:TI,useExisting:r},{provide:$C,useExisting:r},{provide:S6,useClass:IG},{provide:k6,useValue:null}]),n.qOj],ngContentSelectors:rde,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(n.F$t(ide),n.Hsn(0),n.Hsn(1,1),n.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[bI,vI,CI,wI],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),r})(),xI=(()=>{class r extends QC{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["","matCellDef",""]],features:[n._Bn([{provide:QC,useExisting:r}]),n.qOj]}),r})(),SI=(()=>{class r extends WC{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["","matHeaderCellDef",""]],features:[n._Bn([{provide:WC,useExisting:r}]),n.qOj]}),r})(),AI=(()=>{class r extends Qf{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[n._Bn([{provide:Qf,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),n.qOj]}),r})(),EI=(()=>{class r extends D6{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[n.qOj]}),r})(),MI=(()=>{class r extends x6{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[n.qOj]}),r})(),N6=(()=>{class r extends SD{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[n._Bn([{provide:SD,useExisting:r}]),n.qOj]}),r})(),O6=(()=>{class r extends _I{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275dir=n.lG2({type:r,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[n._Bn([{provide:_I,useExisting:r}]),n.qOj]}),r})(),F6=(()=>{class r extends E6{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[n._Bn([{provide:E6,useExisting:r}]),n.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&n.GkF(0,0)},dependencies:[Wf],encapsulation:2}),r})(),P6=(()=>{class r extends I6{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[n._Bn([{provide:I6,useExisting:r}]),n.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&n.GkF(0,0)},dependencies:[Wf],encapsulation:2}),r})(),pde=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[nde,Xt,Xt]}),r})();const gde=["catalogobj"];function _de(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-list",5)(2,"mat-grid-tile",6)(3,"button",20),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(3);return n.KtG(s.toggleCatalogVisible())}),n._uU(4),n.qZA()(),n.TgZ(5,"mat-grid-tile",6)(6,"button",20),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(3);return n.KtG(s.toggleUnitVisible())}),n._uU(7),n.qZA()()(),n.BQk()}if(2&r){const e=n.oxw(3);n.xp6(2),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",e.toggleviscatalogdescr),n.xp6(1),n.hij(" ",e.toggleviscatalog," "),n.xp6(1),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",e.togglevisdescr),n.xp6(1),n.hij(" ",e.togglevis," ")}}function yde(r,t){if(1&r&&(n.ynx(0),n._UZ(1,"app-parameterspecification",21,22)(3,"app-parameterspecification",21,22)(5,"app-parameterspecification",21,22),n.BQk()),2&r){const e=n.oxw(3);n.xp6(1),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.molarenthalpy),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.molarentropy),n.xp6(2),n.Q6J("annoinfo",e.annoinfo)("parameterinfo",e.molarheatcapacity)}}function bde(r,t){1&r&&(n.ynx(0),n._UZ(1,"app-generalcatalogobjectvisualization",null,23),n.BQk())}function vde(r,t){1&r&&(n.TgZ(0,"div"),n._uU(1," No Computation Data "),n.qZA())}function Cde(r,t){if(1&r&&(n.TgZ(0,"th",26),n._uU(1),n.qZA()),2&r){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e," ")}}function wde(r,t){if(1&r&&(n.TgZ(0,"td",27),n._uU(1),n.qZA()),2&r){const e=t.$implicit,i=n.oxw().$implicit;n.xp6(1),n.hij(" ",e[i]," ")}}function Tde(r,t){1&r&&(n.ynx(0,24),n.YNc(1,Cde,2,1,"th",25),n.YNc(2,wde,2,1,"td",15),n.BQk()),2&r&&n.s9C("matColumnDef",t.$implicit)}function Dde(r,t){1&r&&(n.TgZ(0,"th",28),n._uU(1,"\xa0"),n.qZA())}function xde(r,t){1&r&&(n.TgZ(0,"mat-icon"),n._uU(1,"keyboard_arrow_down"),n.qZA())}function Sde(r,t){1&r&&(n.TgZ(0,"mat-icon"),n._uU(1,"keyboard_arrow_up"),n.qZA())}function Ade(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"td",27)(1,"button",29),n.NdJ("click",function(s){const a=n.CHM(e).$implicit,d=n.oxw(3);return d.expandedElement=d.expandedElement===a?null:a,n.KtG(s.stopPropagation())}),n.YNc(2,xde,2,0,"mat-icon",9),n.YNc(3,Sde,2,0,"mat-icon",9),n.qZA()()}if(2&r){const e=t.$implicit,i=n.oxw(3);n.xp6(2),n.Q6J("ngIf",i.expandedElement!==e),n.xp6(1),n.Q6J("ngIf",i.expandedElement===e)}}function Ede(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"td",27)(1,"div",30)(2,"mat-grid-list",5)(3,"mat-grid-tile",6)(4,"button",31),n.NdJ("click",function(){const o=n.CHM(e).$implicit,a=n.oxw(3);return n.KtG(a.catalogVisible(o))}),n._uU(5),n.qZA()()()()()}if(2&r){const e=t.$implicit,i=n.oxw(3);n.uIk("colspan",i.columnsToDisplayWithExpand.length),n.xp6(1),n.Q6J("@detailExpand",e==i.expandedElement?"expanded":"collapsed"),n.xp6(2),n.Q6J("colspan",6),n.xp6(1),n.s9C("matTooltip",i.viscatalogdescr),n.xp6(1),n.hij(" ",i.viscatalog," ")}}function Mde(r,t){1&r&&n._UZ(0,"tr",32)}function Ide(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"tr",33),n.NdJ("click",function(){const o=n.CHM(e).$implicit,a=n.oxw(3);return n.KtG(a.expandedElement=a.expandedElement===o?null:o)}),n.qZA()}if(2&r){const e=t.$implicit,i=n.oxw(3);n.ekj("example-expanded-row",i.expandedElement===e)}}function kde(r,t){1&r&&n._UZ(0,"tr",34)}const Rde=function(){return["expandedDetail"]};function Nde(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title-group",4)(4,"mat-card-subtitle"),n._uU(5),n.qZA()()(),n.TgZ(6,"mat-card-content")(7,"mat-grid-list",5)(8,"mat-grid-tile",6)(9,"button",7),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.displayCatalogInfo())}),n._uU(10),n.qZA()(),n.TgZ(11,"mat-grid-tile",6)(12,"button",8),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.fetchInformation())}),n._uU(13),n.qZA()()(),n.YNc(14,_de,8,6,"ng-container",0),n.YNc(15,yde,7,6,"ng-container",9),n.YNc(16,bde,3,0,"ng-container",9),n.YNc(17,vde,2,0,"ng-template",null,10,n.W1O),n.TgZ(19,"table",11),n.YNc(20,Tde,3,1,"ng-container",12),n.ynx(21,13),n.YNc(22,Dde,2,0,"th",14),n.YNc(23,Ade,4,2,"td",15),n.BQk(),n.ynx(24,16),n.YNc(25,Ede,6,5,"td",15),n.BQk(),n.YNc(26,Mde,1,0,"tr",17),n.YNc(27,Ide,1,2,"tr",18),n.YNc(28,kde,1,0,"tr",19),n.qZA()()(),n.BQk()}if(2&r){const e=n.MAs(18),i=n.oxw(2);n.xp6(5),n.Oqu(i.subtitle),n.xp6(3),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.displaydescbutton),n.xp6(1),n.Oqu(i.displaybutton),n.xp6(1),n.Q6J("colspan",3),n.xp6(1),n.s9C("matTooltip",i.loadfromfile),n.xp6(1),n.hij(" ",i.fetchobjectbutton," "),n.xp6(1),n.Q6J("ngIf",null!=i.thermocontribution)("ngIfElse",e),n.xp6(1),n.Q6J("ngIf",i.unitsvisible),n.xp6(1),n.Q6J("ngIf",i.catalogvisible),n.xp6(3),n.Q6J("dataSource",i.dataSource),n.xp6(1),n.Q6J("ngForOf",i.columnsToDisplay),n.xp6(6),n.Q6J("matHeaderRowDef",i.columnsToDisplayWithExpand),n.xp6(1),n.Q6J("matRowDefColumns",i.columnsToDisplayWithExpand),n.xp6(1),n.Q6J("matRowDefColumns",n.DdM(16,Rde))}}function Ode(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw(2);n.xp6(1),n.hij(" ",e.nodata," ")}}function Fde(r,t){if(1&r&&(n.ynx(0),n.YNc(1,Nde,29,17,"ng-container",0),n.YNc(2,Ode,2,1,"ng-template",null,2,n.W1O),n.BQk()),2&r){const e=n.MAs(3),i=n.oxw();n.xp6(1),n.Q6J("ngIf",null!=i.dataSource)("ngIfElse",e)}}function Pde(r,t){if(1&r&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.hij(" ",e.noannotations," ")}}let Lde=(()=>{class r{constructor(e,i,s,o){this.annotations=e,this.interfaceconst=s,this.dialog=o,this.nodata="No Computation Data",this.noannotations="Initializing",this.subtitle="Thermodynamic Contributions",this.displaydescbutton="Display current Thermodynamic Contribution",this.filedefault="ThermodynamicContributions",this.togglevis="Show Units",this.toggleviscatalog="Show Catalog Object",this.viscatalog="Contribution Source",this.togglevisdescr="Toggle the visualization of the units",this.viscatalogdescr="Show the original catalog object of the contribution",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.molarenthalpyparameter="dataset:ParameterSpecificationEnthaply",this.molarentropyarameter="dataset:ParameterSpecificationEntropy",this.molarheatcapacityparameter="dataset:ParameterSpecificationHeatCapacity",this.unitsvisible=!1,this.catalogvisible=!1,this.catalogtype="dataset:ThermodynamicContributions",this.displaybutton=this.interfaceconst.displaybutton,this.loadfromfile=this.interfaceconst.loadfromfile,this.fetchobjectbutton=this.interfaceconst.fetchobjectbutton,this.getAnnotations(),i.determineMaintainer().subscribe(d=>{null!=d?this.maintainer=d:alert(i.determineMaintainer)}),this.columnsToDisplay=["name","Enthalpy","Entropy"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"expand"];const a=[];a.push(this.molarenthalpyparameter),a.push(this.molarentropyarameter),a.push(this.molarheatcapacityparameter),e.getParameterSet(a).subscribe({next:d=>{this.molarenthalpy=d[this.molarenthalpyparameter],this.molarentropy=d[this.molarentropyarameter],this.molarheatcapacity=d[this.molarheatcapacityparameter]}}),this.dataSource=[{name:"row 1",Enthalpy:"0.0",Entropy:" 0.0"},{name:"row 2",Enthalpy:"0.0",Entropy:" 0.0"}]}ngOnInit(){}setData(e){let i=[],s=!0;for(let o of e){const a={};a.name=o["dcterms:title"];const d=Number(o["dataset:stdenthalpy"]["dataset:ValueAsString"]).toFixed(3);a.Enthalpy=String(d);const f=Number(o["dataset:stdentropy"]["dataset:ValueAsString"]).toFixed(3);a.Entropy=String(f),a.source=o["dataset:2dthermoentity"];const g=o[this.annoinfo["dataset:ThermodynamicCpAtTemperature"][this.identifier]];for(let b of g){const T=Number(b["dataset:thermotemperature"]).toFixed(2),R=(String(T),Number(b["dataset:heatcapacityvalue"]).toFixed(3));a[T]=R}if(i.push(a),s){this.enthalpyspec=o["dataset:stdenthalpy"]["qb:ComponentSpecification"],this.entropyspec=o["dataset:stdentropy"]["qb:ComponentSpecification"],this.heatcapacityspec=o["dataset:paramspecheatcapacity"],s=!1,this.columnsToDisplay=["name","Enthalpy","Entropy"];for(let E of g){const R=Number(E["dataset:thermotemperature"]).toFixed(2),L=String(R);this.columnsToDisplay.push(L)}}}this.dataSource=i,this.thermocontribution=e,this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"expand"]}valueInParameter(e){return e["dataset:ValueAsString"]}toggleUnitVisible(){this.unitsvisible?(this.unitsvisible=!1,this.togglevis="Show Units"):(this.unitsvisible=!0,this.togglevis="Hide Units")}toggleCatalogVisible(){this.catalogvisible?(this.catalogvisible=!1,this.toggleviscatalog="Show Catalog Object"):(this.catalogvisible=!0,this.toggleviscatalog="Hide Catalog Object")}catalogVisible(e){this.catalogvisible=!0,this.toggleviscatalog="Hide Catalog Object",this.catalogobj.setData(e.source)}getAnnotations(){this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{e[O.successful]?this.annoinfo=e[O.catalogobject][O.annotations]:alert(this.interfaceconst.getannotationsfnotsuccessful)},error:e=>{alert(this.interfaceconst.getannotationsfnotsuccessful+"\n"+e)}})}fetchInformation(){this.dialog.open(xy,{data:{annoinfo:this.annoinfo,maintainer:this.maintainer,fromdatabase:!1,catalogtype:this.catalogtype}}).afterClosed().subscribe(i=>{null!=i?"true"==i["dataset:servicesuccessful"]?this.setData(i["dataset:simpcatobj"]):alert(this.interfaceconst.fetchInformationfailed):alert(this.interfaceconst.fetchInformationCanceled)})}displayCatalogInfo(){const e=new Yo;e.disableClose=!1,e.autoFocus=!0,e.data={filename:this.filedefault,dataimage:this.thermocontribution},this.dialog.open(vc,e).afterClosed().subscribe(s=>{})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(yr),n.Y36(jue),n.Y36(Pi))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-thermodynamiccontributions"]],viewQuery:function(e,i){if(1&e&&n.Gf(gde,5),2&e){let s;n.iGM(s=n.CRH())&&(i.catalogobj=s.first)}},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noannoinfo",""],["loading",""],[1,"cardbase"],[1,"title"],["cols","6","rowHeight","75px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"display-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"fetch-btn",3,"matTooltip","click"],[4,"ngIf"],["nodataobject",""],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["mat-raised-button","",1,"fetch-btn",3,"matTooltip","click"],[3,"annoinfo","parameterinfo"],["enthalpy",""],["catalogobj",""],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","","aria-label","expand row",3,"click"],[1,"example-element-detail"],["mat-button","",1,"fetch-btn",3,"matTooltip","click"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(e,i){if(1&e&&(n.YNc(0,Fde,4,2,"ng-container",0),n.YNc(1,Pde,2,1,"ng-template",null,1,n.W1O)),2&e){const s=n.MAs(2);n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s)}},dependencies:[ln,ke,jt,rr,ro,et,lt,gn,Xe,rn,Et,wt,R6,SI,N6,AI,xI,O6,EI,MI,F6,P6,c6,Xm],styles:[".display-btn[_ngcontent-%COMP%], .fetch-btn[_ngcontent-%COMP%]{width:100%;padding:2px}table[_ngcontent-%COMP%]{width:100%}.example-element-detail[_ngcontent-%COMP%]{width:100%;overflow:hidden}.example-element-description[_ngcontent-%COMP%]{padding:16px}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}"],data:{animation:[io("detailExpand",[ei("collapsed",Jt({height:"0px",minHeight:"0"})),ei("expanded",Jt({height:"*"})),Ni("expanded <=> collapsed",zi("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),r})(),II=(()=>{class r{constructor(e,i){this.formBuilder=e,this.runservice=i,this.collection=new n.vpe,this.firebase="Firebase ID token has expired",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.objectform=this.formBuilder.group({DatasetCollectionsSetLabel:["",oe.required]})}isValid(){return this.objectform.invalid}ngOnInit(){null!=this.activityanno["dataset:DatasetCollectionsSetLabel"]?(this.srclabel=this.activityanno["dataset:DatasetCollectionsSetLabel"][this.rdfslabel],this.srchint=this.activityanno["dataset:DatasetCollectionsSetLabel"][this.rdfscomment]):(this.srclabel=this.activityanno["dataset:DatasetCollectionSetSourceLabel"][this.rdfslabel],this.srchint=this.activityanno["dataset:DatasetCollectionSetSourceLabel"][this.rdfscomment]),this.getAllDatasetCollections()}getAllDatasetCollections(){const e={};e[O.service]="FindAllDatasetCollectionSets",e["dataset:catalogobjectmaintainer"]=this.maintainer,this.runservice.run(e).subscribe({next:i=>{if(this.resultHtml=i[O.message],"true"===i[O.successful]){const a=i[O.catalogobject][0];if(this.systemcollections=a["dataset:systemdatasetcollection"],this.datasetcollections=a[O.ThermodynamicsDatasetCollectionIDsSet],this.items=[],null!=this.systemcollections){const d=this.makeDatasetMenu(this.systemcollections,"dataset:catalogkey");d.length>0&&this.items.push({displayName:"From System",disabled:!1,value:"From System",children:d})}if(null!=this.datasetcollections){const d=this.makeDatasetMenu(this.datasetcollections,"dataset:datasetcollectionslabel");d.length>0&&this.items.push({displayName:"From User",disabled:!1,value:"From User",children:d})}}else this.runservice.checkReturn(i)}})}makeDatasetMenu(e,i){var s=[];for(const o of e){const a=o[i],d=o["dataset:objectype"];"dataset:ThermodynamicsSystemCollectionIDsSet"!==d&&"dataset:ChemConnectDatasetCollectionIDsSet"!==d&&"dataset:ThermodynamicsDatasetCollectionIDsSet"!==d||s.push({displayName:a,disabled:!1,value:a,children:[]})}return s}datasetChosen(e){const i=this.getCollection(e);this.objectform.get("DatasetCollectionsSetLabel").setValue(e),this.collection.emit(i)}getCollection(e){var i=null;if(null!=this.systemcollections)for(var s=0;s<this.systemcollections.length&&null==i;s++){const o=this.systemcollections[s];e===o["dataset:catalogkey"]&&(i=o)}if(null!=this.datasetcollections)for(s=0;s<this.datasetcollections.length&&null==i;s++){const a=this.datasetcollections[s];e===a["dataset:datasetcollectionslabel"]&&(i=a)}return i}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(ga))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-datasetcollectionchoicemenu"]],inputs:{activityanno:"activityanno",maintainer:"maintainer"},outputs:{collection:"collection"},decls:9,vars:5,consts:[[1,"infoform",3,"formGroup"],[1,"label"],["matInput","","formControlName","DatasetCollectionsSetLabel",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),n._uU(3),n.qZA(),n._UZ(4,"input",2),n.TgZ(5,"app-menu-item",3,4),n.NdJ("selectionEvent",function(o){return i.datasetChosen(o)}),n.qZA(),n.TgZ(7,"mat-hint"),n._uU(8),n.qZA()()()),2&e){const s=n.MAs(6);n.Q6J("formGroup",i.objectform),n.xp6(3),n.hij("",i.srclabel," "),n.xp6(1),n.Q6J("matMenuTriggerFor",s.childMenu),n.xp6(1),n.Q6J("items",i.items),n.xp6(3),n.hij("",i.srchint," ")}},dependencies:[ti,Rt,en,kt,Pt,hn,Nt,Bt,zt,Ot,Gt,Fi],styles:[".label[_ngcontent-%COMP%]{width:100%}"]}),r})();const Bde=["enthalpy"],Ude=["entropy"],Vde=["heatcapacity"];function Zde(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-tile",7)(2,"mat-form-field",11)(3,"mat-label"),n._uU(4),n.qZA(),n._UZ(5,"input",24),n.TgZ(6,"mat-hint"),n._uU(7),n.qZA()(),n.TgZ(8,"app-menu-item",25,26),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.setMethod(s))}),n.qZA()(),n.BQk()}if(2&r){const e=n.MAs(9),i=n.oxw(2);n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:JThermodynamicsComputation"][i.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu)("readonly",i.fixedtype),n.xp6(2),n.Oqu(i.annoinfo["dataset:JThermodynamicsComputation"][i.rdfscomment]),n.xp6(1),n.Q6J("items",i.methoditems)}}function jde(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-tile",7)(2,"mat-form-field",11)(3,"mat-label"),n._uU(4),n.qZA(),n._UZ(5,"input",27),n.TgZ(6,"mat-hint"),n._uU(7),n.qZA()(),n.TgZ(8,"app-menu-item",25,28),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw(2);return n.KtG(o.setSpec(s))}),n.qZA()(),n.BQk()}if(2&r){const e=n.MAs(9),i=n.oxw(2);n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.hij("",i.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][i.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu)("readonly",i.fixedtype),n.xp6(2),n.hij("",i.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][i.rdfscomment]," "),n.xp6(1),n.Q6J("items",i.structitems)}}function Hde(r,t){1&r&&(n.TgZ(0,"mat-icon",31),n._uU(1,"cancel"),n.qZA())}function qde(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"mat-chip",29),n.NdJ("removed",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.remove(s.keyword))}),n._uU(1),n.YNc(2,Hde,2,0,"mat-icon",30),n.qZA()}if(2&r){const e=t.$implicit,i=n.oxw(2);n.Q6J("selectable",i.selectable)("removable",i.removable),n.xp6(1),n.hij(" ",e," "),n.xp6(1),n.Q6J("ngIf",i.removable)}}function Gde(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-list",5)(2,"form",6)(3,"mat-grid-tile",7)(4,"mat-form-field",2)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",8),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.YNc(10,Zde,10,6,"ng-container",9),n.TgZ(11,"mat-grid-tile",7)(12,"app-datasetcollectionchoicemenu",10),n.NdJ("activityannoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)})("collection",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setCollection(s))}),n.qZA()(),n.TgZ(13,"mat-grid-tile",7)(14,"mat-form-field",11)(15,"mat-label"),n._uU(16),n.qZA(),n._UZ(17,"input",12),n.TgZ(18,"mat-hint"),n._uU(19),n.qZA()()(),n.TgZ(20,"mat-grid-tile",7)(21,"mat-form-field",11)(22,"mat-label"),n._uU(23),n.qZA(),n._UZ(24,"input",13),n.TgZ(25,"mat-hint"),n._uU(26),n.qZA()()(),n.YNc(27,jde,10,6,"ng-container",9),n.TgZ(28,"mat-grid-tile",7)(29,"mat-form-field",11)(30,"mat-label"),n._uU(31),n.qZA(),n._UZ(32,"input",14),n.TgZ(33,"mat-hint"),n._uU(34),n.qZA()()(),n.TgZ(35,"mat-grid-tile",7)(36,"mat-form-field",15)(37,"mat-chip-list",16,17),n.YNc(39,qde,3,4,"mat-chip",18),n.TgZ(40,"input",19),n.NdJ("matChipInputTokenEnd",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.add(s))}),n.qZA()()()()()(),n.TgZ(41,"app-parameterspecification",20,21),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.molarenthalpy=s)}),n.qZA(),n.TgZ(43,"app-parameterspecification",20,22),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.molarentropy=s)}),n.qZA(),n.TgZ(45,"app-parameterspecification",20,23),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.molarheatcapacity=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(38),i=n.oxw();n.xp6(2),n.Q6J("formGroup",i.objectform),n.xp6(1),n.Q6J("colspan",6),n.xp6(3),n.Oqu(i.annoinfo["dataset:DescriptionTitle"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:DescriptionTitle"][i.rdfscomment]),n.xp6(1),n.Q6J("ngIf",null!=i.methoditems),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.Q6J("activityanno",i.annoinfo)("maintainer",i.maintainer),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogDataObjectMaintainer"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:CatalogDataObjectMaintainer"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:JThermodynamicsStructureName"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:JThermodynamicsStructureName"][i.rdfscomment]),n.xp6(1),n.Q6J("ngIf",null!=i.structitems),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.hij("",i.annoinfo["dataset:JThermodynamicsStructureSpecification"][i.rdfslabel]," "),n.xp6(3),n.hij("",i.annoinfo["dataset:JThermodynamicsStructureSpecification"][i.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",6),n.xp6(4),n.Q6J("ngForOf",i.temperaturelist),n.xp6(1),n.Q6J("matChipInputFor",e),n.xp6(1),n.Q6J("annoinfo",i.annoinfo)("parameterinfo",i.molarenthalpy),n.xp6(2),n.Q6J("annoinfo",i.annoinfo)("parameterinfo",i.molarentropy),n.xp6(2),n.Q6J("annoinfo",i.annoinfo)("parameterinfo",i.molarheatcapacity)}}function Yde(r,t){1&r&&(n.TgZ(0,"div"),n._UZ(1,"mat-spinner"),n.qZA())}let Jde=(()=>{class r{constructor(e,i,s,o,a){this.formBuilder=e,this.menuserver=i,this.menusetup=s,this.identifiers=a,this.title="Parameters for Calculation",this.molarenthalpyparameter="dataset:ParameterSpecificationEnthaply",this.molarentropyarameter="dataset:ParameterSpecificationEntropy",this.molarheatcapacityparameter="dataset:ParameterSpecificationHeatCapacity",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.methoditemstype="dataset:JThermodynamicsComputation",this.structitemstype="dataset:JThermodynamicsSpeciesSpecificationType",this.temperaturelist=[300,400,500,600,800,1e3,1500],this.collectionready=!0;const d=[];d.push(this.molarenthalpyparameter),d.push(this.molarentropyarameter),d.push(this.molarheatcapacityparameter),i.getParameterSet(d).subscribe({next:f=>{this.molarenthalpy=f[this.molarenthalpyparameter],this.molarentropy=f[this.molarentropyarameter],this.molarheatcapacity=f[this.molarheatcapacityparameter]}}),this.objectform=this.formBuilder.group({DescriptionTitle:["",oe.required],CatalogDataObjectMaintainer:["",oe.required],DatasetCollectionsSetLabel:["",oe.required],JThermodynamicsComputation:["",oe.required],JThermodynamicsStructureName:["",oe.required],JThermodynamicsSpeciesSpecificationType:["",oe.required],JThermodynamicsStructureSpecification:["",oe.required]}),o.determineMaintainer().subscribe(f=>{null!=f?(this.maintainer=f,this.objectform.get("CatalogDataObjectMaintainer").setValue(this.maintainer)):alert(o.determineMaintainer)})}ngOnInit(){this.methoditems=this.menusetup.findChoices(this.annoinfo,this.methoditemstype),this.structitems=this.menusetup.findChoices(this.annoinfo,this.structitemstype)}invalid(){let e=!0,i=!0,s=!0;return null!=this.enthalpy&&(e=this.enthalpy.invalid()),null!=this.entropy&&(i=this.entropy.invalid()),null!=this.heatcapacity&&(s=this.heatcapacity.invalid()),e||i||s||this.objectform.invalid}setCollection(e){var s=e[this.identifiers.DatasetCollectionsLabel];"dataset:ThermodynamicsSystemCollectionIDsSet"==e["dcat:dataset"]?(s=e[this.identifiers.CatalogObjectKey],this.objectform.get("CatalogDataObjectMaintainer").setValue("systemthermodynamics")):this.objectform.get("CatalogDataObjectMaintainer").setValue(this.maintainer),this.objectform.get("DatasetCollectionsSetLabel").setValue(s),this.collectionready=!0}setMethod(e){this.objectform.get("JThermodynamicsComputation").setValue(e)}setSpec(e){this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(e)}getData(e){e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]=this.objectform.get("DescriptionTitle").value,e[this.annoinfo["dataset:JThermodynamicsComputation"][this.identifier]]=this.objectform.get("JThermodynamicsComputation").value,e[this.annoinfo["dataset:JThermodynamicsStructureName"][this.identifier]]=this.objectform.get("JThermodynamicsStructureName").value,e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]]=this.objectform.get("JThermodynamicsSpeciesSpecificationType").value,e[this.annoinfo["dataset:JThermodynamicsStructureSpecification"][this.identifier]]=this.objectform.get("JThermodynamicsStructureSpecification").value;const i={};i[this.annoinfo["dataset:DatasetCollectionsSetLabel"][this.identifier]]=this.objectform.get("DatasetCollectionsSetLabel").value,i[this.annoinfo["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.objectform.get("CatalogDataObjectMaintainer").value,e[this.annoinfo["dataset:DatabaseCollectionRecordID"][this.identifier]]=i;const s={};this.enthalpy.getData(s),e[this.annoinfo["dataset:ParameterSpecificationEnthaply"][this.identifier]]=s;const o={};this.entropy.getData(o),e[this.annoinfo["dataset:ParameterSpecificationEntropy"][this.identifier]]=o;const a={};this.heatcapacity.getData(a),e[this.annoinfo["dataset:ParameterSpecificationHeatCapacity"][this.identifier]]=a;const d={};e[this.annoinfo["dataset:JThermodynamicBensonTemperatures"][this.identifier]]=d,d[this.annoinfo["dataset:ThermodynamicTemperature"][this.identifier]]=this.temperaturelist}setData(e){this.objectform.get("DescriptionTitle").setValue(e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]),this.objectform.get("JThermodynamicsComputation").setValue(e[this.annoinfo["dataset:JThermodynamicsComputation"][this.identifier]]),this.objectform.get("JThermodynamicsStructureName").setValue(e[this.annoinfo["dataset:JThermodynamicsStructureName"][this.identifier]]),this.objectform.get("JThermodynamicsSpeciesSpecificationType").setValue(e[this.annoinfo["dataset:JThermodynamicsSpeciesSpecificationType"][this.identifier]]),this.objectform.get("JThermodynamicsStructureSpecification").setValue(e[this.annoinfo["dataset:JThermodynamicsStructureSpecification"][this.identifier]]);const i=e[this.annoinfo["dataset:DatabaseCollectionRecordID"][this.identifier]];this.objectform.get("DatasetCollectionsSetLabel").setValue(i[this.annoinfo["dataset:DatasetCollectionsSetLabel"][this.identifier]]),this.enthalpy.setData(e[this.annoinfo["dataset:ParameterSpecificationEnthalpy"][this.identifier]]),this.entropy.setData(e[this.annoinfo["dataset:ParameterSpecificationEntropy"][this.identifier]]),this.heatcapacity.setData(e[this.annoinfo["dataset:ParameterSpecificationHeatCapacity"][this.identifier]]),this.temperaturelist=e[this.annoinfo["dataset:JThermodynamicBensonTemperatures"][this.identifier]][this.annoinfo["dataset:ThermodynamicTemperature"][this.identifier]]}add(e){const s=Number(e.value);this.temperaturelist.push(s)}remove(e){const i=this.temperaturelist.indexOf(e);i>=0&&this.temperaturelist.splice(i,1)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Rn),n.Y36(Si),n.Y36(yr),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-thermocalculationsetup"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Bde,5),n.Gf(Ude,5),n.Gf(Vde,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.enthalpy=s.first),n.iGM(s=n.CRH())&&(i.entropy=s.first),n.iGM(s=n.CRH())&&(i.heatcapacity=s.first)}},inputs:{annoinfo:"annoinfo"},decls:9,vars:3,consts:[[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],["cols","6","rowHeight","100px"],[1,"infoform",3,"formGroup"],[3,"colspan"],["matInput","","formControlName","DescriptionTitle"],[4,"ngIf"],[1,"label",3,"activityanno","maintainer","activityannoChange","maintainerChange","collection"],[1,"label"],["matInput","","formControlName","CatalogDataObjectMaintainer"],["matInput","","formControlName","JThermodynamicsStructureName"],["matInput","","formControlName","JThermodynamicsStructureSpecification"],[1,"chip-list"],["aria-label","Keyword selection",1,"chip-list"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","Temperatures",3,"matChipInputFor","matChipInputTokenEnd"],[3,"annoinfo","parameterinfo","annoinfoChange","parameterinfoChange"],["enthalpy",""],["entropy",""],["heatcapacity",""],["matInput","","formControlName","JThermodynamicsComputation",3,"matMenuTriggerFor","readonly"],[3,"items","selectionEvent"],["methodmenu",""],["matInput","","formControlName","JThermodynamicsSpeciesSpecificationType",3,"matMenuTriggerFor","readonly"],["structmenu",""],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group",1)(3,"mat-card-subtitle",2),n._uU(4),n.qZA()()(),n.TgZ(5,"mat-card-content"),n.YNc(6,Gde,47,27,"ng-container",3),n.YNc(7,Yde,2,0,"ng-template",null,4,n.W1O),n.qZA()()),2&e){const s=n.MAs(8);n.xp6(4),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",i.collectionready)("ngIfElse",s)}},dependencies:[ln,ke,rr,ti,Rt,en,kt,Pt,et,lt,gn,Xe,rn,Et,wt,sI,HC,oI,rI,hn,Nt,Bt,zt,Ot,Gt,$r,Fi,Xm,II],styles:[".title[_ngcontent-%COMP%]{width:100%}.label[_ngcontent-%COMP%]{width:100%;padding:2px}.chip-list[_ngcontent-%COMP%]{width:100%}"]}),r})();const zde=["calcsetup"],$de=["thermocontributions"];function Qde(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"mat-grid-list",13)(2,"mat-grid-tile",14)(3,"button",15),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.displayCatalogInfo())}),n._uU(4),n.qZA()(),n.TgZ(5,"mat-grid-tile",14)(6,"button",16),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.fetchInformation())}),n._uU(7),n.qZA()(),n.TgZ(8,"mat-grid-tile",14)(9,"button",17),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.submit())}),n._uU(10),n.qZA()()(),n.TgZ(11,"app-thermocalculationsetup",18,19),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.annoinfo=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(2),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",e.displaydescbutton),n.xp6(1),n.Oqu(e.displaybutton),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",e.loadfromdatabase),n.xp6(1),n.hij(" ",e.fetch," "),n.xp6(1),n.Q6J("colspan",2),n.xp6(1),n.s9C("matTooltip",e.submitdescr),n.Q6J("disabled",e.invalid()),n.xp6(1),n.Oqu(e.submitbutton),n.xp6(1),n.Q6J("annoinfo",e.annoinfo)}}function Wde(r,t){1&r&&(n._UZ(0,"mat-spinner"),n.TgZ(1,"div"),n._uU(2," Loading Activity information "),n.qZA())}function Kde(r,t){if(1&r&&(n.ynx(0),n._UZ(1,"mat-divider"),n.TgZ(2,"pre"),n._uU(3),n.ALo(4,"json"),n.qZA(),n._UZ(5,"mat-divider"),n.BQk()),2&r){const e=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,1,e.calculationresult))}}function Xde(r,t){if(1&r&&(n.ynx(0),n._UZ(1,"mat-divider")(2,"div",20)(3,"mat-divider"),n.BQk()),2&r){const e=n.oxw();n.xp6(2),n.Q6J("innerHTML",e.resultHtml,n.oJD)}}let ehe=(()=>{class r{constructor(e,i){this.annotations=e,this.dialog=i,this.title="Compute 2D Graphical Thermodynamics",this.displaydescbutton="Display input to calculation",this.displaybutton="Display",this.loadfromdatabase="Load calculation information from a file",this.fetch="Fetch",this.submitbutton="Calculate",this.submitdescr="Submit Calculation with information given",this.message="Initialize",this.getannotationsfnotsuccessful="Annotations not found",this.rdfslabel=O.rdfslabel,this.identifier=O.dctermsidentifier,this.filedefault="CalculateThermodynamicsActivity",this.readinfailed="Activity Read Failed",this.readincanceled="Cancel Read",this.failedsubmission="Failed Submission",this.failedresponse="Calculation unsuccessful",this.catalogtype="dataset:ActivityThermoCalculationSetup",this.getAnnotations()}ngOnInit(){}invalid(){let e=!0;return null!=this.calcsetup&&(e=this.calcsetup.invalid()),e}showResult(e){this.calculationresult=e[O.catalogobject],this.thermocontributions.setData(this.calculationresult)}getAnnotations(){this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{e[O.successful]?this.annoinfo=e[O.catalogobject][O.annotations]:alert(this.getannotationsfnotsuccessful)},error:e=>{alert(this.getannotationsfnotsuccessful+"\n"+e)}})}getServiceData(e){const i=this.annoinfo["dataset:JThermodynamicsComputation"][this.identifier],s={};this.calcsetup.getData(s),e.service=s[i].substring(8),e[O.ActivityInfo]=s}submit(){const e={};this.getServiceData(e),this.dialog.open(AG,{data:e}).afterClosed().subscribe(s=>{if(null!=s){const o=s["dataset:servicesuccessful"];this.resultHtml=s["dataset:serviceresponsemessage"],"true"==o?this.showResult(s):alert(this.failedresponse)}else this.resultHtml=this.failedsubmission})}displayCatalogInfo(){const e={};this.calcsetup.getData(e);const i=new Yo;i.disableClose=!1,i.autoFocus=!0,i.data={filename:this.filedefault,dataimage:e},this.dialog.open(vc,i).afterClosed().subscribe(o=>{})}fetchInformation(){this.dialog.open(xy,{data:{annoinfo:this.annoinfo,maintainer:this.calcsetup.maintainer,fromdatabase:!1,catalogtype:this.catalogtype}}).afterClosed().subscribe(i=>{null!=i?(this.resultHtml=i["dataset:serviceresponsemessage"],"true"==i["dataset:servicesuccessful"]?this.calcsetup.setData(i["dataset:simpcatobj"]):alert(this.readinfailed)):alert(this.readincanceled)})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Rn),n.Y36(Pi))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-computethermodynamics"]],viewQuery:function(e,i){if(1&e&&(n.Gf(zde,5),n.Gf($de,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.calcsetup=s.first),n.iGM(s=n.CRH())&&(i.thermocontributions=s.first)}},decls:47,vars:5,consts:[["label","Info"],[1,"example-card"],["label","Setup"],[1,"card"],[1,"title-group"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],["label","Result"],["thermocontributions",""],["label","Json"],[4,"ngIf"],["label","Logs"],["cols","6","rowHeight","100px"],[3,"colspan"],["mat-mini-fab","","color","primary",1,"display-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"fetch-btn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",1,"submit-btn",3,"matTooltip","disabled","click"],[3,"annoinfo","annoinfoChange"],["calcsetup",""],[3,"innerHTML"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-tab-group")(1,"mat-tab",0)(2,"mat-card",1)(3,"mat-card-header")(4,"mat-card-subtitle"),n._uU(5,"Calculations"),n.qZA(),n.TgZ(6,"mat-card-title"),n._uU(7,"Calculations from 2-D Lewis Structures"),n.qZA()(),n.TgZ(8,"mat-card-content")(9,"p"),n._uU(10,"Thermodynamics calculations are made using the thermodynamic database of Benson rules (or HBI rules), symmetry structures (optical, internal and external), structural,for example steric or ring structure influenced, and radical corrections (disassociation energies, symmetry losses, etc.). "),n.qZA(),n._uU(11," The calcuation is designed for flexibility in input and in output forms: "),n.TgZ(12,"ul")(13,"li")(14,"b"),n._uU(15,"Molecule Representation"),n.qZA(),n._uU(16,"Currently the molecule input is through one of several linear representations. In the interface, the linear representation type is chosen and a field"),n.qZA(),n.TgZ(17,"li")(18,"b"),n._uU(19,"Molecule Name and title of calculation"),n.qZA(),n._uU(20," For future reference, a name can be given to the molecule and a title can given an indication of the calculation."),n.qZA(),n.TgZ(21,"li")(22,"b"),n._uU(23,"Collection Set"),n.qZA(),n._uU(24," The collection set name is given to specify which fundamental data should be used for the calculation."),n.qZA(),n.TgZ(25,"li")(26,"b"),n._uU(27,"Output Units"),n.qZA(),n._uU(28," Through the interface, the user can specify the units of the output enthalpy, entropy and heat-capacity. "),n.qZA()(),n._UZ(29,"mat-divider"),n.qZA()()(),n.TgZ(30,"mat-tab",2)(31,"mat-card",3)(32,"mat-card-header")(33,"mat-card-title-group",4)(34,"mat-card-subtitle",5),n._uU(35),n.qZA()()(),n.TgZ(36,"mat-card-content"),n.YNc(37,Qde,13,11,"ng-container",6),n.YNc(38,Wde,3,0,"ng-template",null,7,n.W1O),n.qZA()()(),n.TgZ(40,"mat-tab",8),n._UZ(41,"app-thermodynamiccontributions",null,9),n.qZA(),n.TgZ(43,"mat-tab",10),n.YNc(44,Kde,6,3,"ng-container",11),n.qZA(),n.TgZ(45,"mat-tab",12),n.YNc(46,Xde,4,1,"ng-container",11),n.qZA()()),2&e){const s=n.MAs(39);n.xp6(35),n.Oqu(i.title),n.xp6(2),n.Q6J("ngIf",null!=i.annoinfo)("ngIfElse",s),n.xp6(7),n.Q6J("ngIf",null!=i.calculationresult),n.xp6(2),n.Q6J("ngIf",null!=i.resultHtml)}},dependencies:[ke,jt,zr,ro,et,lt,gn,Xe,Oi,rn,Et,wt,Wm,Jf,$r,Lde,Jde,Ya],styles:[".display-btn[_ngcontent-%COMP%], .fetch-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})(),the=(()=>{class r{constructor(e,i){this.sanitizer=e,this.httpClient=i}ngOnInit(){this.readCard1()}readCard1(){this.httpClient.get("../../../assets/"+this.contentfile+".html",{responseType:"text"}).subscribe(i=>{this.cardcontent=i})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(nc),n.Y36(ca))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-textcard"]],inputs:{title:"title",contentfile:"contentfile",bcolor:"bcolor"},decls:5,vars:5,consts:[[1,"dashboard-card"],[1,"dashboard-card-content",3,"innerHTML"]],template:function(e,i){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),n._uU(3),n.qZA()(),n._UZ(4,"mat-card-content",1),n.qZA()),2&e&&(n.Jzz("background-color: ",i.bcolor,""),n.xp6(3),n.hij(" ",i.title," "),n.xp6(1),n.Q6J("innerHTML",i.cardcontent,n.oJD))},dependencies:[et,lt,Xe,Oi],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px;height:250px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;inset:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:left}"]}),r})();function nhe(r,t){if(1&r&&(n.TgZ(0,"mat-grid-tile",10),n._UZ(1,"app-textcard",11),n.qZA()),2&r){const e=t.$implicit;n.Q6J("colspan",e.cols)("rowspan",e.rows),n.xp6(1),n.Q6J("title",e.title)("contentfile",e.content)("bcolor",e.color)}}let ihe=(()=>{class r{constructor(e,i,s,o,a){this.router=e,this.auth=i,this.breakpointObserver=s,this.sanitizer=o,this.httpClient=a}ngOnInit(){this.setup()}setup(){this.cards=this.breakpointObserver.observe(sP_Handset).pipe((0,Je.U)(({matches:e})=>e?[{title:"JThermodynamics",cols:1,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:1},{title:"Card 4",cols:1,rows:1}]:[{title:"JThermodynamics",cols:7,rows:7,content:"JThermodynamics",color:"#E0E0E0"},{title:"ChemConnect",cols:3,rows:7,content:"ChemConnect",color:"#C0C0C0"},{title:"Fundamental Data",cols:10,rows:7,content:"FundamentalData",color:"#F0F0F0"},{title:"Datasets and their versions",cols:5,rows:10,content:"DatasetVersions",color:"#E0E0E0"},{title:"Dataset Collection Sets",cols:5,rows:10,content:"DatasetCollectionSets",color:"#F0F0F0"},{title:"Goals",cols:3,rows:12,content:"Goals",color:"#D3D3D3"},{title:"Transparency and Openness (TOP)",cols:3,rows:12,content:"TopConcepts",color:"#D3D3D3"},{title:"FAIR data",cols:4,rows:12,content:"FairData",color:"#D3D3D3"},{title:"Edward S.Blurock",cols:10,rows:7,content:"Blurock",color:"#F0F0F0"}]))}calculate(){this.router.navigateByUrl("/compute")}startclick(){this.router.navigateByUrl(this.auth.isLoggedIn?"/toppage":"/sign-in")}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(jn),n.Y36(yc),n.Y36(WT),n.Y36(nc),n.Y36(ca))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-homepage"]],decls:34,vars:3,consts:[[1,"mat-typography"],[1,"top"],[1,"topbanner"],[1,"mat-display-3",2,"margin","0"],[1,"mat-subheading-2",2,"margin","0"],[1,"explanation"],["mat-raised-button","","color","#C0C0C0",1,"calculatebutton",3,"click"],["mat-raised-button","","color","#C0C0C0",1,"startbutton",3,"click"],["cols","10","rowHeight","50px"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],[3,"colspan","rowspan"],[3,"title","contentfile","bcolor"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),n._uU(4,"Calculating Molecular Thermodynamics"),n.qZA(),n.TgZ(5,"h3",4),n._uU(6,"Temperature dependent thermodynamics from 2D-graphical Molecular Representations (Lewis Structures)"),n.qZA(),n._UZ(7,"hr"),n.qZA(),n.TgZ(8,"div",5),n._uU(9," JThermodynamics (originally a JAVA implementation of THERGAS, formally called JTHERGAS) estimates temperature dependent thermodynamic information from two dimensional graphical representations of molecules and radicals based on the Benson additivity method. The main use of this method is within automatic combustion mechanism generation systems where fast estimation of a large number and variety of chemical species is needed. "),n.TgZ(10,"p"),n._uU(11," As a basis JThermodynamics calculates the thermodynamic information for species and radicals using benson rule contributions for each heavy (non-hydrogen) atom in the structure. The contribution of each atom is dependent on the surrounding bonding and valence of the (directly) connected atoms and functional groups. There are two methods for calculating the contribution of radicals. One is the original THERGAS method where the radical atom contribution is calculated relative to base species and taking into accound the hydrogen disassociation energy, difference in vibrational modes and symmetry. The other to calculate radicals is through the Hydrogen atom bond increments (HBI) method. In this method the individual radical corrections calculated by the THERGAS method are condensed into one contribution defined by the bonding around the radical "),n.qZA(),n.TgZ(12,"p"),n._uU(13," Additional corrections to the base Benson or HBI method are also included by JThermodynamics. These corrections include ring strain energies and other steric corrections. Corrections due to internal, external and optical symmetries are also included. "),n.qZA()(),n.TgZ(14,"div")(15,"button",6),n.NdJ("click",function(){return i.calculate()}),n._uU(16,"Try out a thermodynamic calculation with the standard database (no login required)"),n.qZA()(),n._UZ(17,"mat-divider"),n.TgZ(18,"div",5),n._uU(19," To perform these thermodynamics calculations a large database of individual pieces of fundamental data has to be managed. The database is designed to promote FAIR practices by managing these fundamental data objects in a way that their origins and history are traceable and the dataset as a whole is easily adaptable and updatable. "),n.TgZ(20,"p"),n._uU(21," The thermodynamic property calculations of JThermodynamics is based on a database of structure based tables, where each correction is based on 2D-graphical structures, whether it be benson rules, HBI structures, symmetry structures or steric structures. Basically the structure is identified (through graphical isomorphism) and the corresponding correction is made. This methodology is thus dependent on an extensive database of several types of corrections and their corresponding corrections. For example, each benson rule has its center atom structure and its corresponding temperature dependent thermodynamic contribution. Each symmetry element contribution is represented by a structure and its corresponding thermodynamic contribution. "),n.qZA(),n.TgZ(22,"p"),n._uU(23," A key feature of the database management is that every piece of fundamental data is traceable to its origins, including bibliograpic and internet references. Changes to the database are done through transactions. Each transaction keeps track of how the database was modified. In addition, each transaction has a link to its prerequisite transactions needed, meaning the data objects needed to form the current database modification If a fundamental data object is updated, the data object to be replaced is not is not deleted but linked to the new data object. This is noted within the transaction "),n.qZA(),n.TgZ(24,"p"),n._uU(25," Another key feature is that, through the dataset collection structure, updates to the database are managed efficiently. The collection set manages which combination of fundamental data objects are used for a thermodynamic calculation. If a fundamental data set is updated, the collection set can be modified to use this new set. Two different dataset collections can represent two different sets of fundamental data "),n.qZA()(),n.TgZ(26,"div")(27,"button",7),n.NdJ("click",function(){return i.startclick()}),n._uU(28,"Try building and modfying your own database for calculation (login required)"),n.qZA()()(),n._UZ(29,"mat-divider"),n.TgZ(30,"mat-grid-list",8),n.YNc(31,nhe,2,5,"mat-grid-tile",9),n.ALo(32,"async"),n.qZA(),n._UZ(33,"mat-divider"),n.qZA()),2&e&&(n.xp6(31),n.Q6J("ngForOf",n.lcZ(32,1,i.cards)))},dependencies:[ln,jt,zr,Et,wt,the,Io],styles:[".topbanner[_ngcontent-%COMP%]{text-align:center;justify-content:center;align-items:center;margin-bottom:0}.top[_ngcontent-%COMP%], .introtext[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:0;margin:0}.startbutton[_ngcontent-%COMP%], .calculatebutton[_ngcontent-%COMP%]{width:100%;color:primary;font-size:150%}.explanation[_ngcontent-%COMP%]{padding:20px}"]}),r})();function rhe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div")(2,"h3"),n._uU(3,"Welcome New User"),n.qZA(),n.TgZ(4,"h4"),n._uU(5,"This is the information to set up a valid user account."),n.qZA(),n._uU(6,"\nb In this menu, the user should set up a unique name and choose the type of user. The rest of the information has already been assigned. "),n._UZ(7,"br"),n._uU(8," Every account is defined by a unique verified email address, used for the login, and a UID, assigned by the authorization technique. The user name should also be unique. A user can suggest a unique name and this is checked by the database to insure it has not be used by another user account. "),n._UZ(9,"br"),n._uU(10," The user account 'role' determines what manipulations and queries the user can make within the database. The standard assignment is 'StandardUser' which allows the user to make calculation with the user's own database. The user's database can be modified by the user. "),n.qZA(),n.TgZ(11,"form",8)(12,"mat-grid-list",9)(13,"mat-grid-tile",10)(14,"mat-form-field",11)(15,"mat-label"),n._uU(16),n.qZA(),n._UZ(17,"input",12),n.TgZ(18,"mat-hint"),n._uU(19),n.qZA()()(),n.TgZ(20,"mat-grid-tile",10)(21,"mat-form-field",11)(22,"mat-label"),n._uU(23),n.qZA(),n._UZ(24,"input",13),n.TgZ(25,"mat-hint"),n._uU(26),n.qZA()()(),n.TgZ(27,"mat-grid-tile",10)(28,"mat-form-field",11)(29,"mat-label"),n._uU(30),n.qZA(),n._UZ(31,"input",14),n.TgZ(32,"mat-hint"),n._uU(33),n.qZA()()(),n.TgZ(34,"mat-grid-tile",15)(35,"mat-form-field",11)(36,"mat-label"),n._uU(37),n.qZA(),n._UZ(38,"input",16),n.TgZ(39,"mat-hint"),n._uU(40),n.qZA(),n.TgZ(41,"app-menu-item",17,18),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setUserAccountRole(s))}),n.qZA()()(),n.TgZ(43,"mat-grid-tile",10)(44,"mat-form-field",11)(45,"mat-label"),n._uU(46),n.qZA(),n._UZ(47,"input",19),n.TgZ(48,"mat-hint"),n._uU(49),n.qZA()()()()(),n.BQk()}if(2&r){const e=n.MAs(42),i=n.oxw();n.xp6(11),n.Q6J("formGroup",i.userAccountGroup),n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.Oqu(i.annoinfo["dataset:username"][i.rdfslabel]),n.xp6(3),n.Oqu(i.annoinfo["dataset:username"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",5),n.xp6(3),n.Oqu(i.annoinfo["dataset:Email"][i.rdfslabel]),n.xp6(1),n.Q6J("readonly",i.notadminrole),n.xp6(2),n.Oqu(i.annoinfo["dataset:Email"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.annoinfo["dataset:AuthorizationType"][i.rdfslabel]),n.xp6(1),n.Q6J("readonly",i.notadminrole),n.xp6(2),n.Oqu(i.annoinfo["dataset:AuthorizationType"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.hij("",i.annoinfo["dataset:UserAccountRole"][i.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu)("readonly",i.notadminrole),n.xp6(2),n.hij("",i.annoinfo["dataset:UserAccountRole"][i.rdfscomment]," "),n.xp6(1),n.Q6J("items",i.useraccountitems),n.xp6(2),n.Q6J("colspan",4),n.xp6(3),n.Oqu(i.annoinfo["dataset:UID"][i.rdfslabel]),n.xp6(1),n.Q6J("readonly",i.notadminrole),n.xp6(2),n.Oqu(i.annoinfo["dataset:UID"][i.rdfscomment])}}function she(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"div")(2,"h3"),n._uU(3,"Please take the time to fill in the information about you as a user"),n.qZA(),n._UZ(4,"br"),n._uU(5," This information will not be used outside this system and is meant to give insight to the collaborators. "),n.qZA(),n.TgZ(6,"form",8)(7,"mat-grid-list",9)(8,"mat-grid-tile",10)(9,"mat-form-field",11)(10,"mat-label"),n._uU(11),n.qZA(),n._UZ(12,"input",20),n.TgZ(13,"mat-hint"),n._uU(14),n.qZA()()(),n.TgZ(15,"mat-grid-tile",10)(16,"mat-form-field",11)(17,"mat-label"),n._uU(18),n.qZA(),n._UZ(19,"input",21),n.TgZ(20,"mat-hint"),n._uU(21),n.qZA()()(),n.TgZ(22,"mat-grid-tile",22)(23,"mat-form-field",11)(24,"mat-label"),n._uU(25),n.qZA(),n.TgZ(26,"input",23),n.NdJ("readonly",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.notadminrole)}),n.qZA(),n.TgZ(27,"mat-hint"),n._uU(28),n.qZA(),n.TgZ(29,"app-menu-item",17,24),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setUserTitle(s))}),n.qZA()()(),n.TgZ(31,"mat-grid-tile",15)(32,"mat-form-field",11)(33,"mat-label"),n._uU(34),n.qZA(),n._UZ(35,"input",25),n.TgZ(36,"mat-hint"),n._uU(37),n.qZA(),n.TgZ(38,"app-menu-item",17,26),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setUserClassification(s))}),n.qZA()()(),n.TgZ(40,"mat-grid-tile",10)(41,"mat-form-field",11)(42,"mat-label"),n._uU(43),n.qZA(),n._UZ(44,"textarea",27),n.TgZ(45,"mat-hint"),n._uU(46),n.qZA()()()()(),n.BQk()}if(2&r){const e=n.MAs(30),i=n.MAs(39),s=n.oxw();n.xp6(6),n.Q6J("formGroup",s.signinFormGroup),n.xp6(2),n.Q6J("colspan",3),n.xp6(3),n.Oqu(s.annoinfo["dataset:familyName"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:familyName"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",3),n.xp6(3),n.Oqu(s.annoinfo["dataset:givenName"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:givenName"][s.rdfscomment]),n.xp6(1),n.Q6J("colspan",2),n.xp6(3),n.Oqu(s.annoinfo["dataset:UserTitle"][s.rdfslabel]),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.Oqu(s.annoinfo["dataset:UserTitle"][s.rdfscomment]),n.xp6(1),n.Q6J("items",s.usertitleitems),n.xp6(2),n.Q6J("colspan",8),n.xp6(3),n.hij("",s.annoinfo["dataset:UserClassification"][s.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",i.childMenu),n.xp6(2),n.hij("",s.annoinfo["dataset:UserClassification"][s.rdfscomment]," "),n.xp6(1),n.Q6J("items",s.userclassificationitems),n.xp6(2),n.Q6J("colspan",8),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionAbstractPerson"][s.rdfslabel]),n.xp6(3),n.Oqu(s.annoinfo["dataset:DescriptionAbstractPerson"][s.rdfscomment])}}function ohe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",28),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.createUserAccount())}),n._uU(2),n.qZA(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(2),n.Oqu(e.submitbutton)}}function ahe(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.gotoTopWindow())}),n._uU(1),n.qZA()}if(2&r){const e=n.oxw();n.xp6(1),n.Oqu(e.gototopbutton)}}let lhe=(()=>{class r{constructor(e,i,s,o,a,d){this.session=e,this.dialog=i,this.formBuilder=s,this.annotations=o,this.menusetup=a,this.router=d,this.islinear=!0,this.tocreate=!0,this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.failedresponse="Failed to generate the user account, look at logs for error",this.gototopbutton="Creation successful!!!    Press to start using JThermodynamics",this.failedsubmission="Failure in transaction",this.submitbutton="Create User Account",this.catalogtype="dataset:ActivityInitializeNewAccount",this.useraccountrole="dataset:UserAccountRole",this.useraccountitems=[],this.userclassification="dataset:UserClassification",this.userclassificationitems=[],this.usertitle="dataset:UserTitle",this.usertitleitems=[],this.notadminrole=!0,this.suffix="Person",this.getCatalogAnnoations(),this.userAccountGroup=this.formBuilder.group({AuthorizationType:["",oe.required],UID:["",oe.required],username:["",oe.required],Email:["",oe.email],UserAccountRole:["",oe.required]}),this.signinFormGroup=this.formBuilder.group({familyName:["",oe.required],givenName:["",oe.required],UserTitle:["",oe.required],UserClassification:["",oe.required],DescriptionAbstractPerson:["",oe.required]}),this.userAccountGroup.get("UserAccountRole").setValue("dataset:StandardUser"),this.signinFormGroup.get("UserClassification").setValue("dataset:ConceptResearcher")}ngOnInit(){this.setupUserParameters()}setupUserParameters(){const e=this.session.getLoginAccountInfo();let i="user",s="",o="user@gmail.com",a="xxxxx",d="dataset:StandardUser";if(null!=e){if(null!=e[O.AuthorizationType]&&(s=e[O.AuthorizationType]),null!=e[O.email]){o=e[O.email];const f=o.indexOf("@");i=o.substring(0,f)}null!=e[O.username]&&(i=e[O.username]),null!=e[O.UID]?a=e[O.UID]:alert("not authorized"),null!=e[O.UserAccountRole]&&(d=e[O.UserAccountRole])}else location.reload();this.userAccountGroup.get("UID").setValue(a),this.userAccountGroup.get("username").setValue(i),this.userAccountGroup.get("Email").setValue(o),this.userAccountGroup.get("AuthorizationType").setValue(s),this.userAccountGroup.get("UserAccountRole").setValue(d)}getCatalogAnnoations(){this.message="Waiting for Info call",this.annotations.getNewCatalogObject(this.catalogtype).subscribe({next:e=>{const i=e;this.message=i[O.message],i[O.successful]?(this.annoinfo=i[O.catalogobject][O.annotations],this.useraccountitems=this.menusetup.findChoices(this.annoinfo,this.useraccountrole),this.userclassificationitems=this.menusetup.findChoices(this.annoinfo,this.userclassification),this.usertitleitems=this.menusetup.findChoices(this.annoinfo,this.usertitle)):this.message=e},error:e=>{alert("Get Annotations failed:"+this.message)}})}setUserClassification(e){this.signinFormGroup.get("UserClassification").setValue(e)}setUserTitle(e){this.signinFormGroup.get("UserTitle").setValue(e)}setUserAccountRole(e){this.userAccountGroup.get("AccountRole").setValue(e)}getData(e){e[this.annoinfo["dataset:AuthorizationType"][this.identifier]]=this.userAccountGroup.get("AuthorizationType").value,e[this.annoinfo["dataset:UID"][this.identifier]]=this.userAccountGroup.get("UID").value,e[this.annoinfo["dataset:username"][this.identifier]]=this.userAccountGroup.get("username").value,e[this.annoinfo["dataset:Email"][this.identifier]]=this.userAccountGroup.get("Email").value,e[this.annoinfo["dataset:UserAccountRole"][this.identifier]]=this.userAccountGroup.get("UserAccountRole").value;const i={},s={};i[this.annoinfo["dataset:PersonalDescription"][this.identifier]]=s,e[this.annoinfo["dataset:PersonalDescription"][this.identifier]]=i,s[this.annoinfo["dataset:familyName"][this.identifier]]=this.signinFormGroup.get("familyName").value,s[this.annoinfo["dataset:givenName"][this.identifier]]=this.signinFormGroup.get("givenName").value,s[this.annoinfo["dataset:UserTitle"][this.identifier]]=this.signinFormGroup.get("UserTitle").value,i[this.annoinfo["dataset:UserClassification"][this.identifier]]=this.signinFormGroup.get("UserClassification").value;const o={};e[this.annoinfo["dataset:DataDescriptionPerson"][this.identifier]]=o,o[this.annoinfo["dataset:DescriptionAbstractPerson"][this.identifier]]=this.signinFormGroup.get("DescriptionAbstractPerson").value;const a=this.signinFormGroup.get("familyName").value+", "+this.signinFormGroup.get("givenName").value+"  ("+this.signinFormGroup.get("UserClassification").value+")";o[this.annoinfo["dataset:DescriptionTitlePerson"][this.identifier]]=a,e[this.annoinfo["dataset:DescriptionTitle"][this.identifier]]="Creation of UserAcccount and DatabasePerson for "+this.userAccountGroup.get("username").value;const d={};o[this.annoinfo["dataset:PurposeConceptPerson"][this.identifier]]=d,d[this.annoinfo["dataset:ConceptPerson"][this.identifier]]=this.userAccountGroup.get("UserAccountRole").value,d[this.annoinfo["dataset:PurposePerson"][this.identifier]]=this.signinFormGroup.get("UserClassification").value,o[this.annoinfo["dataset:DescriptionKeywordPerson"][this.identifier]]=""}setData(e){}createTransaction(e){const i={};e["prov:activity"]="dataset:InitializerUserAccount",e["dataset:activityinfo"]=i,this.getData(i)}gotoTopWindow(){this.router.parseUrl("/toppage")}createUserAccount(){const e={};this.createTransaction(e),this.dialog.open(Al,{data:e}).afterClosed().subscribe(s=>{if(null!=s){const o=s["dataset:servicesuccessful"];if(this.resultHtml=s["dataset:serviceresponsemessage"],"true"===o){const d=s[O.catalogobject][0];this.session.setLoginStatus("dataset:LoginRegistration"),this.session.setDatabasePerson(d[O.DatabasePerson]),this.session.setUserAccount(d[O.UserAccount]),this.tocreate=!1}else alert(this.failedresponse)}else this.resultHtml=this.failedsubmission})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Oa),n.Y36(Pi),n.Y36(Ut),n.Y36(Rn),n.Y36(Si),n.Y36(jn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-setupuserinformation"]],decls:17,vars:8,consts:[["stepper",""],["label","Account Setup",3,"stepControl"],[4,"ngIf"],["label","User Information",3,"stepControl"],["label","Create User Account",3,"stepControl"],[4,"ngIf","ngIfElse"],["gototop",""],[3,"innerHTML"],[1,"signinform",3,"formGroup"],["cols","8","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","username"],["matInput","","formControlName","Email",3,"readonly"],["matInput","","formControlName","AuthorizationType",3,"readonly"],["background","lightgray",3,"colspan"],["matInput","","formControlName","UserAccountRole",3,"matMenuTriggerFor","readonly"],[3,"items","selectionEvent"],["useraccountmenu",""],["matInput","","formControlName","UID",3,"readonly"],["matInput","","formControlName","familyName"],["matInput","","formControlName","givenName"],["background","label",3,"colspan"],["matInput","","formControlName","UserTitle",3,"matMenuTriggerFor","readonly"],["usertitlemenu",""],["matInput","","formControlName","UserClassification",3,"matMenuTriggerFor"],["userclassificationmenu",""],["matInput","","formControlName","DescriptionAbstractPerson"],["mat-raised-button","","color","primary",1,"label",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-stepper",null,0)(2,"mat-step",1),n.YNc(3,rhe,50,22,"ng-container",2),n.qZA(),n.TgZ(4,"mat-step",3),n.YNc(5,she,47,20,"ng-container",2),n.qZA(),n.TgZ(6,"mat-step",4)(7,"div")(8,"h3"),n._uU(9," Create the user account "),n.qZA(),n._uU(10," This step will create the user account so you can start using JThermodynamics. "),n._UZ(11,"br"),n._uU(12," The next steps will set up the default database to be used by the user for calculations and database modifications. "),n.qZA(),n.YNc(13,ohe,3,1,"ng-container",5),n.YNc(14,ahe,2,1,"ng-template",null,6,n.W1O),n._UZ(16,"div",7),n.qZA()()),2&e){const s=n.MAs(15);n.xp6(2),n.Q6J("stepControl",i.userAccountGroup),n.xp6(1),n.Q6J("ngIf",null!=i.annoinfo),n.xp6(1),n.Q6J("stepControl",i.signinFormGroup),n.xp6(1),n.Q6J("ngIf",null!=i.annoinfo),n.xp6(1),n.Q6J("stepControl",i.userAccountGroup),n.xp6(7),n.Q6J("ngIf",i.tocreate)("ngIfElse",s),n.xp6(3),n.Q6J("innerHTML",i.resultHtml,n.oJD)}},dependencies:[ke,jt,ti,Rt,en,kt,Pt,Et,wt,hn,Nt,Bt,zt,Ot,Gt,WP,KP,Fi],styles:[".label[_ngcontent-%COMP%]{width:100%;padding:2px}"]}),r})();const che=["useraccount"],uhe=["person"];function dhe(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"span")(1,"button",13),n.NdJ("click",function(){const o=n.CHM(e).$implicit,a=n.oxw();return n.KtG(a.userChosen(o))}),n._uU(2),n.qZA()()}if(2&r){const e=t.$implicit;n.xp6(2),n.Oqu(e)}}function hhe(r,t){if(1&r&&(n.ynx(0),n._UZ(1,"mat-divider")(2,"div",14)(3,"mat-divider"),n.BQk()),2&r){const e=n.oxw();n.xp6(2),n.Q6J("innerHTML",e.resultHtml,n.oJD)}}let fhe=(()=>{class r{constructor(e){this.runservice=e,this.serviceid="service",this.usernameid="foaf:account",this.setuptitle="Choose User Account"}ngOnInit(){this.getAccountIDs()}getAccountIDs(){const e={};e[this.serviceid]="ListOfUserAccountNames",this.runservice.run(e).subscribe({next:i=>{"true"==i[O.successful]?this.items=i[O.catalogobject][0][this.usernameid]:alert("List of Users not available")}})}userChosen(e){const i={};i[this.serviceid]="GetUserAccountAndDatabasePerson",i[this.usernameid]=e,this.runservice.run(i).subscribe({next:s=>{const o=s[O.successful];if(this.resultHtml=s[O.message],"true"===o){const a=s[O.catalogobject][0];this.persondata=a["vcard:Individual"],this.account=a["prov:SoftwareAgent"],this.useraccount.setData(this.account),this.person.setData(this.persondata)}else alert("Retrieval of usr information not successful: see logs"),this.runservice.checkReturn(s)}})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(ga))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-useraccountadministration"]],viewQuery:function(e,i){if(1&e&&(n.Gf(che,5),n.Gf(uhe,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.useraccount=s.first),n.iGM(s=n.CRH())&&(i.person=s.first)}},decls:22,vars:4,consts:[["label","User Setup"],[1,"card"],[1,"title-group"],[1,"title"],["mat-menu-item","","color","primary",3,"matMenuTriggerFor"],["menu","matMenu"],[4,"ngFor","ngForOf"],["label","User Account"],["useraccount",""],["label","Person Information"],["person",""],["label","Logs"],[4,"ngIf"],["mat-menu-item","",3,"click"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-tab-group")(1,"mat-tab",0)(2,"mat-card",1)(3,"mat-card-header")(4,"mat-card-title-group",2)(5,"mat-card-subtitle",3),n._uU(6),n.qZA()()(),n.TgZ(7,"mat-card-content")(8,"button",4)(9,"span"),n._uU(10,"Users"),n.qZA()(),n.TgZ(11,"mat-menu",null,5),n.YNc(13,dhe,3,1,"span",6),n.qZA()()()(),n.TgZ(14,"mat-tab",7),n._UZ(15,"app-useraccount",null,8),n.qZA(),n.TgZ(17,"mat-tab",9),n._UZ(18,"app-databaseperson",null,10),n.qZA(),n.TgZ(20,"mat-tab",11),n.YNc(21,hhe,4,1,"ng-container",12),n.qZA()()),2&e){const s=n.MAs(12);n.xp6(6),n.Oqu(i.setuptitle),n.xp6(2),n.Q6J("matMenuTriggerFor",s),n.xp6(5),n.Q6J("ngForOf",i.items),n.xp6(8),n.Q6J("ngIf",null!=i.resultHtml)}},dependencies:[ln,ke,zr,jC,Km,ti,et,lt,gn,Xe,rn,Wm,Jf,kq,Bq]}),r})();const phe=["thermocollectionset"];function mhe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",9)(2,"mat-grid-list",10)(3,"mat-grid-tile",11)(4,"mat-form-field",12)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",13),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",14)(11,"app-datasetcollectionchoicemenu",15),n.NdJ("activityannoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.activityanno=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)})("collection",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setCollection(s))}),n.qZA()(),n.TgZ(12,"mat-grid-tile",11)(13,"mat-form-field",12)(14,"mat-label"),n._uU(15),n.qZA(),n._UZ(16,"input",16),n.TgZ(17,"mat-hint"),n._uU(18),n.qZA()()(),n.TgZ(19,"mat-grid-tile",11)(20,"mat-form-field",12)(21,"mat-label"),n._uU(22),n.qZA(),n._UZ(23,"input",17),n.TgZ(24,"mat-hint"),n._uU(25),n.qZA()()(),n.TgZ(26,"mat-grid-tile",11)(27,"mat-form-field",12)(28,"mat-label"),n._uU(29),n.qZA(),n._UZ(30,"input",18),n.TgZ(31,"mat-hint"),n._uU(32),n.qZA()()(),n.TgZ(33,"mat-grid-tile",11)(34,"button",19),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.submitSystem())}),n._uU(35),n.qZA()()()(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.objectform),n.xp6(2),n.Q6J("colspan",4),n.xp6(3),n.hij("",e.activityanno["dataset:DescriptionTitle"][e.rdfslabel]," "),n.xp6(3),n.hij("",e.activityanno["dataset:DescriptionTitle"][e.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",1),n.xp6(1),n.Q6J("activityanno",e.activityanno)("maintainer",e.maintainer),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.hij("",e.activityanno["dataset:SystemDatasetCollectionsSetLabel"][e.rdfslabel]," "),n.xp6(3),n.hij("",e.activityanno["dataset:SystemDatasetCollectionsSetLabel"][e.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.hij("",e.activityanno["dataset:DatasetVersion"][e.rdfslabel]," "),n.xp6(3),n.hij("",e.activityanno["dataset:DatasetVersion"][e.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.hij("",e.activityanno["dataset:DatasetName"][e.rdfslabel]," "),n.xp6(3),n.hij("",e.activityanno["dataset:DatasetName"][e.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",4),n.xp6(1),n.Q6J("disabled",e.objectform.invalid),n.xp6(1),n.Oqu(e.submit)}}function ghe(r,t){1&r&&(n._uU(0," Setup "),n._UZ(1,"mat-spinner"))}function _he(r,t){if(1&r&&(n.ynx(0),n._UZ(1,"mat-divider")(2,"div",20)(3,"mat-divider"),n.BQk()),2&r){const e=n.oxw();n.xp6(2),n.Q6J("innerHTML",e.resultHtml,n.oJD)}}let yhe=(()=>{class r{constructor(e,i,s,o,a,d){this.formBuilder=e,this.annotations=i,this.runservice=s,this.manageuser=o,this.dialog=a,this.identifiers=d,this.setuptitle="Add Collection Dataset to System Collection Dataset",this.sourcedataset="Choose Source",this.submit="Create System Dataset",this.failedsubmission="Failed Transaction: no result given",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.catalogtype="dataset:ThermodynamicsDatasetCollectionIDsSet",this.activitytype="dataset:ActivityInformationCreateSystemCollection",this.objectform=this.formBuilder.group({DatasetCollectionsSetLabel:["",oe.required],CatalogDataObjectMaintainer:["",oe.required],SystemDatasetCollectionsSetLabel:["",oe.required],DescriptionTitle:["System Dataset Collection",oe.required],DatasetVersion:["1.0",oe.required],DatasetName:["",oe.required]}),this.getCatalogAnnoations(this.activitytype),this.getCatalogAnnoations(this.catalogtype),this.manageuser.determineMaintainer().subscribe(f=>{null!=f?(this.maintainer=f,this.objectform.get("CatalogDataObjectMaintainer").setValue(this.maintainer)):(this.runservice.checkReturn(f),alert(this.manageuser.errormaintainer))})}ngOnInit(){}setCollection(e){this.collection=e;const i=e["dcat:dataset"];this.selected=e[this.identifiers.DatasetCollectionsLabel],"dataset:ThermodynamicsSystemCollectionIDsSet"==i?(this.selected=e[this.identifiers.CatalogObjectKey],this.objectform.get("CatalogDataObjectMaintainer").setValue("systemthermodynamics")):this.objectform.get("CatalogDataObjectMaintainer").setValue(this.maintainer),this.objectform.get("DatasetCollectionsSetLabel").setValue(this.selected),this.thermocollectionset.setData(this.collection)}userChosen(e){this.userid=e}getCatalogAnnoations(e){this.annotations.getNewCatalogObject(e).subscribe({next:i=>{const s=i;if(this.resultHtml=s[O.message],s[O.successful]){const a=s[O.catalogobject][O.annotations];e===this.catalogtype?this.cataloganno=a:this.activityanno=a}},error:i=>{alert("Get Annotations failed: see logs")}})}getListOfUsers(){const e={};e[O.service]="ListOfUserAccountNames",this.runservice.run(e).subscribe({next:i=>{"true"===i[O.successful]&&(this.useritems=i[O.catalogobject][0][O.username])}})}getActivity(e){e[this.activityanno["dataset:DatasetCollectionsSetLabel"][this.identifier]]=this.objectform.get("DatasetCollectionsSetLabel").value,e[this.activityanno["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.objectform.get("CatalogDataObjectMaintainer").value,e[this.activityanno["dataset:SystemDatasetCollectionsSetLabel"][this.identifier]]=this.objectform.get("SystemDatasetCollectionsSetLabel").value,e[this.activityanno["dataset:DescriptionTitle"][this.identifier]]=this.objectform.get("DescriptionTitle").value,e[this.activityanno["dataset:DatasetVersion"][this.identifier]]=this.objectform.get("DatasetVersion").value,e[this.activityanno["dataset:DatasetName"][this.identifier]]=this.objectform.get("DatasetName").value}submitSystem(){const e={};e[O.TransactionEventType]="dataset:DatasetCollectionSetCreateSystemCollection";const i={};this.getActivity(i),e[O.ActivityInfo]=i,this.dialog.open(Al,{data:e}).afterClosed().subscribe(o=>{if(null!=o){const a=o["dataset:servicesuccessful"];this.resultHtml=o["dataset:serviceresponsemessage"],"true"===a&&alert("Transaction successful")}else this.resultHtml=this.failedsubmission})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Rn),n.Y36(ga),n.Y36(yr),n.Y36(Pi),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-datasertcollectionadministration"]],viewQuery:function(e,i){if(1&e&&n.Gf(phe,5),2&e){let s;n.iGM(s=n.CRH())&&(i.thermocollectionset=s.first)}},decls:18,vars:5,consts:[["label","Choose Dataset Collection"],[1,"card"],[1,"title-group"],[4,"ngIf","ngIfElse"],["waiting",""],["label","Dataset"],["thermocollectionset",""],["label","Logs"],[4,"ngIf"],[1,"infoform",3,"formGroup"],["cols","4","rowHeight","75px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","DescriptionTitle"],["background","lightgray",3,"colspan"],[1,"label",3,"activityanno","maintainer","activityannoChange","maintainerChange","collection"],["matInput","","formControlName","SystemDatasetCollectionsSetLabel"],["matInput","","formControlName","DatasetVersion"],["matInput","","formControlName","DatasetName"],["mat-raised-button","","color","primary",1,"submit",3,"disabled","click"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-tab-group")(1,"mat-tab",0)(2,"mat-card",1)(3,"mat-card-header")(4,"mat-card-title-group",2)(5,"mat-card-title"),n._uU(6),n.qZA(),n.TgZ(7,"mat-card-subtitle"),n._uU(8),n.qZA()()(),n.TgZ(9,"mat-card-content"),n.YNc(10,mhe,36,19,"ng-container",3),n.YNc(11,ghe,2,0,"ng-template",null,4,n.W1O),n.qZA()()(),n.TgZ(13,"mat-tab",5),n._UZ(14,"app-thermodynamicsdatasetcollectionidsset",null,6),n.qZA(),n.TgZ(16,"mat-tab",7),n.YNc(17,_he,4,1,"ng-container",8),n.qZA()()),2&e){const s=n.MAs(12);n.xp6(6),n.Oqu(i.setuptitle),n.xp6(2),n.hij("Chosen Collection: ",i.selected,""),n.xp6(2),n.Q6J("ngIf",null!=i.activityanno)("ngIfElse",s),n.xp6(7),n.Q6J("ngIf",null!=i.resultHtml)}},dependencies:[ke,jt,zr,Rt,en,kt,Pt,et,lt,gn,Xe,Oi,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Wm,Jf,$r,fI,II],styles:[".label[_ngcontent-%COMP%], .submit[_ngcontent-%COMP%]{width:100%;padding:2px}.collection[_ngcontent-%COMP%]{width:100%;padding:5px}"]}),r})();const bhe=["thermocollectionset"];function vhe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",9)(2,"mat-grid-list",10)(3,"mat-grid-tile",11)(4,"mat-form-field",12)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",13),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",14)(11,"app-datasetcollectionchoicemenu",15),n.NdJ("activityannoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.activityanno=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)})("collection",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setCollection(s))}),n.qZA()(),n.TgZ(12,"mat-grid-tile",11)(13,"mat-form-field",12)(14,"mat-label"),n._uU(15),n.qZA(),n._UZ(16,"input",16),n.TgZ(17,"mat-hint"),n._uU(18),n.qZA()()(),n.TgZ(19,"mat-grid-tile",11)(20,"mat-form-field",12)(21,"mat-label"),n._uU(22),n.qZA(),n._UZ(23,"input",17),n.TgZ(24,"mat-hint"),n._uU(25),n.qZA()()(),n.TgZ(26,"mat-grid-tile",11)(27,"mat-form-field",12)(28,"mat-label"),n._uU(29),n.qZA(),n._UZ(30,"input",18),n.TgZ(31,"mat-hint"),n._uU(32),n.qZA()()(),n.TgZ(33,"mat-grid-tile",11)(34,"button",19),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.submitSystem())}),n._uU(35),n.qZA()()()(),n.BQk()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.objectform),n.xp6(2),n.Q6J("colspan",4),n.xp6(3),n.hij("",e.activityanno["dataset:DescriptionTitle"][e.rdfslabel]," "),n.xp6(3),n.hij("",e.activityanno["dataset:DescriptionTitle"][e.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",1),n.xp6(1),n.Q6J("activityanno",e.activityanno)("maintainer",e.maintainer),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.hij(" ",e.activityanno["dataset:DatasetCollectionSetDestinationLabel"][e.rdfslabel]," "),n.xp6(3),n.hij(" ",e.activityanno["dataset:DatasetCollectionSetDestinationLabel"][e.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.hij("",e.activityanno["dataset:DatasetVersion"][e.rdfslabel]," "),n.xp6(3),n.hij("",e.activityanno["dataset:DatasetVersion"][e.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.hij("",e.activityanno["dataset:DatasetName"][e.rdfslabel]," "),n.xp6(3),n.hij("",e.activityanno["dataset:DatasetName"][e.rdfscomment]," "),n.xp6(1),n.Q6J("colspan",4),n.xp6(1),n.Q6J("disabled",e.invalid()),n.xp6(1),n.Oqu(e.submitlabel)}}function Che(r,t){1&r&&(n._uU(0," Setup "),n._UZ(1,"mat-spinner"))}function whe(r,t){if(1&r&&(n.ynx(0),n._UZ(1,"mat-divider")(2,"div",20)(3,"mat-divider"),n.BQk()),2&r){const e=n.oxw();n.xp6(2),n.Q6J("innerHTML",e.resultHtml,n.oJD)}}let The=(()=>{class r{constructor(e,i,s,o,a,d){this.formBuilder=e,this.annotations=i,this.runservice=s,this.manageuser=o,this.dialog=a,this.identifiers=d,this.setuptitle="Copy Collection from System Collection",this.failedsubmission="FAIled submission",this.submitlabel="Create System Collection",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.maintainer="Guest",this.catalogtype="dataset:ThermodynamicsDatasetCollectionIDsSet",this.activitytype="dataset:ActivityInformationCopyCollection",this.objectform=this.formBuilder.group({CatalogDataObjectMaintainer:["",oe.required],DestinationCollectionMaintainer:["",oe.required],SourceCollectionMaintainer:["",oe.required],DatasetCollectionSetDestinationLabel:["",oe.required],DatasetCollectionSetSourceLabel:["",oe.required],DescriptionTitle:["",oe.required],DatasetVersion:["",oe.required],DatasetName:["",oe.required]}),this.getCatalogAnnoations(this.activitytype),this.getCatalogAnnoations(this.catalogtype),this.manageuser.determineMaintainer().subscribe(f=>{null!=f?this.maintainer=f:alert(this.manageuser.errormaintainer)}),this.objectform.get("CatalogDataObjectMaintainer").setValue("systemthermodynamics"),this.objectform.get("DestinationCollectionMaintainer").setValue("systemthermodynamics")}invalid(){return this.objectform.invalid}ngOnInit(){}setCollection(e){var s=e[this.identifiers.DatasetCollectionsLabel];"dataset:ThermodynamicsSystemCollectionIDsSet"==e["dcat:dataset"]?this.objectform.get("SourceCollectionMaintainer").setValue("systemthermodynamics"):this.objectform.get("SourceCollectionMaintainer").setValue(this.maintainer),this.objectform.get("DatasetCollectionSetSourceLabel").setValue(s)}getCatalogAnnoations(e){this.annotations.getNewCatalogObject(e).subscribe({next:i=>{const s=i;if(this.resultHtml=s[O.message],s[O.successful]){const a=s[O.catalogobject][O.annotations];e===this.catalogtype?this.cataloganno=a:this.activityanno=a}},error:i=>{alert("Get Annotations failed: see logs")}})}getActivity(e){e[this.activityanno["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.objectform.get("CatalogDataObjectMaintainer").value,e[this.activityanno["dataset:DatasetCollectionSetSourceLabel"][this.identifier]]=this.objectform.get("DatasetCollectionSetSourceLabel").value,e[this.activityanno["dataset:SourceCollectionMaintainer"][this.identifier]]=this.objectform.get("SourceCollectionMaintainer").value,e[this.activityanno["dataset:DatasetCollectionSetDestinationLabel"][this.identifier]]=this.objectform.get("DatasetCollectionSetDestinationLabel").value,e[this.activityanno["dataset:DestinationCollectionMaintainer"][this.identifier]]=this.objectform.get("DestinationCollectionMaintainer").value,e[this.activityanno["dataset:DescriptionTitle"][this.identifier]]=this.objectform.get("DescriptionTitle").value,e[this.activityanno["dataset:DatasetVersion"][this.identifier]]=this.objectform.get("DatasetVersion").value,e[this.activityanno["dataset:DatasetName"][this.identifier]]=this.objectform.get("DatasetName").value}submitSystem(){const e={};e[O.TransactionEventType]="dataset:DatasetCollectionSetCopyCollection";const i={};this.getActivity(i),e[O.ActivityInfo]=i,this.dialog.open(Al,{data:e}).afterClosed().subscribe(o=>{if(null!=o){const a=o["dataset:servicesuccessful"];this.resultHtml=o["dataset:serviceresponsemessage"],"true"===a?alert("Transaction successful"):this.runservice.checkReturn(o)}else this.resultHtml=this.failedsubmission})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Ut),n.Y36(Rn),n.Y36(ga),n.Y36(yr),n.Y36(Pi),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-copysystemdatasetcollections"]],viewQuery:function(e,i){if(1&e&&n.Gf(bhe,5),2&e){let s;n.iGM(s=n.CRH())&&(i.thermocollectionset=s.first)}},decls:20,vars:5,consts:[["label","Choose Dataset Collection"],[1,"card"],[1,"title-group"],[4,"ngIf","ngIfElse"],["waiting",""],["label","Dataset"],["thermocollectionset",""],["label","Logs"],[4,"ngIf"],[1,"infoform",3,"formGroup"],["cols","4","rowHeight","100px"],[3,"colspan"],[1,"label"],["matInput","","formControlName","DescriptionTitle"],["background","lightgray",3,"colspan"],[1,"label",3,"activityanno","maintainer","activityannoChange","maintainerChange","collection"],["matInput","","formControlName","DatasetCollectionSetDestinationLabel"],["matInput","","formControlName","DatasetVersion"],["matInput","","formControlName","DatasetName"],["mat-raised-button","","color","primary",1,"submit",3,"disabled","click"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-tab-group")(1,"mat-tab",0)(2,"mat-card",1)(3,"mat-card-header")(4,"mat-card-title-group",2)(5,"mat-card-title"),n._uU(6),n.qZA(),n.TgZ(7,"mat-card-subtitle"),n._uU(8),n.qZA()()(),n.TgZ(9,"mat-card-content")(10,"p"),n._uU(11," With this menu a copy of a system collection is created for the user to use and modify "),n.qZA(),n.YNc(12,vhe,36,19,"ng-container",3),n.YNc(13,Che,2,0,"ng-template",null,4,n.W1O),n.qZA()()(),n.TgZ(15,"mat-tab",5),n._UZ(16,"app-thermodynamicsdatasetcollectionidsset",null,6),n.qZA(),n.TgZ(18,"mat-tab",7),n.YNc(19,whe,4,1,"ng-container",8),n.qZA()()),2&e){const s=n.MAs(14);n.xp6(6),n.Oqu(i.setuptitle),n.xp6(2),n.hij("Chosen Collection: ",i.selected,""),n.xp6(4),n.Q6J("ngIf",null!=i.activityanno)("ngIfElse",s),n.xp6(7),n.Q6J("ngIf",null!=i.resultHtml)}},dependencies:[ke,jt,zr,Rt,en,kt,Pt,et,lt,gn,Xe,Oi,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Wm,Jf,$r,fI,II],styles:[".label[_ngcontent-%COMP%]{width:100%;padding:2px}.card[_ngcontent-%COMP%]{height:50%}.submit[_ngcontent-%COMP%]{width:100%;padding:2px}.collection[_ngcontent-%COMP%]{width:100%;padding:5px}"]}),r})(),Dhe=(()=>{class r{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return alert("islogged in"+this.authService.isLoggedIn),!0===this.authService.isLoggedIn?this.router.parseUrl("/toppage"):this.authService.isRegistered?!!this.authService.isValidated||this.router.parseUrl("/verify-email-address"):this.router.parseUrl("")}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(yc),n.LFG(jn))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const xhe=["enthalpy"],She=["entropy"],Ahe=["heatcapacity"];function Ehe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"form",8)(2,"mat-grid-list",9)(3,"mat-grid-tile",10)(4,"mat-form-field",11)(5,"mat-label"),n._uU(6),n.qZA(),n._UZ(7,"input",12),n.TgZ(8,"mat-hint"),n._uU(9),n.qZA()()(),n.TgZ(10,"mat-grid-tile",13)(11,"app-datasetcollectionchoicemenu",14),n.NdJ("activityannoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.cataloganno=s)})("maintainerChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.maintainer=s)})("collection",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setCollection(s))}),n.qZA()(),n.TgZ(12,"mat-grid-tile",10)(13,"mat-form-field",15)(14,"mat-label"),n._uU(15),n.qZA(),n._UZ(16,"input",16),n.TgZ(17,"mat-hint"),n._uU(18),n.qZA(),n.TgZ(19,"app-menu-item",17,18),n.NdJ("selectionEvent",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.setType(s))}),n.qZA()()(),n.TgZ(21,"mat-grid-tile",10)(22,"button",19),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.submitSystem())}),n._uU(23),n.qZA()()()(),n.TgZ(24,"app-parameterspecification",20,21),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.cataloganno=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.molarenthalpy=s)}),n.qZA(),n.TgZ(26,"app-parameterspecification",20,22),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.cataloganno=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.molarentropy=s)}),n.qZA(),n.TgZ(28,"app-parameterspecification",20,23),n.NdJ("annoinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.cataloganno=s)})("parameterinfoChange",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.molarheatcapacity=s)}),n.qZA(),n.BQk()}if(2&r){const e=n.MAs(20),i=n.oxw();n.xp6(1),n.Q6J("formGroup",i.objectform),n.xp6(2),n.Q6J("colspan",2),n.xp6(3),n.Oqu(i.cataloganno["dataset:DescriptionTitle"][i.rdfslabel]),n.xp6(3),n.Oqu(i.cataloganno["dataset:DescriptionTitle"][i.rdfscomment]),n.xp6(1),n.Q6J("colspan",1),n.xp6(1),n.Q6J("activityanno",i.cataloganno)("maintainer",i.maintainer),n.xp6(1),n.Q6J("colspan",1),n.xp6(3),n.hij(" ",i.cataloganno["dataset:ThermodynamicDatasetCollectionType"][i.rdfslabel]," "),n.xp6(1),n.Q6J("matMenuTriggerFor",e.childMenu),n.xp6(2),n.hij(" ",i.cataloganno["dataset:ThermodynamicDatasetCollectionType"][i.rdfscomment]," "),n.xp6(1),n.Q6J("items",i.methoditems),n.xp6(2),n.Q6J("colspan",2),n.xp6(1),n.Q6J("disabled",i.invalid()),n.xp6(1),n.Oqu(i.submitlabel),n.xp6(1),n.Q6J("annoinfo",i.cataloganno)("parameterinfo",i.molarenthalpy),n.xp6(2),n.Q6J("annoinfo",i.cataloganno)("parameterinfo",i.molarentropy),n.xp6(2),n.Q6J("annoinfo",i.cataloganno)("parameterinfo",i.molarheatcapacity)}}function Mhe(r,t){1&r&&(n._uU(0," Setup "),n._UZ(1,"mat-spinner"))}function Ihe(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",31),n.NdJ("click",function(){const o=n.CHM(e).$implicit,a=n.oxw().$implicit,d=n.oxw(3);return n.KtG(d.setValue(a,o))}),n._uU(2),n.qZA(),n.BQk()}if(2&r){const e=t.$implicit;n.xp6(2),n.Oqu(e)}}function khe(r,t){if(1&r&&(n.ynx(0),n.TgZ(1,"button",29),n._uU(2),n.qZA(),n.TgZ(3,"mat-menu",null,30),n.YNc(5,Ihe,3,1,"ng-container",28),n.qZA(),n.BQk()),2&r){const e=t.$implicit,i=n.MAs(4),s=n.oxw(3);n.xp6(1),n.Q6J("matMenuTriggerFor",i),n.xp6(1),n.Oqu(e),n.xp6(3),n.Q6J("ngForOf",s.searchterms[e])}}function Rhe(r,t){if(1&r&&(n.ynx(0),n.YNc(1,khe,6,3,"ng-container",28),n.BQk()),2&r){const e=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",e.searchkeys)}}function Nhe(r,t){if(1&r&&(n.TgZ(0,"th",35),n._uU(1),n.qZA()),2&r){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e," ")}}function Ohe(r,t){if(1&r&&(n.TgZ(0,"td",36),n._uU(1),n.qZA()),2&r){const e=t.$implicit,i=n.oxw().$implicit;n.xp6(1),n.hij(" ",e[i]," ")}}function Fhe(r,t){1&r&&(n.ynx(0,32),n.YNc(1,Nhe,2,1,"th",33),n.YNc(2,Ohe,2,1,"td",34),n.BQk()),2&r&&n.s9C("matColumnDef",t.$implicit)}function Phe(r,t){1&r&&n._UZ(0,"tr",37)}function Lhe(r,t){1&r&&n._UZ(0,"tr",38)}function Bhe(r,t){if(1&r&&(n.ynx(0),n.YNc(1,Rhe,2,1,"ng-container",6),n.TgZ(2,"table",24),n.YNc(3,Fhe,3,1,"ng-container",25),n.YNc(4,Phe,1,0,"tr",26),n.YNc(5,Lhe,1,0,"tr",27),n.qZA(),n.BQk()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null!=e.searchkeys),n.xp6(1),n.Q6J("dataSource",e.tabledata),n.xp6(1),n.Q6J("ngForOf",e.displayedColumns),n.xp6(1),n.Q6J("matHeaderRowDef",e.displayedColumns),n.xp6(1),n.Q6J("matRowDefColumns",e.displayedColumns)}}function Uhe(r,t){if(1&r&&(n.ynx(0),n._UZ(1,"div",39),n.BQk()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("innerHTML",e.resultHtml,n.oJD)}}const Vhe=[{position:1,name:"Hydrogen",weight:1.0079,symbol:"H"},{position:2,name:"Helium",weight:4.0026,symbol:"He"},{position:3,name:"Lithium",weight:6.941,symbol:"Li"},{position:4,name:"Beryllium",weight:9.0122,symbol:"Be"},{position:5,name:"Boron",weight:10.811,symbol:"B"},{position:6,name:"Carbon",weight:12.0107,symbol:"C"},{position:7,name:"Nitrogen",weight:14.0067,symbol:"N"},{position:8,name:"Oxygen",weight:15.9994,symbol:"O"},{position:9,name:"Fluorine",weight:18.9984,symbol:"F"},{position:10,name:"Neon",weight:20.1797,symbol:"Ne"}],Zhe=[{path:"",component:ihe},{path:"toppage",component:Tne,canActivate:[dM]},{path:"usersetup",component:lhe,canActivate:[Dhe]},{path:"sign-in",component:GX},{path:"register-user",component:JX},{path:"uploaddatabaseitem",component:ble,canActivate:[dM]},{path:"dashboard",component:iee,canActivate:[dM]},{path:"forgot-password",component:see},{path:"verify-email-address",component:oee},{path:"compute",component:ehe},{path:"catalog/repositorystaging",component:Yce},{path:"catalog/partition",component:qce},{path:"catalog/catalogobj",component:hue},{path:"catalog/collection",component:Uue},{path:"useradmin",component:fhe,canActivate:[dM]},{path:"datasetadmin",component:yhe},{path:"copycollection",component:The},{path:"examine",component:(()=>{class r{constructor(e,i,s,o,a,d,f){this.menusetup=e,this.formBuilder=i,this.annotations=s,this.runservice=o,this.manageuser=a,this.dialog=d,this.identifiers=f,this.setuptitle="Determine Dataset Collection for Objects",this.maintainer="Guest",this.collectiontypelabel="Dataset Type",this.collectiontypehint="The dataset to be examined",this.submitlabel="Submit",this.rdfslabel=O.rdfslabel,this.rdfscomment=O.rdfscomment,this.identifier=O.dctermsidentifier,this.failedsubmission="Failed Submission",this.failedresponse="Error in finding object",this.molarenthalpyparameter="dataset:ParameterSpecificationEnthaply",this.molarentropyarameter="dataset:ParameterSpecificationEntropy",this.molarheatcapacityparameter="dataset:ParameterSpecificationHeatCapacity",this.displayedColumns=["position","name","weight","symbol"],this.dataSource=Vhe,this.methoditemstype="dataset:ThermodynamicDatasetCollectionType",this.catalogtype="dataset:ActivityExamineDatasetObject",this.methoditems=[];const g=[];g.push(this.molarenthalpyparameter),g.push(this.molarentropyarameter),g.push(this.molarheatcapacityparameter),s.getParameterSet(g).subscribe({next:b=>{this.molarenthalpy=b[this.molarenthalpyparameter],this.molarentropy=b[this.molarentropyarameter],this.molarheatcapacity=b[this.molarheatcapacityparameter]}}),this.objectform=this.formBuilder.group({DescriptionTitle:["",oe.required],CatalogDataObjectMaintainer:["",oe.required],ThermodynamicDatasetCollectionType:["",oe.required],DatasetCollectionsSetLabel:["",oe.required]}),this.getCatalogAnnoations(this.catalogtype),this.manageuser.determineMaintainer().subscribe(b=>{null!=b?this.maintainer=b:alert(this.manageuser.errormaintainer)}),this.objectform.get("CatalogDataObjectMaintainer").setValue("systemthermodynamics")}ngOnInit(){}setCollection(e){var s=e[this.identifiers.DatasetCollectionsLabel];"dataset:ThermodynamicsSystemCollectionIDsSet"==e["dcat:dataset"]?this.objectform.get("CatalogDataObjectMaintainer").setValue("systemthermodynamics"):this.objectform.get("CatalogDataObjectMaintainer").setValue(this.maintainer),this.objectform.get("DatasetCollectionsSetLabel").setValue(s)}invalid(){return this.objectform.invalid}setType(e){this.objectform.get("ThermodynamicDatasetCollectionType").setValue(e)}submitSystem(){const e={};this.getServiceData(e),this.dialog.open(AG,{data:e}).afterClosed().subscribe(s=>{if(null!=s){const o=s[O.successful];this.resultHtml=s[O.message],"true"==o?this.showResult(s[O.catalogobject]):alert(this.failedresponse)}else this.resultHtml=this.failedsubmission})}showResult(e){this.searchkeys=e[O.SummaryTableSearchKey],this.searchterms=e[O.DatasetObjectSummaryTableSearchTerms],this.displayedColumns=e[O.SummaryTableDescriptionKey],this.tabledata=e[O.DatasetObjectSummaryTableDescriptors],this.original=this.tabledata}setValue(e,i){this.tabledata=[];for(const s of this.original)s[e]===i&&this.tabledata.push(s)}getServiceData(e){const i={};this.getData(i),e.service="ExamineDatasetCollectionSetObject",e[O.ActivityInfo]=i}getData(e){e[this.cataloganno["dataset:DescriptionTitle"][this.identifier]]=this.objectform.get("DescriptionTitle").value,e[this.cataloganno["dataset:ThermodynamicDatasetCollectionType"][this.identifier]]=this.objectform.get("ThermodynamicDatasetCollectionType").value;const i={};i[this.cataloganno["dataset:CatalogDataObjectMaintainer"][this.identifier]]=this.objectform.get("CatalogDataObjectMaintainer").value,i[this.cataloganno["dataset:DatasetCollectionsSetLabel"][this.identifier]]=this.objectform.get("DatasetCollectionsSetLabel").value,e[this.cataloganno["dataset:DatasetCollectionSetRecordIDInfo"][this.identifier]]=i;const s={};this.enthalpy.getData(s),e[this.cataloganno["dataset:ParameterSpecificationEnthaply"][this.identifier]]=s;const o={};this.entropy.getData(o),e[this.cataloganno["dataset:ParameterSpecificationEntropy"][this.identifier]]=o;const a={};this.heatcapacity.getData(a),e[this.cataloganno["dataset:ParameterSpecificationHeatCapacity"][this.identifier]]=a}getCatalogAnnoations(e){this.annotations.getNewCatalogObject(e).subscribe({next:i=>{const s=i;this.resultHtml=s[O.message],s[O.successful]&&(this.cataloganno=s[O.catalogobject][O.annotations],this.methoditems=this.menusetup.findChoices(this.cataloganno,this.methoditemstype))},error:i=>{alert("Get Annotations failed: see logs")}})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Si),n.Y36(Ut),n.Y36(Rn),n.Y36(ga),n.Y36(yr),n.Y36(Pi),n.Y36(Ar))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-examinedatabaseelements"]],viewQuery:function(e,i){if(1&e&&(n.Gf(xhe,5),n.Gf(She,5),n.Gf(Ahe,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.enthalpy=s.first),n.iGM(s=n.CRH())&&(i.entropy=s.first),n.iGM(s=n.CRH())&&(i.heatcapacity=s.first)}},decls:19,vars:6,consts:[["label","Choose Dataset Collection for Object"],[1,"card"],[1,"title-group"],[4,"ngIf","ngIfElse"],["waiting",""],["label","Objects"],[4,"ngIf"],["label","Logs"],[1,"infoform",3,"formGroup"],["cols","2","rowHeight","100px"],[3,"colspan"],[1,"title"],["matInput","","formControlName","DescriptionTitle"],["background","lightgray",3,"colspan"],[1,"label",3,"activityanno","maintainer","activityannoChange","maintainerChange","collection"],[1,"label"],["matInput","","formControlName","ThermodynamicDatasetCollectionType",3,"matMenuTriggerFor"],[3,"items","selectionEvent"],["menu",""],["mat-raised-button","","color","primary",1,"submit",3,"disabled","click"],[3,"annoinfo","parameterinfo","annoinfoChange","parameterinfoChange"],["enthalpy",""],["entropy",""],["heatcapacity",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngFor","ngForOf"],["mat-button","",3,"matMenuTriggerFor"],["searchmenu","matMenu"],["mat-button","",3,"click"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[3,"innerHTML"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-tab-group")(1,"mat-tab",0)(2,"mat-card",1)(3,"mat-card-header")(4,"mat-card-title-group",2)(5,"mat-card-title"),n._uU(6),n.qZA(),n.TgZ(7,"mat-card-subtitle"),n._uU(8),n.qZA()()(),n.TgZ(9,"mat-card-content")(10,"p"),n._uU(11," This menu selects the dataset collection and the specific object type to examine. "),n.qZA(),n.YNc(12,Ehe,30,21,"ng-container",3),n.YNc(13,Mhe,2,0,"ng-template",null,4,n.W1O),n.qZA()()(),n.TgZ(15,"mat-tab",5),n.YNc(16,Bhe,6,5,"ng-container",6),n.qZA(),n.TgZ(17,"mat-tab",7),n.YNc(18,Uhe,2,1,"ng-container",6),n.qZA()()),2&e){const s=n.MAs(14);n.xp6(6),n.Oqu(i.setuptitle),n.xp6(2),n.hij("Chosen Collection: ",i.selected,""),n.xp6(4),n.Q6J("ngIf",null!=i.cataloganno)("ngIfElse",s),n.xp6(4),n.Q6J("ngIf",null!=i.tabledata),n.xp6(2),n.Q6J("ngIf",null!=i.resultHtml)}},dependencies:[ln,ke,jt,jC,ti,Rt,en,kt,Pt,et,lt,gn,Xe,Oi,rn,Et,wt,hn,Nt,Bt,zt,Ot,Gt,Wm,Jf,R6,SI,N6,AI,xI,O6,EI,MI,F6,P6,$r,Fi,Xm,II],styles:[".label[_ngcontent-%COMP%], .submit[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{width:100%;padding:2px}table[_ngcontent-%COMP%]{width:100%}"],data:{animation:[io("detailExpand",[ei("collapsed",Jt({height:"0px",minHeight:"0"})),ei("expanded",Jt({height:"*"})),Ni("expanded <=> collapsed",zi("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),r})()},{path:"catalog/transaction",component:cue,children:[{path:"InitialReadInOfRepositoryFile",component:r6,outlet:"activity"}]},{path:"feed",component:Bce},{path:"create",component:oK,canActivate:[mf],data:{authGuardPipe:()=>(r=>(0,Bh.z)(Sd,(0,Je.U)(t=>t||r)))([""])}}];let jhe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Pb.forRoot(Zhe),Pb]}),r})(),Hhe=(()=>{class r{constructor(e){this.afAuth=e,this.user=new li(null),this.user$=this.user.asObservable().pipe(kn(i=>i)),this.user.next(this.afAuth.authState)}loginViaGoogle(){const e=new o_.Z.auth.GoogleAuthProvider;return(0,Pn.D)(this.afAuth.signInWithPopup(e))}logout(){return(0,Pn.D)(this.afAuth.signOut())}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ws))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const qhe=["*",[["mat-toolbar-row"]]],Ghe=["*","mat-toolbar-row"],Yhe=Kd(class{constructor(r){this._elementRef=r}});let NG=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),Jhe=(()=>{class r extends Yhe{constructor(e,i,s){super(e),this._platform=i,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(Ri),n.Y36(ne))},r.\u0275cmp=n.Xpm({type:r,selectors:[["mat-toolbar"]],contentQueries:function(e,i,s){if(1&e&&n.Suo(s,NG,5),2&e){let o;n.iGM(o=n.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&n.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[n.qOj],ngContentSelectors:Ghe,decls:2,vars:0,template:function(e,i){1&e&&(n.F$t(qhe),n.Hsn(0),n.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),r})(),L6=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Xt,Xt]}),r})(),zhe=(()=>{class r{constructor(){this.logoutClick=new n.vpe}logout(){this.logoutClick.emit()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-profile-card"]],inputs:{user:"user"},outputs:{logoutClick:"logoutClick"},decls:15,vars:7,consts:[["mat-mini-fab","","color","primary",1,"profilebutton",3,"matMenuTriggerFor"],[1,"avatar",3,"alt","src"],["xPosition","before"],["beforeMenu","matMenu"],[1,"profile-card"],["mat-stroked-button","",3,"click"],[1,"profile-footer"]],template:function(e,i){if(1&e&&(n.TgZ(0,"button",0),n._UZ(1,"img",1),n.qZA(),n.TgZ(2,"mat-menu",2,3)(4,"div",4),n._UZ(5,"img",1),n.TgZ(6,"h4"),n._uU(7),n.qZA(),n.TgZ(8,"p"),n._uU(9),n.qZA(),n._UZ(10,"mat-divider"),n.TgZ(11,"button",5),n.NdJ("click",function(){return i.logout()}),n._uU(12," Sign Out "),n.qZA(),n._UZ(13,"mat-divider")(14,"p",6),n.qZA()()),2&e){const s=n.MAs(3);n.Q6J("matMenuTriggerFor",s),n.xp6(1),n.Q6J("alt",i.user.displayName)("src",i.user.photoURL,n.LSH),n.xp6(4),n.Q6J("alt",i.user.displayName)("src",i.user.photoURL,n.LSH),n.xp6(2),n.Oqu(i.user.displayName),n.xp6(2),n.Oqu(i.user.email)}},dependencies:[jt,zr,jC,ti],styles:[".avatar[_ngcontent-%COMP%]{margin-left:5px;width:50px;height:50px}img.resize[_ngcontent-%COMP%]{width:20px;height:20px}.big-avatar[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%}.profile-card[_ngcontent-%COMP%]{text-align:center;min-width:240px;padding:15px 20px 0}p[_ngcontent-%COMP%]{color:#666}.profilebutton[_ngcontent-%COMP%]{width:150px}mat-divider[_ngcontent-%COMP%]{margin:10px 0}.profile-footer[_ngcontent-%COMP%]{margin-top:20px}.mat-mini-fab[_ngcontent-%COMP%]{box-shadow:none}  .mat-button-wrapper{padding:0!important}"]}),r})();function $he(r,t){if(1&r){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-profile-card",6),n.NdJ("logoutClick",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.logout())}),n.qZA(),n.BQk()}if(2&r){const e=t.ngIf;n.xp6(1),n.Q6J("user",e)}}function Qhe(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.login())}),n.TgZ(1,"mat-icon",8),n._uU(2," fingerprint "),n.qZA()()}}let Whe=(()=>{class r{constructor(e,i,s,o){this.auth=e,this.snackBar=i,this.router=s,this.session=o,this.user$=this.auth.user$}login(){this.router.navigateByUrl("/sign-in")}logout(){this.auth.logout().pipe(tn(1)).subscribe(e=>{this.session.clearSession(),this.router.navigate([""]),this.snackBar.open("Come back soon with treats! \u{1f63f}","Close",{duration:4e3})})}toppage(){this.router.navigateByUrl("/toppage")}home(){this.router.navigateByUrl("")}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Hhe),n.Y36(wP),n.Y36(jn),n.Y36(Oa))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-header"]],decls:11,vars:4,consts:[["color","primary"],[1,"spacer"],[4,"ngIf","ngIfElse"],["loginIcon",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","blue",1,"toggle",3,"click"],[3,"user","logoutClick"],["mat-icon-button","","matTooltip","Login",3,"click"],["aria-hidden","false","aria-label","Login"]],template:function(e,i){if(1&e&&(n.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row"),n._UZ(2,"span",1),n.YNc(3,$he,2,1,"ng-container",2),n.ALo(4,"async"),n.YNc(5,Qhe,3,0,"ng-template",null,3,n.W1O),n.TgZ(7,"button",4),n.NdJ("click",function(){return i.toppage()}),n._uU(8,"Top"),n.qZA(),n.TgZ(9,"button",5),n.NdJ("click",function(){return i.home()}),n._uU(10,"Home"),n.qZA()()()),2&e){const s=n.MAs(6);n.xp6(3),n.Q6J("ngIf",n.lcZ(4,2,i.user$))("ngIfElse",s)}},dependencies:[ke,jt,rr,Jhe,NG,ro,zhe,Io]}),r})(),Khe=(()=>{class r{constructor(e){this.router=e,this.title="SystemWithAuthentification",this.showFiller=!1}home(){this.router.navigateByUrl("")}repositoryStaging(){this.router.navigateByUrl("/catalog/repositorystaging")}partition(){this.router.navigateByUrl("/catalog/partition")}partitionblock(){this.router.navigateByUrl("/catalog/partition")}transaction(){this.router.navigateByUrl("/catalog/transaction")}fromURL(){alert("from URL")}fromInterface(){alert("from Interface")}uploaddata(){this.router.navigateByUrl("/uploaddatabaseitem")}catalog(){this.router.navigateByUrl("/catalog/catalogobj")}datasetcollection(){this.router.navigateByUrl("/catalog/collection")}computeThermodynamics(){this.router.navigateByUrl("/compute")}userAdministration(){this.router.navigateByUrl("/useradmin")}datasetAdministration(){this.router.navigateByUrl("/datasetadmin")}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(jn))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&n._UZ(0,"app-header")(1,"router-outlet")},dependencies:[U0,Whe],styles:[".example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.example-sidenav[_ngcontent-%COMP%]{padding:20px}.div-toggle[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.toggle[_ngcontent-%COMP%]{width:100%;height:40px}"]}),r})();function OG(r){return new n.vHH(3e3,!1)}function Nfe(){return typeof window<"u"&&typeof window.document<"u"}function B6(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function tg(r){switch(r.length){case 0:return new iD;case 1:return r[0];default:return new Dj(r)}}function FG(r,t,e,i,s=new Map,o=new Map){const a=[],d=[];let f=-1,g=null;if(i.forEach(b=>{const T=b.get("offset"),E=T==f,R=E&&g||new Map;b.forEach((L,Y)=>{let W=Y,ve=L;if("offset"!==Y)switch(W=t.normalizePropertyName(W,a),ve){case"!":ve=s.get(Y);break;case Yf:ve=o.get(Y);break;default:ve=t.normalizeStyleValue(Y,W,ve,a)}R.set(W,ve)}),E||d.push(R),g=R,f=T}),a.length)throw function Cfe(r){return new n.vHH(3502,!1)}();return d}function U6(r,t,e,i){switch(t){case"start":r.onStart(()=>i(e&&V6(e,"start",r)));break;case"done":r.onDone(()=>i(e&&V6(e,"done",r)));break;case"destroy":r.onDestroy(()=>i(e&&V6(e,"destroy",r)))}}function V6(r,t,e){const o=Z6(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),a=r._data;return null!=a&&(o._data=a),o}function Z6(r,t,e,i,s="",o=0,a){return{element:r,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:o,disabled:!!a}}function Ml(r,t,e){let i=r.get(t);return i||r.set(t,i=e),i}function PG(r){const t=r.indexOf(":");return[r.substring(1,t),r.slice(t+1)]}let j6=(r,t)=>!1,LG=(r,t,e)=>[],BG=null;function H6(r){const t=r.parentNode||r.host;return t===BG?null:t}(B6()||typeof Element<"u")&&(Nfe()?(BG=(()=>document.documentElement)(),j6=(r,t)=>{for(;t;){if(t===r)return!0;t=H6(t)}return!1}):j6=(r,t)=>r.contains(t),LG=(r,t,e)=>{if(e)return Array.from(r.querySelectorAll(t));const i=r.querySelector(t);return i?[i]:[]});let Sy=null,UG=!1;const VG=j6,ZG=LG;let jG=(()=>{class r{validateStyleProperty(e){return function Ffe(r){Sy||(Sy=function Pfe(){return typeof document<"u"?document.body:null}()||{},UG=!!Sy.style&&"WebkitAppearance"in Sy.style);let t=!0;return Sy.style&&!function Ofe(r){return"ebkit"==r.substring(1,6)}(r)&&(t=r in Sy.style,!t&&UG&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Sy.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return VG(e,i)}getParentElement(e){return H6(e)}query(e,i,s){return ZG(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,o,a,d=[],f){return new iD(s,o)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),q6=(()=>{class r{}return r.NOOP=new jG,r})();const G6="ng-enter",kI="ng-leave",RI="ng-trigger",NI=".ng-trigger",qG="ng-animating",Y6=".ng-animating";function Kf(r){if("number"==typeof r)return r;const t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:J6(parseFloat(t[1]),t[2])}function J6(r,t){return"s"===t?1e3*r:r}function OI(r,t,e){return r.hasOwnProperty("duration")?r:function Ufe(r,t,e){let s,o=0,a="";if("string"==typeof r){const d=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(OG()),{duration:0,delay:0,easing:""};s=J6(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(o=J6(parseFloat(f),d[4]));const g=d[5];g&&(a=g)}else s=r;if(!e){let d=!1,f=t.length;s<0&&(t.push(function Xhe(){return new n.vHH(3100,!1)}()),d=!0),o<0&&(t.push(function efe(){return new n.vHH(3101,!1)}()),d=!0),d&&t.splice(f,0,OG())}return{duration:s,delay:o,easing:a}}(r,t,e)}function ED(r,t={}){return Object.keys(r).forEach(e=>{t[e]=r[e]}),t}function GG(r){const t=new Map;return Object.keys(r).forEach(e=>{t.set(e,r[e])}),t}function ng(r,t=new Map,e){if(e)for(let[i,s]of e)t.set(i,s);for(let[i,s]of r)t.set(i,s);return t}function JG(r,t,e){return e?t+":"+e+";":""}function zG(r){let t="";for(let e=0;e<r.style.length;e++){const i=r.style.item(e);t+=JG(0,i,r.style.getPropertyValue(i))}for(const e in r.style)r.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=JG(0,Hfe(e),r.style[e]));r.setAttribute("style",t)}function th(r,t,e){r.style&&(t.forEach((i,s)=>{const o=$6(s);e&&!e.has(s)&&e.set(s,r.style[o]),r.style[o]=i}),B6()&&zG(r))}function Ay(r,t){r.style&&(t.forEach((e,i)=>{const s=$6(i);r.style[s]=""}),B6()&&zG(r))}function MD(r){return Array.isArray(r)?1==r.length?r[0]:wj(r):r}const z6=new RegExp("{{\\s*(.+?)\\s*}}","g");function $G(r){let t=[];if("string"==typeof r){let e;for(;e=z6.exec(r);)t.push(e[1]);z6.lastIndex=0}return t}function ID(r,t,e){const i=r.toString(),s=i.replace(z6,(o,a)=>{let d=t[a];return null==d&&(e.push(function nfe(r){return new n.vHH(3003,!1)}()),d=""),d.toString()});return s==i?r:s}function FI(r){const t=[];let e=r.next();for(;!e.done;)t.push(e.value),e=r.next();return t}const jfe=/-+([a-z0-9])/g;function $6(r){return r.replace(jfe,(...t)=>t[1].toUpperCase())}function Hfe(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Il(r,t,e){switch(t.type){case 7:return r.visitTrigger(t,e);case 0:return r.visitState(t,e);case 1:return r.visitTransition(t,e);case 2:return r.visitSequence(t,e);case 3:return r.visitGroup(t,e);case 4:return r.visitAnimate(t,e);case 5:return r.visitKeyframes(t,e);case 6:return r.visitStyle(t,e);case 8:return r.visitReference(t,e);case 9:return r.visitAnimateChild(t,e);case 10:return r.visitAnimateRef(t,e);case 11:return r.visitQuery(t,e);case 12:return r.visitStagger(t,e);default:throw function ife(r){return new n.vHH(3004,!1)}()}}function QG(r,t){return window.getComputedStyle(r)[t]}function $fe(r,t){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(i=>function Qfe(r,t,e){if(":"==r[0]){const f=function Wfe(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function _fe(r){return new n.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof f)return void t.push(f);r=f}const i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function gfe(r){return new n.vHH(3015,!1)}()),t;const s=i[1],o=i[2],a=i[3];t.push(WG(s,a));"<"==o[0]&&!("*"==s&&"*"==a)&&t.push(WG(a,s))}(i,e,t)):e.push(r),e}const UI=new Set(["true","1"]),VI=new Set(["false","0"]);function WG(r,t){const e=UI.has(r)||VI.has(r),i=UI.has(t)||VI.has(t);return(s,o)=>{let a="*"==r||r==s,d="*"==t||t==o;return!a&&e&&"boolean"==typeof s&&(a=s?UI.has(r):VI.has(r)),!d&&i&&"boolean"==typeof o&&(d=o?UI.has(t):VI.has(t)),a&&d}}const Kfe=new RegExp("s*:selfs*,?","g");function Q6(r,t,e,i){return new Xfe(r).build(t,e,i)}class Xfe{constructor(t){this._driver=t}build(t,e,i){const s=new npe(e);return this._resetContextStyleTimingState(s),Il(this,MD(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function sfe(){return new n.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const f=d,g=f.name;g.toString().split(/\s*,\s*/).forEach(b=>{f.name=b,o.push(this.visitState(f,e))}),f.name=g}else if(1==d.type){const f=this.visitTransition(d,e);i+=f.queryCount,s+=f.depCount,a.push(f)}else e.errors.push(function ofe(){return new n.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=s||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{$G(f).forEach(g=>{a.hasOwnProperty(g)||o.add(g)})})}),o.size&&(FI(o.values()),e.errors.push(function afe(r,t){return new n.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Il(this,MD(t.animation),e);return{type:1,matchers:$fe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ey(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Il(this,i,e)),options:Ey(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const o=t.steps.map(a=>{e.currentTime=i;const d=Il(this,a,e);return s=Math.max(s,e.currentTime),d});return e.currentTime=s,{type:3,steps:o,options:Ey(t.options)}}visitAnimate(t,e){const i=function rpe(r,t){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return W6(OI(r,t).duration,0,"");const e=r;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=W6(0,0,"");return o.dynamic=!0,o.strValue=e,o}const s=OI(e,t);return W6(s.duration,s.delay,s.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,o=t.styles?t.styles:Jt({});if(5==o.type)s=this.visitKeyframes(o,e);else{let a=t.styles,d=!1;if(!a){d=!0;const g={};i.easing&&(g.easing=i.easing),a=Jt(g)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(a,e);f.isEmptyStep=d,s=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],s=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of s)"string"==typeof d?d===Yf?i.push(d):e.errors.push(new n.vHH(3002,!1)):i.push(GG(d));let o=!1,a=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(a=d.get("easing"),d.delete("easing")),!o))for(let f of d.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,f)=>{const g=e.collectedStyles.get(e.currentQuerySelector),b=g.get(f);let T=!0;b&&(o!=s&&o>=b.startTime&&s<=b.endTime&&(e.errors.push(function cfe(r,t,e,i,s){return new n.vHH(3010,!1)}()),T=!1),o=b.startTime),T&&g.set(f,{startTime:o,endTime:s}),e.options&&function Zfe(r,t,e){const i=t.params||{},s=$G(r);s.length&&s.forEach(o=>{i.hasOwnProperty(o)||e.push(function tfe(r){return new n.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function ufe(){return new n.vHH(3011,!1)}()),i;let o=0;const a=[];let d=!1,f=!1,g=0;const b=t.steps.map(ve=>{const Ze=this._makeStyleAst(ve,e);let He=null!=Ze.offset?Ze.offset:function ipe(r){if("string"==typeof r)return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ze.styles),ze=0;return null!=He&&(o++,ze=Ze.offset=He),f=f||ze<0||ze>1,d=d||ze<g,g=ze,a.push(ze),Ze});f&&e.errors.push(function dfe(){return new n.vHH(3012,!1)}()),d&&e.errors.push(function hfe(){return new n.vHH(3200,!1)}());const T=t.steps.length;let E=0;o>0&&o<T?e.errors.push(function ffe(){return new n.vHH(3202,!1)}()):0==o&&(E=1/(T-1));const R=T-1,L=e.currentTime,Y=e.currentAnimateTimings,W=Y.duration;return b.forEach((ve,Ze)=>{const He=E>0?Ze==R?1:E*Ze:a[Ze],ze=He*W;e.currentTime=L+Y.delay+ze,Y.duration=ze,this._validateStyleAst(ve,e),ve.offset=He,i.styles.push(ve)}),i}visitReference(t,e){return{type:8,animation:Il(this,MD(t.animation),e),options:Ey(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ey(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ey(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function epe(r){const t=!!r.split(/\s*,\s*/).find(e=>":self"==e);return t&&(r=r.replace(Kfe,"")),r=r.replace(/@\*/g,NI).replace(/@\w+/g,e=>NI+"-"+e.slice(1)).replace(/:animating/g,Y6),[r,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ml(e.collectedStyles,e.currentQuerySelector,new Map);const d=Il(this,MD(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:d,originalSelector:t.selector,options:Ey(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function pfe(){return new n.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:OI(t.timings,e.errors,!0);return{type:12,animation:Il(this,MD(t.animation),e),timings:i,options:null}}}class npe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ey(r){return r?(r=ED(r)).params&&(r.params=function tpe(r){return r?ED(r):null}(r.params)):r={},r}function W6(r,t,e){return{duration:r,delay:t,easing:e}}function K6(r,t,e,i,s,o,a=null,d=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:o,totalTime:s+o,easing:a,subTimeline:d}}class ZI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ape=new RegExp(":enter","g"),cpe=new RegExp(":leave","g");function X6(r,t,e,i,s,o=new Map,a=new Map,d,f,g=[]){return(new upe).buildKeyframes(r,t,e,i,s,o,a,d,f,g)}class upe{buildKeyframes(t,e,i,s,o,a,d,f,g,b=[]){g=g||new ZI;const T=new eL(t,e,g,s,o,b,[]);T.options=f;const E=f.delay?Kf(f.delay):0;T.currentTimeline.delayNextStep(E),T.currentTimeline.setStyles([a],null,T.errors,f),Il(this,i,T);const R=T.timelines.filter(L=>L.containsAnimation());if(R.length&&d.size){let L;for(let Y=R.length-1;Y>=0;Y--){const W=R[Y];if(W.element===e){L=W;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([d],null,T.errors,f)}return R.length?R.map(L=>L.buildKeyframes()):[K6(e,[],[],[],0,E,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const s=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,s,s.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const s of t){const o=s?.delay;if(o){const a="number"==typeof o?o:Kf(ID(o,s?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const a=null!=i.duration?Kf(i.duration):null,d=null!=i.delay?Kf(i.delay):null;return 0!==a&&t.forEach(f=>{const g=e.appendInstructionToTimeline(f,a,d);o=Math.max(o,g.duration+g.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Il(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const o=t.options;if(o&&(o.params||o.delay)&&(s=e.createSubContext(o),s.transformIntoNewTimeline(),null!=o.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=jI);const a=Kf(o.delay);s.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Il(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Kf(t.options.delay):0;t.steps.forEach(a=>{const d=e.createSubContext(t.options);o&&d.delayNextStep(o),Il(this,a,d),s=Math.max(s,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return OI(e.params?ID(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,o=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(f=>{d.forwardTime((f.offset||0)*o),d.setStyles(f.styles,f.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(s+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},o=s.delay?Kf(s.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=jI);let a=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=d.length;let f=null;d.forEach((g,b)=>{e.currentQueryIndex=b;const T=e.createSubContext(t.options,g);o&&T.delayNextStep(o),g===e.element&&(f=T.currentTimeline),Il(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),d=a*(e.currentQueryTotal-1);let f=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const b=e.currentTimeline;f&&b.delayNextStep(f);const T=b.currentTime;Il(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-T+(s.startTime-i.currentTimeline.startTime)}}const jI={};class eL{constructor(t,e,i,s,o,a,d,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=o,this.errors=a,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new HI(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Kf(i.duration)),null!=i.delay&&(s.delay=Kf(i.delay));const o=i.params;if(o){let a=s.params;a||(a=this.options.params={}),Object.keys(o).forEach(d=>{(!e||!a.hasOwnProperty(d))&&(a[d]=ID(o[d],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,o=new eL(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=jI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new dpe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,o,a){let d=[];if(s&&d.push(this.element),t.length>0){t=(t=t.replace(ape,"."+this._enterClassName)).replace(cpe,"."+this._leaveClassName);let g=this._driver.query(this.element,t,1!=i);0!==i&&(g=i<0?g.slice(g.length+i,g.length):g.slice(0,i)),d.push(...g)}return!o&&0==d.length&&a.push(function mfe(r){return new n.vHH(3014,!1)}()),d}}class HI{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new HI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Yf),this._currentKeyframe.set(e,Yf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&this._previousKeyframe.set("easing",e);const o=s&&s.params||{},a=function hpe(r,t){const e=new Map;let i;return r.forEach(s=>{if("*"===s){i=i||t.keys();for(let o of i)e.set(o,Yf)}else ng(s,e)}),e}(t,this._globalTimelineStyles);for(let[d,f]of a){const g=ID(f,o,i);this._pendingStyles.set(d,g),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Yf),this._updateStyle(d,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const s=this._styleSummary.get(i);(!s||e.time>s.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((d,f)=>{const g=ng(d,new Map,this._backFill);g.forEach((b,T)=>{"!"===b?t.add(T):b===Yf&&e.add(T)}),i||g.set("offset",f/this.duration),s.push(g)});const o=t.size?FI(t.values()):[],a=e.size?FI(e.values()):[];if(i){const d=s[0],f=new Map(d);d.set("offset",0),f.set("offset",1),s=[d,f]}return K6(this.element,s,o,a,this.duration,this.startTime,this.easing,!1)}}class dpe extends HI{constructor(t,e,i,s,o,a,d=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=i+e,d=e/a,f=ng(t[0]);f.set("offset",0),o.push(f);const g=ng(t[0]);g.set("offset",e4(d)),o.push(g);const b=t.length-1;for(let T=1;T<=b;T++){let E=ng(t[T]);const R=E.get("offset");E.set("offset",e4((e+R*i)/a)),o.push(E)}i=a,e=0,s="",t=o}return K6(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function e4(r,t=3){const e=Math.pow(10,t-1);return Math.round(r*e)/e}class tL{}const fpe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ppe extends tL{normalizePropertyName(t,e){return $6(t)}normalizeStyleValue(t,e,i,s){let o="";const a=i.toString().trim();if(fpe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&s.push(function rfe(r,t){return new n.vHH(3005,!1)}())}return a+o}}function t4(r,t,e,i,s,o,a,d,f,g,b,T,E){return{type:0,element:r,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:d,queriedElements:f,preStyleProps:g,postStyleProps:b,totalTime:T,errors:E}}const nL={};class n4{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function mpe(r,t,e,i,s){return r.some(o=>o(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){let s=this._stateStyles.get("*");return void 0!==t&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(e,i):new Map}build(t,e,i,s,o,a,d,f,g,b){const T=[],E=this.ast.options&&this.ast.options.params||nL,L=this.buildStyles(i,d&&d.params||nL,T),Y=f&&f.params||nL,W=this.buildStyles(s,Y,T),ve=new Set,Ze=new Map,He=new Map,ze="void"===s,Ht={params:gpe(Y,E),delay:this.ast.options?.delay},Ct=b?[]:X6(t,e,this.ast.animation,o,a,L,W,Ht,g,T);let Gn=0;if(Ct.forEach($o=>{Gn=Math.max($o.duration+$o.delay,Gn)}),T.length)return t4(e,this._triggerName,i,s,ze,L,W,[],[],Ze,He,Gn,T);Ct.forEach($o=>{const rp=$o.element,GJ=Ml(Ze,rp,new Set);$o.preStyleProps.forEach(Yy=>GJ.add(Yy));const yx=Ml(He,rp,new Set);$o.postStyleProps.forEach(Yy=>yx.add(Yy)),rp!==e&&ve.add(rp)});const Zr=FI(ve.values());return t4(e,this._triggerName,i,s,ze,L,W,Ct,Zr,Ze,He,Gn)}}function gpe(r,t){const e=ED(t);for(const i in r)r.hasOwnProperty(i)&&null!=r[i]&&(e[i]=r[i]);return e}class _pe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,s=ED(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!==a&&(s[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,d)=>{a&&(a=ID(a,s,e));const f=this.normalizer.normalizePropertyName(d,e);a=this.normalizer.normalizeStyleValue(d,f,a,e),i.set(f,a)})}),i}}class bpe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(s=>{this.states.set(s.name,new _pe(s.style,s.options&&s.options.params||{},i))}),r4(this.states,"true","1"),r4(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new n4(t,s,this.states))}),this.fallbackTransition=function vpe(r,t,e){return new n4(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(a=>a.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function r4(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}const Cpe=new ZI;class wpe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=Q6(this._driver,e,i,[]);if(i.length)throw function wfe(r){return new n.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const s=t.element,o=FG(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],o=this._animations.get(t);let a;const d=new Map;if(o?(a=X6(this._driver,e,o,G6,kI,new Map,new Map,i,Cpe,s),a.forEach(b=>{const T=Ml(d,b.element,new Map);b.postStyleProps.forEach(E=>T.set(E,null))})):(s.push(function Tfe(){return new n.vHH(3300,!1)}()),a=[]),s.length)throw function Dfe(r){return new n.vHH(3504,!1)}();d.forEach((b,T)=>{b.forEach((E,R)=>{b.set(R,this._driver.computeStyle(T,R,Yf))})});const g=tg(a.map(b=>{const T=d.get(b.element);return this._buildPlayer(b,new Map,T)}));return this._playersById.set(t,g),g.onDestroy(()=>this.destroy(t)),this.players.push(g),g}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function xfe(r){return new n.vHH(3301,!1)}();return e}listen(t,e,i,s){const o=Z6(e,"","","");return U6(this._getPlayer(t),i,o,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const s4="ng-animate-queued",iL="ng-animate-disabled",Ape=[],o4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Epe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cc="__ng_removed";class rL{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Rpe(r){return r??null}(i?t.value:t),i){const o=ED(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const kD="void",sL=new rL(kD);class Mpe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,wc(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.has(e))throw function Sfe(r,t){return new n.vHH(3302,!1)}();if(null==i||0==i.length)throw function Afe(r){return new n.vHH(3303,!1)}();if(!function Npe(r){return"start"==r||"done"==r}(i))throw function Efe(r,t){return new n.vHH(3400,!1)}();const o=Ml(this._elementListeners,t,[]),a={name:e,phase:i,callback:s};o.push(a);const d=Ml(this._engine.statesByElement,t,new Map);return d.has(e)||(wc(t,RI),wc(t,RI+"-"+e),d.set(e,sL)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(a);f>=0&&o.splice(f,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Mfe(r){return new n.vHH(3401,!1)}();return e}trigger(t,e,i,s=!0){const o=this._getTrigger(e),a=new oL(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(wc(t,RI),wc(t,RI+"-"+e),this._engine.statesByElement.set(t,d=new Map));let f=d.get(e);const g=new rL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&g.absorbOptions(f.options),d.set(e,g),f||(f=sL),g.value!==kD&&f.value===g.value){if(!function Ppe(r,t){const e=Object.keys(r),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const o=e[s];if(!t.hasOwnProperty(o)||r[o]!==t[o])return!1}return!0}(f.params,g.params)){const Y=[],W=o.matchStyles(f.value,f.params,Y),ve=o.matchStyles(g.value,g.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{Ay(t,W),th(t,ve)})}return}const E=Ml(this._engine.playersByElement,t,[]);E.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==e&&Y.queued&&Y.destroy()});let R=o.matchTransition(f.value,g.value,t,g.params),L=!1;if(!R){if(!s)return;R=o.fallbackTransition,L=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:R,fromState:f,toState:g,player:a,isFallbackTransition:L}),L||(wc(t,s4),a.onStart(()=>{KC(t,s4)})),a.onDone(()=>{let Y=this.players.indexOf(a);Y>=0&&this.players.splice(Y,1);const W=this._engine.playersByElement.get(t);if(W){let ve=W.indexOf(a);ve>=0&&W.splice(ve,1)}}),this.players.push(a),E.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,NI,!0);i.forEach(s=>{if(s[Cc])return;const o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(a=>a.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const d=[];if(o.forEach((f,g)=>{if(a.set(g,f.value),this._triggers.has(g)){const b=this.trigger(t,g,kD,s);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&tg(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(o=>{const a=o.name;if(s.has(a))return;s.add(a);const f=this._triggers.get(a).fallbackTransition,g=i.get(a)||sL,b=new rL(kD),T=new oL(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:f,fromState:g,toState:b,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)s=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Cc];(!o||o===o4)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){wc(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(d=>{if(d.name==i.triggerName){const f=Z6(o,i.triggerName,i.fromState.value,i.toState.value);f._data=t,U6(i.player,d.phase,f,d.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const o=i.transition.ast.depCount,a=s.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Ipe{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Mpe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,d=this.driver.getParentElement(e);for(;d;){const f=s.get(d);if(f){const g=i.indexOf(f);i.splice(g+1,0,t),a=!0;break}d=this.driver.getParentElement(d)}a||i.unshift(t)}else i.push(t);return s.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let s of i.values())if(s.namespaceId){const o=this._fetchNamespace(s.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,s){if(qI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!qI(e))return;const o=e[Cc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),wc(t,iL)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),KC(t,iL))}removeNode(t,e,i,s){if(qI(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s,o){this.collectedLeaveElements.push(e),e[Cc]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,s,o){return qI(e)?this._fetchNamespace(t).listen(e,i,s,o):()=>{}}_buildInstruction(t,e,i,s,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,NI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Y6,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return tg(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Cc];if(e&&e.setForRemoval){if(t[Cc]=o4,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(iL)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?tg(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw function Ife(r){return new n.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new ZI,s=[],o=new Map,a=[],d=new Map,f=new Map,g=new Map,b=new Set;this.disabledNodes.forEach(Tt=>{b.add(Tt);const Wt=this.driver.query(Tt,".ng-animate-queued",!0);for(let fn=0;fn<Wt.length;fn++)b.add(Wt[fn])});const T=this.bodyNode,E=Array.from(this.statesByElement.keys()),R=c4(E,this.collectedEnterElements),L=new Map;let Y=0;R.forEach((Tt,Wt)=>{const fn=G6+Y++;L.set(Wt,fn),Tt.forEach(ni=>wc(ni,fn))});const W=[],ve=new Set,Ze=new Set;for(let Tt=0;Tt<this.collectedLeaveElements.length;Tt++){const Wt=this.collectedLeaveElements[Tt],fn=Wt[Cc];fn&&fn.setForRemoval&&(W.push(Wt),ve.add(Wt),fn.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(ni=>ve.add(ni)):Ze.add(Wt))}const He=new Map,ze=c4(E,Array.from(ve));ze.forEach((Tt,Wt)=>{const fn=kI+Y++;He.set(Wt,fn),Tt.forEach(ni=>wc(ni,fn))}),t.push(()=>{R.forEach((Tt,Wt)=>{const fn=L.get(Wt);Tt.forEach(ni=>KC(ni,fn))}),ze.forEach((Tt,Wt)=>{const fn=He.get(Wt);Tt.forEach(ni=>KC(ni,fn))}),W.forEach(Tt=>{this.processLeaveNode(Tt)})});const Ht=[],Ct=[];for(let Tt=this._namespaceList.length-1;Tt>=0;Tt--)this._namespaceList[Tt].drainQueuedTransitions(e).forEach(fn=>{const ni=fn.player,uo=fn.element;if(Ht.push(ni),this.collectedEnterElements.length){const Qo=uo[Cc];if(Qo&&Qo.setForMove){if(Qo.previousTriggersValues&&Qo.previousTriggersValues.has(fn.triggerName)){const Jy=Qo.previousTriggersValues.get(fn.triggerName),Ac=this.statesByElement.get(fn.element);if(Ac&&Ac.has(fn.triggerName)){const Xk=Ac.get(fn.triggerName);Xk.value=Jy,Ac.set(fn.triggerName,Xk)}}return void ni.destroy()}}const ch=!T||!this.driver.containsElement(T,uo),Ol=He.get(uo),_g=L.get(uo),jr=this._buildInstruction(fn,i,_g,Ol,ch);if(jr.errors&&jr.errors.length)return void Ct.push(jr);if(ch)return ni.onStart(()=>Ay(uo,jr.fromStyles)),ni.onDestroy(()=>th(uo,jr.toStyles)),void s.push(ni);if(fn.isFallbackTransition)return ni.onStart(()=>Ay(uo,jr.fromStyles)),ni.onDestroy(()=>th(uo,jr.toStyles)),void s.push(ni);const zJ=[];jr.timelines.forEach(Qo=>{Qo.stretchStartingKeyframe=!0,this.disabledNodes.has(Qo.element)||zJ.push(Qo)}),jr.timelines=zJ,i.append(uo,jr.timelines),a.push({instruction:jr,player:ni,element:uo}),jr.queriedElements.forEach(Qo=>Ml(d,Qo,[]).push(ni)),jr.preStyleProps.forEach((Qo,Jy)=>{if(Qo.size){let Ac=f.get(Jy);Ac||f.set(Jy,Ac=new Set),Qo.forEach((Xk,K3)=>Ac.add(K3))}}),jr.postStyleProps.forEach((Qo,Jy)=>{let Ac=g.get(Jy);Ac||g.set(Jy,Ac=new Set),Qo.forEach((Xk,K3)=>Ac.add(K3))})});if(Ct.length){const Tt=[];Ct.forEach(Wt=>{Tt.push(function kfe(r,t){return new n.vHH(3505,!1)}())}),Ht.forEach(Wt=>Wt.destroy()),this.reportError(Tt)}const Gn=new Map,Zr=new Map;a.forEach(Tt=>{const Wt=Tt.element;i.has(Wt)&&(Zr.set(Wt,Wt),this._beforeAnimationBuild(Tt.player.namespaceId,Tt.instruction,Gn))}),s.forEach(Tt=>{const Wt=Tt.element;this._getPreviousPlayers(Wt,!1,Tt.namespaceId,Tt.triggerName,null).forEach(ni=>{Ml(Gn,Wt,[]).push(ni),ni.destroy()})});const $o=W.filter(Tt=>d4(Tt,f,g)),rp=new Map;l4(rp,this.driver,Ze,g,Yf).forEach(Tt=>{d4(Tt,f,g)&&$o.push(Tt)});const yx=new Map;R.forEach((Tt,Wt)=>{l4(yx,this.driver,new Set(Tt),f,"!")}),$o.forEach(Tt=>{const Wt=rp.get(Tt),fn=yx.get(Tt);rp.set(Tt,new Map([...Array.from(Wt?.entries()??[]),...Array.from(fn?.entries()??[])]))});const Yy=[],YJ=[],JJ={};a.forEach(Tt=>{const{element:Wt,player:fn,instruction:ni}=Tt;if(i.has(Wt)){if(b.has(Wt))return fn.onDestroy(()=>th(Wt,ni.toStyles)),fn.disabled=!0,fn.overrideTotalTime(ni.totalTime),void s.push(fn);let uo=JJ;if(Zr.size>1){let Ol=Wt;const _g=[];for(;Ol=Ol.parentNode;){const jr=Zr.get(Ol);if(jr){uo=jr;break}_g.push(Ol)}_g.forEach(jr=>Zr.set(jr,uo))}const ch=this._buildAnimation(fn.namespaceId,ni,Gn,o,yx,rp);if(fn.setRealPlayer(ch),uo===JJ)Yy.push(fn);else{const Ol=this.playersByElement.get(uo);Ol&&Ol.length&&(fn.parentPlayer=tg(Ol)),s.push(fn)}}else Ay(Wt,ni.fromStyles),fn.onDestroy(()=>th(Wt,ni.toStyles)),YJ.push(fn),b.has(Wt)&&s.push(fn)}),YJ.forEach(Tt=>{const Wt=o.get(Tt.element);if(Wt&&Wt.length){const fn=tg(Wt);Tt.setRealPlayer(fn)}}),s.forEach(Tt=>{Tt.parentPlayer?Tt.syncPlayerEvents(Tt.parentPlayer):Tt.destroy()});for(let Tt=0;Tt<W.length;Tt++){const Wt=W[Tt],fn=Wt[Cc];if(KC(Wt,kI),fn&&fn.hasAnimation)continue;let ni=[];if(d.size){let ch=d.get(Wt);ch&&ch.length&&ni.push(...ch);let Ol=this.driver.query(Wt,Y6,!0);for(let _g=0;_g<Ol.length;_g++){let jr=d.get(Ol[_g]);jr&&jr.length&&ni.push(...jr)}}const uo=ni.filter(ch=>!ch.destroyed);uo.length?Ope(this,Wt,uo):this.processLeaveNode(Wt)}return W.length=0,Yy.forEach(Tt=>{this.players.push(Tt),Tt.onDone(()=>{Tt.destroy();const Wt=this.players.indexOf(Tt);this.players.splice(Wt,1)}),Tt.play()}),Yy}elementContainsData(t,e){let i=!1;const s=e[Cc];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,o){let a=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(a=d)}else{const d=this.playersByElement.get(t);if(d){const f=!o||o==kD;d.forEach(g=>{g.queued||!f&&g.triggerName!=s||a.push(g)})}}return(i||s)&&(a=a.filter(d=>!(i&&i!=d.namespaceId||s&&s!=d.triggerName))),a}_beforeAnimationBuild(t,e,i){const o=e.element,a=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const g=f.element,b=g!==o,T=Ml(i,g,[]);this._getPreviousPlayers(g,b,a,d,e.toState).forEach(R=>{const L=R.getRealPlayer();L.beforeDestroy&&L.beforeDestroy(),R.destroy(),T.push(R)})}Ay(o,e.fromStyles)}_buildAnimation(t,e,i,s,o,a){const d=e.triggerName,f=e.element,g=[],b=new Set,T=new Set,E=e.timelines.map(L=>{const Y=L.element;b.add(Y);const W=Y[Cc];if(W&&W.removedBeforeQueried)return new iD(L.duration,L.delay);const ve=Y!==f,Ze=function Fpe(r){const t=[];return u4(r,t),t}((i.get(Y)||Ape).map(Gn=>Gn.getRealPlayer())).filter(Gn=>!!Gn.element&&Gn.element===Y),He=o.get(Y),ze=a.get(Y),Ht=FG(0,this._normalizer,0,L.keyframes,He,ze),Ct=this._buildPlayer(L,Ht,Ze);if(L.subTimeline&&s&&T.add(Y),ve){const Gn=new oL(t,d,Y);Gn.setRealPlayer(Ct),g.push(Gn)}return Ct});g.forEach(L=>{Ml(this.playersByQueriedElement,L.element,[]).push(L),L.onDone(()=>function kpe(r,t,e){let i=r.get(t);if(i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&r.delete(t)}return i}(this.playersByQueriedElement,L.element,L))}),b.forEach(L=>wc(L,qG));const R=tg(E);return R.onDestroy(()=>{b.forEach(L=>KC(L,qG)),th(f,e.toStyles)}),T.forEach(L=>{Ml(s,L,[]).push(R)}),R}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new iD(t.duration,t.delay)}}class oL{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new iD,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(s=>U6(t,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ml(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function qI(r){return r&&1===r.nodeType}function a4(r,t){const e=r.style.display;return r.style.display=t??"none",e}function l4(r,t,e,i,s){const o=[];e.forEach(f=>o.push(a4(f)));const a=[];i.forEach((f,g)=>{const b=new Map;f.forEach(T=>{const E=t.computeStyle(g,T,s);b.set(T,E),(!E||0==E.length)&&(g[Cc]=Epe,a.push(g))}),r.set(g,b)});let d=0;return e.forEach(f=>a4(f,o[d++])),a}function c4(r,t){const e=new Map;if(r.forEach(d=>e.set(d,[])),0==t.length)return e;const s=new Set(t),o=new Map;function a(d){if(!d)return 1;let f=o.get(d);if(f)return f;const g=d.parentNode;return f=e.has(g)?g:s.has(g)?1:a(g),o.set(d,f),f}return t.forEach(d=>{const f=a(d);1!==f&&e.get(f).push(d)}),e}function wc(r,t){r.classList?.add(t)}function KC(r,t){r.classList?.remove(t)}function Ope(r,t,e){tg(e).onDone(()=>r.processLeaveNode(t))}function u4(r,t){for(let e=0;e<r.length;e++){const i=r[e];i instanceof Dj?u4(i.players,t):t.push(i)}}function d4(r,t,e){const i=e.get(r);if(!i)return!1;let s=t.get(r);return s?i.forEach(o=>s.add(o)):t.set(r,i),e.delete(r),!0}class GI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new Ipe(t,e,i),this._timelineEngine=new wpe(t,e,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(t,e,i,s,o){const a=t+"-"+s;let d=this._triggerCache[a];if(!d){const f=[],b=Q6(this._driver,o,f,[]);if(f.length)throw function vfe(r,t){return new n.vHH(3404,!1)}();d=function ype(r,t,e){return new bpe(r,t,e)}(s,b,this._normalizer),this._triggerCache[a]=d}this._transitionEngine.registerTrigger(e,s,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[o,a]=PG(i);this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,o){if("@"==i.charAt(0)){const[a,d]=PG(i);return this._timelineEngine.listen(a,e,d,o)}return this._transitionEngine.listen(t,e,i,s,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Bpe=(()=>{class r{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let o=r.initialStylesByElement.get(e);o||r.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&th(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(th(this._element,this._initialStyles),this._endStyles&&(th(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Ay(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ay(this._element,this._endStyles),this._endStyles=null),th(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function aL(r){let t=null;return r.forEach((e,i)=>{(function Upe(r){return"display"===r||"position"===r})(i)&&(t=t||new Map,t.set(i,e))}),t}class h4{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{"offset"!==s&&t.set(s,this._finished?i:QG(this.element,s))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Vpe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return VG(t,e)}getParentElement(t){return H6(t)}query(t,e,i){return ZG(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,s,o,a=[]){const f={duration:i,delay:s,fill:0==s?"both":"forwards"};o&&(f.easing=o);const g=new Map,b=a.filter(R=>R instanceof h4);(function qfe(r,t){return 0===r||0===t})(i,s)&&b.forEach(R=>{R.currentSnapshot.forEach((L,Y)=>g.set(Y,L))});let T=function Vfe(r){return r.length?r[0]instanceof Map?r:r.map(t=>GG(t)):[]}(e).map(R=>ng(R));T=function Gfe(r,t,e){if(e.size&&t.length){let i=t[0],s=[];if(e.forEach((o,a)=>{i.has(a)||s.push(a),i.set(a,o)}),s.length)for(let o=1;o<t.length;o++){let a=t[o];s.forEach(d=>a.set(d,QG(r,d)))}}return t}(t,T,g);const E=function Lpe(r,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=aL(t[0]),t.length>1&&(i=aL(t[t.length-1]))):t instanceof Map&&(e=aL(t)),e||i?new Bpe(r,e,i):null}(t,T);return new h4(t,T,f,E)}}let Zpe=(()=>{class r extends vj{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:n.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?wj(e):e;return f4(this._renderer,null,i,"register",[s]),new jpe(i,this._renderer)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(n.FYo),n.LFG(ne))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();class jpe extends class EW{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Hpe(this._id,t,e||{},this._renderer)}}class Hpe{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return f4(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function f4(r,t,e,i,s){return r.setProperty(t,`@@${e}:${i}`,s)}const p4="@.disabled";let qpe=(()=>{class r{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const d=a?.parentNode(o);d&&a.removeChild(d,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(o);return b||(b=new m4("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,b)),b}const a=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const f=b=>{Array.isArray(b)?b.forEach(f):this.engine.registerTrigger(a,d,e,b.name,b)};return i.data.animation.forEach(f),new Gpe(this,d,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,d]=o;a(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(n.FYo),n.LFG(GI),n.LFG(n.R0b))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();class m4{constructor(t,e,i,s){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=s,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==p4?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Gpe extends m4{constructor(t,e,i,s,o){super(e,i,s,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==p4?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function Ype(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(t);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function Jpe(r){const t=r.indexOf(".");return[r.substring(0,t),r.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,s,o,a,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let zpe=(()=>{class r extends GI{constructor(e,i,s,o){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne),n.LFG(q6),n.LFG(tL),n.LFG(n.z2F))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();const g4=[{provide:vj,useClass:Zpe},{provide:tL,useFactory:function $pe(){return new ppe}},{provide:GI,useClass:zpe},{provide:n.FYo,useFactory:function Qpe(r,t,e){return new qpe(r,t,e)},deps:[Kl,GI,n.R0b]}],lL=[{provide:q6,useFactory:()=>new Vpe},{provide:n.QbO,useValue:"BrowserAnimations"},...g4],_4=[{provide:q6,useClass:jG},{provide:n.QbO,useValue:"NoopAnimations"},...g4];let y4=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?_4:lL}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:lL,imports:[Mh]}),r})(),Wpe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Rr.hO.initializeApp(To_firebase),Rr.hO,nv]}),r})(),Kpe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[y4,by,$M,PM,tI,L6,DP,kM]}),r})(),C4=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})(),w4=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[yy,Xt,DM,C4,Xt,C4]}),r})(),gme=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})(),Dme=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[gme,Xt,Xt]}),r})(),Bme=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[MM,yy,Xt,gP,Yn,MM,Xt,gP,$M]}),r})(),Vme=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn,Xt,Xt]}),r})();function D4(...r){if(1===r.length){if(!(0,ra.k)(r[0]))return r[0];r=r[0]}return(0,dd.n)(r,void 0).lift(new Zme)}class Zme{call(t,e){return e.subscribe(new jme(t))}}class jme extends Ea{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const o=ud(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}}notifyNext(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let s=0;s<this.subscriptions.length;s++)if(s!==i){let o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(e)}}var Hme=j(7876);new mn.y(Hme.Z);var $I=j(5430);function QI(...r){const t=r[r.length-1];return"function"==typeof t&&r.pop(),(0,dd.n)(r,void 0).lift(new qme(t))}class qme{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Gme(t,this.resultSelector))}}class Gme extends er.L{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,ra.k)(t)?e.push(new Jme(t)):e.push("function"==typeof t[$I.hZ]?new Yme(t[$I.hZ]()):new zme(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let s=t[i];s.stillUnsubscribed?this.destination.add(s.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let a=0;a<e;a++){let d=t[a];if("function"==typeof d.hasValue&&!d.hasValue())return}let s=!1;const o=[];for(let a=0;a<e;a++){let d=t[a],f=d.next();if(d.hasCompleted()&&(s=!0),f.done)return void i.complete();o.push(f.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),s&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class Yme{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class Jme{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[$I.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class zme extends Di.Ds{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[$I.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,Di.ft)(this.observable,new Di.IY(this))}}function WI(...r){return t=>{let e;return"function"==typeof r[r.length-1]&&(e=r.pop()),t.lift(new Qme(r,e))}}class Qme{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Wme(t,this.observables,this.project))}}class Wme extends Ea{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const s=e.length;this.values=new Array(s);for(let o=0;o<s;o++)this.toRespond.push(o);for(let o=0;o<s;o++)this.add(ud(this,e[o],void 0,o))}notifyNext(t,e,i){this.values[i]=e;const s=this.toRespond;if(s.length>0){const o=s.indexOf(i);-1!==o&&s.splice(o,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const XC=["*"],dge=["defaultDayTemplate"],hge=["content"];function fge(r,t){if(1&r&&n._UZ(0,"div",7),2&r){const i=t.currentMonth,s=t.selected,o=t.disabled,a=t.focused;n.Q6J("date",t.date)("currentMonth",i)("selected",s)("disabled",o)("focused",a)}}function pge(r,t){if(1&r&&(n.TgZ(0,"div",12),n._uU(1),n.qZA()),2&r){const e=n.oxw().$implicit,i=n.oxw(2);n.xp6(1),n.AsE(" ",i.i18n.getMonthFullName(e.number,e.year)," ",i.i18n.getYearNumerals(e.year)," ")}}function mge(r,t){if(1&r&&(n.TgZ(0,"div",9),n.YNc(1,pge,2,2,"div",10),n._UZ(2,"ngb-datepicker-month",11),n.qZA()),2&r){const e=t.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("ngIf","none"===i.navigation||i.displayMonths>1&&"select"===i.navigation),n.xp6(1),n.Q6J("month",e.firstDate)}}function gge(r,t){if(1&r&&n.YNc(0,mge,3,2,"div",8),2&r){const e=n.oxw();n.Q6J("ngForOf",e.model.months)}}function _ge(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"ngb-datepicker-navigation",13),n.NdJ("navigate",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.onNavigateEvent(s))})("select",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.onNavigateDateSelect(s))}),n.qZA()}if(2&r){const e=n.oxw();n.Q6J("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function yge(r,t){}function bge(r,t){}function vge(r,t){1&r&&n._UZ(0,"div",5)}function Cge(r,t){if(1&r&&(n.TgZ(0,"div",6),n._uU(1),n.qZA()),2&r){const e=t.$implicit,i=n.oxw(2);n.xp6(1),n.hij(" ",i.i18n.getWeekdayShortName(e)," ")}}function wge(r,t){if(1&r&&(n.TgZ(0,"div",2),n.YNc(1,vge,1,0,"div",3),n.YNc(2,Cge,2,1,"div",4),n.qZA()),2&r){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.datepicker.showWeekNumbers),n.xp6(1),n.Q6J("ngForOf",e.viewModel.weekdays)}}function Tge(r,t){if(1&r&&(n.TgZ(0,"div",11),n._uU(1),n.qZA()),2&r){const e=n.oxw(2).$implicit,i=n.oxw();n.xp6(1),n.Oqu(i.i18n.getWeekNumerals(e.number))}}function Dge(r,t){}function xge(r,t){if(1&r&&n.YNc(0,Dge,0,0,"ng-template",14),2&r){const e=n.oxw().$implicit,i=n.oxw(3);n.Q6J("ngTemplateOutlet",i.datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function Sge(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",12),n.NdJ("click",function(s){const a=n.CHM(e).$implicit;return n.oxw(3).doSelect(a),n.KtG(s.preventDefault())}),n.YNc(1,xge,1,2,"ng-template",13),n.qZA()}if(2&r){const e=t.$implicit;n.ekj("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),n.Q6J("tabindex",e.tabindex),n.uIk("aria-label",e.ariaLabel),n.xp6(1),n.Q6J("ngIf",!e.hidden)}}function Age(r,t){if(1&r&&(n.TgZ(0,"div",8),n.YNc(1,Tge,2,1,"div",9),n.YNc(2,Sge,2,9,"div",10),n.qZA()),2&r){const e=n.oxw().$implicit,i=n.oxw();n.xp6(1),n.Q6J("ngIf",i.datepicker.showWeekNumbers),n.xp6(1),n.Q6J("ngForOf",e.days)}}function Ege(r,t){1&r&&n.YNc(0,Age,3,2,"div",7),2&r&&n.Q6J("ngIf",!t.$implicit.collapsed)}function Mge(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"ngb-datepicker-navigation-select",7),n.NdJ("select",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.select.emit(s))}),n.qZA()}if(2&r){const e=n.oxw();n.Q6J("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function Ige(r,t){1&r&&n._UZ(0,"div",0)}function kge(r,t){1&r&&n._UZ(0,"div",0)}function Rge(r,t){if(1&r&&(n.YNc(0,Ige,1,0,"div",9),n.TgZ(1,"div",10),n._uU(2),n.qZA(),n.YNc(3,kge,1,0,"div",9)),2&r){const e=t.$implicit,i=t.index,s=n.oxw(2);n.Q6J("ngIf",i>0),n.xp6(2),n.AsE(" ",s.i18n.getMonthFullName(e.number,e.year)," ",s.i18n.getYearNumerals(e.year)," "),n.xp6(1),n.Q6J("ngIf",i!==s.months.length-1)}}function Nge(r,t){if(1&r&&n.YNc(0,Rge,4,4,"ng-template",8),2&r){const e=n.oxw();n.Q6J("ngForOf",e.months)}}const Oge=["ngbDatepickerDayView",""],Fge=["month"],Pge=["year"];function Lge(r,t){if(1&r&&(n.TgZ(0,"option",5),n._uU(1),n.qZA()),2&r){const e=t.$implicit,i=n.oxw();n.Q6J("value",e),n.uIk("aria-label",i.i18n.getMonthFullName(e,null==i.date?null:i.date.year)),n.xp6(1),n.Oqu(i.i18n.getMonthShortName(e,null==i.date?null:i.date.year))}}function Bge(r,t){if(1&r&&(n.TgZ(0,"option",5),n._uU(1),n.qZA()),2&r){const e=t.$implicit,i=n.oxw();n.Q6J("value",e),n.xp6(1),n.Oqu(i.i18n.getYearNumerals(e))}}const Uge=["dialog"];function y_e(r,t){1&r&&n._uU(0),2&r&&n.Oqu(100===t.fill?"\u2605":"\u2606")}function b_e(r,t){}function v_e(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"span",2),n._uU(1),n.qZA(),n.TgZ(2,"span",3),n.NdJ("mouseenter",function(){const o=n.CHM(e).index,a=n.oxw();return n.KtG(a.enter(o+1))})("click",function(){const o=n.CHM(e).index,a=n.oxw();return n.KtG(a.handleClick(o+1))}),n.YNc(3,b_e,0,0,"ng-template",4),n.qZA()}if(2&r){const e=t.index,i=n.oxw(),s=n.MAs(1);n.xp6(1),n.hij("(",e<i.nextRate?"*":" ",")"),n.xp6(1),n.Udp("cursor",i.isInteractive()?"pointer":"default"),n.xp6(1),n.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||s)("ngTemplateOutletContext",i.contexts[e])}}function C_e(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"button",11),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.changeHour(s.hourStep))}),n._UZ(1,"span",12),n.TgZ(2,"span",13),n.SDv(3,14),n.qZA()()}if(2&r){const e=n.oxw();n.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),n.Q6J("disabled",e.disabled)}}function w_e(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"button",11),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.changeHour(-s.hourStep))}),n._UZ(1,"span",15),n.TgZ(2,"span",13),n.SDv(3,16),n.qZA()()}if(2&r){const e=n.oxw();n.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),n.Q6J("disabled",e.disabled)}}function T_e(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"button",11),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.changeMinute(s.minuteStep))}),n._UZ(1,"span",12),n.TgZ(2,"span",13),n.SDv(3,17),n.qZA()()}if(2&r){const e=n.oxw();n.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),n.Q6J("disabled",e.disabled)}}function D_e(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"button",11),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.changeMinute(-s.minuteStep))}),n._UZ(1,"span",15),n.TgZ(2,"span",13),n.SDv(3,18),n.qZA()()}if(2&r){const e=n.oxw();n.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),n.Q6J("disabled",e.disabled)}}function x_e(r,t){1&r&&(n.TgZ(0,"div",5),n._uU(1,":"),n.qZA())}function S_e(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"button",11),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.changeSecond(s.secondStep))}),n._UZ(1,"span",12),n.TgZ(2,"span",13),n.SDv(3,21),n.qZA()()}if(2&r){const e=n.oxw(2);n.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),n.Q6J("disabled",e.disabled)}}function A_e(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"button",11),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.changeSecond(-s.secondStep))}),n._UZ(1,"span",15),n.TgZ(2,"span",13),n.SDv(3,22),n.qZA()()}if(2&r){const e=n.oxw(2);n.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),n.Q6J("disabled",e.disabled)}}function E_e(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",19),n.YNc(1,S_e,4,7,"button",3),n.TgZ(2,"input",20),n.NdJ("change",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.updateSecond(s.target.value))})("input",function(s){n.CHM(e);const o=n.oxw();return n.KtG(o.formatInput(s.target))})("keydown.ArrowUp",function(s){n.CHM(e);const o=n.oxw();return o.changeSecond(o.secondStep),n.KtG(s.preventDefault())})("keydown.ArrowDown",function(s){n.CHM(e);const o=n.oxw();return o.changeSecond(-o.secondStep),n.KtG(s.preventDefault())}),n.qZA(),n.YNc(3,A_e,4,7,"button",3),n.qZA()}if(2&r){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.spinners),n.xp6(1),n.ekj("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),n.Q6J("value",e.formatMinSec(null==e.model?null:e.model.second))("readOnly",e.readonlyInputs)("disabled",e.disabled),n.xp6(1),n.Q6J("ngIf",e.spinners)}}function M_e(r,t){1&r&&n._UZ(0,"div",5)}function I_e(r,t){if(1&r&&(n.ynx(0),n.SDv(1,27),n.BQk()),2&r){const e=n.oxw(2);n.xp6(1),n.pQV(e.i18n.getAfternoonPeriod()),n.QtT(1)}}function k_e(r,t){if(1&r&&n.SDv(0,28),2&r){const e=n.oxw(2);n.pQV(e.i18n.getMorningPeriod()),n.QtT(0)}}function R_e(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div",23)(1,"button",24),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.toggleMeridian())}),n.YNc(2,I_e,2,1,"ng-container",25),n.YNc(3,k_e,1,1,"ng-template",null,26,n.W1O),n.qZA()()}if(2&r){const e=n.MAs(4),i=n.oxw();n.xp6(1),n.ekj("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),n.Q6J("disabled",i.disabled),n.xp6(1),n.Q6J("ngIf",i.model&&i.model.hour>=12)("ngIfElse",e)}}function P_e(r,t){if(1&r&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&r){const e=n.oxw().$implicit,i=n.oxw();n.Tol(i.highlightClass),n.xp6(1),n.Oqu(e)}}function L_e(r,t){if(1&r&&n._uU(0),2&r){const e=n.oxw().$implicit;n.Oqu(e)}}function B_e(r,t){if(1&r&&(n.YNc(0,P_e,2,3,"span",1),n.YNc(1,L_e,1,1,"ng-template",null,2,n.W1O)),2&r){const e=t.odd,i=n.MAs(2);n.Q6J("ngIf",e)("ngIfElse",i)}}function U_e(r,t){if(1&r&&n._UZ(0,"ngb-highlight",2),2&r){const i=t.term;n.Q6J("result",(0,t.formatter)(t.result))("term",i)}}function V_e(r,t){}const Z_e=function(r,t,e){return{result:r,term:t,formatter:e}};function j_e(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"button",3),n.NdJ("mouseenter",function(){const o=n.CHM(e).index,a=n.oxw();return n.KtG(a.markActive(o))})("click",function(){const o=n.CHM(e).$implicit,a=n.oxw();return n.KtG(a.select(o))}),n.YNc(1,V_e,0,0,"ng-template",4),n.qZA()}if(2&r){const e=t.$implicit,i=t.index,s=n.oxw(),o=n.MAs(1);n.ekj("active",i===s.activeIdx),n.Q6J("id",s.id+"-"+i),n.xp6(1),n.Q6J("ngTemplateOutlet",s.resultTemplate||o)("ngTemplateOutletContext",n.kEZ(5,Z_e,e,s.term,s.formatter))}}function Eo(r){return parseInt(`${r}`,10)}function ND(r){return null!=r?`${r}`:""}function KI(r,t,e=0){return Math.max(Math.min(r,t),e)}function XI(r){return"string"==typeof r}function Qr(r){return!isNaN(Eo(r))}function Br(r){return"number"==typeof r&&isFinite(r)&&Math.floor(r)===r}function ig(r){return null!=r}function e0(r){return Qr(r)?`0${r}`.slice(-2):""}function S4(r,t){return r&&r.className&&r.className.split&&r.className.split(/\s+/).indexOf(t)>=0}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(r){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(r))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const A4={animation:!0,transitionTimerDelayMs:5};let so=(()=>{class r{constructor(){this.animation=A4.animation}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const J_e=()=>{},{transitionTimerDelayMs:z_e}=A4,tk=new Map,oo=(r,t,e)=>{let i=e.context||{};const s=tk.get(r);if(s)switch(e.runningTransition){case"continue":return vs.E;case"stop":s.transition$.complete(),i=Object.assign(s.context,i),tk.delete(r)}!function ek(r){return(r||document.body).offsetHeight}(r);const o=t(r,i)||J_e;if(!e.animation||"none"===window.getComputedStyle(r).transitionProperty)return o(),(0,Ve.of)(void 0);const a=new Fe.xQ,d=a.pipe(function $me(...r){return t=>vo(t,(0,Ve.of)(...r))}(!0));tk.set(r,{transition$:a,context:i});const f=function Y_e(r){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(r);return 1e3*(parseFloat(t)+parseFloat(e))}(r),g=_r(r,"transitionend").pipe(We(d),Lt(({target:T})=>T===r));return D4(fM(f+z_e).pipe(We(d)),g).pipe(We(d)).subscribe(()=>{tk.delete(r),o(),a.next(),a.complete()}),a.asObservable()};let N4=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn]}),r})(),O4=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn]}),r})(),gL=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(e,i){2&e&&n.ekj("btn",!0)("active",i.active)("disabled",i.disabled)("focus",i.focused)}}),r})();const X_e={provide:Ms,useExisting:(0,n.Gpc)(()=>F4),multi:!0};let F4=(()=>{class r{constructor(e,i){this._label=e,this._cd=i,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=s=>{},this.onTouched=()=>{}}set focused(e){this._label.focused=e,e||this.onTouched()}onInputChange(e){const i=e.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(i),this.onTouched(),this.writeValue(i)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._label.disabled=e}writeValue(e){this.checked=e===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(gL),n.Y36(n.sBO))},r.\u0275dir=n.lG2({type:r,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(e,i){1&e&&n.NdJ("change",function(o){return i.onInputChange(o)})("focus",function(){return i.focused=!0})("blur",function(){return i.focused=!1}),2&e&&n.Ikx("checked",i.checked)("disabled",i.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[n._Bn([X_e])]}),r})();const eye={provide:Ms,useExisting:(0,n.Gpc)(()=>_L),multi:!0};let tye=0,_L=(()=>{class r{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+tye++,this.onChange=e=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this.setDisabledState(e)}onRadioChange(e){this.writeValue(e.value),this.onChange(e.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(e){this._radios.add(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled=e,this._updateRadiosDisabled()}unregister(e){this._radios.delete(e)}writeValue(e){this._value=e,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(e=>e.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(e=>e.updateDisabled())}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=n.lG2({type:r,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[n._Bn([eye])]}),r})(),P4=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})(),V4=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn]}),r})(),Z4=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})();class ao{constructor(t,e,i){this.year=Br(t)?t:null,this.month=Br(e)?e:null,this.day=Br(i)?i:null}static from(t){return t instanceof ao?t:t?new ao(t.year,t.month,t.day):null}equals(t){return null!=t&&this.year===t.year&&this.month===t.month&&this.day===t.day}before(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)}after(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)}}function j4(r){return new ao(r.getFullYear(),r.getMonth()+1,r.getDate())}function nk(r){const t=new Date(r.year,r.month-1,r.day,12);return isNaN(t.getTime())||t.setFullYear(r.year),t}function lye(){return new cye}let ik=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:lye,token:r,providedIn:"root"}),r})(),cye=(()=>{class r extends ik{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,i="d",s=1){let o=nk(e),a=!0,d=o.getMonth();switch(i){case"y":o.setFullYear(o.getFullYear()+s);break;case"m":d+=s,o.setMonth(d),d%=12,d<0&&(d+=12);break;case"d":o.setDate(o.getDate()+s),a=!1;break;default:return e}return a&&o.getMonth()!==d&&o.setDate(0),j4(o)}getPrev(e,i="d",s=1){return this.getNext(e,i,-s)}getWeekday(e){let s=nk(e).getDay();return 0===s?7:s}getWeekNumber(e,i){7===i&&(i=0);const a=nk(e[(11-i)%7]);a.setDate(a.getDate()+4-(a.getDay()||7));const d=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((d-a.getTime())/864e5)/7)+1}getToday(){return j4(new Date)}isValid(e){if(!(e&&Br(e.year)&&Br(e.month)&&Br(e.day)&&0!==e.year))return!1;const i=nk(e);return!isNaN(i.getTime())&&i.getFullYear()===e.year&&i.getMonth()+1===e.month&&i.getDate()===e.day}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();function t0(r,t){return!function uye(r,t){return!r&&!t||!!r&&!!t&&r.equals(t)}(r,t)}function H4(r,t){return!(!r&&!t||r&&t&&r.year===t.year&&r.month===t.month)}function rk(r,t,e){return r&&t&&r.before(t)?t:r&&e&&r.after(e)?e:r||null}function bL(r,t){const{minDate:e,maxDate:i,disabled:s,markDisabled:o}=t;return!(null==r||s||o&&o(r,{year:r.year,month:r.month})||e&&r.before(e)||i&&r.after(i))}let Iy=(()=>{class r{getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:function(){return function bye(r){return new vye(r)}((0,n.LFG)(n.soG))},token:r,providedIn:"root"}),r})(),vye=(()=>{class r extends Iy{constructor(e){super(),this._locale=e;const i=ja(e,pn.Standalone,xt.Short);this._weekdaysShort=i.map((s,o)=>i[(o+1)%7]),this._monthsShort=Li(e,pn.Standalone,xt.Abbreviated),this._monthsFull=Li(e,pn.Standalone,xt.Wide)}getWeekdayShortName(e){return this._weekdaysShort[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){return mt(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(n.soG))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),vL=(()=>{class r{constructor(e,i){this._calendar=e,this._i18n=i,this._VALIDATORS={dayTemplateData:s=>{if(this._state.dayTemplateData!==s)return{dayTemplateData:s}},displayMonths:s=>{if(Br(s=Eo(s))&&s>0&&this._state.displayMonths!==s)return{displayMonths:s}},disabled:s=>{if(this._state.disabled!==s)return{disabled:s}},firstDayOfWeek:s=>{if(Br(s=Eo(s))&&s>=0&&this._state.firstDayOfWeek!==s)return{firstDayOfWeek:s}},focusVisible:s=>{if(this._state.focusVisible!==s&&!this._state.disabled)return{focusVisible:s}},markDisabled:s=>{if(this._state.markDisabled!==s)return{markDisabled:s}},maxDate:s=>{const o=this.toValidDate(s,null);if(t0(this._state.maxDate,o))return{maxDate:o}},minDate:s=>{const o=this.toValidDate(s,null);if(t0(this._state.minDate,o))return{minDate:o}},navigation:s=>{if(this._state.navigation!==s)return{navigation:s}},outsideDays:s=>{if(this._state.outsideDays!==s)return{outsideDays:s}}},this._model$=new Fe.xQ,this._dateSelect$=new Fe.xQ,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]}}}get model$(){return this._model$.pipe(Lt(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Lt(e=>null!==e))}set(e){let i=Object.keys(e).map(s=>this._VALIDATORS[s](e[s])).reduce((s,o)=>Object.assign(Object.assign({},s),o),{});Object.keys(i).length>0&&this._nextState(i)}focus(e){const i=this.toValidDate(e,null);null!=i&&!this._state.disabled&&t0(this._state.focusDate,i)&&this._nextState({focusDate:e})}focusSelect(){bL(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const i=this.toValidDate(e,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||H4(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(e,i={}){const s=this.toValidDate(e,null);null!=s&&!this._state.disabled&&(t0(this._state.selectedDate,s)&&this._nextState({selectedDate:s}),i.emitEvent&&bL(s,this._state)&&this._dateSelect$.next(s))}toValidDate(e,i){const s=ao.from(e);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(s)?s:i}getMonth(e){for(let i of this._state.months)if(e.month===i.number&&e.year===i.year)return i;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const i=this._updateState(e);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(e){const{months:i,displayMonths:s,selectedDate:o,focusDate:a,focusVisible:d,disabled:f,outsideDays:g}=e;e.months.forEach(b=>{b.weeks.forEach(T=>{T.days.forEach(E=>{a&&(E.context.focused=a.equals(E.date)&&d),E.tabindex=!f&&a&&E.date.equals(a)&&a.month===b.number?0:-1,!0===f&&(E.context.disabled=!0),void 0!==o&&(E.context.selected=null!==o&&o.equals(E.date)),b.number!==E.date.month&&(E.hidden="hidden"===g||"collapsed"===g||s>1&&E.date.after(i[0].firstDate)&&E.date.before(i[s-1].lastDate))})})})}_updateState(e){const i=Object.assign({},this._state,e);let s=i.firstDate;if(("minDate"in e||"maxDate"in e)&&(function dye(r,t){if(t&&r&&t.before(r))throw new Error(`'maxDate' ${t} should be greater than 'minDate' ${r}`)}(i.minDate,i.maxDate),i.focusDate=rk(i.focusDate,i.minDate,i.maxDate),i.firstDate=rk(i.firstDate,i.minDate,i.maxDate),s=i.focusDate),"disabled"in e&&(i.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(s=i.selectedDate),"focusVisible"in e||"focusDate"in e&&(i.focusDate=rk(i.focusDate,i.minDate,i.maxDate),s=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in e&&(i.firstDate=rk(i.firstDate,i.minDate,i.maxDate),s=i.firstDate),s){const a=function gye(r,t,e,i,s){const{displayMonths:o,months:a}=e,d=a.splice(0,a.length);return Array.from({length:o},(g,b)=>{const T=Object.assign(r.getNext(t,"m",b),{day:1});if(a[b]=null,!s){const E=d.findIndex(R=>R.firstDate.equals(T));-1!==E&&(a[b]=d.splice(E,1)[0])}return T}).forEach((g,b)=>{null===a[b]&&(a[b]=function _ye(r,t,e,i,s={}){const{dayTemplateData:o,minDate:a,maxDate:d,firstDayOfWeek:f,markDisabled:g,outsideDays:b}=e,T=r.getToday();s.firstDate=null,s.lastDate=null,s.number=t.month,s.year=t.year,s.weeks=s.weeks||[],s.weekdays=s.weekdays||[],t=function yye(r,t,e){const i=r.getDaysPerWeek(),s=new ao(t.year,t.month,1),o=r.getWeekday(s)%i;return r.getPrev(s,"d",(i+o-e)%i)}(r,t,f);for(let E=0;E<r.getWeeksPerMonth();E++){let R=s.weeks[E];R||(R=s.weeks[E]={number:0,days:[],collapsed:!0});const L=R.days;for(let Y=0;Y<r.getDaysPerWeek();Y++){0===E&&(s.weekdays[Y]=r.getWeekday(t));const W=new ao(t.year,t.month,t.day),ve=r.getNext(W),Ze=i.getDayAriaLabel(W);let He=!!(a&&W.before(a)||d&&W.after(d));!He&&g&&(He=g(W,{month:s.number,year:s.year}));let ze=W.equals(T),Ht=o?o(W,{month:s.number,year:s.year}):void 0;null===s.firstDate&&W.month===s.number&&(s.firstDate=W),W.month===s.number&&ve.month!==s.number&&(s.lastDate=W);let Ct=L[Y];Ct||(Ct=L[Y]={}),Ct.date=W,Ct.context=Object.assign(Ct.context||{},{$implicit:W,date:W,data:Ht,currentMonth:s.number,currentYear:s.year,disabled:He,focused:!1,selected:!1,today:ze}),Ct.tabindex=-1,Ct.ariaLabel=Ze,Ct.hidden=!1,t=ve}R.number=r.getWeekNumber(L.map(Y=>Y.date),f),R.collapsed="collapsed"===b&&L[0].date.month!==s.number&&L[L.length-1].date.month!==s.number}return s}(r,g,e,i,d.shift()||{}))}),a}(this._calendar,s,i,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e);i.months=a,i.firstDate=a[0].firstDate,i.lastDate=a[a.length-1].lastDate,"selectedDate"in e&&!bL(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in e&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=s);const d=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,f=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in e||"maxDate"in e||0===i.selectBoxes.years.length||d)&&(i.selectBoxes.years=function fye(r,t,e){if(!r)return[];const i=t?Math.max(t.year,r.year-500):r.year-10,o=(e?Math.min(e.year,r.year+500):r.year+10)-i+1,a=Array(o);for(let d=0;d<o;d++)a[d]=i+d;return a}(i.firstDate,i.minDate,i.maxDate)),("minDate"in e||"maxDate"in e||0===i.selectBoxes.months.length||d)&&(i.selectBoxes.months=function hye(r,t,e,i){if(!t)return[];let s=r.getMonths(t.year);if(e&&t.year===e.year){const o=s.findIndex(a=>a===e.month);s=s.slice(o)}if(i&&t.year===i.year){const o=s.findIndex(a=>a===i.month);s=s.slice(0,o+1)}return s}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(f||d||"minDate"in e||"maxDate"in e||"disabled"in e)&&(i.prevDisabled=i.disabled||function mye(r,t,e){const i=Object.assign(r.getPrev(t,"m"),{day:1});return null!=e&&(i.year===e.year&&i.month<e.month||i.year<e.year&&1===e.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function pye(r,t,e){const i=Object.assign(r.getNext(t,"m"),{day:1});return null!=e&&i.after(e)}(this._calendar,i.lastDate,i.maxDate))}return i}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ik),n.LFG(Iy))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();var n0=(()=>(function(r){r[r.PREV=0]="PREV",r[r.NEXT=1]="NEXT"}(n0||(n0={})),n0))();let CL=(()=>{class r{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();function Cye(){return new wye}let wL=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:Cye,token:r,providedIn:"root"}),r})(),wye=(()=>{class r extends wL{fromModel(e){return e&&Br(e.year)&&Br(e.month)&&Br(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&Br(e.year)&&Br(e.month)&&Br(e.day)?{year:e.year,month:e.month,day:e.day}:null}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();const Tye={provide:Ms,useExisting:(0,n.Gpc)(()=>TL),multi:!0};let Dye=(()=>{class r{constructor(e){this.templateRef=e}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.Rgc))},r.\u0275dir=n.lG2({type:r,selectors:[["ng-template","ngbDatepickerContent",""]]}),r})(),TL=(()=>{class r{constructor(e,i,s,o,a,d,f,g){this._service=e,this._calendar=i,this.i18n=s,this._elementRef=d,this._ngbDateAdapter=f,this._ngZone=g,this._controlValue=null,this._destroyed$=new Fe.xQ,this._publicState={},this.navigate=new n.vpe,this.dateSelect=new n.vpe,this.onChange=b=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(b=>this[b]=o[b]),e.dateSelect$.pipe(We(this._destroyed$)).subscribe(b=>{this.dateSelect.emit(b)}),e.model$.pipe(We(this._destroyed$)).subscribe(b=>{const T=b.firstDate,E=this.model?this.model.firstDate:null;this._publicState={maxDate:b.maxDate,minDate:b.minDate,firstDate:b.firstDate,lastDate:b.lastDate,focusedDate:b.focusDate,months:b.months.map(ve=>ve.firstDate)};let R=!1;if(!T.equals(E)&&(this.navigate.emit({current:E?{year:E.year,month:E.month}:null,next:{year:T.year,month:T.month},preventDefault:()=>R=!0}),R&&null!==E))return void this._service.open(E);const L=b.selectedDate,Y=b.focusDate,W=this.model?this.model.focusDate:null;this.model=b,t0(L,this._controlValue)&&(this._controlValue=L,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(L))),t0(Y,W)&&W&&b.focusVisible&&this.focus(),a.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(e){this._service.focus(ao.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(tn(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(ao.from(e?e.day?e:Object.assign(Object.assign({},e),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=_r(this._contentEl.nativeElement,"focusin"),i=_r(this._contentEl.nativeElement,"focusout"),{nativeElement:s}=this._elementRef;(0,ci.T)(e,i).pipe(Lt(({target:o,relatedTarget:a})=>!(S4(o,"ngb-dp-day")&&S4(a,"ngb-dp-day")&&s.contains(o)&&s.contains(a))),We(this._destroyed$)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(i=>e[i]=this[i]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(s=>s in e).forEach(s=>i[s]=this[s]),this._service.set(i),"startDate"in e){const{currentValue:s,previousValue:o}=e.startDate;H4(o,s)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case n0.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case n0.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=ao.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(vL),n.Y36(ik),n.Y36(Iy),n.Y36(CL),n.Y36(n.sBO),n.Y36(n.SBq),n.Y36(wL),n.Y36(n.R0b))},r.\u0275cmp=n.Xpm({type:r,selectors:[["ngb-datepicker"]],contentQueries:function(e,i,s){if(1&e&&n.Suo(s,Dye,7),2&e){let o;n.iGM(o=n.CRH())&&(i.contentTemplate=o.first)}},viewQuery:function(e,i){if(1&e&&(n.Gf(dge,7),n.Gf(hge,7)),2&e){let s;n.iGM(s=n.CRH())&&(i._defaultDayTemplate=s.first),n.iGM(s=n.CRH())&&(i._contentEl=s.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[n._Bn([Tye,vL]),n.TTD],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(e,i){if(1&e&&(n.YNc(0,fge,1,5,"ng-template",null,0,n.W1O),n.YNc(2,gge,1,1,"ng-template",null,1,n.W1O),n.TgZ(4,"div",2),n.YNc(5,_ge,1,7,"ngb-datepicker-navigation",3),n.qZA(),n.TgZ(6,"div",4,5),n.YNc(8,yge,0,0,"ng-template",6),n.qZA(),n.YNc(9,bge,0,0,"ng-template",6)),2&e){const s=n.MAs(3);n.xp6(5),n.Q6J("ngIf","none"!==i.navigation),n.xp6(1),n.ekj("ngb-dp-months",!i.contentTemplate),n.xp6(2),n.Q6J("ngTemplateOutlet",(null==i.contentTemplate?null:i.contentTemplate.templateRef)||s),n.xp6(1),n.Q6J("ngTemplateOutlet",i.footerTemplate)}},dependencies:function(){return[ln,ke,_s,Sye,Aye,Pye]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{background-color:#f8f9fa;background-color:var(--light);border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{background-color:#f8f9fa;background-color:var(--light);font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],encapsulation:2,changeDetection:0}),r})();var Ln=(()=>(function(r){r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown"}(Ln||(Ln={})),Ln))();let xye=(()=>{class r{processKey(e,i){const{state:s,calendar:o}=i;switch(e.which){case Ln.PageUp:i.focusDate(o.getPrev(s.focusedDate,e.shiftKey?"y":"m",1));break;case Ln.PageDown:i.focusDate(o.getNext(s.focusedDate,e.shiftKey?"y":"m",1));break;case Ln.End:i.focusDate(e.shiftKey?s.maxDate:s.lastDate);break;case Ln.Home:i.focusDate(e.shiftKey?s.minDate:s.firstDate);break;case Ln.ArrowLeft:i.focusDate(o.getPrev(s.focusedDate,"d",1));break;case Ln.ArrowUp:i.focusDate(o.getPrev(s.focusedDate,"d",o.getDaysPerWeek()));break;case Ln.ArrowRight:i.focusDate(o.getNext(s.focusedDate,"d",1));break;case Ln.ArrowDown:i.focusDate(o.getNext(s.focusedDate,"d",o.getDaysPerWeek()));break;case Ln.Enter:case Ln.Space:i.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})(),Sye=(()=>{class r{constructor(e,i,s,o){this.i18n=e,this.datepicker=i,this._keyboardService=s,this._service=o}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Iy),n.Y36(TL),n.Y36(xye),n.Y36(vL))},r.\u0275cmp=n.Xpm({type:r,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(e,i){1&e&&n.NdJ("keydown",function(o){return i.onKeyDown(o)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(n.YNc(0,wge,3,2,"div",0),n.YNc(1,Ege,1,1,"ng-template",1)),2&e&&(n.Q6J("ngIf",i.datepicker.showWeekdays),n.xp6(1),n.Q6J("ngForOf",i.viewModel.weeks))},dependencies:[ln,ke,_s],styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{font-style:italic;line-height:2rem;text-align:center}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{background-color:#f8f9fa;background-color:var(--light);border-bottom:1px solid rgba(0,0,0,.125);border-radius:0}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{height:2rem;width:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}'],encapsulation:2}),r})(),Aye=(()=>{class r{constructor(e){this.i18n=e,this.navigation=n0,this.months=[],this.navigate=new n.vpe,this.select=new n.vpe}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Iy))},r.\u0275cmp=n.Xpm({type:r,selectors:[["ngb-datepicker-navigation"]],inputs:{months:"months",date:"date",disabled:"disabled",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let t,e,i,s;return t=$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,e=$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,i=$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,s=$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",t,"title",e,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",i,"title",s,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"button",1),n.NdJ("click",function(o){return i.onClickPrev(o)}),n._UZ(2,"span",2),n.qZA()(),n.YNc(3,Mge,1,4,"ngb-datepicker-navigation-select",3),n.YNc(4,Nge,1,1,null,4),n.TgZ(5,"div",5)(6,"button",6),n.NdJ("click",function(o){return i.onClickNext(o)}),n._UZ(7,"span",2),n.qZA()()),2&e&&(n.xp6(1),n.Q6J("disabled",i.prevDisabled),n.xp6(2),n.Q6J("ngIf",i.showSelect),n.xp6(1),n.Q6J("ngIf",!i.showSelect),n.xp6(2),n.Q6J("disabled",i.nextDisabled))},dependencies:function(){return[ln,ke,Lye]},styles:["ngb-datepicker-navigation{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.ngb-dp-navigation-chevron{-webkit-transform:rotate(-135deg);border-style:solid;border-width:.2em .2em 0 0;display:inline-block;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg);width:.75em}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);margin-left:.15em;margin-right:.25em;transform:rotate(45deg)}.ngb-dp-arrow{-ms-flex:1 1 auto;display:-ms-flexbox;display:flex;flex:1 1 auto;height:2rem;margin:0;padding-left:0;padding-right:0;width:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{background-color:transparent;border:none;margin:0 .5rem;padding:0 .25rem;z-index:1}.ngb-dp-arrow-btn:focus{outline-style:auto;outline-width:1px}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{-ms-flex:1 1 9rem;display:-ms-flexbox;display:flex;flex:1 1 9rem}"],encapsulation:2,changeDetection:0}),r})();const sk=(r,t)=>!!t&&t.some(e=>e.contains(r)),q4=(r,t)=>!t||null!=function q_e(r,t){return!t||typeof r.closest>"u"?null:r.closest(t)}(r,t),Eye=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function OD(r,t,e,i,s,o,a,d){e&&r.runOutsideAngular((r=>Eye?()=>setTimeout(()=>r(),100):r)(()=>{const g=_r(t,"keydown").pipe(We(s),Lt(E=>E.which===Ln.Escape),(0,bi.b)(E=>E.preventDefault())),b=_r(t,"mousedown").pipe((0,Je.U)(E=>{const R=E.target;return 2!==E.button&&!sk(R,a)&&("inside"===e?sk(R,o)&&q4(R,d):"outside"===e?!sk(R,o):q4(R,d)||!sk(R,o))}),We(s)),T=_r(t,"mouseup").pipe(WI(b),Lt(([E,R])=>R),XM(0),We(s));D4([g.pipe((0,Je.U)(E=>0)),T.pipe((0,Je.U)(E=>1))]).subscribe(E=>r.run(()=>i(E)))}))}const G4=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Y4(r){const t=Array.from(r.querySelectorAll(G4)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const J4=(r,t,e,i=!1)=>{r.runOutsideAngular(()=>{const s=_r(t,"focusin").pipe(We(e),(0,Je.U)(o=>o.target));_r(t,"keydown").pipe(We(e),Lt(o=>o.which===Ln.Tab),WI(s)).subscribe(([o,a])=>{const[d,f]=Y4(t);(a===d||a===t)&&o.shiftKey&&(f.focus(),o.preventDefault()),a===f&&!o.shiftKey&&(d.focus(),o.preventDefault())}),i&&_r(t,"click").pipe(We(e),WI(s),(0,Je.U)(o=>o[1])).subscribe(o=>o.focus())})},kye=/\s+/,z4=new class Iye{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,s={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const o=this.offsetParent(t);i=this.offset(t,!1),o!==document.documentElement&&(s=this.offset(o,!1)),s.top+=o.clientTop,s.left+=o.clientLeft}return i.top-=s.top,i.bottom-=s.top,i.left-=s.left,i.right-=s.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),s_top=window.pageYOffset-document.documentElement.clientTop,s_left=window.pageXOffset-document.documentElement.clientLeft;let o={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+s_top,bottom:i.bottom+s_top,left:i.left+s_left,right:i.right+s_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,i,s){const[o="top",a="center"]=i.split("-"),d=s?this.offset(t,!1):this.position(t,!1),f=this.getAllStyles(e),g=parseFloat(f.marginTop),b=parseFloat(f.marginBottom),T=parseFloat(f.marginLeft),E=parseFloat(f.marginRight);let R=0,L=0;switch(o){case"top":R=d.top-(e.offsetHeight+g+b);break;case"bottom":R=d.top+d.height;break;case"left":L=d.left-(e.offsetWidth+T+E);break;case"right":L=d.left+d.width}switch(a){case"top":R=d.top;break;case"bottom":R=d.top+d.height-e.offsetHeight;break;case"left":L=d.left;break;case"right":L=d.left+d.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?L=d.left+d.width/2-e.offsetWidth/2:R=d.top+d.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(L)}px, ${Math.round(R)}px)`;const Y=e.getBoundingClientRect(),W=document.documentElement,ve=window.innerHeight||W.clientHeight,Ze=window.innerWidth||W.clientWidth;return Y.left>=0&&Y.top>=0&&Y.right<=Ze&&Y.bottom<=ve}};function FD(r,t,e,i,s){let o=Array.isArray(e)?e:e.split(kye);const a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],d=t.classList,f=R=>{const[L,Y]=R.split("-"),W=[];return s&&(W.push(`${s}-${L}`),Y&&W.push(`${s}-${L}-${Y}`),W.forEach(ve=>{d.add(ve)})),W};s&&a.forEach(R=>{d.remove(`${s}-${R}`)});let g=o.findIndex(R=>"auto"===R);g>=0&&a.forEach(function(R){null==o.find(L=>-1!==L.search("^"+R))&&o.splice(g++,1,R)});const b=t.style;b.position="absolute",b.top="0",b.left="0",b["will-change"]="transform";let T=null,E=!1;for(T of o){let R=f(T);if(z4.positionElements(r,t,T,i)){E=!0;break}s&&R.forEach(L=>{d.remove(L)})}return E||(T=o[0],f(T),z4.positionElements(r,t,T,i)),T}function Rye(){return new Nye}let $4=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:Rye,token:r,providedIn:"root"}),r})(),Nye=(()=>{class r extends $4{parse(e){if(null!=e){const i=e.trim().split("-");if(1===i.length&&Qr(i[0]))return{year:Eo(i[0]),month:null,day:null};if(2===i.length&&Qr(i[0])&&Qr(i[1]))return{year:Eo(i[0]),month:Eo(i[1]),day:null};if(3===i.length&&Qr(i[0])&&Qr(i[1])&&Qr(i[2]))return{year:Eo(i[0]),month:Eo(i[1]),day:Eo(i[2])}}return null}format(e){return e?`${e.year}-${Qr(e.month)?e0(e.month):""}-${Qr(e.day)?e0(e.day):""}`:""}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),Q4=(()=>{class r extends CL{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275prov=(0,n.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Oye={provide:Ms,useExisting:(0,n.Gpc)(()=>W4),multi:!0},Fye={provide:Zs,useExisting:(0,n.Gpc)(()=>W4),multi:!0};let W4=(()=>{class r{constructor(e,i,s,o,a,d,f,g,b,T,E){this._parserFormatter=e,this._elRef=i,this._vcRef=s,this._renderer=o,this._cfr=a,this._ngZone=d,this._calendar=f,this._dateAdapter=g,this._document=b,this._changeDetector=T,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new n.vpe,this.navigate=new n.vpe,this.closed=new n.vpe,this._onChange=R=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(R=>this[R]=E[R]),this._zoneSubscription=d.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e&&"false"!==e,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}registerOnValidatorChange(e){this._validatorChange=e}setDisabledState(e){this.disabled=e}validate(e){const{value:i}=e;if(null!=i){const s=this._fromDateStruct(this._dateAdapter.fromModel(i));if(!s)return{ngbDate:{invalid:i}};if(this.minDate&&s.before(ao.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:i}}};if(this.maxDate&&s.after(ao.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:i}}}}return null}writeValue(e){this._model=this._fromDateStruct(this._dateAdapter.fromModel(e)),this._writeModelValue(this._model)}manualDateChange(e,i=!1){const s=e!==this._inputValue;s&&(this._inputValue=e,this._model=this._fromDateStruct(this._parserFormatter.parse(e))),(s||!i)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===e?null:e),i&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){const e=this._cfr.resolveComponentFactory(TL);this._cRef=this._vcRef.createComponent(e),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(i=>{this.writeValue(i),this._onChange(i),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,J4(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),OD(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let e=this._elWithFocus;XI(this.restoreFocus)?e=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(e=this.restoreFocus),e&&e.focus?e.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(e){this.isOpen()&&this._cRef.instance.navigateTo(e)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(e){(e.minDate||e.maxDate)&&(this._validatorChange(),this.isOpen()&&(e.minDate&&(this._cRef.instance.minDate=this.minDate),e.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(e)))}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(e){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(i=>{void 0!==this[i]&&(e[i]=this[i])}),e.startDate=this.startDate||this._model}_applyPopupStyling(e){this._renderer.addClass(e,"dropdown-menu"),this._renderer.addClass(e,"show"),"body"===this.container&&this._renderer.addClass(e,"ngb-dp-body")}_subscribeForDatepickerOutputs(e){e.navigate.subscribe(i=>this.navigate.emit(i)),e.dateSelect.subscribe(i=>{this.dateSelect.emit(i),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(e){const i=this._parserFormatter.format(e);this._inputValue=i,this._renderer.setProperty(this._elRef.nativeElement,"value",i),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(e)),this._onTouched())}_fromDateStruct(e){const i=e?new ao(e.year,e.month,e.day):null;return this._calendar.isValid(i)?i:null}_updatePopupPosition(){if(!this._cRef)return;let e;if(e=XI(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!e)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");FD(e,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36($4),n.Y36(n.SBq),n.Y36(n.s_b),n.Y36(n.Qsj),n.Y36(n._Vd),n.Y36(n.R0b),n.Y36(ik),n.Y36(wL),n.Y36(ne),n.Y36(n.sBO),n.Y36(Q4))},r.\u0275dir=n.lG2({type:r,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(e,i){1&e&&n.NdJ("input",function(o){return i.manualDateChange(o.target.value)})("change",function(o){return i.manualDateChange(o.target.value,!0)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),2&e&&n.Ikx("disabled",i.disabled)},inputs:{disabled:"disabled",autoClose:"autoClose",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[n._Bn([Oye,Fye,{provide:CL,useExisting:Q4}]),n.TTD]}),r})(),Pye=(()=>{class r{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Iy))},r.\u0275cmp=n.Xpm({type:r,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(e,i){2&e&&n.ekj("bg-primary",i.selected)("text-white",i.selected)("text-muted",i.isMuted())("outside",i.isMuted())("active",i.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Oge,decls:1,vars:1,template:function(e,i){1&e&&n._uU(0),2&e&&n.Oqu(i.i18n.getDayNumerals(i.date))},styles:["[ngbDatepickerDayView]{background:transparent;border-radius:.25rem;height:2rem;line-height:2rem;text-align:center;width:2rem}[ngbDatepickerDayView].outside{opacity:.5}"],encapsulation:2,changeDetection:0}),r})(),Lye=(()=>{class r{constructor(e,i){this.i18n=e,this._renderer=i,this.select=new n.vpe,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new ao(this.date.year,Eo(e),1))}changeYear(e){this.select.emit(new ao(Eo(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Iy),n.Y36(n.Qsj))},r.\u0275cmp=n.Xpm({type:r,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(e,i){if(1&e&&(n.Gf(Fge,7,n.SBq),n.Gf(Pge,7,n.SBq)),2&e){let s;n.iGM(s=n.CRH())&&(i.monthSelect=s.first),n.iGM(s=n.CRH())&&(i.yearSelect=s.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let t,e,i,s;return t=$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,e=$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,i=$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,s=$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,[["aria-label",t,"title",e,1,"custom-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",i,"title",s,1,"custom-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(e,i){1&e&&(n.TgZ(0,"select",0,1),n.NdJ("change",function(o){return i.changeMonth(o.target.value)}),n.YNc(2,Lge,2,3,"option",2),n.qZA(),n.TgZ(3,"select",3,4),n.NdJ("change",function(o){return i.changeYear(o.target.value)}),n.YNc(5,Bge,2,2,"option",2),n.qZA()),2&e&&(n.Q6J("disabled",i.disabled),n.xp6(2),n.Q6J("ngForOf",i.months),n.xp6(1),n.Q6J("disabled",i.disabled),n.xp6(2),n.Q6J("ngForOf",i.years))},dependencies:[ln,MH,kH],styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;font-size:.875rem;height:1.85rem;padding:0 .5rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],encapsulation:2,changeDetection:0}),r})();new Date(1882,10,12),new Date(2174,10,25);let r5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn,ZH]}),r})(),l5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})(),c5=(()=>{class r{constructor(e){this.backdrop=!0,this.keyboard=!0,this.animation=e.animation}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(so))},r.\u0275prov=(0,n.Yz7)({factory:function(){return new r((0,n.LFG)(so))},token:r,providedIn:"root"}),r})();class Ny{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class AL{constructor(t,e,i,s,o,a,d){this._type=t,this._injector=e,this._viewContainerRef=i,this._renderer=s,this._ngZone=o,this._componentFactoryResolver=a,this._applicationRef=d,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes));const{nativeElement:s}=this._windowRef.location,a=this._ngZone.onStable.asObservable().pipe(tn(1)).pipe((0,Mi.zg)(()=>oo(s,({classList:d})=>d.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:a}}close(t=!1){return this._windowRef?oo(this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:t,runningTransition:"stop"}).pipe((0,bi.b)(()=>{var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),null!==(e=this._contentRef)&&void 0!==e&&e.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,Ve.of)(void 0)}_getContentRef(t,e){if(t){if(t instanceof n.Rgc){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new Ny([i.rootNodes],i)}return new Ny([[this._renderer.createText(`${t}`)]])}return new Ny([])}}const Jye=()=>{};let u5=(()=>{class r{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Jye}_adjustBody(e){const i=this._document.body,s=i.style.paddingRight,o=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${o+e}px`,()=>i.style["padding-right"]=s}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const s=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),s}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne))},r.\u0275prov=(0,n.Yz7)({factory:function(){return new r((0,n.LFG)(ne))},token:r,providedIn:"root"}),r})(),zye=(()=>{class r{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(tn(1)).subscribe(()=>{oo(this._el.nativeElement,({classList:e})=>e.add("show"),{animation:this.animation,runningTransition:"continue"})})}hide(){return oo(this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.R0b))},r.\u0275cmp=n.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(n.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),n.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),r})();class d5{close(t){}dismiss(t){}}class $ye{constructor(t,e,i,s){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new Fe.xQ,this._dismissed=new Fe.xQ,this._hidden=new Fe.xQ,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,a)=>{this._resolve=o,this._reject=a}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(We(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(We(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(i=>{!1!==i&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ve.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),QI(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var BD=(()=>(function(r){r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC"}(BD||(BD={})),BD))();let Qye=(()=>{class r{constructor(e,i,s){this._document=e,this._elRef=i,this._zone=s,this._closed$=new Fe.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new n.vpe,this.shown=new Fe.xQ,this.hidden=new Fe.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},a=QI(oo(e,()=>e.classList.remove("show"),i),oo(this._dialogEl.nativeElement,()=>{},i));return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"continue"};QI(oo(e,()=>e.classList.add("show"),i),oo(this._dialogEl.nativeElement,()=>{},i)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{_r(e,"keydown").pipe(We(this._closed$),Lt(s=>s.which===Ln.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(BD.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;_r(this._dialogEl.nativeElement,"mousedown").pipe(We(this._closed$),(0,bi.b)(()=>i=!1),kn(()=>_r(e,"mouseup").pipe(We(this._closed$),tn(1))),Lt(({target:s})=>e===s)).subscribe(()=>{i=!0}),_r(e,"click").pipe(We(this._closed$)).subscribe(({target:s})=>{e===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(BD.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),s=Y4(e)[0];(i||s||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let s;s=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&oo(this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(ne),n.Y36(n.SBq),n.Y36(n.R0b))},r.\u0275cmp=n.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&n.Gf(Uge,7),2&e){let s;n.iGM(s=n.CRH())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(n.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),n.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),n.ekj("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:XC,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(n.F$t(),n.TgZ(0,"div",0,1)(2,"div",2),n.Hsn(3),n.qZA()()),2&e&&n.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{-ms-flex-direction:column;display:-ms-flexbox;display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),r})(),h5=(()=>{class r{constructor(e,i,s,o,a,d){this._applicationRef=e,this._injector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=d,this._activeWindowCmptHasChanged=new Fe.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new n.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];J4(this._ngZone,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}open(e,i,s,o){const a=o.container instanceof HTMLElement?o.container:ig(o.container)?this._document.querySelector(o.container):this._document.body,d=this._rendererFactory.createRenderer(null,null),f=this._scrollBar.compensate(),g=()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!a)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);const b=new d5,T=this._getContentRef(e,o.injector||i,s,b,o);let E=!1!==o.backdrop?this._attachBackdrop(e,a):void 0,R=this._attachWindowComponent(e,a,T),L=new $ye(R,T,E,o.beforeDismiss);return this._registerModalRef(L),this._registerWindowCmpt(R),L.result.then(f,f),L.result.then(g,g),b.close=Y=>{L.close(Y)},b.dismiss=Y=>{L.dismiss(Y)},this._applyWindowOptions(R.instance,o),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),E&&E.instance&&this._applyBackdropOptions(E.instance,o),L}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let o=e.resolveComponentFactory(zye).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,i,s){let a=e.resolveComponentFactory(Qye).create(this._injector,s.nodes);return this._applicationRef.attachView(a.hostView),i.appendChild(a.location.nativeElement),a}_applyWindowOptions(e,i){this._windowAttributes.forEach(s=>{ig(i[s])&&(e[s]=i[s])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(s=>{ig(i[s])&&(e[s]=i[s])})}_getContentRef(e,i,s,o,a){return s?s instanceof n.Rgc?this._createFromTemplateRef(s,o):XI(s)?this._createFromString(s):this._createFromComponent(e,i,s,o,a):new Ny([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(a){i.close(a)},dismiss(a){i.dismiss(a)}});return this._applicationRef.attachView(o),new Ny([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Ny([[i]])}_createFromComponent(e,i,s,o,a){const d=e.resolveComponentFactory(s),f=n.zs3.create({providers:[{provide:d5,useValue:o}],parent:i}),g=d.create(f),b=g.location.nativeElement;return a.scrollable&&b.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new Ny([[b]],g.hostView,g)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==e&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const s=this._modalRefs.indexOf(e);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(n.z2F),n.LFG(n.zs3),n.LFG(ne),n.LFG(u5),n.LFG(n.FYo),n.LFG(n.R0b))},r.\u0275prov=(0,n.Yz7)({factory:function(){return new r((0,n.LFG)(n.z2F),(0,n.LFG)(n.gxx),(0,n.LFG)(ne),(0,n.LFG)(u5),(0,n.LFG)(n.FYo),(0,n.LFG)(n.R0b))},token:r,providedIn:"root"}),r})(),Wye=(()=>{class r{constructor(e,i,s,o){this._moduleCFR=e,this._injector=i,this._modalStack=s,this._config=o}open(e,i={}){const s=Object.assign({},this._config,i);return this._modalStack.open(this._moduleCFR,this._injector,e,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(n._Vd),n.LFG(n.zs3),n.LFG(h5),n.LFG(c5))},r.\u0275prov=(0,n.Yz7)({factory:function(){return new r((0,n.LFG)(n._Vd),(0,n.LFG)(n.gxx),(0,n.LFG)(h5),(0,n.LFG)(c5))},token:r,providedIn:"root"}),r})(),f5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[Wye]}),r})(),_5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn]}),r})(),D5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn]}),r})(),A5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn]}),r})(),E5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn]}),r})(),fbe=(()=>{class r{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const pbe={provide:Ms,useExisting:(0,n.Gpc)(()=>mbe),multi:!0};let mbe=(()=>{class r{constructor(e,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new n.vpe,this.leave=new n.vpe,this.rateChange=new n.vpe(!0),this.onChange=s=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(e){this.isInteractive()&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.isInteractive()&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case Ln.ArrowDown:case Ln.ArrowLeft:this.update(this.rate-1);break;case Ln.ArrowUp:case Ln.ArrowRight:this.update(this.rate+1);break;case Ln.Home:this.update(0);break;case Ln.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(e,i)=>({fill:0,index:i})),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,i=!0){const s=KI(e,this.max,0);this.isInteractive()&&this.rate!==s&&(this.rate=s,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_updateState(e){this.nextRate=e,this.contexts.forEach((i,s)=>i.fill=Math.round(100*KI(e-s,1,0)))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(fbe),n.Y36(n.sBO))},r.\u0275cmp=n.Xpm({type:r,selectors:[["ngb-rating"]],contentQueries:function(e,i,s){if(1&e&&n.Suo(s,n.Rgc,5),2&e){let o;n.iGM(o=n.CRH())&&(i.starTemplateFromContent=o.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,i){1&e&&n.NdJ("blur",function(){return i.handleBlur()})("keydown",function(o){return i.handleKeyDown(o)})("mouseleave",function(){return i.reset()}),2&e&&(n.Ikx("tabindex",i.disabled?-1:0),n.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[n._Bn([pbe]),n.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(n.YNc(0,y_e,1,1,"ng-template",null,0,n.W1O),n.YNc(2,v_e,4,5,"ng-template",1)),2&e&&(n.xp6(2),n.Q6J("ngForOf",i.contexts))},dependencies:[ln,_s],encapsulation:2,changeDetection:0}),r})(),M5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn]}),r})();class I5{constructor(t,e,i){this.hour=Eo(t),this.minute=Eo(e),this.second=Eo(i)}changeHour(t=1){this.updateHour((isNaN(this.hour)?0:this.hour)+t)}updateHour(t){this.hour=Qr(t)?(t<0?24+t:t)%24:NaN}changeMinute(t=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+t)}updateMinute(t){Qr(t)?(this.minute=t%60<0?60+t%60:t%60,this.changeHour(Math.floor(t/60))):this.minute=NaN}changeSecond(t=1){this.updateSecond((isNaN(this.second)?0:this.second)+t)}updateSecond(t){Qr(t)?(this.second=t<0?60+t%60:t%60,this.changeMinute(Math.floor(t/60))):this.second=NaN}isValid(t=!0){return Qr(this.hour)&&Qr(this.minute)&&(!t||Qr(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let gbe=(()=>{class r{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();function _be(){return new ybe}let k5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:_be,token:r,providedIn:"root"}),r})(),ybe=(()=>{class r extends k5{fromModel(e){return e&&Br(e.hour)&&Br(e.minute)?{hour:e.hour,minute:e.minute,second:Br(e.second)?e.second:null}:null}toModel(e){return e&&Br(e.hour)&&Br(e.minute)?{hour:e.hour,minute:e.minute,second:Br(e.second)?e.second:null}:null}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(r)))(i||r)}}(),r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})(),R5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:function(){return function bbe(r){return new vbe(r)}((0,n.LFG)(n.soG))},token:r,providedIn:"root"}),r})(),vbe=(()=>{class r extends R5{constructor(e){super(),this._periods=Ko(e,pn.Standalone,xt.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(n.soG))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac}),r})();const Cbe=/[^0-9]/g,wbe={provide:Ms,useExisting:(0,n.Gpc)(()=>Tbe),multi:!0};let Tbe=(()=>{class r{constructor(e,i,s,o){this._config=e,this._ngbTimeAdapter=i,this._cd=s,this.i18n=o,this.onChange=a=>{},this.onTouched=()=>{},this.meridian=e.meridian,this.spinners=e.spinners,this.seconds=e.seconds,this.hourStep=e.hourStep,this.minuteStep=e.minuteStep,this.secondStep=e.secondStep,this.disabled=e.disabled,this.readonlyInputs=e.readonlyInputs,this.size=e.size}set hourStep(e){this._hourStep=Br(e)?e:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(e){this._minuteStep=Br(e)?e:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(e){this._secondStep=Br(e)?e:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(e){const i=this._ngbTimeAdapter.fromModel(e);this.model=i?new I5(i.hour,i.minute,i.second):new I5,!this.seconds&&(!i||!Qr(i.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}changeHour(e){this.model.changeHour(e),this.propagateModelChange()}changeMinute(e){this.model.changeMinute(e),this.propagateModelChange()}changeSecond(e){this.model.changeSecond(e),this.propagateModelChange()}updateHour(e){const i=this.model.hour>=12,s=Eo(e);this.model.updateHour(this.meridian&&(i&&s<12||!i&&12===s)?s+12:s),this.propagateModelChange()}updateMinute(e){this.model.updateMinute(Eo(e)),this.propagateModelChange()}updateSecond(e){this.model.updateSecond(Eo(e)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(e){e.value=e.value.replace(Cbe,"")}formatHour(e){return Qr(e)?e0(this.meridian?e%12==0?12:e%12:e%24):e0(NaN)}formatMinSec(e){return e0(Qr(e)?e:NaN)}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(e){e.seconds&&!this.seconds&&this.model&&!Qr(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(e=!0){e&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(gbe),n.Y36(k5),n.Y36(n.sBO),n.Y36(R5))},r.\u0275cmp=n.Xpm({type:r,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[n._Bn([wbe]),n.TTD],decls:16,vars:25,consts:function(){let t,e,i,s,o,a,d,f,g,b,T,E,R,L;return t=$localize`:@@ngb.timepicker.HHce676ab1d6d98f85c836381cf100a4a91ef95a1f4043638465245303811:HH`,e=$localize`:@@ngb.timepicker.hours3bbce5fef7e1151da052a4e529453edb340e39128070396816726827304:Hours`,i=$localize`:@@ngb.timepicker.MM72c8edf6a50068a05bde70991e36b1e881f4ca541647282246509919852:MM`,s=$localize`:@@ngb.timepicker.minutes41e62daa962947c0d23ded0981975d1bddf0bf385531237363767747080:Minutes`,o=$localize`:@@ngb.timepicker.increment-hourscb74bc1d625a6c1742f0d7d47306cf495780c2185939278348542933629:Increment hours`,a=$localize`:@@ngb.timepicker.decrement-hours147c7a19429da7d999e247d22e33fee370b1691b3651829882940481818:Decrement hours`,d=$localize`:@@ngb.timepicker.increment-minutesf5a4a3bc05e053f6732475d0e74875ec01c3a348180147720391025024:Increment minutes`,f=$localize`:@@ngb.timepicker.decrement-minutesc1a6899e529c096da5b660385d4e77fe1f7ad2717447789825403243588:Decrement minutes`,g=$localize`:@@ngb.timepicker.SSebe38d36a40a2383c5fefa9b4608ffbda08bd4a33628127143071124194:SS`,b=$localize`:@@ngb.timepicker.seconds4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c8874012390997067175:Seconds`,T=$localize`:@@ngb.timepicker.increment-seconds912322ecee7d659d04dcf494a70e22e49d334b265364772110539092174:Increment seconds`,E=$localize`:@@ngb.timepicker.decrement-seconds5db47ac104294243a70eb9124fbea9d0004ddf69753633511487974857:Decrement seconds`,R=$localize`:@@ngb.timepicker.PM8d6e691e10306c1b34c6b26805151aaea320ef7f3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,L=$localize`:@@ngb.timepicker.AM69a1f176a93998876952adac57c3bc3863b6105e4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",t,"aria-label",e,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",i,"aria-label",s,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],o,[1,"chevron","ngb-tp-chevron","bottom"],a,d,f,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",g,"aria-label",b,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown"],T,E,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],R,L]},template:function(e,i){1&e&&(n.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),n.YNc(3,C_e,4,7,"button",3),n.TgZ(4,"input",4),n.NdJ("change",function(o){return i.updateHour(o.target.value)})("input",function(o){return i.formatInput(o.target)})("keydown.ArrowUp",function(o){return i.changeHour(i.hourStep),o.preventDefault()})("keydown.ArrowDown",function(o){return i.changeHour(-i.hourStep),o.preventDefault()}),n.qZA(),n.YNc(5,w_e,4,7,"button",3),n.qZA(),n.TgZ(6,"div",5),n._uU(7,":"),n.qZA(),n.TgZ(8,"div",6),n.YNc(9,T_e,4,7,"button",3),n.TgZ(10,"input",7),n.NdJ("change",function(o){return i.updateMinute(o.target.value)})("input",function(o){return i.formatInput(o.target)})("keydown.ArrowUp",function(o){return i.changeMinute(i.minuteStep),o.preventDefault()})("keydown.ArrowDown",function(o){return i.changeMinute(-i.minuteStep),o.preventDefault()}),n.qZA(),n.YNc(11,D_e,4,7,"button",3),n.qZA(),n.YNc(12,x_e,2,0,"div",8),n.YNc(13,E_e,4,9,"div",9),n.YNc(14,M_e,1,0,"div",8),n.YNc(15,R_e,5,9,"div",10),n.qZA()()),2&e&&(n.ekj("disabled",i.disabled),n.Q6J("disabled",i.disabled),n.xp6(3),n.Q6J("ngIf",i.spinners),n.xp6(1),n.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),n.Q6J("value",i.formatHour(null==i.model?null:i.model.hour))("readOnly",i.readonlyInputs)("disabled",i.disabled),n.xp6(1),n.Q6J("ngIf",i.spinners),n.xp6(4),n.Q6J("ngIf",i.spinners),n.xp6(1),n.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),n.Q6J("value",i.formatMinSec(null==i.model?null:i.model.minute))("readOnly",i.readonlyInputs)("disabled",i.disabled),n.xp6(1),n.Q6J("ngIf",i.spinners),n.xp6(1),n.Q6J("ngIf",i.seconds),n.xp6(1),n.Q6J("ngIf",i.seconds),n.xp6(1),n.Q6J("ngIf",i.meridian),n.xp6(1),n.Q6J("ngIf",i.meridian))},dependencies:[ke],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{-webkit-transform:rotate(-45deg);border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{-webkit-transform:rotate(135deg);top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-meridian,.ngb-tp-minute,.ngb-tp-second{-ms-flex-align:center;-ms-flex-direction:column;-ms-flex-pack:distribute;align-items:center;display:-ms-flexbox;display:flex;flex-direction:column;justify-content:space-around}.ngb-tp-spacer{text-align:center;width:1em}'],encapsulation:2}),r})(),N5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn]}),r})(),O5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn]}),r})(),F5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})(),kbe=(()=>{class r{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(e){const i=ND(this.result),o=(Array.isArray(this.term)?this.term:[this.term]).map(a=>function H_e(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(ND(a))).filter(a=>a);this.parts=o.length?i.split(new RegExp(`(${o.join("|")})`,"gmi")):[i]}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term"},features:[n.TTD],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(e,i){1&e&&n.YNc(0,B_e,3,2,"ng-template",0),2&e&&n.Q6J("ngForOf",i.parts)},dependencies:[ln,ke],styles:[".ngb-highlight{font-weight:700}"],encapsulation:2,changeDetection:0}),r})(),Rbe=(()=>{class r{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=ND,this.selectEvent=new n.vpe,this.activeChangeEvent=new n.vpe}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox",1,"dropdown-menu","show"],hostVars:1,hostBindings:function(e,i){1&e&&n.NdJ("mousedown",function(o){return o.preventDefault()}),2&e&&n.Ikx("id",i.id)},inputs:{focusFirst:"focusFirst",formatter:"formatter",id:"id",results:"results",term:"term",resultTemplate:"resultTemplate"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"id","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(n.YNc(0,U_e,1,2,"ng-template",null,0,n.W1O),n.YNc(2,j_e,2,9,"ng-template",1)),2&e&&(n.xp6(2),n.Q6J("ngForOf",i.results))},dependencies:[ln,_s,kbe],encapsulation:2}),r})();const P5=new n.OlP("live announcer delay",{providedIn:"root",factory:function Nbe(){return 100}});function L5(r,t=!1){let e=r.body.querySelector("#ngb-live");return null==e&&t&&(e=r.createElement("div"),e.setAttribute("id","ngb-live"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.classList.add("sr-only"),r.body.appendChild(e)),e}let Obe=(()=>{class r{constructor(e,i){this._document=e,this._delay=i}ngOnDestroy(){const e=L5(this._document);e&&e.parentElement.removeChild(e)}say(e){const i=L5(this._document,!0),s=this._delay;if(null!=i){i.textContent="";const o=()=>i.textContent=e;null===s?o():setTimeout(o,s)}}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(ne),n.LFG(P5))},r.\u0275prov=(0,n.Yz7)({factory:function(){return new r((0,n.LFG)(ne),(0,n.LFG)(P5))},token:r,providedIn:"root"}),r})(),Fbe=(()=>{class r{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=(0,n.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Pbe={provide:Ms,useExisting:(0,n.Gpc)(()=>Bbe),multi:!0};let Lbe=0,Bbe=(()=>{class r{constructor(e,i,s,o,a,d,f,g,b,T,E,R){this._elementRef=e,this._renderer=s,this._live=g,this._document=b,this._ngZone=T,this._changeDetector=E,this._subscription=null,this._closed$=new Fe.xQ,this._inputValueBackup=null,this._windowRef=null,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new n.vpe,this.activeDescendant=null,this.popupId="ngb-typeahead-"+Lbe++,this._onTouched=()=>{},this._onChange=L=>{},this.container=d.container,this.editable=d.editable,this.focusFirst=d.focusFirst,this.showHint=d.showHint,this.placement=d.placement,this._valueChanges=_r(e.nativeElement,"input").pipe((0,Je.U)(L=>L.target.value)),this._resubscribeTypeahead=new li(null),this._popupService=new AL(Rbe,o,i,s,this._ngZone,a,R),this._zoneSubscription=f.onStable.subscribe(()=>{this.isPopupOpen()&&FD(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}ngOnInit(){const i=this._valueChanges.pipe((0,bi.b)(o=>{this._inputValueBackup=this.showHint?o:null,this._onChange(this.editable?o:void 0)})).pipe(this.ngbTypeahead),s=this._resubscribeTypeahead.pipe(kn(()=>i));this._subscription=this._subscribeToUserInput(s)}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){this._writeInputValue(this._formatItemForInput(e)),this.showHint&&(this._inputValueBackup=e)}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(e){if(this.isPopupOpen())switch(e.which){case Ln.ArrowDown:e.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Ln.ArrowUp:e.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Ln.Enter:case Ln.Tab:const i=this._windowRef.instance.getActive();ig(i)&&(e.preventDefault(),e.stopPropagation(),this._selectResult(i)),this._closePopup()}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:e}=this._popupService.open();this._windowRef=e,this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(i=>this._selectResultClosePopup(i)),this._windowRef.instance.activeChangeEvent.subscribe(i=>this.activeDescendant=i),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),OD(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(e){let i=!1;this.selectItem.emit({item:e,preventDefault:()=>{i=!0}}),this._resubscribeTypeahead.next(null),i||(this.writeValue(e),this._onChange(e))}_selectResultClosePopup(e){this._selectResult(e),this._closePopup()}_showHint(){var e;if(this.showHint&&(null===(e=this._windowRef)||void 0===e?void 0:e.instance.hasActive())&&null!=this._inputValueBackup){const i=this._inputValueBackup.toLowerCase(),s=this._formatItemForInput(this._windowRef.instance.getActive());i===s.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+s.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,s.length])):this._writeInputValue(s)}}_formatItemForInput(e){return null!=e&&this.inputFormatter?this.inputFormatter(e):ND(e)}_writeInputValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",ND(e))}_subscribeToUserInput(e){return e.subscribe(i=>{i&&0!==i.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=i,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const s=i?i.length:0;this._live.say(0===s?"No results available":`${s} result${1===s?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(n.SBq),n.Y36(n.s_b),n.Y36(n.Qsj),n.Y36(n.zs3),n.Y36(n._Vd),n.Y36(Fbe),n.Y36(n.R0b),n.Y36(Obe),n.Y36(ne),n.Y36(n.R0b),n.Y36(n.sBO),n.Y36(n.z2F))},r.\u0275dir=n.lG2({type:r,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(e,i){1&e&&n.NdJ("blur",function(){return i.handleBlur()})("keydown",function(o){return i.handleKeyDown(o)}),2&e&&(n.Ikx("autocomplete",i.autocomplete),n.uIk("aria-autocomplete",i.showHint?"both":"list")("aria-activedescendant",i.activeDescendant)("aria-owns",i.isPopupOpen()?i.popupId:null)("aria-expanded",i.isPopupOpen()),n.ekj("open",i.isPopupOpen()))},inputs:{autocomplete:"autocomplete",placement:"placement",container:"container",editable:"editable",focusFirst:"focusFirst",showHint:"showHint",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[n._Bn([Pbe])]}),r})(),B5=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Yn]}),r})();const Ube=[N4,O4,P4,V4,Z4,r5,l5,f5,_5,D5,A5,E5,M5,N5,O5,F5,B5];let Vbe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[Ube,N4,O4,P4,V4,Z4,r5,l5,f5,_5,D5,A5,E5,M5,N5,O5,F5,B5]}),r})();class jbe{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Hbe(t,this.predicate))}}class Hbe extends er.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}const U5="@firebase/database";let kL="";function Z5(r){kL=r}class qbe{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Z.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Z.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Gbe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Z.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const j5=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new qbe(t)}}catch{}return new Gbe},Oy=j5("localStorage"),RL=j5("sessionStorage"),s0=new dc.Yd("@firebase/database"),H5=function(){let r=1;return function(){return r++}}(),q5=function(r){const t=(0,Z.dS)(r),e=new Z.gQ;e.update(t);const i=e.digest();return Z.US.encodeByteArray(i)},UD=function(...r){let t="";for(let e=0;e<r.length;e++){const i=r[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=UD.apply(null,i):t+="object"==typeof i?(0,Z.Wl)(i):i,t+=" "}return t};let Fy=null,G5=!0;const Y5=function(r,t){(0,Z.hu)(!t||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(s0.logLevel=dc.in.VERBOSE,Fy=s0.log.bind(s0),t&&RL.set("logging_enabled",!0)):"function"==typeof r?Fy=r:(Fy=null,RL.remove("logging_enabled"))},lo=function(...r){if(!0===G5&&(G5=!1,null===Fy&&!0===RL.get("logging_enabled")&&Y5(!0)),Fy){const t=UD.apply(null,r);Fy(t)}},VD=function(r){return function(...t){lo(r,...t)}},NL=function(...r){const t="FIREBASE INTERNAL ERROR: "+UD(...r);s0.error(t)},ih=function(...r){const t=`FIREBASE FATAL ERROR: ${UD(...r)}`;throw s0.error(t),new Error(t)},Jo=function(...r){const t="FIREBASE WARNING: "+UD(...r);s0.warn(t)},dk=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},sg="[MIN_NAME]",ep="[MAX_NAME]",Py=function(r,t){if(r===t)return 0;if(r===sg||t===ep)return-1;if(t===sg||r===ep)return 1;{const e=$5(r),i=$5(t);return null!==e?null!==i?e-i==0?r.length-t.length:e-i:-1:null!==i?1:r<t?-1:1}},zbe=function(r,t){return r===t?0:r<t?-1:1},ZD=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+(0,Z.Wl)(t))},OL=function(r){if("object"!=typeof r||null===r)return(0,Z.Wl)(r);const t=[];for(const i in r)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,Z.Wl)(t[i]),e+=":",e+=OL(r[t[i]]);return e+="}",e},J5=function(r,t){const e=r.length;if(e<=t)return[r];const i=[];for(let s=0;s<e;s+=t)i.push(r.substring(s,s+t>e?e:s+t));return i};function co(r,t){for(const e in r)r.hasOwnProperty(e)&&t(e,r[e])}const z5=function(r){(0,Z.hu)(!dk(r),"Invalid JSON number");const i=1023;let s,o,a,d,f;0===r?(o=0,a=0,s=1/r==-1/0?1:0):(s=r<0,(r=Math.abs(r))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(r)/Math.LN2),i),o=d+i,a=Math.round(r*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,a=Math.round(r/Math.pow(2,-1074))));const g=[];for(f=52;f;f-=1)g.push(a%2?1:0),a=Math.floor(a/2);for(f=11;f;f-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(s?1:0),g.reverse();const b=g.join("");let T="";for(f=0;f<64;f+=8){let E=parseInt(b.substr(f,8),2).toString(16);1===E.length&&(E="0"+E),T+=E}return T.toLowerCase()},Kbe=new RegExp("^-?(0*)\\d{1,10}$"),$5=function(r){if(Kbe.test(r)){const t=Number(r);if(t>=-2147483648&&t<=2147483647)return t}return null},o0=function(r){try{r()}catch(t){setTimeout(()=>{throw Jo("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},jD=function(r,t){const e=setTimeout(r,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class nve{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Jo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ive{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(lo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jo(t)}}let HD=(()=>{class r{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return r.OWNER="owner",r})();const e8=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,i8="websocket",r8="long_polling";class PL{constructor(t,e,i,s,o=!1,a="",d=!1,f=!1){this.secure=e,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oy.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Oy.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function s8(r,t,e){let i;if((0,Z.hu)("string"==typeof t,"typeof type must == string"),(0,Z.hu)("object"==typeof e,"typeof params must == object"),t===i8)i=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(t!==r8)throw new Error("Unknown connection type: "+t);i=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function rve(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(e.ns=r.namespace);const s=[];return co(e,(o,a)=>{s.push(o+"="+a)}),i+s.join("&")}class sve{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Z.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Z.p$)(this.counters_)}}const LL={},BL={};function UL(r){const t=r.toString();return LL[t]||(LL[t]=new sve),LL[t]}class ave{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&o0(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class og{constructor(t,e,i,s,o,a,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.transportSessionId=a,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=VD(t),this.stats_=UL(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),s8(e,r8,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ave(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,Z.Yr)()||"complete"===document.readyState)r();else{let t=!1;const e=function(){document.body?t||(t=!0,r()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VL((...o)=>{const[a,d,f,g,b]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=d,this.password=f;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[a,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&e8.test(location.hostname)&&(i.r="f");const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){og.forceAllow_=!0}static forceDisallow(){og.forceDisallow_=!0}static isAvailable(){return!((0,Z.Yr)()||!og.forceAllow_&&(og.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Z.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,Z.h$)(e),s=J5(i,1840);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Z.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Z.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class VL{constructor(t,e,i,s){if(this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Z.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=H5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=VL.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(d){lo("frame writing exception"),d.stack&&lo(d.stack),lo(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||lo("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+s+"="+a.seg+"&ts"+s+"="+a.ts+"&d"+s+"="+a.d,s++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},s=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(s),i()})}addTag(t,e){(0,Z.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||"loaded"===s||"complete"===s)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{lo("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let fk=null;typeof MozWebSocket<"u"?fk=MozWebSocket:typeof WebSocket<"u"&&(fk=WebSocket);let a0=(()=>{class r{constructor(e,i,s,o,a,d,f){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=VD(this.connId),this.stats_=UL(i),this.connURL=r.connectionURL_(i,d,f,o,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,o,a){const d={v:"5"};return!(0,Z.Yr)()&&typeof location<"u"&&location.hostname&&e8.test(location.hostname)&&(d.r="f"),i&&(d.s=i),s&&(d.ls=s),o&&(d.ac=o),a&&(d.p=a),s8(e,i8,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oy.set("previous_websocket_failure",!0);try{let s;if((0,Z.Yr)()){s={headers:{"User-Agent":`Firebase/5/${kL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(s.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,d=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;d&&(s.proxy={origin:d})}this.mySock=new fk(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&null!==fk&&!r.forceDisallow_}static previouslyFailed(){return Oy.isInMemoryStorage||!0===Oy.get("previous_websocket_failure")}markConnectionHealthy(){Oy.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=(0,Z.cI)(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Z.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);null!==s&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=(0,Z.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=J5(i,16384);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})(),h8=(()=>{class r{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[og,a0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=a0&&a0.isAvailable();let s=i&&!a0.previouslyFailed();if(e.webSocketOnly&&(i||Jo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[a0];else{const o=this.transports_=[];for(const a of r.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return r.globalTransportInitialized_=!1,r})();class b8{constructor(t,e,i,s,o,a,d,f,g,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=a,this.onReady_=d,this.onDisconnect_=f,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=VD("c:"+this.id+":"),this.transportManager_=new h8(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=jD(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=ZD("t",t),i=ZD("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=ZD("t",t),i=ZD("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=ZD("t",t);if("d"in t){const i=t.d;if("h"===e){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?NL("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):NL("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Jo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),jD(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jD(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class v8{put(t,e,i,s){}merge(t,e,i,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class C8{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Z.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const s=this.getInitialEvent(t);s&&e.apply(i,s)}off(t,e,i){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let o=0;o<s.length;o++)if(s[o].callback===e&&(!i||i===s[o].context))return void s.splice(o,1)}validateEventType_(t){(0,Z.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class pk extends C8{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Z.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pk}getInitialEvent(t){return(0,Z.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Ci{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function oi(){return new Ci("")}function Bn(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function ag(r){return r.pieces_.length-r.pieceNum_}function $i(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new Ci(r.pieces_,t)}function jL(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function qD(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function D8(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let e=r.pieceNum_;e<r.pieces_.length-1;e++)t.push(r.pieces_[e]);return new Ci(t,0)}function Mr(r,t){const e=[];for(let i=r.pieceNum_;i<r.pieces_.length;i++)e.push(r.pieces_[i]);if(t instanceof Ci)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&e.push(i[s])}return new Ci(e,0)}function Un(r){return r.pieceNum_>=r.pieces_.length}function _a(r,t){const e=Bn(r),i=Bn(t);if(null===e)return t;if(e===i)return _a($i(r),$i(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function Mve(r,t){const e=qD(r,0),i=qD(t,0);for(let s=0;s<e.length&&s<i.length;s++){const o=Py(e[s],i[s]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function HL(r,t){if(ag(r)!==ag(t))return!1;for(let e=r.pieceNum_,i=t.pieceNum_;e<=r.pieces_.length;e++,i++)if(r.pieces_[e]!==t.pieces_[i])return!1;return!0}function Tc(r,t){let e=r.pieceNum_,i=t.pieceNum_;if(ag(r)>ag(t))return!1;for(;e<r.pieces_.length;){if(r.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Ive{constructor(t,e){this.errorPrefix_=e,this.parts_=qD(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,Z.ug)(this.parts_[i]);x8(this)}}function x8(r){if(r.byteLength_>768)throw new Error(r.errorPrefix_+"has a key path longer than 768 bytes ("+r.byteLength_+").");if(r.parts_.length>32)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ly(r))}function Ly(r){return 0===r.parts_.length?"":"in property '"+r.parts_.join(".")+"'"}class qL extends C8{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new qL}getInitialEvent(t){return(0,Z.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const GD=1e3;let gk,By=(()=>{class r extends v8{constructor(e,i,s,o,a,d,f,g){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=g,this.id=r.nextPersistentConnectionId_++,this.log_=VD("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=GD,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!(0,Z.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qL.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&pk.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const o=++this.requestNumber_,a={r:o,a:e,b:i};this.log_((0,Z.Wl)(a)),(0,Z.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const i=new Z.BH,s={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:s,onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,s,o){this.initConnection_();const a=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+a),this.listens.has(d)||this.listens.set(d,new Map),(0,Z.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Z.hu)(!this.listens.get(d).has(a),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:i,query:e,tag:s};this.listens.get(d).set(a,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+s+" for "+o);const a={p:s};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,f=>{const g=f.d,b=f.s;r.warnOnListenWarnings_(g,i),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",f),"ok"!==b&&this.removeListen_(s,o),e.onComplete&&e.onComplete(b,g))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,Z.r3)(e,"w")){const s=(0,Z.DV)(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();Jo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Z.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,Z.w9)(e)?"auth":"gauth",s={cred:e};null===this.authOverride_?s.noauth=!0:"object"==typeof this.authOverride_&&(s.authvar=this.authOverride_),this.sendRequest(i,s,o=>{const a=o.s,d=o.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),(0,Z.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,i)}sendUnlisten_(e,i,s,o){this.log_("Unlisten on "+e+" for "+i);const a={p:e};o&&(a.q=s,a.t=o),this.sendRequest("n",a)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,o){const a={p:i,d:s};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,i,s,o){this.putInternal("p",e,i,s,o)}merge(e,i,s,o){this.putInternal("m",e,i,s,o)}putInternal(e,i,s,o,a){this.initConnection_();const d={p:i,d:s};void 0!==a&&(d.h=a),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{"ok"!==s.s&&this.log_("reportStats","Error sending stats: "+s.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Z.Wl)(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):NL("Unrecognized action received from server: "+(0,Z.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Z.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=GD,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=GD,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=GD),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,we.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),s=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+r.nextConnectionId_++,d=e.lastSessionId;let f=!1,g=null;const b=function(){g?g.close():(f=!0,o())};e.realtime_={close:b,sendRequest:function(R){(0,Z.hu)(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(R)}};const E=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[R,L]=yield Promise.all([e.authTokenProvider_.getToken(E),e.appCheckTokenProvider_.getToken(E)]);f?lo("getToken() completed but was canceled"):(lo("getToken() completed. Creating connection."),e.authToken_=R&&R.accessToken,e.appCheckToken_=L&&L.token,g=new b8(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,s,o,Y=>{Jo(Y+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(R){e.log_("Failed to get token: "+R),f||(e.repoInfo_.nodeAdmin&&Jo(R),b())}}})()}interrupt(e){lo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Z.xb)(this.interruptReasons_)&&(this.reconnectDelay_=GD,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;s=i?i.map(a=>OL(a)).join("$"):"default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const s=new Ci(e).toString();let o;if(this.listens.has(s)){const a=this.listens.get(s);o=a.get(i),a.delete(i),0===a.size&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,i){lo("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){lo("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,Z.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+kL.replace(/\./g,"-")]=1,(0,Z.uI)()?e["framework.cordova"]=1:(0,Z.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pk.getInstance().currentlyOnline();return(0,Z.xb)(this.interruptReasons_)&&e}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class Zn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Zn(t,e)}}class mk{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Zn(sg,t),s=new Zn(sg,e);return 0!==this.compare(i,s)}minPost(){return Zn.MIN}}class E8 extends mk{static get __EMPTY_NODE(){return gk}static set __EMPTY_NODE(t){gk=t}compare(t,e){return Py(t.name,e.name)}isDefinedOn(t){throw(0,Z.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Zn.MIN}maxPost(){return new Zn(ep,gk)}makePost(t,e){return(0,Z.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Zn(t,gk)}toString(){return".key"}}const rh=new E8;class _k{constructor(t,e,i,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,s&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let YL,Eu=(()=>{class r{constructor(e,i,s,o,a){this.key=e,this.value=i,this.color=s??r.RED,this.left=o??Va.EMPTY_NODE,this.right=a??Va.EMPTY_NODE}copy(e,i,s,o,a){return new r(e??this.key,i??this.value,s??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,i,s),null):0===a?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Va.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,o;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),0===i(e,s.key)){if(s.right.isEmpty())return Va.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class Va{constructor(t,e=Va.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Va(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Eu.BLACK,null,null))}remove(t){return new Va(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Eu.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,s=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(s=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _k(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new _k(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new _k(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new _k(this.root_,null,this.comparator_,!0,t)}}function Bve(r,t){return Py(r.name,t.name)}function GL(r,t){return Py(r,t)}Va.EMPTY_NODE=new class Lve{copy(t,e,i,s,o){return this}insert(t,e,i){return new Eu(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const M8=function(r){return"number"==typeof r?"number:"+z5(r):"string:"+r},I8=function(r){if(r.isLeafNode()){const t=r.val();(0,Z.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Z.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Z.hu)(r===YL||r.isEmpty(),"priority of unexpected type.");(0,Z.hu)(r===YL||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let k8,R8,N8,l0=(()=>{class r{constructor(e,i=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,Z.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),I8(this.priorityNode_)}static set __childrenNodeConstructor(e){k8=e}static get __childrenNodeConstructor(){return k8}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new r(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Un(e)?this:".priority"===Bn(e)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=Bn(e);return null===s?i:i.isEmpty()&&".priority"!==s?this:((0,Z.hu)(".priority"!==s||1===ag(e),".priority must be the last token in a path"),this.updateImmediateChild(s,r.__childrenNodeConstructor.EMPTY_NODE.updateChild($i(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+M8(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?z5(this.value_):this.value_,this.lazyHash_=q5(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof r.__childrenNodeConstructor?-1:((0,Z.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,o=r.VALUE_TYPE_ORDER.indexOf(i),a=r.VALUE_TYPE_ORDER.indexOf(s);return(0,Z.hu)(o>=0,"Unknown leaf type: "+i),(0,Z.hu)(a>=0,"Unknown leaf type: "+s),o===a?"object"===s?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();const sr=new class jve extends mk{compare(t,e){const i=t.node.getPriority(),s=e.node.getPriority(),o=i.compareTo(s);return 0===o?Py(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Zn.MIN}maxPost(){return new Zn(ep,new l0("[PRIORITY-POST]",N8))}makePost(t,e){const i=R8(t);return new Zn(e,new l0("[PRIORITY-POST]",i))}toString(){return".priority"}},Hve=Math.log(2);class qve{constructor(t){this.count=parseInt(Math.log(t+1)/Hve,10),this.current_=this.count-1;const s=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const yk=function(r,t,e,i){r.sort(t);const s=function(f,g){const b=g-f;let T,E;if(0===b)return null;if(1===b)return T=r[f],E=e?e(T):T,new Eu(E,T.node,Eu.BLACK,null,null);{const R=parseInt(b/2,10)+f,L=s(f,R),Y=s(R+1,g);return T=r[R],E=e?e(T):T,new Eu(E,T.node,Eu.BLACK,L,Y)}},d=function(f){let g=null,b=null,T=r.length;const E=function(L,Y){const W=T-L,ve=T;T-=L;const Ze=s(W+1,ve),He=r[W],ze=e?e(He):He;R(new Eu(ze,He.node,Y,null,Ze))},R=function(L){g?(g.left=L,g=L):(b=L,g=L)};for(let L=0;L<f.count;++L){const Y=f.nextBitIsOne(),W=Math.pow(2,f.count-(L+1));Y?E(W,Eu.BLACK):(E(W,Eu.BLACK),E(W,Eu.RED))}return b}(new qve(r.length));return new Va(i||t,d)};let JL;const c0={};class tp{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Z.hu)(c0&&sr,"ChildrenNode.ts has not been loaded"),JL=JL||new tp({".priority":c0},{".priority":sr}),JL}get(t){const e=(0,Z.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Va?e:null}hasIndex(t){return(0,Z.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,Z.hu)(t!==rh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const o=e.getIterator(Zn.Wrap);let d,a=o.getNext();for(;a;)s=s||t.isDefinedOn(a.node),i.push(a),a=o.getNext();d=s?yk(i,t.getCompare()):c0;const f=t.toString(),g=Object.assign({},this.indexSet_);g[f]=t;const b=Object.assign({},this.indexes_);return b[f]=d,new tp(b,g)}addToIndexes(t,e){const i=(0,Z.UI)(this.indexes_,(s,o)=>{const a=(0,Z.DV)(this.indexSet_,o);if((0,Z.hu)(a,"Missing index implementation for "+o),s===c0){if(a.isDefinedOn(t.node)){const d=[],f=e.getIterator(Zn.Wrap);let g=f.getNext();for(;g;)g.name!==t.name&&d.push(g),g=f.getNext();return d.push(t),yk(d,a.getCompare())}return c0}{const d=e.get(t.name);let f=s;return d&&(f=f.remove(new Zn(t.name,d))),f.insert(t,t.node)}});return new tp(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,Z.UI)(this.indexes_,s=>{if(s===c0)return s;{const o=e.get(t.name);return o?s.remove(new Zn(t.name,o)):s}});return new tp(i,this.indexSet_)}}let YD,xn=(()=>{class r{constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&I8(this.priorityNode_),this.children_.isEmpty()&&(0,Z.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return YD||(YD=new r(new Va(GL),null,tp.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||YD}updatePriority(e){return this.children_.isEmpty()?this:new r(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?YD:i}}getChild(e){const i=Bn(e);return null===i?this:this.getImmediateChild(i).getChild($i(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,Z.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const s=new Zn(e,i);let o,a;i.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(s,this.children_));const d=o.isEmpty()?YD:this.priorityNode_;return new r(o,d,a)}}updateChild(e,i){const s=Bn(e);if(null===s)return i;{(0,Z.hu)(".priority"!==Bn(e)||1===ag(e),".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild($i(e),i);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,o=0,a=!0;if(this.forEachChild(sr,(d,f)=>{i[d]=f.val(e),s++,a&&r.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):a=!1}),!e&&a&&o<2*s){const d=[];for(const f in i)d[f]=i[f];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+M8(this.getPriority().val())+":"),this.forEachChild(sr,(i,s)=>{const o=s.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":q5(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const o=this.resolveIndex_(s);if(o){const a=o.getPredecessorKey(new Zn(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Zn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Zn(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Zn.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Zn.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===JD?-1:0}withIndex(e){if(e===rh||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new r(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===rh||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const s=this.getIterator(sr),o=i.getIterator(sr);let a=s.getNext(),d=o.getNext();for(;a&&d;){if(a.name!==d.name||!a.node.equals(d.node))return!1;a=s.getNext(),d=o.getNext()}return null===a&&null===d}return!1}return!1}}resolveIndex_(e){return e===rh?null:this.indexMap_.get(e.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();const JD=new class Gve extends xn{constructor(){super(new Va(GL),xn.EMPTY_NODE,tp.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return xn.EMPTY_NODE}isEmpty(){return!1}};function Ur(r,t=null){if(null===r)return xn.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(t=r[".priority"]),(0,Z.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new l0(r,Ur(t));if(r instanceof Array){let e=xn.EMPTY_NODE;return co(r,(i,s)=>{if((0,Z.r3)(r,i)&&"."!==i.substring(0,1)){const o=Ur(s);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Ur(t))}{const e=[];let i=!1;if(co(r,(a,d)=>{if("."!==a.substring(0,1)){const f=Ur(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new Zn(a,f)))}}),0===e.length)return xn.EMPTY_NODE;const o=yk(e,Bve,a=>a.name,GL);if(i){const a=yk(e,sr.getCompare());return new xn(o,Ur(t),new tp({".priority":a},{".priority":sr}))}return new xn(o,Ur(t),tp.Default)}}Object.defineProperties(Zn,{MIN:{value:new Zn(sg,xn.EMPTY_NODE)},MAX:{value:new Zn(ep,JD)}}),E8.__EMPTY_NODE=xn.EMPTY_NODE,l0.__childrenNodeConstructor=xn,function Uve(r){YL=r}(JD),function Zve(r){N8=r}(JD),function Vve(r){R8=r}(Ur);class zL extends mk{constructor(t){super(),this.indexPath_=t,(0,Z.hu)(!Un(t)&&".priority"!==Bn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),s=this.extractChild(e.node),o=i.compareTo(s);return 0===o?Py(t.name,e.name):o}makePost(t,e){const i=Ur(t),s=xn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Zn(e,s)}maxPost(){const t=xn.EMPTY_NODE.updateChild(this.indexPath_,JD);return new Zn(ep,t)}toString(){return qD(this.indexPath_,0).join("/")}}const $L=new class Jve extends mk{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Py(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Zn.MIN}maxPost(){return Zn.MAX}makePost(t,e){const i=Ur(t);return new Zn(e,i)}toString(){return".value"}};function O8(r){return{type:"value",snapshotNode:r}}function u0(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function zD(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function $D(r,t,e){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:e}}class QL{constructor(t){this.index_=t}updateChild(t,e,i,s,o,a){(0,Z.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(s).equals(i.getChild(s))&&d.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(zD(e,d)):(0,Z.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?a.trackChildChange(u0(e,i)):a.trackChildChange($D(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(sr,(s,o)=>{e.hasChild(s)||i.trackChildChange(zD(s,o))}),e.isLeafNode()||e.forEachChild(sr,(s,o)=>{if(t.hasChild(s)){const a=t.getImmediateChild(s);a.equals(o)||i.trackChildChange($D(s,o,a))}else i.trackChildChange(u0(s,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?xn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class QD{constructor(t){this.indexedFilter_=new QL(t.getIndex()),this.index_=t.getIndex(),this.startPost_=QD.getStartPost_(t),this.endPost_=QD.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,s,o,a){return this.matches(new Zn(e,i))||(i=xn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,s,o,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=xn.EMPTY_NODE);let s=e.withIndex(this.index_);s=s.updatePriority(xn.EMPTY_NODE);const o=this;return e.forEachChild(sr,(a,d)=>{o.matches(new Zn(a,d))||(s=s.updateImmediateChild(a,xn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,s,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class $ve{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new QD(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,s,o,a){return this.rangedFilter_.matches(new Zn(e,i))||(i=xn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,s,o,a):this.fullLimitUpdateChild_(t,e,i,o,a)}updateFullNode(t,e,i){let s;if(e.isLeafNode()||e.isEmpty())s=xn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;s=xn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const d=o.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;s=s.updateImmediateChild(d.name,d.node),a++}}}else{let o;s=e.withIndex(this.index_),s=s.updatePriority(xn.EMPTY_NODE),o=this.reverse_?s.getReverseIterator(this.index_):s.getIterator(this.index_);let a=0;for(;o.hasNext();){const d=o.getNext();a<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?a++:s=s.updateImmediateChild(d.name,xn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,s,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,s,o){let a;if(this.reverse_){const T=this.index_.getCompare();a=(E,R)=>T(R,E)}else a=this.index_.getCompare();const d=t;(0,Z.hu)(d.numChildren()===this.limit_,"");const f=new Zn(e,i),g=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(f);if(d.hasChild(e)){const T=d.getImmediateChild(e);let E=s.getChildAfterChild(this.index_,g,this.reverse_);for(;null!=E&&(E.name===e||d.hasChild(E.name));)E=s.getChildAfterChild(this.index_,E,this.reverse_);const R=null==E?1:a(E,f);if(b&&!i.isEmpty()&&R>=0)return o?.trackChildChange($D(e,i,T)),d.updateImmediateChild(e,i);{o?.trackChildChange(zD(e,T));const Y=d.updateImmediateChild(e,xn.EMPTY_NODE);return null!=E&&this.rangedFilter_.matches(E)?(o?.trackChildChange(u0(E.name,E.node)),Y.updateImmediateChild(E.name,E.node)):Y}}return i.isEmpty()?t:b&&a(g,f)>=0?(null!=o&&(o.trackChildChange(zD(g.name,g.node)),o.trackChildChange(u0(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(g.name,xn.EMPTY_NODE)):t}}class bk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Z.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Z.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Z.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Z.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ep}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Z.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sr}copy(){const t=new bk;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function WL(r,t,e){const i=r.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function KL(r,t,e){const i=r.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function vk(r,t){const e=r.copy();return e.index_=t,e}function F8(r){const t={};if(r.isDefault())return t;let e;if(r.index_===sr?e="$priority":r.index_===$L?e="$value":r.index_===rh?e="$key":((0,Z.hu)(r.index_ instanceof zL,"Unrecognized index type!"),e=r.index_.toString()),t.orderBy=(0,Z.Wl)(e),r.startSet_){const i=r.startAfterSet_?"startAfter":"startAt";t[i]=(0,Z.Wl)(r.indexStartValue_),r.startNameSet_&&(t[i]+=","+(0,Z.Wl)(r.indexStartName_))}if(r.endSet_){const i=r.endBeforeSet_?"endBefore":"endAt";t[i]=(0,Z.Wl)(r.indexEndValue_),r.endNameSet_&&(t[i]+=","+(0,Z.Wl)(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function P8(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_),t.sin=!r.startAfterSet_),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_),t.ein=!r.endBeforeSet_),r.limitSet_){t.l=r.limit_;let e=r.viewFrom_;""===e&&(e=r.isViewFromLeft()?"l":"r"),t.vf=e}return r.index_!==sr&&(t.i=r.index_.toString()),t}class Ck extends v8{constructor(t,e,i,s){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=VD("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Z.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,s){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const a=Ck.getListenId_(t,i),d={};this.listens_[a]=d;const f=F8(t._queryParams);this.restRequest_(o+".json",f,(g,b)=>{let T=b;if(404===g&&(T=null,g=null),null===g&&this.onDataUpdate_(o,T,!1,i),(0,Z.DV)(this.listens_,a)===d){let E;E=g?401===g?"permission_denied":"rest_error:"+g:"ok",s(E,null)}})}unlisten(t,e){const i=Ck.getListenId_(t,e);delete this.listens_[i]}get(t){const e=F8(t._queryParams),i=t._path.toString(),s=new Z.BH;return this.restRequest_(i+".json",e,(o,a)=>{let d=a;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(i,d,!1,null),s.resolve(d)):s.reject(new Error(d))}),s.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(e.auth=s.accessToken),o&&o.token&&(e.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Z.xO)(e);this.log_("Sending REST request for "+a);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+a+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,Z.cI)(d.responseText)}catch{Jo("Failed to parse JSON response for "+a+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&Jo("Got unsuccessful REST response for "+a+" Status: "+d.status),i(d.status);i=null}},d.open("GET",a,!0),d.send()})}}class tCe{constructor(){this.rootNode_=xn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function wk(){return{value:null,children:new Map}}function d0(r,t,e){if(Un(t))r.value=e,r.children.clear();else if(null!==r.value)r.value=r.value.updateChild(t,e);else{const i=Bn(t);r.children.has(i)||r.children.set(i,wk()),d0(r.children.get(i),t=$i(t),e)}}function XL(r,t){if(Un(t))return r.value=null,r.children.clear(),!0;if(null!==r.value){if(r.value.isLeafNode())return!1;{const e=r.value;return r.value=null,e.forEachChild(sr,(i,s)=>{d0(r,new Ci(i),s)}),XL(r,t)}}if(r.children.size>0){const e=Bn(t);return t=$i(t),r.children.has(e)&&XL(r.children.get(e),t)&&r.children.delete(e),0===r.children.size}return!0}function e3(r,t,e){null!==r.value?e(t,r.value):function nCe(r,t){r.children.forEach((e,i)=>{t(i,e)})}(r,(i,s)=>{e3(s,new Ci(t.toString()+"/"+i),e)})}class iCe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&co(this.last_,(i,s)=>{e[i]=e[i]-s}),this.last_=t,e}}class oCe{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new iCe(t);const i=1e4+2e4*Math.random();jD(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;co(t,(s,o)=>{o>0&&(0,Z.r3)(this.statsToReport_,s)&&(e[s]=o,i=!0)}),i&&this.server_.reportStats(e),jD(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Dc=(()=>(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Dc||(Dc={})),Dc))();function r3(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class Tk{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Dc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Un(this.path)){if(null!=this.affectedTree.value)return(0,Z.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ci(t));return new Tk(oi(),e,this.revert)}}return(0,Z.hu)(Bn(this.path)===t,"operationForChild called for unrelated child."),new Tk($i(this.path),this.affectedTree,this.revert)}}class WD{constructor(t,e){this.source=t,this.path=e,this.type=Dc.LISTEN_COMPLETE}operationForChild(t){return Un(this.path)?new WD(this.source,oi()):new WD(this.source,$i(this.path))}}class Uy{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Dc.OVERWRITE}operationForChild(t){return Un(this.path)?new Uy(this.source,oi(),this.snap.getImmediateChild(t)):new Uy(this.source,$i(this.path),this.snap)}}class h0{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Dc.MERGE}operationForChild(t){if(Un(this.path)){const e=this.children.subtree(new Ci(t));return e.isEmpty()?null:e.value?new Uy(this.source,oi(),e.value):new h0(this.source,oi(),e)}return(0,Z.hu)(Bn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new h0(this.source,$i(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class lg{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Un(t))return this.isFullyInitialized()&&!this.filtered_;const e=Bn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class aCe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function KD(r,t,e,i,s,o){const a=i.filter(d=>d.type===e);a.sort((d,f)=>function uCe(r,t,e){if(null==t.childName||null==e.childName)throw(0,Z.g5)("Should only compare child_ events.");const i=new Zn(t.childName,t.snapshotNode),s=new Zn(e.childName,e.snapshotNode);return r.index_.compare(i,s)}(r,d,f)),a.forEach(d=>{const f=function cCe(r,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}(r,d,o);s.forEach(g=>{g.respondsTo(d.type)&&t.push(g.createEvent(f,r.query_))})})}function Dk(r,t){return{eventCache:r,serverCache:t}}function XD(r,t,e,i){return Dk(new lg(t,e,i),r.serverCache)}function B8(r,t,e,i){return Dk(r.eventCache,new lg(t,e,i))}function xk(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function Vy(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let s3;class or{constructor(t,e=(()=>(s3||(s3=new Va(zbe)),s3))()){this.value=t,this.children=e}static fromObject(t){let e=new or(null);return co(t,(i,s)=>{e=e.set(new Ci(i),s)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:oi(),value:this.value};if(Un(t))return null;{const i=Bn(t),s=this.children.get(i);if(null!==s){const o=s.findRootMostMatchingPathAndValue($i(t),e);return null!=o?{path:Mr(new Ci(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Un(t))return this;{const e=Bn(t),i=this.children.get(e);return null!==i?i.subtree($i(t)):new or(null)}}set(t,e){if(Un(t))return new or(e,this.children);{const i=Bn(t),o=(this.children.get(i)||new or(null)).set($i(t),e),a=this.children.insert(i,o);return new or(this.value,a)}}remove(t){if(Un(t))return this.children.isEmpty()?new or(null):new or(null,this.children);{const e=Bn(t),i=this.children.get(e);if(i){const s=i.remove($i(t));let o;return o=s.isEmpty()?this.children.remove(e):this.children.insert(e,s),null===this.value&&o.isEmpty()?new or(null):new or(this.value,o)}return this}}get(t){if(Un(t))return this.value;{const e=Bn(t),i=this.children.get(e);return i?i.get($i(t)):null}}setTree(t,e){if(Un(t))return e;{const i=Bn(t),o=(this.children.get(i)||new or(null)).setTree($i(t),e);let a;return a=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new or(this.value,a)}}fold(t){return this.fold_(oi(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((s,o)=>{i[s]=o.fold_(Mr(t,s),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,oi(),e)}findOnPath_(t,e,i){const s=!!this.value&&i(e,this.value);if(s)return s;if(Un(t))return null;{const o=Bn(t),a=this.children.get(o);return a?a.findOnPath_($i(t),Mr(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,oi(),e)}foreachOnPath_(t,e,i){if(Un(t))return this;{this.value&&i(e,this.value);const s=Bn(t),o=this.children.get(s);return o?o.foreachOnPath_($i(t),Mr(e,s),i):new or(null)}}foreach(t){this.foreach_(oi(),t)}foreach_(t,e){this.children.inorderTraversal((i,s)=>{s.foreach_(Mr(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Mu{constructor(t){this.writeTree_=t}static empty(){return new Mu(new or(null))}}function ex(r,t,e){if(Un(t))return new Mu(new or(e));{const i=r.writeTree_.findRootMostValueAndPath(t);if(null!=i){const s=i.path;let o=i.value;const a=_a(s,t);return o=o.updateChild(a,e),new Mu(r.writeTree_.set(s,o))}{const s=new or(e),o=r.writeTree_.setTree(t,s);return new Mu(o)}}}function o3(r,t,e){let i=r;return co(e,(s,o)=>{i=ex(i,Mr(t,s),o)}),i}function U8(r,t){if(Un(t))return Mu.empty();{const e=r.writeTree_.setTree(t,new or(null));return new Mu(e)}}function a3(r,t){return null!=Zy(r,t)}function Zy(r,t){const e=r.writeTree_.findRootMostValueAndPath(t);return null!=e?r.writeTree_.get(e.path).getChild(_a(e.path,t)):null}function V8(r){const t=[],e=r.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(sr,(i,s)=>{t.push(new Zn(i,s))}):r.writeTree_.children.inorderTraversal((i,s)=>{null!=s.value&&t.push(new Zn(i,s.value))}),t}function cg(r,t){if(Un(t))return r;{const e=Zy(r,t);return new Mu(null!=e?new or(e):r.writeTree_.subtree(t))}}function l3(r){return r.writeTree_.isEmpty()}function f0(r,t){return Z8(oi(),r.writeTree_,t)}function Z8(r,t,e){if(null!=t.value)return e.updateChild(r,t.value);{let i=null;return t.children.inorderTraversal((s,o)=>{".priority"===s?((0,Z.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=Z8(Mr(r,s),o,e)}),!e.getChild(r).isEmpty()&&null!==i&&(e=e.updateChild(Mr(r,".priority"),i)),e}}function Sk(r,t){return Y8(t,r)}function gCe(r,t){if(r.snap)return Tc(r.path,t);for(const e in r.children)if(r.children.hasOwnProperty(e)&&Tc(Mr(r.path,e),t))return!0;return!1}function yCe(r){return r.visible}function j8(r,t,e){let i=Mu.empty();for(let s=0;s<r.length;++s){const o=r[s];if(t(o)){const a=o.path;let d;if(o.snap)Tc(e,a)?(d=_a(e,a),i=ex(i,d,o.snap)):Tc(a,e)&&(d=_a(a,e),i=ex(i,oi(),o.snap.getChild(d)));else{if(!o.children)throw(0,Z.g5)("WriteRecord should have .snap or .children");if(Tc(e,a))d=_a(e,a),i=o3(i,d,o.children);else if(Tc(a,e))if(d=_a(a,e),Un(d))i=o3(i,oi(),o.children);else{const f=(0,Z.DV)(o.children,Bn(d));if(f){const g=f.getChild($i(d));i=ex(i,oi(),g)}}}}}return i}function H8(r,t,e,i,s){if(i||s){const o=cg(r.visibleWrites,t);return!s&&l3(o)?e:s||null!=e||a3(o,oi())?f0(j8(r.allWrites,function(g){return(g.visible||s)&&(!i||!~i.indexOf(g.writeId))&&(Tc(g.path,t)||Tc(t,g.path))},t),e||xn.EMPTY_NODE):null}{const o=Zy(r.visibleWrites,t);if(null!=o)return o;{const a=cg(r.visibleWrites,t);return l3(a)?e:null!=e||a3(a,oi())?f0(a,e||xn.EMPTY_NODE):null}}}function Ak(r,t,e,i){return H8(r.writeTree,r.treePath,t,e,i)}function c3(r,t){return function bCe(r,t,e){let i=xn.EMPTY_NODE;const s=Zy(r.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(sr,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(e){const o=cg(r.visibleWrites,t);return e.forEachChild(sr,(a,d)=>{const f=f0(cg(o,new Ci(a)),d);i=i.updateImmediateChild(a,f)}),V8(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return V8(cg(r.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(r.writeTree,r.treePath,t)}function q8(r,t,e,i){return function vCe(r,t,e,i,s){(0,Z.hu)(i||s,"Either existingEventSnap or existingServerSnap must exist");const o=Mr(t,e);if(a3(r.visibleWrites,o))return null;{const a=cg(r.visibleWrites,o);return l3(a)?s.getChild(e):f0(a,s.getChild(e))}}(r.writeTree,r.treePath,t,e,i)}function Ek(r,t){return function wCe(r,t){return Zy(r.visibleWrites,t)}(r.writeTree,Mr(r.treePath,t))}function u3(r,t,e){return function CCe(r,t,e,i){const s=Mr(t,e),o=Zy(r.visibleWrites,s);return null!=o?o:i.isCompleteForChild(e)?f0(cg(r.visibleWrites,s),i.getNode().getImmediateChild(e)):null}(r.writeTree,r.treePath,t,e)}function G8(r,t){return Y8(Mr(r.treePath,t),r.writeTree)}function Y8(r,t){return{treePath:r,writeTree:t}}class SCe{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,Z.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Z.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const o=s.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,$D(i,t.snapshotNode,s.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,zD(i,s.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,u0(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,Z.g5)("Illegal combination of changes: "+t+" occurred after "+s);this.changeMap.set(i,$D(i,t.snapshotNode,s.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const J8=new class ACe{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class d3{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new lg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return u3(this.writes_,t,i)}}getChildAfterChild(t,e,i){const s=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Vy(this.viewCache_),o=function xCe(r,t,e,i,s,o){return function TCe(r,t,e,i,s,o,a){let d;const f=cg(r.visibleWrites,t),g=Zy(f,oi());if(null!=g)d=g;else{if(null==e)return[];d=f0(f,e)}if(d=d.withIndex(a),d.isEmpty()||d.isLeafNode())return[];{const b=[],T=a.getCompare(),E=o?d.getReverseIteratorFrom(i,a):d.getIteratorFrom(i,a);let R=E.getNext();for(;R&&b.length<s;)0!==T(R,i)&&b.push(R),R=E.getNext();return b}}(r.writeTree,r.treePath,t,e,i,s,o)}(this.writes_,s,e,1,i,t);return 0===o.length?null:o[0]}}function z8(r,t,e,i,s,o){const a=t.eventCache;if(null!=Ek(i,e))return t;{let d,f;if(Un(e))if((0,Z.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=Vy(t),T=c3(i,g instanceof xn?g:xn.EMPTY_NODE);d=r.filter.updateFullNode(t.eventCache.getNode(),T,o)}else{const g=Ak(i,Vy(t));d=r.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=Bn(e);if(".priority"===g){(0,Z.hu)(1===ag(e),"Can't have a priority with additional path components");const b=a.getNode();f=t.serverCache.getNode();const T=q8(i,e,b,f);d=null!=T?r.filter.updatePriority(b,T):a.getNode()}else{const b=$i(e);let T;if(a.isCompleteForChild(g)){f=t.serverCache.getNode();const E=q8(i,e,a.getNode(),f);T=null!=E?a.getNode().getImmediateChild(g).updateChild(b,E):a.getNode().getImmediateChild(g)}else T=u3(i,g,t.serverCache);d=null!=T?r.filter.updateChild(a.getNode(),g,T,b,s,o):a.getNode()}}return XD(t,d,a.isFullyInitialized()||Un(e),r.filter.filtersNodes())}}function Mk(r,t,e,i,s,o,a,d){const f=t.serverCache;let g;const b=a?r.filter:r.filter.getIndexedFilter();if(Un(e))g=b.updateFullNode(f.getNode(),i,null);else if(b.filtersNodes()&&!f.isFiltered()){const R=f.getNode().updateChild(e,i);g=b.updateFullNode(f.getNode(),R,null)}else{const R=Bn(e);if(!f.isCompleteForPath(e)&&ag(e)>1)return t;const L=$i(e),W=f.getNode().getImmediateChild(R).updateChild(L,i);g=".priority"===R?b.updatePriority(f.getNode(),W):b.updateChild(f.getNode(),R,W,L,J8,null)}const T=B8(t,g,f.isFullyInitialized()||Un(e),b.filtersNodes());return z8(r,T,e,s,new d3(s,T,o),d)}function h3(r,t,e,i,s,o,a){const d=t.eventCache;let f,g;const b=new d3(s,t,o);if(Un(e))g=r.filter.updateFullNode(t.eventCache.getNode(),i,a),f=XD(t,g,!0,r.filter.filtersNodes());else{const T=Bn(e);if(".priority"===T)g=r.filter.updatePriority(t.eventCache.getNode(),i),f=XD(t,g,d.isFullyInitialized(),d.isFiltered());else{const E=$i(e),R=d.getNode().getImmediateChild(T);let L;if(Un(E))L=i;else{const Y=b.getCompleteChild(T);L=null!=Y?".priority"===jL(E)&&Y.getChild(D8(E)).isEmpty()?Y:Y.updateChild(E,i):xn.EMPTY_NODE}f=R.equals(L)?t:XD(t,r.filter.updateChild(d.getNode(),T,L,E,b,a),d.isFullyInitialized(),r.filter.filtersNodes())}}return f}function $8(r,t){return r.eventCache.isCompleteForChild(t)}function Q8(r,t,e){return e.foreach((i,s)=>{t=t.updateChild(i,s)}),t}function f3(r,t,e,i,s,o,a,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g,f=t;g=Un(e)?i:new or(null).setTree(e,i);const b=t.serverCache.getNode();return g.children.inorderTraversal((T,E)=>{if(b.hasChild(T)){const L=Q8(0,t.serverCache.getNode().getImmediateChild(T),E);f=Mk(r,f,new Ci(T),L,s,o,a,d)}}),g.children.inorderTraversal((T,E)=>{const R=!t.serverCache.isCompleteForChild(T)&&null===E.value;if(!b.hasChild(T)&&!R){const Y=Q8(0,t.serverCache.getNode().getImmediateChild(T),E);f=Mk(r,f,new Ci(T),Y,s,o,a,d)}}),f}class PCe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new QL(i.getIndex()),o=function Qve(r){return r.loadsAllData()?new QL(r.getIndex()):r.hasLimit()?new $ve(r):new QD(r)}(i);this.processor_=function ECe(r){return{filter:r}}(o);const a=e.serverCache,d=e.eventCache,f=s.updateFullNode(xn.EMPTY_NODE,a.getNode(),null),g=o.updateFullNode(xn.EMPTY_NODE,d.getNode(),null),b=new lg(f,a.isFullyInitialized(),s.filtersNodes()),T=new lg(g,d.isFullyInitialized(),o.filtersNodes());this.viewCache_=Dk(T,b),this.eventGenerator_=new aCe(this.query_)}get query(){return this.query_}}function UCe(r,t){const e=Vy(r.viewCache_);return e&&(r.query._queryParams.loadsAllData()||!Un(t)&&!e.getImmediateChild(Bn(t)).isEmpty())?e.getChild(t):null}function W8(r){return 0===r.eventRegistrations_.length}function K8(r,t,e){const i=[];if(e){(0,Z.hu)(null==t,"A cancel should cancel all event registrations.");const s=r.query._path;r.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(e,s);a&&i.push(a)})}if(t){let s=[];for(let o=0;o<r.eventRegistrations_.length;++o){const a=r.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){s=s.concat(r.eventRegistrations_.slice(o+1));break}}else s.push(a)}r.eventRegistrations_=s}else r.eventRegistrations_=[];return i}function X8(r,t,e,i){t.type===Dc.MERGE&&null!==t.source.queryId&&((0,Z.hu)(Vy(r.viewCache_),"We should always have a full cache before handling merges"),(0,Z.hu)(xk(r.viewCache_),"Missing event cache, even though we have a server cache"));const s=r.viewCache_,o=function ICe(r,t,e,i,s){const o=new SCe;let a,d;if(e.type===Dc.OVERWRITE){const g=e;g.source.fromUser?a=h3(r,t,g.path,g.snap,i,s,o):((0,Z.hu)(g.source.fromServer,"Unknown source."),d=g.source.tagged||t.serverCache.isFiltered()&&!Un(g.path),a=Mk(r,t,g.path,g.snap,i,s,d,o))}else if(e.type===Dc.MERGE){const g=e;g.source.fromUser?a=function RCe(r,t,e,i,s,o,a){let d=t;return i.foreach((f,g)=>{const b=Mr(e,f);$8(t,Bn(b))&&(d=h3(r,d,b,g,s,o,a))}),i.foreach((f,g)=>{const b=Mr(e,f);$8(t,Bn(b))||(d=h3(r,d,b,g,s,o,a))}),d}(r,t,g.path,g.children,i,s,o):((0,Z.hu)(g.source.fromServer,"Unknown source."),d=g.source.tagged||t.serverCache.isFiltered(),a=f3(r,t,g.path,g.children,i,s,d,o))}else if(e.type===Dc.ACK_USER_WRITE){const g=e;a=g.revert?function FCe(r,t,e,i,s,o){let a;if(null!=Ek(i,e))return t;{const d=new d3(i,t,s),f=t.eventCache.getNode();let g;if(Un(e)||".priority"===Bn(e)){let b;if(t.serverCache.isFullyInitialized())b=Ak(i,Vy(t));else{const T=t.serverCache.getNode();(0,Z.hu)(T instanceof xn,"serverChildren would be complete if leaf node"),b=c3(i,T)}g=r.filter.updateFullNode(f,b,o)}else{const b=Bn(e);let T=u3(i,b,t.serverCache);null==T&&t.serverCache.isCompleteForChild(b)&&(T=f.getImmediateChild(b)),g=null!=T?r.filter.updateChild(f,b,T,$i(e),d,o):t.eventCache.getNode().hasChild(b)?r.filter.updateChild(f,b,xn.EMPTY_NODE,$i(e),d,o):f,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Ak(i,Vy(t)),a.isLeafNode()&&(g=r.filter.updateFullNode(g,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=Ek(i,oi()),XD(t,g,a,r.filter.filtersNodes())}}(r,t,g.path,i,s,o):function NCe(r,t,e,i,s,o,a){if(null!=Ek(s,e))return t;const d=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(Un(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return Mk(r,t,e,f.getNode().getChild(e),s,o,d,a);if(Un(e)){let g=new or(null);return f.getNode().forEachChild(rh,(b,T)=>{g=g.set(new Ci(b),T)}),f3(r,t,e,g,s,o,d,a)}return t}{let g=new or(null);return i.foreach((b,T)=>{const E=Mr(e,b);f.isCompleteForPath(E)&&(g=g.set(b,f.getNode().getChild(E)))}),f3(r,t,e,g,s,o,d,a)}}(r,t,g.path,g.affectedTree,i,s,o)}else{if(e.type!==Dc.LISTEN_COMPLETE)throw(0,Z.g5)("Unknown operation type: "+e.type);a=function OCe(r,t,e,i,s){const o=t.serverCache;return z8(r,B8(t,o.getNode(),o.isFullyInitialized()||Un(e),o.isFiltered()),e,i,J8,s)}(r,t,e.path,i,o)}const f=o.getChanges();return function kCe(r,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=xk(r);(e.length>0||!r.eventCache.isFullyInitialized()||s&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(O8(xk(t)))}}(t,a,f),{viewCache:a,changes:f}}(r.processor_,s,t,e,i);return function MCe(r,t){(0,Z.hu)(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,Z.hu)(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}(r.processor_,o.viewCache),(0,Z.hu)(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=o.viewCache,eY(r,o.changes,o.viewCache.eventCache.getNode(),null)}function eY(r,t,e,i){return function lCe(r,t,e,i){const s=[],o=[];return t.forEach(a=>{"child_changed"===a.type&&r.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(function zve(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}(a.childName,a.snapshotNode))}),KD(r,s,"child_removed",t,i,e),KD(r,s,"child_added",t,i,e),KD(r,s,"child_moved",o,i,e),KD(r,s,"child_changed",t,i,e),KD(r,s,"value",t,i,e),s}(r.eventGenerator_,t,e,i?[i]:r.eventRegistrations_)}let Ik,Rk;class tY{constructor(){this.views=new Map}}function p3(r,t,e,i){const s=t.source.queryId;if(null!==s){const o=r.views.get(s);return(0,Z.hu)(null!=o,"SyncTree gave us an op for an invalid query."),X8(o,t,e,i)}{let o=[];for(const a of r.views.values())o=o.concat(X8(a,t,e,i));return o}}function nY(r,t,e,i,s){const a=r.views.get(t._queryIdentifier);if(!a){let d=Ak(e,s?i:null),f=!1;d?f=!0:i instanceof xn?(d=c3(e,i),f=!1):(d=xn.EMPTY_NODE,f=!1);const g=Dk(new lg(d,f,!1),new lg(i,s,!1));return new PCe(t,g)}return a}function iY(r){const t=[];for(const e of r.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ug(r,t){let e=null;for(const i of r.views.values())e=e||UCe(i,t);return e}function rY(r,t){return t._queryParams.loadsAllData()?kk(r):r.views.get(t._queryIdentifier)}function sY(r,t){return null!=rY(r,t)}function dg(r){return null!=kk(r)}function kk(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let $Ce=1;class oY{constructor(t){this.listenProvider_=t,this.syncPointTree_=new or(null),this.pendingWriteTree_=function DCe(){return{visibleWrites:Mu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function m3(r,t,e,i,s){return function hCe(r,t,e,i,s){(0,Z.hu)(i>r.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),r.allWrites.push({path:t,snap:e,writeId:i,visible:s}),s&&(r.visibleWrites=ex(r.visibleWrites,t,e)),r.lastWriteId=i}(r.pendingWriteTree_,t,e,i,s),s?p0(r,new Uy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function hg(r,t,e=!1){const i=function pCe(r,t){for(let e=0;e<r.allWrites.length;e++){const i=r.allWrites[e];if(i.writeId===t)return i}return null}(r.pendingWriteTree_,t);if(function mCe(r,t){const e=r.allWrites.findIndex(d=>d.writeId===t);(0,Z.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=r.allWrites[e];r.allWrites.splice(e,1);let s=i.visible,o=!1,a=r.allWrites.length-1;for(;s&&a>=0;){const d=r.allWrites[a];d.visible&&(a>=e&&gCe(d,i.path)?s=!1:Tc(i.path,d.path)&&(o=!0)),a--}return!!s&&(o?(function _Ce(r){r.visibleWrites=j8(r.allWrites,yCe,oi()),r.lastWriteId=r.allWrites.length>0?r.allWrites[r.allWrites.length-1].writeId:-1}(r),!0):(i.snap?r.visibleWrites=U8(r.visibleWrites,i.path):co(i.children,f=>{r.visibleWrites=U8(r.visibleWrites,Mr(i.path,f))}),!0))}(r.pendingWriteTree_,t)){let o=new or(null);return null!=i.snap?o=o.set(oi(),!0):co(i.children,a=>{o=o.set(new Ci(a),!0)}),p0(r,new Tk(i.path,o,e))}return[]}function tx(r,t,e){return p0(r,new Uy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Nk(r,t,e,i,s=!1){const o=t._path,a=r.syncPointTree_.get(o);let d=[];if(a&&("default"===t._queryIdentifier||sY(a,t))){const f=function YCe(r,t,e,i){const s=t._queryIdentifier,o=[];let a=[];const d=dg(r);if("default"===s)for(const[f,g]of r.views.entries())a=a.concat(K8(g,e,i)),W8(g)&&(r.views.delete(f),g.query._queryParams.loadsAllData()||o.push(g.query));else{const f=r.views.get(s);f&&(a=a.concat(K8(f,e,i)),W8(f)&&(r.views.delete(s),f.query._queryParams.loadsAllData()||o.push(f.query)))}return d&&!dg(r)&&o.push(new(function HCe(){return(0,Z.hu)(Ik,"Reference.ts has not been loaded"),Ik}())(t._repo,t._path)),{removed:o,events:a}}(a,t,e,i);(function qCe(r){return 0===r.views.size})(a)&&(r.syncPointTree_=r.syncPointTree_.remove(o));const g=f.removed;if(d=f.events,!s){const b=-1!==g.findIndex(E=>E._queryParams.loadsAllData()),T=r.syncPointTree_.findOnPath(o,(E,R)=>dg(R));if(b&&!T){const E=r.syncPointTree_.subtree(o);if(!E.isEmpty()){const R=function n0e(r){return r.fold((t,e,i)=>{if(e&&dg(e))return[kk(e)];{let s=[];return e&&(s=iY(e)),co(i,(o,a)=>{s=s.concat(a)}),s}})}(E);for(let L=0;L<R.length;++L){const Y=R[L],W=Y.query,ve=uY(r,Y);r.listenProvider_.startListening(ix(W),nx(r,W),ve.hashFn,ve.onComplete)}}}!T&&g.length>0&&!i&&(b?r.listenProvider_.stopListening(ix(t),null):g.forEach(E=>{const R=r.queryToTagMap.get(Fk(E));r.listenProvider_.stopListening(ix(E),R)}))}!function i0e(r,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const s=Fk(i),o=r.queryToTagMap.get(s);r.queryToTagMap.delete(s),r.tagToQueryMap.delete(o)}}}(r,g)}return d}function aY(r,t,e,i){const s=_3(r,i);if(null!=s){const o=y3(s),a=o.path,d=o.queryId,f=_a(a,t);return b3(r,a,new Uy(r3(d),f,e))}return[]}function g3(r,t,e,i=!1){const s=t._path;let o=null,a=!1;r.syncPointTree_.foreachOnPath(s,(E,R)=>{const L=_a(E,s);o=o||ug(R,L),a=a||dg(R)});let f,d=r.syncPointTree_.get(s);d?(a=a||dg(d),o=o||ug(d,oi())):(d=new tY,r.syncPointTree_=r.syncPointTree_.set(s,d)),null!=o?f=!0:(f=!1,o=xn.EMPTY_NODE,r.syncPointTree_.subtree(s).foreachChild((R,L)=>{const Y=ug(L,oi());Y&&(o=o.updateImmediateChild(R,Y))}));const g=sY(d,t);if(!g&&!t._queryParams.loadsAllData()){const E=Fk(t);(0,Z.hu)(!r.queryToTagMap.has(E),"View does not exist, but we have a tag");const R=function r0e(){return $Ce++}();r.queryToTagMap.set(E,R),r.tagToQueryMap.set(R,E)}let T=function GCe(r,t,e,i,s,o){const a=nY(r,t,i,s,o);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,a),function VCe(r,t){r.eventRegistrations_.push(t)}(a,e),function ZCe(r,t){const e=r.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(sr,(o,a)=>{i.push(u0(o,a))}),e.isFullyInitialized()&&i.push(O8(e.getNode())),eY(r,i,e.getNode(),t)}(a,e)}(d,t,e,Sk(r.pendingWriteTree_,s),o,f);if(!g&&!a&&!i){const E=rY(d,t);T=T.concat(function s0e(r,t,e){const i=t._path,s=nx(r,t),o=uY(r,e),a=r.listenProvider_.startListening(ix(t),s,o.hashFn,o.onComplete),d=r.syncPointTree_.subtree(i);if(s)(0,Z.hu)(!dg(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((g,b,T)=>{if(!Un(g)&&b&&dg(b))return[kk(b).query];{let E=[];return b&&(E=E.concat(iY(b).map(R=>R.query))),co(T,(R,L)=>{E=E.concat(L)}),E}});for(let g=0;g<f.length;++g){const b=f[g];r.listenProvider_.stopListening(ix(b),nx(r,b))}}return a}(r,t,E))}return T}function Ok(r,t,e){const s=r.pendingWriteTree_,o=r.syncPointTree_.findOnPath(t,(a,d)=>{const g=ug(d,_a(a,t));if(g)return g});return H8(s,t,o,e,!0)}function p0(r,t){return lY(t,r.syncPointTree_,null,Sk(r.pendingWriteTree_,oi()))}function lY(r,t,e,i){if(Un(r.path))return cY(r,t,e,i);{const s=t.get(oi());null==e&&null!=s&&(e=ug(s,oi()));let o=[];const a=Bn(r.path),d=r.operationForChild(a),f=t.children.get(a);if(f&&d){const g=e?e.getImmediateChild(a):null,b=G8(i,a);o=o.concat(lY(d,f,g,b))}return s&&(o=o.concat(p3(s,r,i,e))),o}}function cY(r,t,e,i){const s=t.get(oi());null==e&&null!=s&&(e=ug(s,oi()));let o=[];return t.children.inorderTraversal((a,d)=>{const f=e?e.getImmediateChild(a):null,g=G8(i,a),b=r.operationForChild(a);b&&(o=o.concat(cY(b,d,f,g)))}),s&&(o=o.concat(p3(s,r,i,e))),o}function uY(r,t){const e=t.query,i=nx(r,e);return{hashFn:()=>(function LCe(r){return r.viewCache_.serverCache.getNode()}(t)||xn.EMPTY_NODE).hash(),onComplete:s=>{if("ok"===s)return i?function XCe(r,t,e){const i=_3(r,e);if(i){const s=y3(i),o=s.path,a=s.queryId,d=_a(o,t);return b3(r,o,new WD(r3(a),d))}return[]}(r,e._path,i):function KCe(r,t){return p0(r,new WD({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(r,e._path);{const o=function Wbe(r,t){let e="Unknown Error";"too_big"===r?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===r?e="Client doesn't have permission to access the desired data.":"unavailable"===r&&(e="The service is unavailable");const i=new Error(r+" at "+t._path.toString()+": "+e);return i.code=r.toUpperCase(),i}(s,e);return Nk(r,e,null,o)}}}}function nx(r,t){const e=Fk(t);return r.queryToTagMap.get(e)}function Fk(r){return r._path.toString()+"$"+r._queryIdentifier}function _3(r,t){return r.tagToQueryMap.get(t)}function y3(r){const t=r.indexOf("$");return(0,Z.hu)(-1!==t&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new Ci(r.substr(0,t))}}function b3(r,t,e){const i=r.syncPointTree_.get(t);return(0,Z.hu)(i,"Missing sync point for query tag that we're tracking"),p3(i,e,Sk(r.pendingWriteTree_,t),null)}function ix(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(function zCe(){return(0,Z.hu)(Rk,"Reference.ts has not been loaded"),Rk}())(r._repo,r._path):r}class v3{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new v3(e)}node(){return this.node_}}class C3{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Mr(this.path_,t);return new C3(this.syncTree_,e)}node(){return Ok(this.syncTree_,this.path_)}}const dY=function(r,t,e){return r&&"object"==typeof r?((0,Z.hu)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?a0e(r[".sv"],t,e):"object"==typeof r[".sv"]?l0e(r[".sv"],t):void(0,Z.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},a0e=function(r,t,e){if("timestamp"===r)return e.timestamp;(0,Z.hu)(!1,"Unexpected server value: "+r)},l0e=function(r,t,e){r.hasOwnProperty("increment")||(0,Z.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const i=r.increment;"number"!=typeof i&&(0,Z.hu)(!1,"Unexpected increment value: "+i);const s=t.node();if((0,Z.hu)(null!==s&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return"number"!=typeof a?i:a+i},hY=function(r,t,e,i){return T3(t,new C3(e,r),i)},w3=function(r,t,e){return T3(r,new v3(t),e)};function T3(r,t,e){const i=r.getPriority().val(),s=dY(i,t.getImmediateChild(".priority"),e);let o;if(r.isLeafNode()){const a=r,d=dY(a.getValue(),t,e);return d!==a.getValue()||s!==a.getPriority().val()?new l0(d,Ur(s)):r}{const a=r;return o=a,s!==a.getPriority().val()&&(o=o.updatePriority(new l0(s))),a.forEachChild(sr,(d,f)=>{const g=T3(f,t.getImmediateChild(d),e);g!==f&&(o=o.updateImmediateChild(d,g))}),o}}class D3{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Pk(r,t){let e=t instanceof Ci?t:new Ci(t),i=r,s=Bn(e);for(;null!==s;){const o=(0,Z.DV)(i.node.children,s)||{children:{},childCount:0};i=new D3(s,i,o),e=$i(e),s=Bn(e)}return i}function jy(r){return r.node.value}function x3(r,t){r.node.value=t,S3(r)}function fY(r){return r.node.childCount>0}function Lk(r,t){co(r.node.children,(e,i)=>{t(new D3(e,r,i))})}function pY(r,t,e,i){e&&!i&&t(r),Lk(r,s=>{pY(s,t,!0,i)}),e&&i&&t(r)}function rx(r){return new Ci(null===r.parent?r.name:rx(r.parent)+"/"+r.name)}function S3(r){null!==r.parent&&function d0e(r,t,e){const i=function c0e(r){return void 0===jy(r)&&!fY(r)}(e),s=(0,Z.r3)(r.node.children,t);i&&s?(delete r.node.children[t],r.node.childCount--,S3(r)):!i&&!s&&(r.node.children[t]=e.node,r.node.childCount++,S3(r))}(r.parent,r.name,r)}const h0e=/[\[\].#$\/\u0000-\u001F\u007F]/,f0e=/[\[\].#$\u0000-\u001F\u007F]/,A3=10485760,Bk=function(r){return"string"==typeof r&&0!==r.length&&!h0e.test(r)},mY=function(r){return"string"==typeof r&&0!==r.length&&!f0e.test(r)},sx=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!dk(r)||r&&"object"==typeof r&&(0,Z.r3)(r,".sv")},sh=function(r,t,e,i){i&&void 0===t||ox((0,Z.gK)(r,"value"),t,e)},ox=function(r,t,e){const i=e instanceof Ci?new Ive(e,r):e;if(void 0===t)throw new Error(r+"contains undefined "+Ly(i));if("function"==typeof t)throw new Error(r+"contains a function "+Ly(i)+" with contents = "+t.toString());if(dk(t))throw new Error(r+"contains "+t.toString()+" "+Ly(i));if("string"==typeof t&&t.length>A3/3&&(0,Z.ug)(t)>A3)throw new Error(r+"contains a string greater than "+A3+" utf8 bytes "+Ly(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let s=!1,o=!1;if(co(t,(a,d)=>{if(".value"===a)s=!0;else if(".priority"!==a&&".sv"!==a&&(o=!0,!Bk(a)))throw new Error(r+" contains an invalid key ("+a+") "+Ly(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function kve(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=(0,Z.ug)(t),x8(r)})(i,a),ox(r,d,i),function Rve(r){const t=r.parts_.pop();r.byteLength_-=(0,Z.ug)(t),r.parts_.length>0&&(r.byteLength_-=1)}(i)}),s&&o)throw new Error(r+' contains ".value" child '+Ly(i)+" in addition to actual children.")}},gY=function(r,t,e,i){if(i&&void 0===t)return;const s=(0,Z.gK)(r,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(s+" must be an object containing the children to replace.");const o=[];co(t,(a,d)=>{const f=new Ci(a);if(ox(s,d,Mr(e,f)),".priority"===jL(f)&&!sx(d))throw new Error(s+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),function(r,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=qD(i);for(let a=0;a<o.length;a++)if((".priority"!==o[a]||a!==o.length-1)&&!Bk(o[a]))throw new Error(r+"contains an invalid key ("+o[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Mve);let s=null;for(e=0;e<t.length;e++){if(i=t[e],null!==s&&Tc(s,i))throw new Error(r+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(s,o)},E3=function(r,t,e){if(!e||void 0!==t){if(dk(t))throw new Error((0,Z.gK)(r,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!sx(t))throw new Error((0,Z.gK)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ax=function(r,t,e,i){if(!(i&&void 0===e||Bk(e)))throw new Error((0,Z.gK)(r,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},lx=function(r,t,e,i){if(!(i&&void 0===e||mY(e)))throw new Error((0,Z.gK)(r,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xc=function(r,t){if(".info"===Bn(t))throw new Error(r+" failed = Can't modify data under /.info/")},_Y=function(r,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Bk(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),mY(r)}(e))throw new Error((0,Z.gK)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class _0e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Uk(r,t){let e=null;for(let i=0;i<t.length;i++){const s=t[i],o=s.getPath();null!==e&&!HL(o,e.path)&&(r.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(s)}e&&r.eventLists_.push(e)}function yY(r,t,e){Uk(r,e),bY(r,i=>HL(i,t))}function kl(r,t,e){Uk(r,e),bY(r,i=>Tc(i,t)||Tc(t,i))}function bY(r,t){r.recursionDepth_++;let e=!0;for(let i=0;i<r.eventLists_.length;i++){const s=r.eventLists_[i];s&&(t(s.path)?(y0e(r.eventLists_[i]),r.eventLists_[i]=null):e=!1)}e&&(r.eventLists_=[]),r.recursionDepth_--}function y0e(r){for(let t=0;t<r.events.length;t++){const e=r.events[t];if(null!==e){r.events[t]=null;const i=e.getEventRunner();Fy&&lo("event: "+e.toString()),o0(i)}}}const vY="repo_interrupt";class v0e{constructor(t,e,i,s){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _0e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wk(),this.transactionQueueTree_=new D3,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CY(r){const e=r.infoData_.getNode(new Ci(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function cx(r){return function(r){return(r=r||{}).timestamp=r.timestamp||(new Date).getTime(),r}({timestamp:CY(r)})}function wY(r,t,e,i,s){r.dataUpdateCount++;const o=new Ci(t);e=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,e):e;let a=[];if(s)if(i){const f=(0,Z.UI)(e,g=>Ur(g));a=function e0e(r,t,e,i){const s=_3(r,i);if(s){const o=y3(s),a=o.path,d=o.queryId,f=_a(a,t),g=or.fromObject(e);return b3(r,a,new h0(r3(d),f,g))}return[]}(r.serverSyncTree_,o,f,s)}else{const f=Ur(e);a=aY(r.serverSyncTree_,o,f,s)}else if(i){const f=(0,Z.UI)(e,g=>Ur(g));a=function WCe(r,t,e){const i=or.fromObject(e);return p0(r,new h0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(r.serverSyncTree_,o,f)}else{const f=Ur(e);a=tx(r.serverSyncTree_,o,f)}let d=o;a.length>0&&(d=g0(r,o)),kl(r.eventQueue_,d,a)}function TY(r,t){M3(r,"connected",t),!1===t&&function x0e(r){m0(r,"onDisconnectEvents");const t=cx(r),e=wk();e3(r.onDisconnect_,oi(),(s,o)=>{const a=hY(s,o,r.serverSyncTree_,t);d0(e,s,a)});let i=[];e3(e,oi(),(s,o)=>{i=i.concat(tx(r.serverSyncTree_,s,o));const a=N3(r,s);g0(r,a)}),r.onDisconnect_=wk(),kl(r.eventQueue_,oi(),i)}(r)}function M3(r,t,e){const i=new Ci("/.info/"+t),s=Ur(e);r.infoData_.updateSnapshot(i,s);const o=tx(r.infoSyncTree_,i,s);kl(r.eventQueue_,i,o)}function Vk(r){return r.nextWriteId_++}function I3(r,t,e,i,s){m0(r,"set",{path:t.toString(),value:e,priority:i});const o=cx(r),a=Ur(e,i),d=Ok(r.serverSyncTree_,t),f=w3(a,d,o),g=Vk(r),b=m3(r.serverSyncTree_,t,f,g,!0);Uk(r.eventQueue_,b),r.server_.put(t.toString(),a.val(!0),(E,R)=>{const L="ok"===E;L||Jo("set at "+t+" failed: "+E);const Y=hg(r.serverSyncTree_,g,!L);kl(r.eventQueue_,t,Y),fg(0,s,E,R)});const T=N3(r,t);g0(r,T),kl(r.eventQueue_,T,[])}function S0e(r,t,e){r.server_.onDisconnectCancel(t.toString(),(i,s)=>{"ok"===i&&XL(r.onDisconnect_,t),fg(0,e,i,s)})}function DY(r,t,e,i){const s=Ur(e);r.server_.onDisconnectPut(t.toString(),s.val(!0),(o,a)=>{"ok"===o&&d0(r.onDisconnect_,t,s),fg(0,i,o,a)})}function k3(r,t,e){let i;i=".info"===Bn(t._path)?Nk(r.infoSyncTree_,t,e):Nk(r.serverSyncTree_,t,e),yY(r.eventQueue_,t._path,i)}function xY(r){r.persistentConnection_&&r.persistentConnection_.interrupt(vY)}function m0(r,...t){let e="";r.persistentConnection_&&(e=r.persistentConnection_.id+":"),lo(e,...t)}function fg(r,t,e,i){t&&o0(()=>{if("ok"===e)t(null);else{const s=(e||"error").toUpperCase();let o=s;i&&(o+=": "+i);const a=new Error(o);a.code=s,t(a)}})}function R3(r,t,e){return Ok(r.serverSyncTree_,t,e)||xn.EMPTY_NODE}function Zk(r,t=r.transactionQueueTree_){if(t||jk(r,t),jy(t)){const e=AY(r,t);(0,Z.hu)(e.length>0,"Sending zero length transaction queue"),e.every(s=>0===s.status)&&function R0e(r,t,e){const i=e.map(g=>g.currentWriteId),s=R3(r,t,i);let o=s;const a=s.hash();for(let g=0;g<e.length;g++){const b=e[g];(0,Z.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const T=_a(t,b.path);o=o.updateChild(T,b.currentOutputSnapshotRaw)}const d=o.val(!0),f=t;r.server_.put(f.toString(),d,g=>{m0(r,"transaction put response",{path:f.toString(),status:g});let b=[];if("ok"===g){const T=[];for(let E=0;E<e.length;E++)e[E].status=2,b=b.concat(hg(r.serverSyncTree_,e[E].currentWriteId)),e[E].onComplete&&T.push(()=>e[E].onComplete(null,!0,e[E].currentOutputSnapshotResolved)),e[E].unwatcher();jk(r,Pk(r.transactionQueueTree_,t)),Zk(r,r.transactionQueueTree_),kl(r.eventQueue_,t,b);for(let E=0;E<T.length;E++)o0(T[E])}else{if("datastale"===g)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{Jo("transaction at "+f.toString()+" failed: "+g);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=g}g0(r,t)}},a)}(r,rx(t),e)}else fY(t)&&Lk(t,e=>{Zk(r,e)})}function g0(r,t){const e=SY(r,t),i=rx(e);return function N0e(r,t,e){if(0===t.length)return;const i=[];let s=[];const a=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const f=t[d],g=_a(e,f.path);let T,b=!1;if((0,Z.hu)(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)b=!0,T=f.abortReason,s=s.concat(hg(r.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)b=!0,T="maxretry",s=s.concat(hg(r.serverSyncTree_,f.currentWriteId,!0));else{const E=R3(r,f.path,a);f.currentInputSnapshot=E;const R=t[d].update(E.val());if(void 0!==R){ox("transaction failed: Data returned ",R,f.path);let L=Ur(R);"object"==typeof R&&null!=R&&(0,Z.r3)(R,".priority")||(L=L.updatePriority(E.getPriority()));const W=f.currentWriteId,ve=cx(r),Ze=w3(L,E,ve);f.currentOutputSnapshotRaw=L,f.currentOutputSnapshotResolved=Ze,f.currentWriteId=Vk(r),a.splice(a.indexOf(W),1),s=s.concat(m3(r.serverSyncTree_,f.path,Ze,f.currentWriteId,f.applyLocally)),s=s.concat(hg(r.serverSyncTree_,W,!0))}else b=!0,T="nodata",s=s.concat(hg(r.serverSyncTree_,f.currentWriteId,!0))}kl(r.eventQueue_,e,s),s=[],b&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===T?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(T),!1,null)))}jk(r,r.transactionQueueTree_);for(let d=0;d<i.length;d++)o0(i[d]);Zk(r,r.transactionQueueTree_)}(r,AY(r,e),i),i}function SY(r,t){let e,i=r.transactionQueueTree_;for(e=Bn(t);null!==e&&void 0===jy(i);)i=Pk(i,e),e=Bn(t=$i(t));return i}function AY(r,t){const e=[];return EY(r,t,e),e.sort((i,s)=>i.order-s.order),e}function EY(r,t,e){const i=jy(t);if(i)for(let s=0;s<i.length;s++)e.push(i[s]);Lk(t,s=>{EY(r,s,e)})}function jk(r,t){const e=jy(t);if(e){let i=0;for(let s=0;s<e.length;s++)2!==e[s].status&&(e[i]=e[s],i++);e.length=i,x3(t,e.length>0?e:void 0)}Lk(t,i=>{jk(r,i)})}function N3(r,t){const e=rx(SY(r,t)),i=Pk(r.transactionQueueTree_,t);return function u0e(r,t,e){let i=e?r:r.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,s=>{O3(r,s)}),O3(r,i),pY(i,s=>{O3(r,s)}),e}function O3(r,t){const e=jy(t);if(e){const i=[];let s=[],o=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,Z.hu)(o===a-1,"All SENT items should be at beginning of queue."),o=a,e[a].status=3,e[a].abortReason="set"):((0,Z.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),s=s.concat(hg(r.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?x3(t,void 0):e.length=o+1,kl(r.eventQueue_,rx(t),s);for(let a=0;a<i.length;a++)o0(i[a])}}const F3=function(r,t){const e=P0e(r),i=e.namespace;return"firebase.com"===e.domain&&ih(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ih("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Jo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new PL(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Ci(e.pathString)}},P0e=function(r){let t="",e="",i="",s="",o="",a=!0,d="https",f=443;if("string"==typeof r){let g=r.indexOf("//");g>=0&&(d=r.substring(0,g-1),r=r.substring(g+2));let b=r.indexOf("/");-1===b&&(b=r.length);let T=r.indexOf("?");-1===T&&(T=r.length),t=r.substring(0,Math.min(b,T)),b<T&&(s=function O0e(r){let t="";const e=r.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let s=e[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}t+="/"+s}return t}(r.substring(b,T)));const E=function F0e(r){const t={};"?"===r.charAt(0)&&(r=r.substring(1));for(const e of r.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Jo(`Invalid query segment '${e}' in query '${r}'`)}return t}(r.substring(Math.min(r.length,T)));g=t.indexOf(":"),g>=0?(a="https"===d||"wss"===d,f=parseInt(t.substring(g+1),10)):g=t.length;const R=t.slice(0,g);if("localhost"===R.toLowerCase())e="localhost";else if(R.split(".").length<=2)e=R;else{const L=t.indexOf(".");i=t.substring(0,L).toLowerCase(),e=t.substring(L+1),o=i}"ns"in E&&(o=E.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:a,scheme:d,pathString:s,namespace:o}},MY="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",L0e=function(){let r=0;const t=[];return function(e){const i=e===r;let s;r=e;const o=new Array(8);for(s=7;s>=0;s--)o[s]=MY.charAt(e%64),e=Math.floor(e/64);(0,Z.hu)(0===e,"Cannot push at time == 0");let a=o.join("");if(i){for(s=11;s>=0&&63===t[s];s--)t[s]=0;t[s]++}else for(s=0;s<12;s++)t[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)a+=MY.charAt(t[s]);return(0,Z.hu)(20===a.length,"nextPushId: Length should be 20."),a}}();class IY{constructor(t,e,i,s){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=s}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Z.Wl)(this.snapshot.exportVal())}}class kY{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class P3{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,Z.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class RY{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new Z.BH;return S0e(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){xc("OnDisconnect.remove",this._path);const t=new Z.BH;return DY(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){xc("OnDisconnect.set",this._path),sh("OnDisconnect.set",t,this._path,!1);const e=new Z.BH;return DY(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){xc("OnDisconnect.setWithPriority",this._path),sh("OnDisconnect.setWithPriority",t,this._path,!1),E3("OnDisconnect.setWithPriority",e,!1);const i=new Z.BH;return function A0e(r,t,e,i,s){const o=Ur(e,i);r.server_.onDisconnectPut(t.toString(),o.val(!0),(a,d)=>{"ok"===a&&d0(r.onDisconnect_,t,o),fg(0,s,a,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){xc("OnDisconnect.update",this._path),gY("OnDisconnect.update",t,this._path,!1);const e=new Z.BH;return function E0e(r,t,e,i){if((0,Z.xb)(e))return lo("onDisconnect().update() called with empty data.  Don't do anything."),void fg(0,i,"ok",void 0);r.server_.onDisconnectMerge(t.toString(),e,(s,o)=>{"ok"===s&&co(e,(a,d)=>{const f=Ur(d);d0(r.onDisconnect_,Mr(t,a),f)}),fg(0,i,s,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Za{constructor(t,e,i,s){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=s}get key(){return Un(this._path)?null:jL(this._path)}get ref(){return new Sc(this._repo,this._path)}get _queryIdentifier(){const t=P8(this._queryParams),e=OL(t);return"{}"===e?"default":e}get _queryObject(){return P8(this._queryParams)}isEqual(t){if(!((t=(0,Z.m9)(t))instanceof Za))return!1;const e=this._repo===t._repo,i=HL(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Eve(r){let t="";for(let e=r.pieceNum_;e<r.pieces_.length;e++)""!==r.pieces_[e]&&(t+="/"+encodeURIComponent(String(r.pieces_[e])));return t||"/"}(this._path)}}function Hk(r,t){if(!0===r._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function pg(r){let t=null,e=null;if(r.hasStart()&&(t=r.getIndexStartValue()),r.hasEnd()&&(e=r.getIndexEndValue()),r.getIndex()===rh){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==sg)throw new Error(i);if("string"!=typeof t)throw new Error(s)}if(r.hasEnd()){if(r.getIndexEndName()!==ep)throw new Error(i);if("string"!=typeof e)throw new Error(s)}}else if(r.getIndex()===sr){if(null!=t&&!sx(t)||null!=e&&!sx(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Z.hu)(r.getIndex()instanceof zL||r.getIndex()===$L,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qk(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Sc extends Za{constructor(t,e){super(t,e,new bk,!1)}get parent(){const t=D8(this._path);return null===t?null:new Sc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Hy{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Ci(t),i=qy(this.ref,t);return new Hy(this._node.getChild(e),i,sr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,s)=>t(new Hy(s,qy(this.ref,i),sr)))}hasChild(t){const e=new Ci(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function NY(r,t){return(r=(0,Z.m9)(r))._checkNotDeleted("ref"),void 0!==t?qy(r._root,t):r._root}function OY(r,t){(r=(0,Z.m9)(r))._checkNotDeleted("refFromURL");const e=F3(t,r._repo.repoInfo_.nodeAdmin);_Y("refFromURL",e);const i=e.repoInfo;return!r._repo.repoInfo_.isCustomHost()&&i.host!==r._repo.repoInfo_.host&&ih("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+r._repo.repoInfo_.host+")"),NY(r,e.path.toString())}function qy(r,t){return null===Bn((r=(0,Z.m9)(r))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),lx("child","path",e,!1)):lx("child","path",t,!1),new Sc(r._repo,Mr(r._path,t));var e}function L3(r,t){r=(0,Z.m9)(r),xc("set",r._path),sh("set",t,r._path,!1);const e=new Z.BH;return I3(r._repo,r._path,t,null,e.wrapCallback(()=>{})),e.promise}function j0e(r,t){gY("update",t,r._path,!1);const e=new Z.BH;return function D0e(r,t,e,i){m0(r,"update",{path:t.toString(),value:e});let s=!0;const o=cx(r),a={};if(co(e,(d,f)=>{s=!1,a[d]=hY(Mr(t,d),Ur(f),r.serverSyncTree_,o)}),s)lo("update() called with empty data.  Don't do anything."),fg(0,i,"ok",void 0);else{const d=Vk(r),f=function QCe(r,t,e,i){!function fCe(r,t,e,i){(0,Z.hu)(i>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:t,children:e,writeId:i,visible:!0}),r.visibleWrites=o3(r.visibleWrites,t,e),r.lastWriteId=i}(r.pendingWriteTree_,t,e,i);const s=or.fromObject(e);return p0(r,new h0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,s))}(r.serverSyncTree_,t,a,d);Uk(r.eventQueue_,f),r.server_.merge(t.toString(),e,(g,b)=>{const T="ok"===g;T||Jo("update at "+t+" failed: "+g);const E=hg(r.serverSyncTree_,d,!T),R=E.length>0?g0(r,t):t;kl(r.eventQueue_,R,E),fg(0,i,g,b)}),co(e,g=>{const b=N3(r,Mr(t,g));g0(r,b)}),kl(r.eventQueue_,t,[])}}(r._repo,r._path,t,e.wrapCallback(()=>{})),e.promise}function H0e(r){r=(0,Z.m9)(r);const t=new P3(()=>{}),e=new ux(t);return function T0e(r,t,e){const i=function t0e(r,t){const e=t._path;let i=null;r.syncPointTree_.foreachOnPath(e,(g,b)=>{const T=_a(g,e);i=i||ug(b,T)});let s=r.syncPointTree_.get(e);s?i=i||ug(s,oi()):(s=new tY,r.syncPointTree_=r.syncPointTree_.set(e,s));const o=null!=i,a=o?new lg(i,!0,!1):null;return function BCe(r){return xk(r.viewCache_)}(nY(s,t,Sk(r.pendingWriteTree_,t._path),o?a.getNode():xn.EMPTY_NODE,o))}(r.serverSyncTree_,t);return null!=i?Promise.resolve(i):r.server_.get(t).then(s=>{const o=Ur(s).withIndex(t._queryParams.getIndex());let a;if(g3(r.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())a=tx(r.serverSyncTree_,t._path,o);else{const d=nx(r.serverSyncTree_,t);a=aY(r.serverSyncTree_,t._path,o,d)}return kl(r.eventQueue_,t._path,a),Nk(r.serverSyncTree_,t,e,null,!0),o},s=>(m0(r,"get for query "+(0,Z.Wl)(t)+" failed: "+s),Promise.reject(new Error(s))))}(r._repo,r,e).then(i=>new Hy(i,new Sc(r._repo,r._path),r._queryParams.getIndex()))}class ux{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new IY("value",this,new Hy(t.snapshotNode,new Sc(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new kY(this,t,e):null}matches(t){return t instanceof ux&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Gk{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new kY(this,t,e):null}createEvent(t,e){(0,Z.hu)(null!=t.childName,"Child events should have a childName.");const i=qy(new Sc(e._repo,e._path),t.childName),s=e._queryParams.getIndex();return new IY(t.type,this,new Hy(t.snapshotNode,i,s),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Gk&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function dx(r,t,e,i,s){let o;if("object"==typeof i&&(o=void 0,s=i),"function"==typeof i&&(o=i),s&&s.onlyOnce){const f=e,g=(b,T)=>{k3(r._repo,r,d),f(b,T)};g.userCallback=e.userCallback,g.context=e.context,e=g}const a=new P3(e,o||void 0),d="value"===t?new ux(a):new Gk(t,a);return function M0e(r,t,e){let i;i=".info"===Bn(t._path)?g3(r.infoSyncTree_,t,e):g3(r.serverSyncTree_,t,e),yY(r.eventQueue_,t._path,i)}(r._repo,r,d),()=>k3(r._repo,r,d)}function B3(r,t,e,i){return dx(r,"value",t,e,i)}function FY(r,t,e,i){return dx(r,"child_added",t,e,i)}function PY(r,t,e,i){return dx(r,"child_changed",t,e,i)}function LY(r,t,e,i){return dx(r,"child_moved",t,e,i)}function BY(r,t,e,i){return dx(r,"child_removed",t,e,i)}function UY(r,t,e){let i=null;const s=e?new P3(e):null;"value"===t?i=new ux(s):t&&(i=new Gk(t,s)),k3(r._repo,r,i)}class Iu{}class VY extends Iu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){sh("endAt",this._value,t._path,!0);const e=KL(t._queryParams,this._value,this._key);if(qk(e),pg(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Za(t._repo,t._path,e,t._orderByCalled)}}class G0e extends Iu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){sh("endBefore",this._value,t._path,!1);const e=function eCe(r,t,e){let i;return i=KL(r,t,r.index_===rh||e?e:sg),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(qk(e),pg(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Za(t._repo,t._path,e,t._orderByCalled)}}class ZY extends Iu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){sh("startAt",this._value,t._path,!0);const e=WL(t._queryParams,this._value,this._key);if(qk(e),pg(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Za(t._repo,t._path,e,t._orderByCalled)}}class z0e extends Iu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){sh("startAfter",this._value,t._path,!1);const e=function Xve(r,t,e){let i;return i=WL(r,t,r.index_===rh||e?e:ep),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(qk(e),pg(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Za(t._repo,t._path,e,t._orderByCalled)}}class Q0e extends Iu{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Za(t._repo,t._path,function Wve(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class K0e extends Iu{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Za(t._repo,t._path,function Kve(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class e1e extends Iu{constructor(t){super(),this._path=t}_apply(t){Hk(t,"orderByChild");const e=new Ci(this._path);if(Un(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new zL(e),s=vk(t._queryParams,i);return pg(s),new Za(t._repo,t._path,s,!0)}}class n1e extends Iu{_apply(t){Hk(t,"orderByKey");const e=vk(t._queryParams,rh);return pg(e),new Za(t._repo,t._path,e,!0)}}class r1e extends Iu{_apply(t){Hk(t,"orderByPriority");const e=vk(t._queryParams,sr);return pg(e),new Za(t._repo,t._path,e,!0)}}class o1e extends Iu{_apply(t){Hk(t,"orderByValue");const e=vk(t._queryParams,$L);return pg(e),new Za(t._repo,t._path,e,!0)}}class l1e extends Iu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(sh("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new VY(this._value,this._key)._apply(new ZY(this._value,this._key)._apply(t))}}function ku(r,...t){let e=(0,Z.m9)(r);for(const i of t)e=i._apply(e);return e}(function jCe(r){(0,Z.hu)(!Ik,"__referenceConstructor has already been defined"),Ik=r})(Sc),function JCe(r){(0,Z.hu)(!Rk,"__referenceConstructor has already been defined"),Rk=r}(Sc);const U3={};function HY(r,t,e,i,s){let o=i||r.options.databaseURL;void 0===o&&(r.options.projectId||ih("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lo("Using default host for project ",r.options.projectId),o=`${r.options.projectId}-default-rtdb.firebaseio.com`);let f,g,a=F3(o,s),d=a.repoInfo;typeof process<"u"&&process.env&&(g=process.env.FIREBASE_DATABASE_EMULATOR_HOST),g?(f=!0,o=`http://${g}?ns=${d.namespace}`,a=F3(o,s),d=a.repoInfo):f=!a.repoInfo.secure;const b=s&&f?new HD(HD.OWNER):new ive(r.name,r.options,t);_Y("Invalid Firebase Database URL",a),Un(a.path)||ih("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function f1e(r,t,e,i){let s=U3[t.name];s||(s={},U3[t.name]=s);let o=s[r.toURLString()];return o&&ih("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new v0e(r,false,e,i),s[r.toURLString()]=o,o}(d,r,b,new nve(r.name,e));return new m1e(T,r)}class m1e{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function C0e(r,t,e){if(r.stats_=UL(r.repoInfo_),r.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)r.server_=new Ck(r.repoInfo_,(i,s,o,a)=>{wY(r,i,s,o,a)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>TY(r,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Z.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}r.persistentConnection_=new By(r.repoInfo_,t,(i,s,o,a)=>{wY(r,i,s,o,a)},i=>{TY(r,i)},i=>{!function w0e(r,t){co(t,(e,i)=>{M3(r,e,i)})}(r,i)},r.authTokenProvider_,r.appCheckProvider_,e),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(i=>{r.server_.refreshAuthToken(i)}),r.appCheckProvider_.addTokenChangeListener(i=>{r.server_.refreshAppCheckToken(i.token)}),r.statsReporter_=function ove(r,t){const e=r.toString();return BL[e]||(BL[e]=t()),BL[e]}(r.repoInfo_,()=>new oCe(r.stats_,r.server_)),r.infoData_=new tCe,r.infoSyncTree_=new oY({startListening:(i,s,o,a)=>{let d=[];const f=r.infoData_.getNode(i._path);return f.isEmpty()||(d=tx(r.infoSyncTree_,i._path,f),setTimeout(()=>{a("ok")},0)),d},stopListening:()=>{}}),M3(r,"connected",!1),r.serverSyncTree_=new oY({startListening:(i,s,o,a)=>(r.server_.listen(i,o,s,(d,f)=>{const g=a(d,f);kl(r.eventQueue_,i._path,g)}),[]),stopListening:(i,s)=>{r.server_.unlisten(i,s)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sc(this._repo,oi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function h1e(r,t){const e=U3[t];(!e||e[r.key]!==r)&&ih(`Database ${t}(${r.repoInfo_}) has already been deleted.`),xY(r),delete e[r.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ih("Cannot call "+t+" on a deleted database.")}}function qY(){h8.IS_TRANSPORT_INITIALIZED&&Jo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function g1e(){qY(),og.forceDisallow()}function _1e(){qY(),a0.forceDisallow(),og.forceAllow()}function v1e(r,t){Y5(r,t)}const w1e={".sv":"timestamp"};class x1e{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}By.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)},By.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)},function C1e(r){Z5(Bo.SDK_VERSION),(0,Bo._registerComponent)(new uc.wA("database",(t,{instanceIdentifier:e})=>HY(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Bo.registerVersion)(U5,"0.14.4",r),(0,Bo.registerVersion)(U5,"0.14.4","esm2017")}();const M1e=new dc.Yd("@firebase/database-compat"),YY=function(r){M1e.warn("FIREBASE WARNING: "+r)};class R1e{constructor(t){this._delegate=t}cancel(t){(0,Z.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Z.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,Z.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Z.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,Z.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Z.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(t,e,i){(0,Z.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Z.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const s=this._delegate.setWithPriority(t,e);return i&&s.then(()=>i(null),o=>i(o)),s}update(t,e){if((0,Z.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const s={};for(let o=0;o<t.length;++o)s[""+o]=t[o];t=s,YY("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Z.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),s=>e(s)),i}}class N1e{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,Z.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class mg{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,Z.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Z.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Z.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Z.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,Z.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),lx("DataSnapshot.child","path",t,!1),new mg(this._database,this._delegate.child(t))}hasChild(t){return(0,Z.Dv)("DataSnapshot.hasChild",1,1,arguments.length),lx("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,Z.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,Z.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Z.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new mg(this._database,e)))}hasChildren(){return(0,Z.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Z.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Z.Dv)("DataSnapshot.ref",0,0,arguments.length),new Rl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Mo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,s){var o;(0,Z.Dv)("Query.on",2,4,arguments.length),(0,Z.Wj)("Query.on","callback",e,!1);const a=Mo.getCancelAndContextArgs_("Query.on",i,s),d=(g,b)=>{e.call(a.context,new mg(this.database,g),b)};d.userCallback=e,d.context=a.context;const f=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(t){case"value":return B3(this._delegate,d,f),e;case"child_added":return FY(this._delegate,d,f),e;case"child_removed":return BY(this._delegate,d,f),e;case"child_changed":return PY(this._delegate,d,f),e;case"child_moved":return LY(this._delegate,d,f),e;default:throw new Error((0,Z.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,Z.Dv)("Query.off",0,3,arguments.length),function(r,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Z.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,Z.Wj)("Query.off","callback",e,!0),(0,Z.lb)("Query.off","context",i,!0),e){const s=()=>{};s.userCallback=e,s.context=i,UY(this._delegate,t,s)}else UY(this._delegate,t)}get(){return H0e(this._delegate).then(t=>new mg(this.database,t))}once(t,e,i,s){(0,Z.Dv)("Query.once",1,4,arguments.length),(0,Z.Wj)("Query.once","callback",e,!0);const o=Mo.getCancelAndContextArgs_("Query.once",i,s),a=new Z.BH,d=(g,b)=>{const T=new mg(this.database,g);e&&e.call(o.context,T,b),a.resolve(T)};d.userCallback=e,d.context=o.context;const f=g=>{o.cancel&&o.cancel.call(o.context,g),a.reject(g)};switch(t){case"value":B3(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":FY(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":BY(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":PY(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":LY(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,Z.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,Z.Dv)("Query.limitToFirst",1,1,arguments.length),new Mo(this.database,ku(this._delegate,function W0e(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Q0e(r)}(t)))}limitToLast(t){return(0,Z.Dv)("Query.limitToLast",1,1,arguments.length),new Mo(this.database,ku(this._delegate,function X0e(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new K0e(r)}(t)))}orderByChild(t){return(0,Z.Dv)("Query.orderByChild",1,1,arguments.length),new Mo(this.database,ku(this._delegate,function t1e(r){if("$key"===r)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===r)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===r)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return lx("orderByChild","path",r,!1),new e1e(r)}(t)))}orderByKey(){return(0,Z.Dv)("Query.orderByKey",0,0,arguments.length),new Mo(this.database,ku(this._delegate,function i1e(){return new n1e}()))}orderByPriority(){return(0,Z.Dv)("Query.orderByPriority",0,0,arguments.length),new Mo(this.database,ku(this._delegate,function s1e(){return new r1e}()))}orderByValue(){return(0,Z.Dv)("Query.orderByValue",0,0,arguments.length),new Mo(this.database,ku(this._delegate,function a1e(){return new o1e}()))}startAt(t=null,e){return(0,Z.Dv)("Query.startAt",0,2,arguments.length),new Mo(this.database,ku(this._delegate,function J0e(r=null,t){return ax("startAt","key",t,!0),new ZY(r,t)}(t,e)))}startAfter(t=null,e){return(0,Z.Dv)("Query.startAfter",0,2,arguments.length),new Mo(this.database,ku(this._delegate,function $0e(r,t){return ax("startAfter","key",t,!0),new z0e(r,t)}(t,e)))}endAt(t=null,e){return(0,Z.Dv)("Query.endAt",0,2,arguments.length),new Mo(this.database,ku(this._delegate,function q0e(r,t){return ax("endAt","key",t,!0),new VY(r,t)}(t,e)))}endBefore(t=null,e){return(0,Z.Dv)("Query.endBefore",0,2,arguments.length),new Mo(this.database,ku(this._delegate,function Y0e(r,t){return ax("endBefore","key",t,!0),new G0e(r,t)}(t,e)))}equalTo(t,e){return(0,Z.Dv)("Query.equalTo",1,2,arguments.length),new Mo(this.database,ku(this._delegate,function c1e(r,t){return ax("equalTo","key",t,!0),new l1e(r,t)}(t,e)))}toString(){return(0,Z.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Z.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,Z.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Mo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const s={cancel:void 0,context:void 0};if(e&&i)s.cancel=e,(0,Z.Wj)(t,"cancel",s.cancel,!0),s.context=i,(0,Z.lb)(t,"context",s.context,!0);else if(e)if("object"==typeof e&&null!==e)s.context=e;else{if("function"!=typeof e)throw new Error((0,Z.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");s.cancel=e}return s}get ref(){return new Rl(this.database,new Sc(this._delegate._repo,this._delegate._path))}}class Rl extends Mo{constructor(t,e){super(t,new Za(e._repo,e._path,new bk,!1)),this.database=t,this._delegate=e}getKey(){return(0,Z.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,Z.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Rl(this.database,qy(this._delegate,t))}getParent(){(0,Z.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Rl(this.database,t):null}getRoot(){return(0,Z.Dv)("Reference.root",0,0,arguments.length),new Rl(this.database,this._delegate.root)}set(t,e){(0,Z.Dv)("Reference.set",1,2,arguments.length),(0,Z.Wj)("Reference.set","onComplete",e,!0);const i=L3(this._delegate,t);return e&&i.then(()=>e(null),s=>e(s)),i}update(t,e){if((0,Z.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const s={};for(let o=0;o<t.length;++o)s[""+o]=t[o];t=s,YY("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xc("Reference.update",this._delegate._path),(0,Z.Wj)("Reference.update","onComplete",e,!0);const i=j0e(this._delegate,t);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(t,e,i){(0,Z.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Z.Wj)("Reference.setWithPriority","onComplete",i,!0);const s=function Z0e(r,t,e){if(xc("setWithPriority",r._path),sh("setWithPriority",t,r._path,!1),E3("setWithPriority",e,!1),".length"===r.key||".keys"===r.key)throw"setWithPriority failed: "+r.key+" is a read-only object.";const i=new Z.BH;return I3(r._repo,r._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&s.then(()=>i(null),o=>i(o)),s}remove(t){(0,Z.Dv)("Reference.remove",0,1,arguments.length),(0,Z.Wj)("Reference.remove","onComplete",t,!0);const e=function U0e(r){return xc("remove",r._path),L3(r,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,Z.Dv)("Reference.transaction",1,3,arguments.length),(0,Z.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,Z.Wj)("Reference.transaction","onComplete",e,!0),function(r,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,Z.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const s=function S1e(r,t,e){var i;if(r=(0,Z.m9)(r),xc("Reference.transaction",r._path),".length"===r.key||".keys"===r.key)throw"Reference.transaction failed: "+r.key+" is a read-only object.";const s=null===(i=e?.applyLocally)||void 0===i||i,o=new Z.BH,d=B3(r,()=>{});return function k0e(r,t,e,i,s,o){m0(r,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:H5(),applyLocally:o,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=R3(r,t,void 0);a.currentInputSnapshot=d;const f=a.update(d.val());if(void 0===f)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{ox("transaction failed: Data returned ",f,a.path),a.status=0;const g=Pk(r.transactionQueueTree_,t),b=jy(g)||[];let T;b.push(a),x3(g,b),"object"==typeof f&&null!==f&&(0,Z.r3)(f,".priority")?(T=(0,Z.DV)(f,".priority"),(0,Z.hu)(sx(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(Ok(r.serverSyncTree_,t)||xn.EMPTY_NODE).getPriority().val();const E=cx(r),R=Ur(f,T),L=w3(R,d,E);a.currentOutputSnapshotRaw=R,a.currentOutputSnapshotResolved=L,a.currentWriteId=Vk(r);const Y=m3(r.serverSyncTree_,t,L,a.currentWriteId,a.applyLocally);kl(r.eventQueue_,t,Y),Zk(r,r.transactionQueueTree_)}}(r._repo,r._path,t,(f,g,b)=>{let T=null;f?o.reject(f):(T=new Hy(b,new Sc(r._repo,r._path),sr),o.resolve(new x1e(g,T)))},d,s),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new N1e(o.committed,new mg(this.database,o.snapshot)));return e&&s.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),s}setPriority(t,e){(0,Z.Dv)("Reference.setPriority",1,2,arguments.length),(0,Z.Wj)("Reference.setPriority","onComplete",e,!0);const i=function V0e(r,t){r=(0,Z.m9)(r),xc("setPriority",r._path),E3("setPriority",t,!1);const e=new Z.BH;return I3(r._repo,Mr(r._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),s=>e(s)),i}push(t,e){(0,Z.Dv)("Reference.push",0,2,arguments.length),(0,Z.Wj)("Reference.push","onComplete",e,!0);const i=function B0e(r,t){r=(0,Z.m9)(r),xc("push",r._path),sh("push",t,r._path,!0);const e=CY(r._repo),i=L0e(e),s=qy(r,i),o=qy(r,i);let a;return a=null!=t?L3(o,t).then(()=>o):Promise.resolve(o),s.then=a.then.bind(a),s.catch=a.then.bind(a,void 0),s}(this._delegate,t),s=i.then(a=>new Rl(this.database,a));e&&s.then(()=>e(null),a=>e(a));const o=new Rl(this.database,i);return o.then=s.then.bind(s),o.catch=s.catch.bind(s,void 0),o}onDisconnect(){return xc("Reference.onDisconnect",this._delegate._path),new R1e(new RY(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class hx{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:g1e,forceLongPolling:_1e}}useEmulator(t,e,i={}){!function GY(r,t,e,i={}){(r=(0,Z.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&ih("Cannot call useEmulator() after instance has already been initialized.");const s=r._repoInternal;let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&ih('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new HD(HD.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,Z.Sg)(i.mockUserToken,r.app.options.projectId);o=new HD(a)}!function d1e(r,t,e,i){r.repoInfo_=new PL(`${t}:${e}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),i&&(r.authTokenProvider_=i)}(s,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,Z.Dv)("database.ref",0,1,arguments.length),t instanceof Rl){const e=OY(this._delegate,t.toString());return new Rl(this,e)}{const e=NY(this._delegate,t);return new Rl(this,e)}}refFromURL(t){(0,Z.Dv)("database.refFromURL",1,1,arguments.length);const i=OY(this._delegate,t);return new Rl(this,i)}goOffline(){return(0,Z.Dv)("database.goOffline",0,0,arguments.length),function y1e(r){(r=(0,Z.m9)(r))._checkNotDeleted("goOffline"),xY(r._repo)}(this._delegate)}goOnline(){return(0,Z.Dv)("database.goOnline",0,0,arguments.length),function b1e(r){(r=(0,Z.m9)(r))._checkNotDeleted("goOnline"),function I0e(r){r.persistentConnection_&&r.persistentConnection_.resume(vY)}(r._repo)}(this._delegate)}}hx.ServerValue={TIMESTAMP:function T1e(){return w1e}(),increment:r=>function D1e(r){return{".sv":{increment:r}}}(r)};var F1e=Object.freeze({__proto__:null,initStandalone:function O1e({app:r,url:t,version:e,customAuthImpl:i,namespace:s,nodeAdmin:o=!1}){Z5(e);const a=new uc.zt("auth-internal",new uc.H0("database-standalone"));return a.setComponent(new uc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new hx(HY(r,a,void 0,t,o),r),namespace:s}}});const P1e=hx.ServerValue;function JY(r){return null==r}function zY(r){return"function"==typeof r.set}function $Y(r,t){return zY(t)?t:r.ref(t)}function QY(r,t){if(function B1e(r){return"string"==typeof r}(r))return t.stringCase();if(zY(r))return t.firebaseCase();if(function U1e(r){return"function"==typeof r.exportVal}(r))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function fx(r,t,e="on",i=Ed.z){return new mn.y(s=>{let o=null;return o=r[e](t,(a,d)=>{i.schedule(()=>{s.next({snapshot:a,prevKey:d})}),"once"===e&&i.schedule(()=>s.complete())},a=>{i.schedule(()=>s.error(a))}),"on"===e?{unsubscribe(){null!=o&&r.off(t,o)}}:{unsubscribe(){}}}).pipe((0,Je.U)(s=>{const{snapshot:o,prevKey:a}=s;let d=null;return o.exists()&&(d=o.key),{type:t,payload:o,prevKey:a,key:d}}),(0,TP.B)())}function WY(r,t){const e=r.length;for(let i=0;i<e;i++)if(r[i].payload.key===t)return i;return-1}function j1e(r,t){const{payload:e,prevKey:i,key:s}=t,o=WY(r,s),a=function Z1e(r,t){if(JY(t))return 0;{const e=WY(r,t);return-1===e?r.length:e+1}}(r,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(f=>{const g={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,r=[...r,g],!1})}return r;case"child_added":if(o>-1){const d=r[o-1];(d&&d.key||null)!==i&&(r=r.filter(f=>f.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...r];(r=r.slice()).splice(a,0,t)}return r;case"child_removed":return r.filter(d=>d.payload.key!==e.key);case"child_changed":return r.map(d=>d.payload.key===s?t:d);case"child_moved":if(o>-1){const d=r.splice(o,1)[0];return(r=r.slice()).splice(a,0,d),r}return r;default:return r}}function KY(r){return(JY(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function XY(r,t,e){return function V1e(r,t,e){return fx(r,"value","once",e).pipe(kn(i=>{const s=[(0,Ve.of)(i)];return t.forEach(o=>s.push(fx(r,o,"on",e))),(0,ci.T)(...s).pipe(Ia(j1e,[]))}),Or())}(r,t=KY(t),e)}function eJ(r,t,e){const i=(t=KY(t)).map(s=>fx(r,s,"on",e));return(0,ci.T)(...i)}function tJ(r,t){return function(i,s){return QY(i,{stringCase:()=>r.child(i)[t](s),firebaseCase:()=>i[t](s),snapshotCase:()=>i.ref[t](s)})}}function Y1e(r){return function(e){return e?QY(e,{stringCase:()=>r.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):r.remove()}}function nJ(r,t){return function(){return fx(r,"value","on",t)}}!function L1e(r){r.INTERNAL.registerComponent(new uc.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),s=t.getProvider("database").getImmediate({identifier:e});return new hx(s,i)},"PUBLIC").setServiceProps({Reference:Rl,Query:Mo,Database:hx,DataSnapshot:mg,enableLogging:v1e,INTERNAL:F1e,ServerValue:P1e}).setMultipleInstances(!0)),r.registerVersion("@firebase/database-compat","0.3.4")}(uv.Z);const $1e=new n.OlP("angularfire2.realtimeDatabaseURL"),iJ=new n.OlP("angularfire2.database.use-emulator");let Q1e=(()=>{class r{constructor(e,i,s,o,a,d,f,g,b,T,E,R,L,Y,W){this.schedulers=d;const ve=f,Ze=(0,Rr.on)(e,a,i);g&&$p(Ze,a,b,E,R,L,T,Y),this.database=(0,Rr.cc)(`${Ze.name}.database.${s}`,"AngularFireDatabase",Ze.name,()=>{const He=a.runOutsideAngular(()=>Ze.database(s||void 0));return ve&&He.useEmulator(...ve),He},[ve])}list(e,i){const s=this.schedulers.ngZone.runOutsideAngular(()=>$Y(this.database,e));let o=s;return i&&(o=i(s)),function J1e(r,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>r.ref);return{query:r,update:tJ(i,"update"),set:tJ(i,"set"),push:s=>i.push(s),remove:Y1e(i),snapshotChanges:s=>XY(r,s,e).pipe(Qn.iC),stateChanges:s=>eJ(r,s,e).pipe(Qn.iC),auditTrail:s=>function H1e(r,t,e){return function G1e(r,t,e){return function q1e(r,t){return fx(r,"value","on",t).pipe((0,Je.U)(e=>{let i;return e.payload.forEach(s=>(i=s.key,!1)),{data:e,lastKeyToLoad:i}}))}(r,e).pipe(WI(t),(0,Je.U)(([s,o])=>{const a=s.lastKeyToLoad,d=o.map(f=>f.key);return{actions:o,lastKeyToLoad:a,loadedKeys:d}}),function Zbe(r){return t=>t.lift(new jbe(r))}(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad)),(0,Je.U)(s=>s.actions))}(r,eJ(r,t).pipe(Ia((s,o)=>[...s,o],[])),e)}(r,s,e).pipe(Qn.iC),valueChanges:(s,o)=>XY(r,s,e).pipe((0,Je.U)(d=>d.map(f=>o&&o.idField?Object.assign(Object.assign({},f.payload.val()),{[o.idField]:f.key}):f.payload.val())),Qn.iC)}}(o,this)}object(e){return function z1e(r,t){return{query:r,snapshotChanges:()=>nJ(r,t.schedulers.outsideAngular)().pipe(Qn.iC),update:e=>r.ref.update(e),set:e=>r.ref.set(e),remove:()=>r.ref.remove(),valueChanges:()=>nJ(r,t.schedulers.outsideAngular)().pipe(Qn.iC,(0,Je.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>$Y(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Rr.Dh),n.LFG(Rr.xv,8),n.LFG($1e,8),n.LFG(n.Lbi),n.LFG(n.R0b),n.LFG(Qn.HU),n.LFG(iJ,8),n.LFG(ws,8),n.LFG(zp,8),n.LFG(O1,8),n.LFG(Na,8),n.LFG(pf,8),n.LFG(us,8),n.LFG(uu,8),n.LFG(s_,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),W1e=(()=>{class r{constructor(){o_.Z.registerVersion("angularfire",Qn.q4.full,"rtdb-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[Q1e]}),r})();const rJ="firebasestorage.googleapis.com",sJ="storageBucket";class Vr extends Z.ZR{constructor(t,e,i=0){super(V3(t),`Firebase Storage: ${e} (${V3(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return V3(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ar=(()=>(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ar||(ar={})),ar))();function V3(r){return"storage/"+r}function Z3(){return new Vr(ar.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function oJ(){return new Vr(ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aJ(){return new Vr(ar.CANCELED,"User canceled the upload/download.")}function lJ(){return new Vr(ar.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _0(r){return new Vr(ar.INVALID_ARGUMENT,r)}function cJ(){return new Vr(ar.APP_DELETED,"The Firebase app was deleted.")}function uJ(r){return new Vr(ar.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function px(r,t){return new Vr(ar.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function mx(r){throw new Vr(ar.INTERNAL_ERROR,"Internal error: "+r)}class zo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=zo.makeFromUrl(t,e)}catch{return new zo(t,"")}if(""===i.path)return i;throw function awe(r){return new Vr(ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}(t)}static makeFromUrl(t,e){let i=null;const s="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+s+"(/(.*))?$","i");function g(ze){ze.path_=decodeURIComponent(ze.path)}const T=e.replace(/[.]/g,"\\."),He=[{regex:d,indices:{bucket:1,path:3},postModify:function o(ze){"/"===ze.path.charAt(ze.path.length-1)&&(ze.path_=ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:g},{regex:new RegExp(`^https?://${e===rJ?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:g}];for(let ze=0;ze<He.length;ze++){const Ht=He[ze],Ct=Ht.regex.exec(t);if(Ct){let Zr=Ct[Ht.indices.path];Zr||(Zr=""),i=new zo(Ct[Ht.indices.bucket],Zr),Ht.postModify(i);break}}if(null==i)throw function owe(r){return new Vr(ar.INVALID_URL,"Invalid URL '"+r+"'.")}(t);return i}}class hwe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Yk(r){return"string"==typeof r||r instanceof String}function dJ(r){return j3()&&r instanceof Blob}function j3(){return typeof Blob<"u"&&!(0,Z.UG)()}function H3(r,t,e,i){if(i<t)throw _0(`Invalid value for '${r}'. Expected ${t} or greater.`);if(i>e)throw _0(`Invalid value for '${r}'. Expected ${e} or less.`)}function np(r,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${r}`}function hJ(r){const t=encodeURIComponent;let e="?";for(const i in r)r.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(r[i])+"&");return e=e.slice(0,-1),e}var gg=(()=>(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"}(gg||(gg={})),gg))();function fJ(r,t){const e=r>=500&&r<600,s=-1!==[408,429].indexOf(r),o=-1!==t.indexOf(r);return e||s||o}class ywe{constructor(t,e,i,s,o,a,d,f,g,b,T,E=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=d,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=T,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,L)=>{this.resolve_=R,this.reject_=L,this.start_()})}start_(){const e=(i,s)=>{const o=this.resolve_,a=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function mwe(r){return void 0!==r}(f)?o():o(f)}catch(f){a(f)}else if(null!==d){const f=Z3();f.serverResponse=d.getErrorText(),a(this.errorCallback_?this.errorCallback_(d,f):f)}else a(s.canceled?this.appDelete_?cJ():aJ():oJ())};this.canceled_?e(0,new Jk(!1,null,!0)):this.backoffId_=function fwe(r,t,e){let i=1,s=null,o=null,a=!1,d=0;function f(){return 2===d}let g=!1;function b(...W){g||(g=!0,t.apply(null,W))}function T(W){s=setTimeout(()=>{s=null,r(R,f())},W)}function E(){o&&clearTimeout(o)}function R(W,...ve){if(g)return void E();if(W)return E(),void b.call(null,W,...ve);if(f()||a)return E(),void b.call(null,W,...ve);let He;i<64&&(i*=2),1===d?(d=2,He=0):He=1e3*(i+Math.random()),T(He)}let L=!1;function Y(W){L||(L=!0,E(),!g&&(null!==s?(W||(d=2),clearTimeout(s),T(0)):W||(d=1)))}return T(0),o=setTimeout(()=>{a=!0,Y(!0)},e),Y}((i,s)=>{if(s)return void i(!1,new Jk(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const a=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const d=o.getErrorCode()===gg.NO_ERROR,f=o.getStatus();if(!d||fJ(f,this.additionalRetryCodes_)&&this.retry){const b=o.getErrorCode()===gg.ABORT;return void i(!1,new Jk(!1,null,b))}const g=-1!==this.successCodes_.indexOf(f);i(!0,new Jk(g,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function pwe(r){r(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jk{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function xwe(...r){const t=function Dwe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<r.length;i++)e.append(r[i]);return e.getBlob()}if(j3())return new Blob(r);throw new Vr(ar.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Nl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class q3{constructor(t,e){this.data=t,this.contentType=e||null}}function G3(r,t){switch(r){case Nl.RAW:return new q3(pJ(t));case Nl.BASE64:case Nl.BASE64URL:return new q3(mJ(r,t));case Nl.DATA_URL:return new q3(function Mwe(r){const t=new gJ(r);return t.base64?mJ(Nl.BASE64,t.rest):function Ewe(r){let t;try{t=decodeURIComponent(r)}catch{throw px(Nl.DATA_URL,"Malformed data URL.")}return pJ(t)}(t.rest)}(t),function Iwe(r){return new gJ(r).contentType}(t))}throw Z3()}function pJ(r){const t=[];for(let e=0;e<r.length;e++){let i=r.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<r.length-1&&56320==(64512&r.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&r.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function mJ(r,t){switch(r){case Nl.BASE64:{const s=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(s||o)throw px(r,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Nl.BASE64URL:{const s=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(s||o)throw px(r,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Awe(r){if(typeof atob>"u")throw function dwe(r){return new Vr(ar.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(r)}(t)}catch(s){throw s.message.includes("polyfill")?s:px(r,"Invalid character found")}const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}class gJ{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw px(Nl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function kwe(r,t){return r.length>=t.length&&r.substring(r.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class oh{constructor(t,e){let i=0,s="";dJ(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,e){if(dJ(this.data_)){const s=function Swe(r,t,e){return r.webkitSlice?r.webkitSlice(t,e):r.mozSlice?r.mozSlice(t,e):r.slice?r.slice(t,e):null}(this.data_,t,e);return null===s?null:new oh(s)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new oh(i,!0)}}static getBlob(...t){if(j3()){const e=t.map(i=>i instanceof oh?i.data_:i);return new oh(xwe.apply(null,e))}{const e=t.map(a=>Yk(a)?G3(Nl.RAW,a).data:a.data_);let i=0;e.forEach(a=>{i+=a.byteLength});const s=new Uint8Array(i);let o=0;return e.forEach(a=>{for(let d=0;d<a.length;d++)s[o++]=a[d]}),new oh(s,!0)}}uploadData(){return this.data_}}function Y3(r){let t;try{t=JSON.parse(r)}catch{return null}return function _we(r){return"object"==typeof r&&!Array.isArray(r)}(t)?t:null}function _J(r){const t=r.lastIndexOf("/",r.length-2);return-1===t?r:r.slice(t+1)}function Owe(r,t){return t}class ya{constructor(t,e,i,s){this.server=t,this.local=e||t,this.writable=!!i,this.xform=s||Owe}}let zk=null;function gx(){if(zk)return zk;const r=[];r.push(new ya("bucket")),r.push(new ya("generation")),r.push(new ya("metageneration")),r.push(new ya("name","fullPath",!0));const e=new ya("name");e.xform=function t(o,a){return function Fwe(r){return!Yk(r)||r.length<2?r:_J(r)}(a)},r.push(e);const s=new ya("size");return s.xform=function i(o,a){return void 0!==a?Number(a):a},r.push(s),r.push(new ya("timeCreated")),r.push(new ya("updated")),r.push(new ya("md5Hash",null,!0)),r.push(new ya("cacheControl",null,!0)),r.push(new ya("contentDisposition",null,!0)),r.push(new ya("contentEncoding",null,!0)),r.push(new ya("contentLanguage",null,!0)),r.push(new ya("contentType",null,!0)),r.push(new ya("metadata","customMetadata",!0)),zk=r,zk}function yJ(r,t,e){const i=Y3(t);return null===i?null:function Lwe(r,t,e){const i={type:"file"},s=e.length;for(let o=0;o<s;o++){const a=e[o];i[a.local]=a.xform(i,t[a.server])}return function Pwe(r,t){Object.defineProperty(r,"ref",{get:function e(){const o=new zo(r.bucket,r.fullPath);return t._makeStorageReference(o)}})}(i,r),i}(r,i,e)}function J3(r,t){const e={},i=t.length;for(let s=0;s<i;s++){const o=t[s];o.writable&&(e[o.server]=r[o.local])}return JSON.stringify(e)}const bJ="prefixes";class ah{constructor(t,e,i,s){this.url=t,this.method=e,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function lh(r){if(!r)throw Z3()}function $k(r,t){return function e(i,s){const o=yJ(r,s,t);return lh(null!==o),o}}function y0(r){return function t(e,i){let s;return s=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function rwe(){return new Vr(ar.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function iwe(){return new Vr(ar.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function nwe(r){return new Vr(ar.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===e.getStatus()?function swe(r){return new Vr(ar.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}(r.path):i,s.status=e.getStatus(),s.serverResponse=i.serverResponse,s}}function _x(r){const t=y0(r);return function e(i,s){let o=t(i,s);return 404===i.getStatus()&&(o=function twe(r){return new Vr(ar.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}(r.path)),o.serverResponse=s.serverResponse,o}}function CJ(r,t,e){const s=np(t.fullServerUrl(),r.host,r._protocol),a=r.maxOperationRetryTime,d=new ah(s,"GET",$k(r,e),a);return d.errorHandler=_x(t),d}function Hwe(r,t,e,i,s){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),s&&(o.maxResults=s);const d=np(t.bucketOnlyServerUrl(),r.host,r._protocol),g=r.maxOperationRetryTime,b=new ah(d,"GET",function Zwe(r,t){return function e(i,s){const o=function Vwe(r,t,e){const i=Y3(e);return null===i?null:function Uwe(r,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[bJ])for(const s of e[bJ]){const o=s.replace(/\/$/,""),a=r._makeStorageReference(new zo(t,o));i.prefixes.push(a)}if(e.items)for(const s of e.items){const o=r._makeStorageReference(new zo(t,s.name));i.items.push(o)}return i}(r,t,i)}(r,t,s);return lh(null!==o),o}}(r,t.bucket),g);return b.urlParams=o,b.errorHandler=y0(t),b}function TJ(r,t,e){const i=Object.assign({},e);return i.fullPath=r.path,i.size=t.size(),i.contentType||(i.contentType=function Jwe(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class Qk{constructor(t,e,i,s){this.current=t,this.total=e,this.finalized=!!i,this.metadata=s||null}}function z3(r,t){let e=null;try{e=r.getResponseHeader("X-Goog-Upload-Status")}catch{lh(!1)}return lh(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Wwe={STATE_CHANGED:"state_changed"},ba={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $3(r){switch(r){case"running":case"pausing":case"canceling":return ba.RUNNING;case"paused":return ba.PAUSED;case"success":return ba.SUCCESS;case"canceled":return ba.CANCELED;default:return ba.ERROR}}class Kwe{constructor(t,e,i){if(function gwe(r){return"function"==typeof r}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function b0(r){return(...t)=>{Promise.resolve().then(()=>r(...t))}}class eTe extends class Xwe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gg.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gg.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gg.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,s){if(this.sent_)throw mx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==s)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mx("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mx("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mx("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mx("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Ru(){return new eTe}class AJ{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=gx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(ar.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(fJ(s.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();s=oJ()}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(ar.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function zwe(r,t,e,i,s){const o=t.bucketOnlyServerUrl(),a=TJ(t,i,s),d={name:a.fullPath},f=np(o,r.host,r._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},T=J3(a,e),L=new ah(f,"POST",function R(Y){let W;z3(Y);try{W=Y.getResponseHeader("X-Goog-Upload-URL")}catch{lh(!1)}return lh(Yk(W)),W},r.maxUploadRetryTime);return L.urlParams=d,L.headers=b,L.body=T,L.errorHandler=y0(t),L}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,Ru,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const s=function $we(r,t,e,i){const f=new ah(e,"POST",function o(g){const b=z3(g,["active","final"]);let T=null;try{T=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{lh(!1)}T||lh(!1);const E=Number(T);return lh(!isNaN(E)),new Qk(E,i.size(),"final"===b)},r.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=y0(t),f}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(s,Ru,e,i);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new Qk(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((s,o)=>{let a;try{a=function Qwe(r,t,e,i,s,o,a,d){const f=new Qk(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function cwe(){return new Vr(ar.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const g=f.total-f.current;let b=g;s>0&&(b=Math.min(b,s));const T=f.current;let R="";R=0===b?"finalize":g===b?"upload, finalize":"upload";const L={"X-Goog-Upload-Command":R,"X-Goog-Upload-Offset":`${f.current}`},Y=i.slice(T,T+b);if(null===Y)throw lJ();const He=new ah(e,"POST",function W(ze,Ht){const Ct=z3(ze,["active","final"]),Gn=f.current+b,Zr=i.size();let $o;return $o="final"===Ct?$k(t,o)(ze,Ht):null,new Qk(Gn,Zr,"final"===Ct,$o)},t.maxUploadRetryTime);return He.headers=L,He.body=Y.uploadData(),He.progressCallback=d||null,He.errorHandler=y0(r),He}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(a,Ru,s,o,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=CJ(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(i,Ru,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function DJ(r,t,e,i,s){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let He="";for(let ze=0;ze<2;ze++)He+=Math.random().toString().slice(2);return He}();a["Content-Type"]="multipart/related; boundary="+f;const g=TJ(t,i,s),b=J3(g,e),R=oh.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+f+"\r\nContent-Type: "+g.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===R)throw lJ();const L={name:g.fullPath},Y=np(o,r.host,r._protocol),ve=r.maxUploadRetryTime,Ze=new ah(Y,"POST",$k(r,e),ve);return Ze.urlParams=L,Ze.headers=a,Ze.body=R.uploadData(),Ze.errorHandler=y0(t),Ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,Ru,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=aJ(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=$3(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,s){const o=new Kwe(e||void 0,i||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch($3(this._state)){case ba.SUCCESS:b0(this._resolve.bind(null,this.snapshot))();break;case ba.CANCELED:case ba.ERROR:b0(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch($3(this._state)){case ba.RUNNING:case ba.PAUSED:t.next&&b0(t.next.bind(t,this.snapshot))();break;case ba.SUCCESS:t.complete&&b0(t.complete.bind(t))();break;default:t.error&&b0(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Gy{constructor(t,e){this._service=t,this._location=e instanceof zo?e:zo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Gy(t,e)}get root(){const t=new zo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _J(this._location.path)}get storage(){return this._service}get parent(){const t=function Rwe(r){if(0===r.length)return null;const t=r.lastIndexOf("/");return-1===t?"":r.slice(0,t)}(this._location.path);if(null===t)return null;const e=new zo(this._location.bucket,t);return new Gy(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw uJ(t)}}function MJ(r,t,e){return Q3.apply(this,arguments)}function Q3(){return Q3=(0,we.Z)(function*(r,t,e){const s=yield IJ(r,{pageToken:e});t.prefixes.push(...s.prefixes),t.items.push(...s.items),null!=s.nextPageToken&&(yield MJ(r,t,s.nextPageToken))}),Q3.apply(this,arguments)}function IJ(r,t){null!=t&&"number"==typeof t.maxResults&&H3("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Hwe(r.storage,r._location,"/",e.pageToken,e.maxResults);return r.storage.makeRequestWithTokens(i,Ru)}function hTe(r){r._throwIfRoot("getDownloadURL");const t=function qwe(r,t,e){const s=np(t.fullServerUrl(),r.host,r._protocol),a=r.maxOperationRetryTime,d=new ah(s,"GET",function jwe(r,t){return function e(i,s){const o=yJ(r,s,t);return lh(null!==o),function Bwe(r,t,e,i){const s=Y3(t);if(null===s||!Yk(s.downloadTokens))return null;const o=s.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent;return o.split(",").map(g=>{const T=r.fullPath;return np("/b/"+a(r.bucket)+"/o/"+a(T),e,i)+hJ({alt:"media",token:g})})[0]}(o,s,r.host,r._protocol)}}(r,e),a);return d.errorHandler=_x(t),d}(r.storage,r._location,gx());return r.storage.makeRequestWithTokens(t,Ru).then(e=>{if(null===e)throw function uwe(){return new Vr(ar.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function kJ(r,t){const e=function Nwe(r,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===r.length?e:r+"/"+e}(r._location.path,t),i=new zo(r._location.bucket,e);return new Gy(r.storage,i)}function RJ(r,t){if(r instanceof W3){const e=r;if(null==e._bucket)throw function lwe(){return new Vr(ar.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sJ+"' property when initializing the app?")}();const i=new Gy(e,e._bucket);return null!=t?RJ(i,t):i}return void 0!==t?kJ(r,t):r}function gTe(r,t){if(t&&function pTe(r){return/^[A-Za-z]+:\/\//.test(r)}(t)){if(r instanceof W3)return function mTe(r,t){return new Gy(r,t)}(r,t);throw _0("To use ref(service, url), the first argument must be a Storage instance.")}return RJ(r,t)}function NJ(r,t){const e=t?.[sJ];return null==e?null:zo.makeFromBucketSpec(e,r)}class W3{constructor(t,e,i,s,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=rJ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?zo.makeFromBucketSpec(s,this._host):NJ(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?zo.makeFromBucketSpec(this._url,t):NJ(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){H3("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){H3("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,we.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,we.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Gy(this,t)}_makeRequest(t,e,i,s,o=!0){if(this._deleted)return new hwe(cJ());{const a=function Twe(r,t,e,i,s,o,a=!0){const d=hJ(r.urlParams),f=r.url+d,g=Object.assign({},r.headers);return function Cwe(r,t){t&&(r["X-Firebase-GMPID"]=t)}(g,t),function bwe(r,t){null!==t&&t.length>0&&(r.Authorization="Firebase "+t)}(g,e),function vwe(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(g,o),function wwe(r,t){null!==t&&(r["X-Firebase-AppCheck"]=t)}(g,i),new ywe(f,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,a)}(t,this._appId,i,s,e,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(t,e){var i=this;return(0,we.Z)(function*(){const[s,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,s,o).getPromise()})()}}const OJ="@firebase/storage";function LJ(r,t){return gTe(r=(0,Z.m9)(r),t)}function STe(r,{instanceIdentifier:t}){const e=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new W3(e,i,s,t,Bo.SDK_VERSION)}!function ATe(){(0,Bo._registerComponent)(new uc.wA("storage",STe,"PUBLIC").setMultipleInstances(!0)),(0,Bo.registerVersion)(OJ,"0.11.2",""),(0,Bo.registerVersion)(OJ,"0.11.2","esm2017")}();class Wk{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class UJ{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Wk(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new Wk(i,this,this._ref))},e)}on(t,e,i,s){let o;return e&&(o="function"==typeof e?a=>e(new Wk(a,this,this._ref)):{next:e.next?a=>e.next(new Wk(a,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,s||void 0)}}class VJ{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new ip(t,this._service))}get items(){return this._delegate.items.map(t=>new ip(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ip{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function xTe(r,t){return kJ(r,t)}(this._delegate,t);return new ip(e,this.storage)}get root(){return new ip(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new ip(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new UJ(function yTe(r,t,e){return function aTe(r,t,e){return r._throwIfRoot("uploadBytesResumable"),new AJ(r,new oh(t),e)}(r=(0,Z.m9)(r),t,e)}(this._delegate,t,e),this)}putString(t,e=Nl.RAW,i){this._throwIfRoot("putString");const s=G3(e,t),o=Object.assign({},i);return null==o.contentType&&null!=s.contentType&&(o.contentType=s.contentType),new UJ(new AJ(this._delegate,new oh(s.data,!0),o),this)}listAll(){return function wTe(r){return function cTe(r){const t={prefixes:[],items:[]};return MJ(r,t).then(()=>t)}(r=(0,Z.m9)(r))}(this._delegate).then(t=>new VJ(t,this.storage))}list(t){return function CTe(r,t){return IJ(r=(0,Z.m9)(r),t)}(this._delegate,t||void 0).then(e=>new VJ(e,this.storage))}getMetadata(){return function bTe(r){return function uTe(r){r._throwIfRoot("getMetadata");const t=CJ(r.storage,r._location,gx());return r.storage.makeRequestWithTokens(t,Ru)}(r=(0,Z.m9)(r))}(this._delegate)}updateMetadata(t){return function vTe(r,t){return function dTe(r,t){r._throwIfRoot("updateMetadata");const e=function Gwe(r,t,e,i){const o=np(t.fullServerUrl(),r.host,r._protocol),d=J3(e,i),g=r.maxOperationRetryTime,b=new ah(o,"PATCH",$k(r,i),g);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=_x(t),b}(r.storage,r._location,t,gx());return r.storage.makeRequestWithTokens(e,Ru)}(r=(0,Z.m9)(r),t)}(this._delegate,t)}getDownloadURL(){return function TTe(r){return hTe(r=(0,Z.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function DTe(r){return function fTe(r){r._throwIfRoot("deleteObject");const t=function Ywe(r,t){const i=np(t.fullServerUrl(),r.host,r._protocol),d=new ah(i,"DELETE",function a(f,g){},r.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=_x(t),d}(r.storage,r._location);return r.storage.makeRequestWithTokens(t,Ru)}(r=(0,Z.m9)(r))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw uJ(t)}}class ZJ{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(jJ(t))throw _0("ref() expected a child path but got a URL, use refFromURL instead.");return new ip(LJ(this._delegate,t),this)}refFromURL(t){if(!jJ(t))throw _0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{zo.makeFromUrl(t,this._delegate.host)}catch{throw _0("refFromUrl() expected a valid full URL but got an invalid one.")}return new ip(LJ(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function BJ(r,t,e,i={}){!function _Te(r,t,e,i={}){r.host=`${t}:${e}`,r._protocol="http";const{mockUserToken:s}=i;s&&(r._overrideAuthToken="string"==typeof s?s:(0,Z.Sg)(s,r.app.options.projectId))}(r,t,e,i)}(this._delegate,t,e,i)}}function jJ(r){return/^[A-Za-z]+:\/\//.test(r)}function kTe(r,{instanceIdentifier:t}){const e=r.getProvider("app-compat").getImmediate(),i=r.getProvider("storage").getImmediate({identifier:t});return new ZJ(e,i)}function HJ(r){const t=function NTe(r){return new mn.y(t=>{const e=a=>t.next(a);e(r.snapshot);const o=r.on("state_changed",e);return r.then(a=>{e(a),t.complete()},a=>{e(r.snapshot),(a=>{t.error(a)})(a)}),function(){o()}}).pipe(QT(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Je.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function Kk(r){return{getDownloadURL:()=>(0,Ve.of)(void 0).pipe(Qn.fc,kn(()=>r.getDownloadURL()),Qn.iC),getMetadata:()=>(0,Ve.of)(void 0).pipe(Qn.fc,kn(()=>r.getMetadata()),Qn.iC),delete:()=>(0,Pn.D)(r.delete()),child:t=>Kk(r.child(t)),updateMetadata:t=>(0,Pn.D)(r.updateMetadata(t)),put:(t,e)=>HJ(r.put(t,e)),putString:(t,e,i)=>HJ(r.putString(t,e,i)),list:t=>(0,Pn.D)(r.list(t)),listAll:()=>(0,Pn.D)(r.listAll())}}!function RTe(r){const t={TaskState:ba,TaskEvent:Wwe,StringFormat:Nl,Storage:ZJ,Reference:ip};r.INTERNAL.registerComponent(new uc.wA("storage-compat",kTe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.3.2")}(uv.Z);const OTe=new n.OlP("angularfire2.storageBucket"),FTe=new n.OlP("angularfire2.storage.maxUploadRetryTime"),PTe=new n.OlP("angularfire2.storage.maxOperationRetryTime"),qJ=new n.OlP("angularfire2.storage.use-emulator");let LTe=(()=>{class r{constructor(e,i,s,o,a,d,f,g,b,T){const E=(0,Rr.on)(e,a,i);this.storage=(0,Rr.cc)(`${E.name}.storage.${s}`,"AngularFireStorage",E.name,()=>{const R=a.runOutsideAngular(()=>E.storage(s||void 0)),L=b;return L&&R.useEmulator(...L),f&&R.setMaxUploadRetryTime(f),g&&R.setMaxOperationRetryTime(g),R},[f,g])}ref(e){return Kk(this.storage.ref(e))}refFromURL(e){return Kk(this.storage.refFromURL(e))}upload(e,i,s){return Kk(this.storage.ref(e)).put(i,s)}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(Rr.Dh),n.LFG(Rr.xv,8),n.LFG(OTe,8),n.LFG(n.Lbi),n.LFG(n.R0b),n.LFG(Qn.HU),n.LFG(FTe,8),n.LFG(PTe,8),n.LFG(qJ,8),n.LFG(s_,8))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),BTe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({}),r})(),UTe=(()=>{class r{constructor(){o_.Z.registerVersion("angularfire",Qn.q4.full,"gcs-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[LTe],imports:[BTe]}),r})(),VTe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r,bootstrap:[Khe]}),r.\u0275inj=n.cJS({providers:[{provide:TZ,useValue:{ignoreUndefinedProperties:!0}},{provide:zp,useValue:void 0},{provide:DZ,useValue:void 0},{provide:qJ,useValue:void 0},{provide:iJ,useValue:void 0},{provide:us,useValue:!0},yc],imports:[Wpe,Kpe,Mh,jhe,y4,WH,$M,PM,L6,tI,by,by,tI,DP,kM,ds,XH,Pb,Cq,WM,SG,pP,Mq,zM,ZH,pG,w4,qf,Dme,Kq,hq,Pq,pP,zM,Yn,gM,nee,Bme,Rr.hO.initializeApp(To_firebase),_9,UTe,W1e,Vbe,IQ,iie,Vme,pde,ZX,Rr.hO,nv,by,XH,w4,Mq,SG,Kq,$M,pG,Cq,PM,WH,tI,pP,Pq,kM,hq,L6,DP]}),r})();(0,n.G48)(),ib().bootstrapModule(VTe).catch(r=>console.error(r))},9312:(ht,Se,j)=>{j.d(Se,{P:()=>ue});var n=j(8896),J=j(1086),B=j(1737);class ue{constructor(ne,re,se){this.kind=ne,this.value=re,this.error=se,this.hasValue="N"===ne}observe(ne){switch(this.kind){case"N":return ne.next&&ne.next(this.value);case"E":return ne.error&&ne.error(this.error);case"C":return ne.complete&&ne.complete()}}do(ne,re,se){switch(this.kind){case"N":return ne&&ne(this.value);case"E":return re&&re(this.error);case"C":return se&&se()}}accept(ne,re,se){return ne&&"function"==typeof ne.next?this.observe(ne):this.do(ne,re,se)}toObservable(){switch(this.kind){case"N":return(0,J.of)(this.value);case"E":return(0,B._)(this.error);case"C":return(0,n.c)()}throw new Error("unexpected notification kind value")}static createNext(ne){return typeof ne<"u"?new ue("N",ne):ue.undefinedValueNotification}static createError(ne){return new ue("E",void 0,ne)}static createComplete(){return ue.completeNotification}}ue.completeNotification=new ue("C"),ue.undefinedValueNotification=new ue("N",void 0)},6498:(ht,Se,j)=>{j.d(Se,{y:()=>se});var n=j(3489),B=j(7668),ce=j(3292),ae=j(3821),ne=j(4843),re=j(2830);let se=(()=>{class z{constructor(ge){this._isScalar=!1,ge&&(this._subscribe=ge)}lift(ge){const Ce=new z;return Ce.source=this,Ce.operator=ge,Ce}subscribe(ge,Ce,Ee){const{operator:Ie}=this,ye=function ue(z,K,ge){if(z){if(z instanceof n.L)return z;if(z[B.b])return z[B.b]()}return z||K||ge?new n.L(z,K,ge):new n.L(ce.c)}(ge,Ce,Ee);if(ye.add(Ie?Ie.call(ye,this.source):this.source||re.v.useDeprecatedSynchronousErrorHandling&&!ye.syncErrorThrowable?this._subscribe(ye):this._trySubscribe(ye)),re.v.useDeprecatedSynchronousErrorHandling&&ye.syncErrorThrowable&&(ye.syncErrorThrowable=!1,ye.syncErrorThrown))throw ye.syncErrorValue;return ye}_trySubscribe(ge){try{return this._subscribe(ge)}catch(Ce){re.v.useDeprecatedSynchronousErrorHandling&&(ge.syncErrorThrown=!0,ge.syncErrorValue=Ce),function J(z){for(;z;){const{closed:K,destination:ge,isStopped:Ce}=z;if(K||Ce)return!1;z=ge&&ge instanceof n.L?ge:null}return!0}(ge)?ge.error(Ce):console.warn(Ce)}}forEach(ge,Ce){return new(Ce=q(Ce))((Ee,Ie)=>{let ye;ye=this.subscribe(Ae=>{try{ge(Ae)}catch(Dt){Ie(Dt),ye&&ye.unsubscribe()}},Ie,Ee)})}_subscribe(ge){const{source:Ce}=this;return Ce&&Ce.subscribe(ge)}[ae.L](){return this}pipe(...ge){return 0===ge.length?this:(0,ne.U)(ge)(this)}toPromise(ge){return new(ge=q(ge))((Ce,Ee)=>{let Ie;this.subscribe(ye=>Ie=ye,ye=>Ee(ye),()=>Ce(Ie))})}}return z.create=K=>new z(K),z})();function q(z){if(z||(z=re.v.Promise||Promise),!z)throw new Error("no Promise impl found");return z}},3292:(ht,Se,j)=>{j.d(Se,{c:()=>B});var n=j(2830),J=j(2782);const B={closed:!0,next(ce){},error(ce){if(n.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,J.z)(ce)},complete(){}}},8929:(ht,Se,j)=>{j.d(Se,{Yc:()=>ne,xQ:()=>re});var n=j(6498),J=j(3489),B=j(2654),ce=j(5279),ue=j(5283),ae=j(7668);class ne extends J.L{constructor(z){super(z),this.destination=z}}let re=(()=>{class q extends n.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ae.b](){return new ne(this)}lift(K){const ge=new se(this,this);return ge.operator=K,ge}next(K){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:ge}=this,Ce=ge.length,Ee=ge.slice();for(let Ie=0;Ie<Ce;Ie++)Ee[Ie].next(K)}}error(K){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=K,this.isStopped=!0;const{observers:ge}=this,Ce=ge.length,Ee=ge.slice();for(let Ie=0;Ie<Ce;Ie++)Ee[Ie].error(K);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:K}=this,ge=K.length,Ce=K.slice();for(let Ee=0;Ee<ge;Ee++)Ce[Ee].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(K){if(this.closed)throw new ce.N;return super._trySubscribe(K)}_subscribe(K){if(this.closed)throw new ce.N;return this.hasError?(K.error(this.thrownError),B.w.EMPTY):this.isStopped?(K.complete(),B.w.EMPTY):(this.observers.push(K),new ue.W(this,K))}asObservable(){const K=new n.y;return K.source=this,K}}return q.create=(z,K)=>new se(z,K),q})();class se extends re{constructor(z,K){super(),this.destination=z,this.source=K}next(z){const{destination:K}=this;K&&K.next&&K.next(z)}error(z){const{destination:K}=this;K&&K.error&&this.destination.error(z)}complete(){const{destination:z}=this;z&&z.complete&&this.destination.complete()}_subscribe(z){const{source:K}=this;return K?this.source.subscribe(z):B.w.EMPTY}}},5283:(ht,Se,j)=>{j.d(Se,{W:()=>J});var n=j(2654);class J extends n.w{constructor(ce,ue){super(),this.subject=ce,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,ue=ce.observers;if(this.subject=null,!ue||0===ue.length||ce.isStopped||ce.closed)return;const ae=ue.indexOf(this.subscriber);-1!==ae&&ue.splice(ae,1)}}},3489:(ht,Se,j)=>{j.d(Se,{L:()=>ne});var n=j(7043),J=j(3292),B=j(2654),ce=j(7668),ue=j(2830),ae=j(2782);class ne extends B.w{constructor(q,z,K){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=J.c;break;case 1:if(!q){this.destination=J.c;break}if("object"==typeof q){q instanceof ne?(this.syncErrorThrowable=q.syncErrorThrowable,this.destination=q,q.add(this)):(this.syncErrorThrowable=!0,this.destination=new re(this,q));break}default:this.syncErrorThrowable=!0,this.destination=new re(this,q,z,K)}}[ce.b](){return this}static create(q,z,K){const ge=new ne(q,z,K);return ge.syncErrorThrowable=!1,ge}next(q){this.isStopped||this._next(q)}error(q){this.isStopped||(this.isStopped=!0,this._error(q))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(q){this.destination.next(q)}_error(q){this.destination.error(q),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:q}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=q,this}}class re extends ne{constructor(q,z,K,ge){super(),this._parentSubscriber=q;let Ce,Ee=this;(0,n.m)(z)?Ce=z:z&&(Ce=z.next,K=z.error,ge=z.complete,z!==J.c&&(Ee=Object.create(z),(0,n.m)(Ee.unsubscribe)&&this.add(Ee.unsubscribe.bind(Ee)),Ee.unsubscribe=this.unsubscribe.bind(this))),this._context=Ee,this._next=Ce,this._error=K,this._complete=ge}next(q){if(!this.isStopped&&this._next){const{_parentSubscriber:z}=this;ue.v.useDeprecatedSynchronousErrorHandling&&z.syncErrorThrowable?this.__tryOrSetError(z,this._next,q)&&this.unsubscribe():this.__tryOrUnsub(this._next,q)}}error(q){if(!this.isStopped){const{_parentSubscriber:z}=this,{useDeprecatedSynchronousErrorHandling:K}=ue.v;if(this._error)K&&z.syncErrorThrowable?(this.__tryOrSetError(z,this._error,q),this.unsubscribe()):(this.__tryOrUnsub(this._error,q),this.unsubscribe());else if(z.syncErrorThrowable)K?(z.syncErrorValue=q,z.syncErrorThrown=!0):(0,ae.z)(q),this.unsubscribe();else{if(this.unsubscribe(),K)throw q;(0,ae.z)(q)}}}complete(){if(!this.isStopped){const{_parentSubscriber:q}=this;if(this._complete){const z=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&q.syncErrorThrowable?(this.__tryOrSetError(q,z),this.unsubscribe()):(this.__tryOrUnsub(z),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(q,z){try{q.call(this._context,z)}catch(K){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw K;(0,ae.z)(K)}}__tryOrSetError(q,z,K){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{z.call(this._context,K)}catch(ge){return ue.v.useDeprecatedSynchronousErrorHandling?(q.syncErrorValue=ge,q.syncErrorThrown=!0,!0):((0,ae.z)(ge),!0)}return!1}_unsubscribe(){const{_parentSubscriber:q}=this;this._context=null,this._parentSubscriber=null,q.unsubscribe()}}},2654:(ht,Se,j)=>{j.d(Se,{w:()=>ae});var n=j(6688),J=j(7830),B=j(7043);const ue=(()=>{function re(se){return Error.call(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((q,z)=>`${z+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se,this}return re.prototype=Object.create(Error.prototype),re})();class ae{constructor(se){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,se&&(this._ctorUnsubscribe=!0,this._unsubscribe=se)}unsubscribe(){let se;if(this.closed)return;let{_parentOrParents:q,_ctorUnsubscribe:z,_unsubscribe:K,_subscriptions:ge}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,q instanceof ae)q.remove(this);else if(null!==q)for(let Ce=0;Ce<q.length;++Ce)q[Ce].remove(this);if((0,B.m)(K)){z&&(this._unsubscribe=void 0);try{K.call(this)}catch(Ce){se=Ce instanceof ue?ne(Ce.errors):[Ce]}}if((0,n.k)(ge)){let Ce=-1,Ee=ge.length;for(;++Ce<Ee;){const Ie=ge[Ce];if((0,J.K)(Ie))try{Ie.unsubscribe()}catch(ye){se=se||[],ye instanceof ue?se=se.concat(ne(ye.errors)):se.push(ye)}}}if(se)throw new ue(se)}add(se){let q=se;if(!se)return ae.EMPTY;switch(typeof se){case"function":q=new ae(se);case"object":if(q===this||q.closed||"function"!=typeof q.unsubscribe)return q;if(this.closed)return q.unsubscribe(),q;if(!(q instanceof ae)){const ge=q;q=new ae,q._subscriptions=[ge]}break;default:throw new Error("unrecognized teardown "+se+" added to Subscription.")}let{_parentOrParents:z}=q;if(null===z)q._parentOrParents=this;else if(z instanceof ae){if(z===this)return q;q._parentOrParents=[z,this]}else{if(-1!==z.indexOf(this))return q;z.push(this)}const K=this._subscriptions;return null===K?this._subscriptions=[q]:K.push(q),q}remove(se){const q=this._subscriptions;if(q){const z=q.indexOf(se);-1!==z&&q.splice(z,1)}}}var re;function ne(re){return re.reduce((se,q)=>se.concat(q instanceof ue?q.errors:q),[])}ae.EMPTY=((re=new ae).closed=!0,re)},2830:(ht,Se,j)=>{j.d(Se,{v:()=>J});let n=!1;const J={Promise:void 0,set useDeprecatedSynchronousErrorHandling(B){if(B){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=B},get useDeprecatedSynchronousErrorHandling(){return n}}},1177:(ht,Se,j)=>{j.d(Se,{Ds:()=>ae,IY:()=>ce,ft:()=>re});var n=j(3489),J=j(6498),B=j(9249);class ce extends n.L{constructor(q){super(),this.parent=q}_next(q){this.parent.notifyNext(q)}_error(q){this.parent.notifyError(q),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ae extends n.L{notifyNext(q){this.destination.next(q)}notifyError(q){this.destination.error(q)}notifyComplete(){this.destination.complete()}}function re(se,q){if(q.closed)return;if(se instanceof J.y)return se.subscribe(q);let z;try{z=(0,B.s)(se)(q)}catch(K){q.error(K)}return z}},1762:(ht,Se,j)=>{j.d(Se,{N:()=>ae,c:()=>ue});var n=j(8929),J=j(6498),B=j(2654),ce=j(4327);class ue extends J.y{constructor(z,K){super(),this.source=z,this.subjectFactory=K,this._refCount=0,this._isComplete=!1}_subscribe(z){return this.getSubject().subscribe(z)}getSubject(){const z=this._subject;return(!z||z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let z=this._connection;return z||(this._isComplete=!1,z=this._connection=new B.w,z.add(this.source.subscribe(new ne(this.getSubject(),this))),z.closed&&(this._connection=null,z=B.w.EMPTY)),z}refCount(){return(0,ce.x)()(this)}}const ae=(()=>{const q=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:q._subscribe},_isComplete:{value:q._isComplete,writable:!0},getSubject:{value:q.getSubject},connect:{value:q.connect},refCount:{value:q.refCount}}})();class ne extends n.Yc{constructor(z,K){super(z),this.connectable=K}_error(z){this._unsubscribe(),super._error(z)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const z=this.connectable;if(z){this.connectable=null;const K=z._connection;z._refCount=0,z._subject=null,z._connection=null,K&&K.unsubscribe()}}}},8896:(ht,Se,j)=>{j.d(Se,{E:()=>J,c:()=>B});var n=j(6498);const J=new n.y(ue=>ue.complete());function B(ue){return ue?function ce(ue){return new n.y(ae=>ue.schedule(()=>ae.complete()))}(ue):J}},5254:(ht,Se,j)=>{j.d(Se,{D:()=>Ee});var n=j(6498),J=j(9249),B=j(2654),ce=j(3821),ne=j(6454),re=j(5430),z=j(8955),K=j(8515);function Ee(Ie,ye){return ye?function Ce(Ie,ye){if(null!=Ie){if(function q(Ie){return Ie&&"function"==typeof Ie[ce.L]}(Ie))return function ue(Ie,ye){return new n.y(Ae=>{const Dt=new B.w;return Dt.add(ye.schedule(()=>{const Mt=Ie[ce.L]();Dt.add(Mt.subscribe({next(sn){Dt.add(ye.schedule(()=>Ae.next(sn)))},error(sn){Dt.add(ye.schedule(()=>Ae.error(sn)))},complete(){Dt.add(ye.schedule(()=>Ae.complete()))}}))})),Dt})}(Ie,ye);if((0,z.t)(Ie))return function ae(Ie,ye){return new n.y(Ae=>{const Dt=new B.w;return Dt.add(ye.schedule(()=>Ie.then(Mt=>{Dt.add(ye.schedule(()=>{Ae.next(Mt),Dt.add(ye.schedule(()=>Ae.complete()))}))},Mt=>{Dt.add(ye.schedule(()=>Ae.error(Mt)))}))),Dt})}(Ie,ye);if((0,K.z)(Ie))return(0,ne.r)(Ie,ye);if(function ge(Ie){return Ie&&"function"==typeof Ie[re.hZ]}(Ie)||"string"==typeof Ie)return function se(Ie,ye){if(!Ie)throw new Error("Iterable cannot be null");return new n.y(Ae=>{const Dt=new B.w;let Mt;return Dt.add(()=>{Mt&&"function"==typeof Mt.return&&Mt.return()}),Dt.add(ye.schedule(()=>{Mt=Ie[re.hZ](),Dt.add(ye.schedule(function(){if(Ae.closed)return;let sn,ii;try{const bn=Mt.next();sn=bn.value,ii=bn.done}catch(bn){return void Ae.error(bn)}ii?Ae.complete():(Ae.next(sn),this.schedule())}))})),Dt})}(Ie,ye)}throw new TypeError((null!==Ie&&typeof Ie||Ie)+" is not observable")}(Ie,ye):Ie instanceof n.y?Ie:new n.y((0,J.s)(Ie))}},3009:(ht,Se,j)=>{j.d(Se,{n:()=>ce});var n=j(6498),J=j(3650),B=j(6454);function ce(ue,ae){return ae?(0,B.r)(ue,ae):new n.y((0,J.V)(ue))}},6787:(ht,Se,j)=>{j.d(Se,{T:()=>ue});var n=j(6498),J=j(2866),B=j(9146),ce=j(3009);function ue(...ae){let ne=Number.POSITIVE_INFINITY,re=null,se=ae[ae.length-1];return(0,J.K)(se)?(re=ae.pop(),ae.length>1&&"number"==typeof ae[ae.length-1]&&(ne=ae.pop())):"number"==typeof se&&(ne=ae.pop()),null===re&&1===ae.length&&ae[0]instanceof n.y?ae[0]:(0,B.J)(ne)((0,ce.n)(ae,re))}},1086:(ht,Se,j)=>{j.d(Se,{of:()=>ce});var n=j(2866),J=j(3009),B=j(6454);function ce(...ue){let ae=ue[ue.length-1];return(0,n.K)(ae)?(ue.pop(),(0,B.r)(ue,ae)):(0,J.n)(ue)}},1737:(ht,Se,j)=>{j.d(Se,{_:()=>J});var n=j(6498);function J(ce,ue){return new n.y(ue?ae=>ue.schedule(B,0,{error:ce,subscriber:ae}):ae=>ae.error(ce))}function B({error:ce,subscriber:ue}){ue.error(ce)}},4850:(ht,Se,j)=>{j.d(Se,{U:()=>J});var n=j(3489);function J(ue,ae){return function(re){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return re.lift(new B(ue,ae))}}class B{constructor(ae,ne){this.project=ae,this.thisArg=ne}call(ae,ne){return ne.subscribe(new ce(ae,this.project,this.thisArg))}}class ce extends n.L{constructor(ae,ne,re){super(ae),this.project=ne,this.count=0,this.thisArg=re||this}_next(ae){let ne;try{ne=this.project.call(this.thisArg,ae,this.count++)}catch(re){return void this.destination.error(re)}this.destination.next(ne)}}},9146:(ht,Se,j)=>{j.d(Se,{J:()=>B});var n=j(1709),J=j(5379);function B(ce=Number.POSITIVE_INFINITY){return(0,n.zg)(J.y,ce)}},1709:(ht,Se,j)=>{j.d(Se,{zg:()=>ce});var n=j(4850),J=j(5254),B=j(1177);function ce(re,se,q=Number.POSITIVE_INFINITY){return"function"==typeof se?z=>z.pipe(ce((K,ge)=>(0,J.D)(re(K,ge)).pipe((0,n.U)((Ce,Ee)=>se(K,Ce,ge,Ee))),q)):("number"==typeof se&&(q=se),z=>z.lift(new ue(re,q)))}class ue{constructor(se,q=Number.POSITIVE_INFINITY){this.project=se,this.concurrent=q}call(se,q){return q.subscribe(new ae(se,this.project,this.concurrent))}}class ae extends B.Ds{constructor(se,q,z=Number.POSITIVE_INFINITY){super(se),this.project=q,this.concurrent=z,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(se){this.active<this.concurrent?this._tryNext(se):this.buffer.push(se)}_tryNext(se){let q;const z=this.index++;try{q=this.project(se,z)}catch(K){return void this.destination.error(K)}this.active++,this._innerSub(q)}_innerSub(se){const q=new B.IY(this),z=this.destination;z.add(q);const K=(0,B.ft)(se,q);K!==q&&z.add(K)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(se){this.destination.next(se)}notifyComplete(){const se=this.buffer;this.active--,se.length>0?this._next(se.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(ht,Se,j)=>{j.d(Se,{QV:()=>B,ht:()=>ue});var n=j(3489),J=j(9312);function B(ne,re=0){return function(q){return q.lift(new ce(ne,re))}}class ce{constructor(re,se=0){this.scheduler=re,this.delay=se}call(re,se){return se.subscribe(new ue(re,this.scheduler,this.delay))}}class ue extends n.L{constructor(re,se,q=0){super(re),this.scheduler=se,this.delay=q}static dispatch(re){const{notification:se,destination:q}=re;se.observe(q),this.unsubscribe()}scheduleMessage(re){this.destination.add(this.scheduler.schedule(ue.dispatch,this.delay,new ae(re,this.destination)))}_next(re){this.scheduleMessage(J.P.createNext(re))}_error(re){this.scheduleMessage(J.P.createError(re)),this.unsubscribe()}_complete(){this.scheduleMessage(J.P.createComplete()),this.unsubscribe()}}class ae{constructor(re,se){this.notification=re,this.destination=se}}},4327:(ht,Se,j)=>{j.d(Se,{x:()=>J});var n=j(3489);function J(){return function(ae){return ae.lift(new B(ae))}}class B{constructor(ae){this.connectable=ae}call(ae,ne){const{connectable:re}=this;re._refCount++;const se=new ce(ae,re),q=ne.subscribe(se);return se.closed||(se.connection=re.connect()),q}}class ce extends n.L{constructor(ae,ne){super(ae),this.connectable=ne}_unsubscribe(){const{connectable:ae}=this;if(!ae)return void(this.connection=null);this.connectable=null;const ne=ae._refCount;if(ne<=0)return void(this.connection=null);if(ae._refCount=ne-1,ne>1)return void(this.connection=null);const{connection:re}=this,se=ae._connection;this.connection=null,se&&(!re||se===re)&&se.unsubscribe()}}},2474:(ht,Se,j)=>{j.d(Se,{B:()=>ne});var n=j(1762);class B{constructor(se,q){this.subjectFactory=se,this.selector=q}call(se,q){const{selector:z}=this,K=this.subjectFactory(),ge=z(K).subscribe(se);return ge.add(q.subscribe(K)),ge}}var ce=j(4327),ue=j(8929);function ae(){return new ue.xQ}function ne(){return re=>(0,ce.x)()(function J(re,se){return function(z){let K;if(K="function"==typeof re?re:function(){return re},"function"==typeof se)return z.lift(new B(K,se));const ge=Object.create(z,n.N);return ge.source=z,ge.subjectFactory=K,ge}}(ae)(re))}},3334:(ht,Se,j)=>{j.d(Se,{R:()=>ue});var n=j(6498),J=j(8139),B=j(4241);class ce extends n.y{constructor(re,se=0,q=J.e){super(),this.source=re,this.delayTime=se,this.scheduler=q,(!(0,B.k)(se)||se<0)&&(this.delayTime=0),(!q||"function"!=typeof q.schedule)&&(this.scheduler=J.e)}static create(re,se=0,q=J.e){return new ce(re,se,q)}static dispatch(re){const{source:se,subscriber:q}=re;return this.add(se.subscribe(q))}_subscribe(re){return this.scheduler.schedule(ce.dispatch,this.delayTime,{source:this.source,subscriber:re})}}function ue(ne,re=0){return function(q){return q.lift(new ae(ne,re))}}class ae{constructor(re,se){this.scheduler=re,this.delay=se}call(re,se){return new ce(se,this.delay,this.scheduler).subscribe(re)}}},2994:(ht,Se,j)=>{j.d(Se,{b:()=>ce});var n=j(3489),J=j(7876),B=j(7043);function ce(ne,re,se){return function(z){return z.lift(new ue(ne,re,se))}}class ue{constructor(re,se,q){this.nextOrObserver=re,this.error=se,this.complete=q}call(re,se){return se.subscribe(new ae(re,this.nextOrObserver,this.error,this.complete))}}class ae extends n.L{constructor(re,se,q,z){super(re),this._tapNext=J.Z,this._tapError=J.Z,this._tapComplete=J.Z,this._tapError=q||J.Z,this._tapComplete=z||J.Z,(0,B.m)(se)?(this._context=this,this._tapNext=se):se&&(this._context=se,this._tapNext=se.next||J.Z,this._tapError=se.error||J.Z,this._tapComplete=se.complete||J.Z)}_next(re){try{this._tapNext.call(this._context,re)}catch(se){return void this.destination.error(se)}this.destination.next(re)}_error(re){try{this._tapError.call(this._context,re)}catch(se){return void this.destination.error(se)}this.destination.error(re)}_complete(){try{this._tapComplete.call(this._context)}catch(re){return void this.destination.error(re)}return this.destination.complete()}}},6454:(ht,Se,j)=>{j.d(Se,{r:()=>B});var n=j(6498),J=j(2654);function B(ce,ue){return new n.y(ae=>{const ne=new J.w;let re=0;return ne.add(ue.schedule(function(){re!==ce.length?(ae.next(ce[re++]),ae.closed||ne.add(this.schedule())):ae.complete()})),ne})}},6686:(ht,Se,j)=>{j.d(Se,{o:()=>B});var n=j(2654);class J extends n.w{constructor(ue,ae){super()}schedule(ue,ae=0){return this}}class B extends J{constructor(ue,ae){super(ue,ae),this.scheduler=ue,this.work=ae,this.pending=!1}schedule(ue,ae=0){if(this.closed)return this;this.state=ue;const ne=this.id,re=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(re,ne,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(re,this.id,ae),this}requestAsyncId(ue,ae,ne=0){return setInterval(ue.flush.bind(ue,this),ne)}recycleAsyncId(ue,ae,ne=0){if(null!==ne&&this.delay===ne&&!1===this.pending)return ae;clearInterval(ae)}execute(ue,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(ue,ae);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ae){let re,ne=!1;try{this.work(ue)}catch(se){ne=!0,re=!!se&&se||new Error(se)}if(ne)return this.unsubscribe(),re}_unsubscribe(){const ue=this.id,ae=this.scheduler,ne=ae.actions,re=ne.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==re&&ne.splice(re,1),null!=ue&&(this.id=this.recycleAsyncId(ae,ue,null)),this.delay=null}}},2268:(ht,Se,j)=>{j.d(Se,{v:()=>J});let n=(()=>{class B{constructor(ue,ae=B.now){this.SchedulerAction=ue,this.now=ae}schedule(ue,ae=0,ne){return new this.SchedulerAction(this,ue).schedule(ne,ae)}}return B.now=()=>Date.now(),B})();class J extends n{constructor(ce,ue=n.now){super(ce,()=>J.delegate&&J.delegate!==this?J.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,ue=0,ae){return J.delegate&&J.delegate!==this?J.delegate.schedule(ce,ue,ae):super.schedule(ce,ue,ae)}flush(ce){const{actions:ue}=this;if(this.active)return void ue.push(ce);let ae;this.active=!0;do{if(ae=ce.execute(ce.state,ce.delay))break}while(ce=ue.shift());if(this.active=!1,ae){for(;ce=ue.shift();)ce.unsubscribe();throw ae}}}},8139:(ht,Se,j)=>{j.d(Se,{e:()=>K,E:()=>z});let n=1;const J=Promise.resolve(),B={};function ce(ge){return ge in B&&(delete B[ge],!0)}const ue={setImmediate(ge){const Ce=n++;return B[Ce]=!0,J.then(()=>ce(Ce)&&ge()),Ce},clearImmediate(ge){ce(ge)}};var ne=j(6686),se=j(2268);const z=new class q extends se.v{flush(Ce){this.active=!0,this.scheduled=void 0;const{actions:Ee}=this;let Ie,ye=-1,Ae=Ee.length;Ce=Ce||Ee.shift();do{if(Ie=Ce.execute(Ce.state,Ce.delay))break}while(++ye<Ae&&(Ce=Ee.shift()));if(this.active=!1,Ie){for(;++ye<Ae&&(Ce=Ee.shift());)Ce.unsubscribe();throw Ie}}}(class re extends ne.o{constructor(Ce,Ee){super(Ce,Ee),this.scheduler=Ce,this.work=Ee}requestAsyncId(Ce,Ee,Ie=0){return null!==Ie&&Ie>0?super.requestAsyncId(Ce,Ee,Ie):(Ce.actions.push(this),Ce.scheduled||(Ce.scheduled=ue.setImmediate(Ce.flush.bind(Ce,null))))}recycleAsyncId(Ce,Ee,Ie=0){if(null!==Ie&&Ie>0||null===Ie&&this.delay>0)return super.recycleAsyncId(Ce,Ee,Ie);0===Ce.actions.length&&(ue.clearImmediate(Ee),Ce.scheduled=void 0)}}),K=z},353:(ht,Se,j)=>{j.d(Se,{P:()=>ce,z:()=>B});var n=j(6686);const B=new(j(2268).v)(n.o),ce=B},341:(ht,Se,j)=>{j.d(Se,{c:()=>ae,N:()=>ue});var n=j(6686),B=j(2268);const ue=new class ce extends B.v{}(class J extends n.o{constructor(re,se){super(re,se),this.scheduler=re,this.work=se}schedule(re,se=0){return se>0?super.schedule(re,se):(this.delay=se,this.state=re,this.scheduler.flush(this),this)}execute(re,se){return se>0||this.closed?super.execute(re,se):this._execute(re,se)}requestAsyncId(re,se,q=0){return null!==q&&q>0||null===q&&this.delay>0?super.requestAsyncId(re,se,q):re.flush(this)}}),ae=ue},5430:(ht,Se,j)=>{j.d(Se,{hZ:()=>J});const J=function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(ht,Se,j)=>{j.d(Se,{L:()=>n});const n="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(ht,Se,j)=>{j.d(Se,{b:()=>n});const n="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(ht,Se,j)=>{j.d(Se,{N:()=>J});const J=(()=>{function B(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return B.prototype=Object.create(Error.prototype),B})()},2782:(ht,Se,j)=>{function n(J){setTimeout(()=>{throw J},0)}j.d(Se,{z:()=>n})},5379:(ht,Se,j)=>{function n(J){return J}j.d(Se,{y:()=>n})},6688:(ht,Se,j)=>{j.d(Se,{k:()=>n});const n=Array.isArray||(J=>J&&"number"==typeof J.length)},8515:(ht,Se,j)=>{j.d(Se,{z:()=>n});const n=J=>J&&"number"==typeof J.length&&"function"!=typeof J},7043:(ht,Se,j)=>{function n(J){return"function"==typeof J}j.d(Se,{m:()=>n})},4241:(ht,Se,j)=>{j.d(Se,{k:()=>J});var n=j(6688);function J(B){return!(0,n.k)(B)&&B-parseFloat(B)+1>=0}},7830:(ht,Se,j)=>{function n(J){return null!==J&&"object"==typeof J}j.d(Se,{K:()=>n})},8955:(ht,Se,j)=>{function n(J){return!!J&&"function"!=typeof J.subscribe&&"function"==typeof J.then}j.d(Se,{t:()=>n})},2866:(ht,Se,j)=>{function n(J){return J&&"function"==typeof J.schedule}j.d(Se,{K:()=>n})},7876:(ht,Se,j)=>{function n(){}j.d(Se,{Z:()=>n})},4843:(ht,Se,j)=>{j.d(Se,{U:()=>B,z:()=>J});var n=j(5379);function J(...ce){return B(ce)}function B(ce){return 0===ce.length?n.y:1===ce.length?ce[0]:function(ae){return ce.reduce((ne,re)=>re(ne),ae)}}},9249:(ht,Se,j)=>{j.d(Se,{s:()=>z});var n=j(3650),J=j(2782),ce=j(5430),ae=j(3821),re=j(8515),se=j(8955),q=j(7830);const z=K=>{if(K&&"function"==typeof K[ae.L])return(K=>ge=>{const Ce=K[ae.L]();if("function"!=typeof Ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ce.subscribe(ge)})(K);if((0,re.z)(K))return(0,n.V)(K);if((0,se.t)(K))return(K=>ge=>(K.then(Ce=>{ge.closed||(ge.next(Ce),ge.complete())},Ce=>ge.error(Ce)).then(null,J.z),ge))(K);if(K&&"function"==typeof K[ce.hZ])return(K=>ge=>{const Ce=K[ce.hZ]();for(;;){let Ee;try{Ee=Ce.next()}catch(Ie){return ge.error(Ie),ge}if(Ee.done){ge.complete();break}if(ge.next(Ee.value),ge.closed)break}return"function"==typeof Ce.return&&ge.add(()=>{Ce.return&&Ce.return()}),ge})(K);{const Ce=`You provided ${(0,q.K)(K)?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ce)}}},3650:(ht,Se,j)=>{j.d(Se,{V:()=>n});const n=J=>B=>{for(let ce=0,ue=J.length;ce<ue&&!B.closed;ce++)B.next(J[ce]);B.complete()}},4650:(ht,Se,j)=>{j.d(Se,{$8M:()=>vp,$Z:()=>CS,AFp:()=>Kw,ALo:()=>Lw,AaK:()=>re,AsE:()=>fv,BQk:()=>fr,CHM:()=>ko,CRH:()=>iE,CZH:()=>Pd,CqO:()=>ov,D6c:()=>pT,DdM:()=>JA,DjV:()=>_f,EJc:()=>xO,EiD:()=>V0,EpF:()=>sv,F$t:()=>MN,F4k:()=>U1,FYo:()=>$0,FiY:()=>vo,G48:()=>vE,Gf:()=>nE,GfV:()=>Jx,GkF:()=>p_,Gpc:()=>z,Gre:()=>mv,Hsn:()=>IN,Ikx:()=>im,JOm:()=>H,JVY:()=>ou,Jzz:()=>gv,KtG:()=>Qa,L6k:()=>Op,LAX:()=>xx,LFG:()=>mn,LSH:()=>j0,Lbi:()=>pE,Lck:()=>VA,MAs:()=>du,MGl:()=>V1,MMx:()=>Mw,NdJ:()=>ca,O4$:()=>Dg,OlP:()=>$n,Oqu:()=>fc,PXZ:()=>NO,Q6J:()=>zS,QGY:()=>Xp,QP$:()=>De,QbO:()=>wO,Qsj:()=>Wg,QtT:()=>dm,R0b:()=>Vo,RDi:()=>eR,Rgc:()=>A_,SBq:()=>jp,SDv:()=>PA,Sil:()=>AO,Suo:()=>M_,TTD:()=>Bl,TgZ:()=>h_,Tol:()=>rA,Udp:()=>Oa,VKq:()=>Nw,W1O:()=>mu,WFA:()=>av,WLB:()=>Ov,X6Q:()=>FO,XFs:()=>tt,Xpm:()=>vr,Xts:()=>Up,Y36:()=>uf,YKP:()=>kv,YNc:()=>L1,Yjl:()=>V,Yz7:()=>ri,Z0I:()=>Ha,ZZ4:()=>oC,_Bn:()=>Aw,_UZ:()=>rv,_Vd:()=>Qg,_c5:()=>Q_,_uU:()=>hs,aQg:()=>$_,c2e:()=>TO,cJS:()=>Bi,cg1:()=>nw,d8E:()=>v_,dDg:()=>Zo,dqk:()=>mt,eBb:()=>Dx,eFA:()=>xl,ekj:()=>Ed,eoX:()=>eT,f3M:()=>dd,g9A:()=>Tl,gxx:()=>q0,h0i:()=>Od,hGG:()=>SE,hij:()=>hv,iGM:()=>Hw,ifc:()=>St,ip1:()=>Em,jDz:()=>hm,kEZ:()=>gm,kL8:()=>iw,kYT:()=>po,kcU:()=>Gl,lG2:()=>$,lcZ:()=>Bw,lqb:()=>rf,lri:()=>Xw,mCW:()=>Fp,n5z:()=>sl,n_E:()=>fu,oAB:()=>Xi,oJD:()=>uR,oxw:()=>EN,pB0:()=>sR,pQV:()=>Dw,q3G:()=>Yr,q4F:()=>zx,qLn:()=>Kg,qOj:()=>qS,qZA:()=>f_,qzn:()=>wd,rWj:()=>kf,s9C:()=>WS,sBO:()=>Yi,sIi:()=>tv,s_b:()=>vm,soG:()=>Wv,tBr:()=>Kc,tb:()=>O_,tp0:()=>Co,uIk:()=>nv,vHH:()=>Ee,vpe:()=>bl,wAp:()=>Yt,xp6:()=>oS,ynx:()=>Ad,z2F:()=>V_,z3N:()=>oc,zSh:()=>Vx,zs3:()=>Td});var n=j(8929),J=j(2654),B=j(6498),ce=j(6787),ue=j(2474);function ae(l){for(let c in l)if(l[c]===ae)return c;throw Error("Could not find renamed property on target object.")}function ne(l,c){for(const u in c)c.hasOwnProperty(u)&&!l.hasOwnProperty(u)&&(l[u]=c[u])}function re(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(re).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function se(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const q=ae({__forward_ref__:ae});function z(l){return l.__forward_ref__=z,l.toString=function(){return re(this())},l}function K(l){return ge(l)?l():l}function ge(l){return"function"==typeof l&&l.hasOwnProperty(q)&&l.__forward_ref__===z}class Ee extends Error{constructor(c,u){super(function Ie(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}(c,u)),this.code=c}}function ye(l){return"string"==typeof l?l:null==l?"":String(l)}function ii(l,c){throw new Ee(-201,!1)}function Tn(l,c,u,h){throw new Error(`ASSERTION ERROR: ${l}`+(null==h?"":` [Expected=> ${u} ${h} ${c} <=Actual]`))}function ri(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function Bi(l){return{providers:l.providers||[],imports:l.imports||[]}}function Qi(l){return Kr(l,Ki)||Kr(l,qe)}function Ha(l){return null!==Qi(l)}function Kr(l,c){return l.hasOwnProperty(c)?l[c]:null}function ho(l){return l&&(l.hasOwnProperty(Xr)||l.hasOwnProperty(es))?l[Xr]:null}const Ki=ae({\u0275prov:ae}),Xr=ae({\u0275inj:ae}),qe=ae({ngInjectableDef:ae}),es=ae({ngInjectorDef:ae});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let br;function Ei(l){const c=br;return br=l,c}function Xo(l,c,u){const h=Qi(l);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&tt.Optional?null:void 0!==c?c:void ii(re(l))}function hi(l){return{toString:l}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),St=(()=>{return(l=St||(St={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",St;var l})();const mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lr={},It=[],Kn=ae({\u0275cmp:ae}),on=ae({\u0275dir:ae}),qs=ae({\u0275pipe:ae}),An=ae({\u0275mod:ae}),fi=ae({\u0275fac:ae}),pi=ae({__NG_ELEMENT_ID__:ae});let ts=0;function vr(l){return hi(()=>{const u=!0===l.standalone,h={},p={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||It,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||St.Emulated,id:"c"+ts++,styles:l.styles||It,_:null,setInput:null,schemas:l.schemas||null,tView:null},_=l.dependencies,C=l.features;return p.inputs=X(l.inputs,h),p.outputs=X(l.outputs),C&&C.forEach(x=>x(p)),p.directiveDefs=_?()=>("function"==typeof _?_():_).map(fo).filter(is):null,p.pipeDefs=_?()=>("function"==typeof _?_():_).map(ie).filter(is):null,p})}function fo(l){return U(l)||F(l)}function is(l){return null!==l}function Xi(l){return hi(()=>({type:l.type,bootstrap:l.bootstrap||It,declarations:l.declarations||It,imports:l.imports||It,exports:l.exports||It,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function po(l,c){return hi(()=>{const u=Qe(l,!0);u.declarations=c.declarations||It,u.imports=c.imports||It,u.exports=c.exports||It})}function X(l,c){if(null==l)return lr;const u={};for(const h in l)if(l.hasOwnProperty(h)){let p=l[h],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),u[p]=h,c&&(c[p]=_)}return u}const $=vr;function V(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function U(l){return l[Kn]||null}function F(l){return l[on]||null}function ie(l){return l[qs]||null}function De(l){const c=U(l)||F(l)||ie(l);return null!==c&&c.standalone}function Qe(l,c){const u=l[An]||null;if(!u&&!0===c)throw new Error(`Type ${re(l)} does not have '\u0275mod' property.`);return u}function kr(l){return Array.isArray(l)&&"object"==typeof l[1]}function rs(l){return Array.isArray(l)&&!0===l[1]}function Gs(l){return 0!=(8&l.flags)}function Is(l){return 2==(2&l.flags)}function Ca(l){return 1==(1&l.flags)}function Ys(l){return null!==l.template}function Mc(l){return 0!=(256&l[2])}function Js(l,c){return l.hasOwnProperty(fi)?l[fi]:null}class dp{constructor(c,u,h){this.previousValue=c,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Bl(){return fh}function fh(l){return l.type.prototype.ngOnChanges&&(l.setInput=ph),Ic}function Ic(){const l=mh(this),c=l?.current;if(c){const u=l.previous;if(u===lr)l.previous=c;else for(let h in c)u[h]=c[h];l.current=null,this.ngOnChanges(c)}}function ph(l,c,u,h){const p=mh(l)||function Yn(l,c){return l[Lu]=c}(l,{previous:lr,current:null}),_=p.current||(p.current={}),C=p.previous,x=this.declaredInputs[u],S=C[x];_[x]=new dp(S&&S.currentValue,c,C===lr),l[h]=c}Bl.ngInherit=!0;const Lu="__ngSimpleChanges__";function mh(l){return l[Lu]||null}function cr(l){for(;Array.isArray(l);)l=l[0];return l}function ea(l,c){return cr(c[l])}function ks(l,c){return cr(c[l.index])}function wa(l,c){return l.data[c]}function ys(l,c){return l[c]}function wr(l,c){const u=c[l];return kr(u)?u:u[0]}function Rs(l){return 64==(64&l[2])}function zs(l,c){return null==c?null:l[c]}function Vl(l){l[18]=0}function za(l,c){l[5]+=c;let u=l,h=l[3];for(;null!==h&&(1===c&&1===u[5]||-1===c&&0===u[5]);)h[5]+=c,u=h,h=h[3]}const Zt={lFrame:Fc(null),bindingsEnabled:!0};function mp(){return Zt.bindingsEnabled}function Oe(){return Zt.lFrame.lView}function wn(){return Zt.lFrame.tView}function ko(l){return Zt.lFrame.contextLView=l,l[8]}function Qa(l){return Zt.lFrame.contextLView=null,l}function gi(){let l=bh();for(;null!==l&&64===l.type;)l=l.parent;return l}function bh(){return Zt.lFrame.currentTNode}function kc(){const l=Zt.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}function Ro(l,c){const u=Zt.lFrame;u.currentTNode=l,u.isParent=c}function Zu(){return Zt.lFrame.isParent}function Wa(){Zt.lFrame.isParent=!1}function os(){const l=Zt.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function yi(){return Zt.lFrame.bindingIndex}function Rc(){return Zt.lFrame.bindingIndex++}function Ns(l){const c=Zt.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,u}function Ch(l){Zt.lFrame.inI18n=l}function wg(l,c){const u=Zt.lFrame;u.bindingIndex=u.bindingRootIndex=l,Nc(c)}function Nc(l){Zt.lFrame.currentDirectiveIndex=l}function Oc(l){const c=Zt.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function jl(){return Zt.lFrame.currentQueryIndex}function qr(l){Zt.lFrame.currentQueryIndex=l}function qu(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function Gu(l,c,u){if(u&tt.SkipSelf){let p=c,_=l;for(;!(p=p.parent,null!==p||u&tt.Host||(p=qu(_),null===p||(_=_[15],10&p.type))););if(null===p)return!1;c=p,l=_}const h=Zt.lFrame=Hl();return h.currentTNode=c,h.lView=l,!0}function Ka(l){const c=Hl(),u=l[1];Zt.lFrame=c,c.currentTNode=u.firstChild,c.lView=l,c.tView=u,c.contextLView=l,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function Hl(){const l=Zt.lFrame,c=null===l?null:l.child;return null===c?Fc(l):c}function Fc(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function ql(){const l=Zt.lFrame;return Zt.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Yu=ql;function Xa(){const l=ql();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Vn(){return Zt.lFrame.selectedIndex}function el(l){Zt.lFrame.selectedIndex=l}function si(){const l=Zt.lFrame;return wa(l.tView,l.selectedIndex)}function Dg(){Zt.lFrame.currentNamespace="svg"}function Gl(){!function $u(){Zt.lFrame.currentNamespace=null}()}function Pc(l,c){for(let u=c.directiveStart,h=c.directiveEnd;u<h;u++){const _=l.data[u].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:x,ngAfterViewInit:S,ngAfterViewChecked:I,ngOnDestroy:P}=_;C&&(l.contentHooks||(l.contentHooks=[])).push(-u,C),x&&((l.contentHooks||(l.contentHooks=[])).push(u,x),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(u,x)),S&&(l.viewHooks||(l.viewHooks=[])).push(-u,S),I&&((l.viewHooks||(l.viewHooks=[])).push(u,I),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(u,I)),null!=P&&(l.destroyHooks||(l.destroyHooks=[])).push(u,P)}}function tl(l,c,u){wh(l,c,3,u)}function Wu(l,c,u,h){(3&l[2])===u&&wh(l,c,u,h)}function Ku(l,c){let u=l[2];(3&u)===c&&(u&=2047,u+=1,l[2]=u)}function wh(l,c,u,h){const _=h??-1,C=c.length-1;let x=0;for(let S=void 0!==h?65535&l[18]:0;S<C;S++)if("number"==typeof c[S+1]){if(x=c[S],null!=h&&x>=h)break}else c[S]<0&&(l[18]+=65536),(x<_||-1==_)&&(Th(l,u,c,S),l[18]=(4294901760&l[18])+S+2),S++}function Th(l,c,u,h){const p=u[h]<0,_=u[h+1],x=l[p?-u[h]:u[h]];if(p){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{_.call(x)}finally{}}}else try{_.call(x)}finally{}}class Yl{constructor(c,u,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function td(l,c,u){let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const _=u[h++],C=u[h++],x=u[h++];l.setAttribute(c,C,x,_)}else{const _=p,C=u[++h];yp(_)?l.setProperty(c,_,C):l.setAttribute(c,_,C),h++}}return h}function nl(l){return 3===l||4===l||6===l}function yp(l){return 64===l.charCodeAt(0)}function Da(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let u=-1;for(let h=0;h<c.length;h++){const p=c[h];"number"==typeof p?u=p:0===u||bp(l,u,p,null,-1===u||2===u?c[++h]:null)}}return l}function bp(l,c,u,h,p){let _=0,C=l.length;if(-1===c)C=-1;else for(;_<l.length;){const x=l[_++];if("number"==typeof x){if(x===c){C=-1;break}if(x>c){C=_-1;break}}}for(;_<l.length;){const x=l[_];if("number"==typeof x)break;if(x===u){if(null===h)return void(null!==p&&(l[_+1]=p));if(h===l[_+1])return void(l[_+2]=p)}_++,null!==h&&_++,null!==p&&_++}-1!==C&&(l.splice(C,0,c),_=C+1),l.splice(_++,0,u),null!==h&&l.splice(_++,0,h),null!==p&&l.splice(_++,0,p)}function zl(l){return-1!==l}function $l(l){return 32767&l}function go(l,c){let u=function nd(l){return l>>16}(l),h=c;for(;u>0;)h=h[15],u--;return h}let xa=!0;function il(l){const c=xa;return xa=l,c}let Bc=0;const $s={};function Aa(l,c){const u=Fo(l,c);if(-1!==u)return u;const h=c[1];h.firstCreatePass&&(l.injectorIndex=c.length,Sh(h.data,l),Sh(c,null),Sh(h.blueprint,null));const p=Wl(l,c),_=l.injectorIndex;if(zl(p)){const C=$l(p),x=go(p,c),S=x[1].data;for(let I=0;I<8;I++)c[_+I]=x[C+I]|S[C+I]}return c[_+8]=p,_}function Sh(l,c){l.push(0,0,0,0,0,0,0,0,c)}function Fo(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Wl(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let u=0,h=null,p=c;for(;null!==p;){if(h=Ag(p),null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Vc(l,c,u){!function Uc(l,c,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(pi)&&(h=u[pi]),null==h&&(h=u[pi]=Bc++);const p=255&h;c.data[l+(p>>5)]|=1<<p}(l,c,u)}function Ah(l,c,u){if(u&tt.Optional||void 0!==l)return l;ii()}function Sg(l,c,u,h){if(u&tt.Optional&&void 0===h&&(h=null),0==(u&(tt.Self|tt.Host))){const p=l[9],_=Ei(void 0);try{return p?p.get(c,h,u&tt.Optional):Xo(c,h,u&tt.Optional)}finally{Ei(_)}}return Ah(h,0,u)}function Kl(l,c,u,h=tt.Default,p){if(null!==l){if(1024&c[2]){const C=function Hc(l,c,u,h,p){let _=l,C=c;for(;null!==_&&null!==C&&1024&C[2]&&!(256&C[2]);){const x=Zc(_,C,u,h|tt.Self,$s);if(x!==$s)return x;let S=_.parent;if(!S){const I=C[21];if(I){const P=I.get(u,$s,h);if(P!==$s)return P}S=Ag(C),C=C[15]}_=S}return p}(l,c,u,h,$s);if(C!==$s)return C}const _=Zc(l,c,u,h,$s);if(_!==$s)return _}return Sg(c,u,h,p)}function Zc(l,c,u,h,p){const _=function T0(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(pi)?l[pi]:void 0;return"number"==typeof c?c>=0?255&c:D0:c}(u);if("function"==typeof _){if(!Gu(c,l,h))return h&tt.Host?Ah(p,0,h):Sg(c,u,h,p);try{const C=_(h);if(null!=C||h&tt.Optional)return C;ii()}finally{Yu()}}else if("number"==typeof _){let C=null,x=Fo(l,c),S=-1,I=h&tt.Host?c[16][6]:null;for((-1===x||h&tt.SkipSelf)&&(S=-1===x?Wl(l,c):c[x+8],-1!==S&&Eh(h,!1)?(C=c[1],x=$l(S),c=go(S,c)):x=-1);-1!==x;){const P=c[1];if(nb(_,x,P.data)){const G=tb(x,c,u,C,h,I);if(G!==$s)return G}S=c[x+8],-1!==S&&Eh(h,c[1].data[x+8]===I)&&nb(_,x,c)?(C=P,x=$l(S),c=go(S,c)):x=-1}}return p}function tb(l,c,u,h,p,_){const C=c[1],x=C.data[l+8],P=rl(x,C,u,null==h?Is(x)&&xa:h!=C&&0!=(3&x.type),p&tt.Host&&_===x);return null!==P?Xl(c,C,P,x):$s}function rl(l,c,u,h,p){const _=l.providerIndexes,C=c.data,x=1048575&_,S=l.directiveStart,P=_>>20,te=p?x+P:l.directiveEnd;for(let he=h?x:x+P;he<te;he++){const Te=C[he];if(he<S&&u===Te||he>=S&&Te.type===u)return he}if(p){const he=C[S];if(he&&Ys(he)&&he.type===u)return S}return null}function Xl(l,c,u,h){let p=l[u];const _=c.data;if(function gp(l){return l instanceof Yl}(p)){const C=p;C.resolving&&function Dt(l,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${l}${u}`)}(function Ae(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():ye(l)}(_[u]));const x=il(C.canSeeViewProviders);C.resolving=!0;const S=C.injectImpl?Ei(C.injectImpl):null;Gu(l,h,tt.Default);try{p=l[u]=C.factory(void 0,_,l,h),c.firstCreatePass&&u>=h.directiveStart&&function Ta(l,c,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:_}=c.type.prototype;if(h){const C=fh(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(l,C),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(l,C)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-l,p),_&&((u.preOrderHooks||(u.preOrderHooks=[])).push(l,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(l,_))}(u,_[u],c)}finally{null!==S&&Ei(S),il(x),C.resolving=!1,Yu()}}return p}function nb(l,c,u){return!!(u[c+(l>>5)]&1<<l)}function Eh(l,c){return!(l&tt.Self||l&tt.Host&&c)}class jc{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,h){return Kl(this._tNode,this._lView,c,h,u)}}function D0(){return new jc(gi(),Oe())}function sl(l){return hi(()=>{const c=l.prototype.constructor,u=c[fi]||na(c),h=Object.prototype;let p=Object.getPrototypeOf(l.prototype).constructor;for(;p&&p!==h;){const _=p[fi]||na(p);if(_&&_!==u)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function na(l){return ge(l)?()=>{const c=na(K(l));return c&&c()}:Js(l)}function Ag(l){const c=l[1],u=c.type;return 2===u?c.declTNode:1===u?l[6]:null}function vp(l){return function id(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const u=l.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const _=u[p];if(nl(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(_===c)return u[p+1];p+=2}}}return null}(gi(),l)}const ji="__parameters__";function Po(l,c,u){return hi(()=>{const h=function qc(l){return function(...u){if(l){const h=l(...u);for(const p in h)this[p]=h[p]}}}(c);function p(..._){if(this instanceof p)return h.apply(this,_),this;const C=new p(..._);return x.annotation=C,x;function x(S,I,P){const G=S.hasOwnProperty(ji)?S[ji]:Object.defineProperty(S,ji,{value:[]})[ji];for(;G.length<=P;)G.push(null);return(G[P]=G[P]||[]).push(C),S}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=l,p.annotationCls=p,p})}class $n{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=ri({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function dr(l,c){void 0===c&&(c=l);for(let u=0;u<l.length;u++){let h=l[u];Array.isArray(h)?(c===l&&(c=l.slice(0,u)),dr(h,c)):c!==l&&c.push(h)}return c}function _o(l,c){l.forEach(u=>Array.isArray(u)?_o(u,c):c(u))}function Rh(l,c,u){c>=l.length?l.push(u):l.splice(c,0,u)}function sd(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function od(l,c){const u=[];for(let h=0;h<l;h++)u.push(c);return u}function bs(l,c,u){let h=$c(l,c);return h>=0?l[1|h]=u:(h=~h,function ad(l,c,u,h){let p=l.length;if(p==c)l.push(u,h);else if(1===p)l.push(h,l[0]),l[0]=u;else{for(p--,l.push(l[p-1],l[p]);p>c;)l[p]=l[p-2],p--;l[c]=u,l[c+1]=h}}(l,h,c,u)),h}function tc(l,c){const u=$c(l,c);if(u>=0)return l[1|u]}function $c(l,c){return function Cp(l,c,u){let h=0,p=l.length>>u;for(;p!==h;){const _=h+(p-h>>1),C=l[_<<u];if(c===C)return _<<u;C>c?p=_:h=_+1}return~(p<<u)}(l,c,1)}const yo={},li="__NG_DI_FLAG__",Ws="ngTempTokenPath",ol=/\n/gm,er="__source";let Ea;function as(l){const c=Ea;return Ea=l,c}function Ph(l,c=tt.Default){if(void 0===Ea)throw new Ee(-203,!1);return null===Ea?Xo(l,void 0,c):Ea.get(l,c&tt.Optional?null:void 0,c)}function mn(l,c=tt.Default){return(function wi(){return br}()||Ph)(K(l),c)}function dd(l,c=tt.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),mn(l,c)}function Lh(l){const c=[];for(let u=0;u<l.length;u++){const h=K(l[u]);if(Array.isArray(h)){if(0===h.length)throw new Ee(900,!1);let p,_=tt.Default;for(let C=0;C<h.length;C++){const x=h[C],S=Rg(x);"number"==typeof S?-1===S?p=x.token:_|=S:p=x}c.push(mn(p,_))}else c.push(mn(h))}return c}function bo(l,c){return l[li]=c,l.prototype[li]=c,l}function Rg(l){return l[li]}const Kc=bo(Po("Inject",l=>({token:l})),-1),vo=bo(Po("Optional"),8),Co=bo(Po("SkipSelf"),4);var H=(()=>((H=H||{})[H.Important=1]="Important",H[H.DashCase=2]="DashCase",H))();const ee=/^>|^->|<!--|-->|--!>|<!-$/g,le=/(<|>)/;const Ye=new Map;let dt=0;const hr="__ngContext__";function Tr(l,c){kr(c)?(l[hr]=c[20],function Kt(l){Ye.set(l[20],l)}(c)):l[hr]=c}let gd;function Zg(l,c){return gd(l,c)}function la(l){const c=l[3];return rs(c)?c[3]:c}function Hg(l){return hb(l[13])}function cl(l){return hb(l[4])}function hb(l){for(;null!==l&&!rs(l);)l=l[4];return l}function ka(l,c,u,h,p){if(null!=h){let _,C=!1;rs(h)?_=h:kr(h)&&(C=!0,h=h[0]);const x=cr(h);0===l&&null!==u?null==p?Jh(c,u,x):su(c,u,x,p||null,!0):1===l&&null!==u?su(c,u,x,p||null,!0):2===l?En(c,x,C):3===l&&c.destroyNode(x),null!=_&&function Rp(l,c,u,h,p){const _=u[7];_!==cr(u)&&ka(c,l,h,_,p);for(let x=10;x<u.length;x++){const S=u[x];Lo(S[1],S,l,c,h,_)}}(c,l,_,u,p)}}function Hh(l,c){return l.createText(c)}function qh(l,c,u){l.setValue(c,u)}function iu(l,c){return l.createComment(function Re(l){return l.replace(ee,c=>c.replace(le,"\u200b$1\u200b"))}(c))}function Ep(l,c,u){return l.createElement(c,u)}function qg(l,c){const u=l[9],h=u.indexOf(c),p=c[3];512&c[2]&&(c[2]&=-513,za(p,-1)),u.splice(h,1)}function _d(l,c){if(l.length<=10)return;const u=10+c,h=l[u];if(h){const p=h[17];null!==p&&p!==l&&qg(p,h),c>0&&(l[u-1][4]=h[4]);const _=sd(l,10+c);!function Gh(l,c){Lo(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(h[1],h);const C=_[19];null!==C&&C.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Gg(l,c){if(!(128&c[2])){const u=c[11];u.destroyNode&&Lo(l,c,u,3,null,null),function Mp(l){let c=l[13];if(!c)return ru(l[1],l);for(;c;){let u=null;if(kr(c))u=c[13];else{const h=c[10];h&&(u=h)}if(!u){for(;c&&!c[4]&&c!==l;)kr(c)&&ru(c[1],c),c=c[3];null===c&&(c=l),kr(c)&&ru(c[1],c),u=c&&c[4]}c=u}}(c)}}function ru(l,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function F0(l,c){let u;if(null!=l&&null!=(u=l.destroyHooks))for(let h=0;h<u.length;h+=2){const p=c[u[h]];if(!(p instanceof Yl)){const _=u[h+1];if(Array.isArray(_))for(let C=0;C<_.length;C+=2){const x=p[_[C]],S=_[C+1];try{S.call(x)}finally{}}else try{_.call(p)}finally{}}}}(l,c),function O0(l,c){const u=l.cleanup,h=c[7];let p=-1;if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const C=u[_+1],x="function"==typeof C?C(c):cr(c[C]),S=h[p=u[_+2]],I=u[_+3];"boolean"==typeof I?x.removeEventListener(u[_],S,I):I>=0?h[p=I]():h[p=-I].unsubscribe(),_+=2}else{const C=h[p=u[_+1]];u[_].call(C)}if(null!==h){for(let _=p+1;_<h.length;_++)(0,h[_])();c[7]=null}}(l,c),1===c[1].type&&c[11].destroy();const u=c[17];if(null!==u&&rs(c[3])){u!==c[3]&&qg(u,c);const h=c[19];null!==h&&h.detachView(l)}!function xi(l){Ye.delete(l[20])}(c)}}function fb(l,c,u){return pb(l,c.parent,u)}function pb(l,c,u){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return u[0];if(2&h.flags){const p=l.data[h.directiveStart].encapsulation;if(p===St.None||p===St.Emulated)return null}return ks(h,u)}function su(l,c,u,h,p){l.insertBefore(c,u,h,p)}function Jh(l,c,u){l.appendChild(c,u)}function zh(l,c,u,h,p){null!==h?su(l,c,u,h,p):Jh(l,c,u)}function m(l,c){return l.parentNode(c)}function w(l,c,u){return N(l,c,u)}function M(l,c,u){return 40&l.type?ks(l,u):null}let Q,Qh,gb,_b,N=M;function de(l,c){N=l,Q=c}function Be(l,c,u,h){const p=fb(l,h,c),_=c[11],x=w(h.parent||c[6],h,c);if(null!=p)if(Array.isArray(u))for(let S=0;S<u.length;S++)zh(_,p,u[S],x,!1);else zh(_,p,u,x,!1);void 0!==Q&&Q(_,h,c,u,p)}function Me(l,c){if(null!==c){const u=c.type;if(3&u)return ks(c,l);if(4&u)return nn(-1,l[c.index]);if(8&u){const h=c.child;if(null!==h)return Me(l,h);{const p=l[c.index];return rs(p)?nn(-1,p):cr(p)}}if(32&u)return Zg(c,l)()||cr(l[c.index]);{const h=it(l,c);return null!==h?Array.isArray(h)?h[0]:Me(la(l[16]),h):Me(l,c.next)}}return null}function it(l,c){return null!==c?l[16][6].projection[c.projection]:null}function nn(l,c){const u=10+l+1;if(u<c.length){const h=c[u],p=h[1].firstChild;if(null!==p)return Me(h,p)}return c[7]}function En(l,c,u){const h=m(l,c);h&&function P0(l,c,u,h){l.removeChild(c,u,h)}(l,h,c,u)}function cs(l,c,u,h,p,_,C){for(;null!=u;){const x=h[u.index],S=u.type;if(C&&0===c&&(x&&Tr(cr(x),h),u.flags|=4),64!=(64&u.flags))if(8&S)cs(l,c,u.child,h,p,_,!1),ka(c,l,p,x,_);else if(32&S){const I=Zg(u,h);let P;for(;P=I();)ka(c,l,p,P,_);ka(c,l,p,x,_)}else 16&S?kp(l,c,h,u,p,_):ka(c,l,p,x,_);u=C?u.projectionNext:u.next}}function Lo(l,c,u,h,p,_){cs(u,h,l.firstChild,c,p,_,!1)}function kp(l,c,u,h,p,_){const C=u[16],S=C[6].projection[h.projection];if(Array.isArray(S))for(let I=0;I<S.length;I++)ka(c,l,p,S[I],_);else cs(l,c,S,C[3],p,_,!0)}function Np(l,c,u){l.setAttribute(c,"style",u)}function bd(l,c,u){""===u?l.removeAttribute(c,"class"):l.setAttribute(c,"class",u)}function ul(l){return function vd(){if(void 0===Qh&&(Qh=null,mt.trustedTypes))try{Qh=mt.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Qh}()?.createHTML(l)||l}function eR(l){gb=l}function bx(){return void 0!==gb?gb:typeof document<"u"?document:void 0}function vx(l){return function L0(){if(void 0===_b&&(_b=null,mt.trustedTypes))try{_b=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return _b}()?.createHTML(l)||l}class Kh{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class tR extends Kh{getTypeName(){return"HTML"}}class nR extends Kh{getTypeName(){return"Style"}}class iR extends Kh{getTypeName(){return"Script"}}class Tx extends Kh{getTypeName(){return"URL"}}class rR extends Kh{getTypeName(){return"ResourceURL"}}function oc(l){return l instanceof Kh?l.changingThisBreaksApplicationSecurity:l}function wd(l,c){const u=function B0(l){return l instanceof Kh&&l.getTypeName()||null}(l);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===c}function ou(l){return new tR(l)}function Op(l){return new nR(l)}function Dx(l){return new iR(l)}function xx(l){return new Tx(l)}function sR(l){return new rR(l)}function au(l){const c=new oR(l);return function yb(){try{return!!(new window.DOMParser).parseFromString(ul(""),"text/html")}catch{return!1}}()?new Sx(c):c}class Sx{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(ul(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class oR{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(c){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ul(c),u;const h=this.inertDocument.createElement("body");return h.innerHTML=ul(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(c){const u=c.attributes;for(let p=u.length-1;0<p;p--){const C=u.item(p).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&c.removeAttribute(C)}let h=c.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Ax=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Fp(l){return(l=String(l)).match(Ax)?l:"unsafe:"+l}function ac(l){const c={};for(const u of l.split(","))c[u]=!0;return c}function Xh(...l){const c={};for(const u of l)for(const h in u)u.hasOwnProperty(h)&&(c[h]=!0);return c}const bb=ac("area,br,col,hr,img,wbr"),Ex=ac("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pp=ac("rp,rt"),vb=Xh(bb,Xh(Ex,ac("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xh(Pp,ac("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xh(Pp,Ex)),Cb=ac("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ix=Xh(Cb,ac("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ac("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yg=ac("script,style,template");class wb{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!vb.hasOwnProperty(u))return this.sanitizedSomething=!0,!Yg.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=c.attributes;for(let p=0;p<h.length;p++){const _=h.item(p),C=_.name,x=C.toLowerCase();if(!Ix.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let S=_.value;Cb[x]&&(S=Fp(S)),this.buf.push(" ",C,'="',kx(S),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();vb.hasOwnProperty(u)&&!bb.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(kx(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const U0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cR=/([^\#-~ |!])/g;function kx(l){return l.replace(/&/g,"&amp;").replace(U0,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(cR,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lp;function V0(l,c){let u=null;try{Lp=Lp||au(l);let h=c?String(c):"";u=Lp.getInertBodyElement(h);let p=5,_=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=_,_=u.innerHTML,u=Lp.getInertBodyElement(h)}while(h!==_);return ul((new wb).sanitizeChildren(Rx(u)||u))}finally{if(u){const h=Rx(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Rx(l){return"content"in l&&function tB(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Yr=(()=>((Yr=Yr||{})[Yr.NONE=0]="NONE",Yr[Yr.HTML=1]="HTML",Yr[Yr.STYLE=2]="STYLE",Yr[Yr.SCRIPT=3]="SCRIPT",Yr[Yr.URL=4]="URL",Yr[Yr.RESOURCE_URL=5]="RESOURCE_URL",Yr))();function uR(l){const c=Bp();return c?vx(c.sanitize(Yr.HTML,l)||""):wd(l,"HTML")?vx(oc(l)):V0(bx(),ye(l))}function j0(l){const c=Bp();return c?c.sanitize(Yr.URL,l)||"":wd(l,"URL")?oc(l):Fp(ye(l))}function Bp(){const l=Oe();return l&&l[12]}const Up=new $n("ENVIRONMENT_INITIALIZER"),q0=new $n("INJECTOR",-1),Fx=new $n("INJECTOR_DEF_TYPES");class ef{get(c,u=yo){if(u===yo){const h=new Error(`NullInjectorError: No provider for ${re(c)}!`);throw h.name="NullInjectorError",h}return u}}function zg(...l){return{\u0275providers:Px(0,l)}}function Px(l,...c){const u=[],h=new Set;let p;return _o(c,_=>{const C=_;tf(C,u,[],h)&&(p||(p=[]),p.push(C))}),void 0!==p&&Lx(p,u),u}function Lx(l,c){for(let u=0;u<l.length;u++){const{providers:p}=l[u];_o(p,_=>{c.push(_)})}}function tf(l,c,u,h){if(!(l=K(l)))return!1;let p=null,_=ho(l);const C=!_&&U(l);if(_||C){if(C&&!C.standalone)return!1;p=l}else{const S=l.ngModule;if(_=ho(S),!_)return!1;p=S}const x=h.has(p);if(C){if(x)return!1;if(h.add(p),C.dependencies){const S="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const I of S)tf(I,c,u,h)}}else{if(!_)return!1;{if(null!=_.imports&&!x){let I;h.add(p);try{_o(_.imports,P=>{tf(P,c,u,h)&&(I||(I=[]),I.push(P))})}finally{}void 0!==I&&Lx(I,c)}if(!x){const I=Js(p)||(()=>new p);c.push({provide:p,useFactory:I,deps:It},{provide:Fx,useValue:p,multi:!0},{provide:Up,useValue:()=>mn(p),multi:!0})}const S=_.providers;null==S||x||_o(S,P=>{c.push(P)})}}return p!==l&&void 0!==l.providers}const hR=ae({provide:String,useValue:ae});function G0(l){return null!==l&&"object"==typeof l&&hR in l}function nf(l){return"function"==typeof l}const Vx=new $n("Set Injector scope."),Db={},Y0={};let Vp;function lu(){return void 0===Vp&&(Vp=new ef),Vp}class rf{}class Zx extends rf{constructor(c,u,h,p){super(),this.parent=u,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$g(c,C=>this.processProvider(C)),this.records.set(q0,Zp(void 0,this)),p.has("environment")&&this.records.set(rf,Zp(void 0,this));const _=this.records.get(Vx);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Fx.multi,It,tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const u=as(this),h=Ei(void 0);try{return c()}finally{as(u),Ei(h)}}get(c,u=yo,h=tt.Default){this.assertNotDestroyed();const p=as(this),_=Ei(void 0);try{if(!(h&tt.SkipSelf)){let x=this.records.get(c);if(void 0===x){const S=function Hx(l){return"function"==typeof l||"object"==typeof l&&l instanceof $n}(c)&&Qi(c);x=S&&this.injectableDefInScope(S)?Zp(J0(c),Db):null,this.records.set(c,x)}if(null!=x)return this.hydrate(c,x)}return(h&tt.Self?lu():this.parent).get(c,u=h&tt.Optional&&u===yo?null:u)}catch(C){if("NullInjectorError"===C.name){if((C[Ws]=C[Ws]||[]).unshift(re(c)),p)throw C;return function Wc(l,c,u,h){const p=l[Ws];throw c[er]&&p.unshift(c[er]),l.message=function hd(l,c,u,h=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let p=re(c);if(Array.isArray(c))p=c.map(re).join(" -> ");else if("object"==typeof c){let _=[];for(let C in c)if(c.hasOwnProperty(C)){let x=c[C];_.push(C+":"+("string"==typeof x?JSON.stringify(x):re(x)))}p=`{${_.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${l.replace(ol,"\n  ")}`}("\n"+l.message,p,u,h),l.ngTokenPath=p,l[Ws]=null,l}(C,c,"R3InjectorError",this.source)}throw C}finally{Ei(_),as(p)}}resolveInjectorInitializers(){const c=as(this),u=Ei(void 0);try{const h=this.get(Up.multi,It,tt.Self);for(const p of h)p()}finally{as(c),Ei(u)}}toString(){const c=[],u=this.records;for(const h of u.keys())c.push(re(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(c){let u=nf(c=K(c))?c:K(c&&c.provide);const h=function mR(l){return G0(l)?Zp(void 0,l.useValue):Zp(jx(l),Db)}(c);if(nf(c)||!0!==c.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=Zp(void 0,Db,!0),p.factory=()=>Lh(p.multi),this.records.set(u,p)),u=c,p.multi.push(c)}this.records.set(u,h)}hydrate(c,u){return u.value===Db&&(u.value=Y0,u.value=u.factory()),"object"==typeof u.value&&u.value&&function _R(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=K(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function J0(l){const c=Qi(l),u=null!==c?c.factory:Js(l);if(null!==u)return u;if(l instanceof $n)throw new Ee(204,!1);if(l instanceof Function)return function pR(l){const c=l.length;if(c>0)throw od(c,"?"),new Ee(204,!1);const u=function Ui(l){const c=l&&(l[Ki]||l[qe]);if(c){const u=function Wi(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(l);return null!==u?()=>u.factory(l):()=>new l}(l);throw new Ee(204,!1)}function jx(l,c,u){let h;if(nf(l)){const p=K(l);return Js(p)||J0(p)}if(G0(l))h=()=>K(l.useValue);else if(function Ux(l){return!(!l||!l.useFactory)}(l))h=()=>l.useFactory(...Lh(l.deps||[]));else if(function Bx(l){return!(!l||!l.useExisting)}(l))h=()=>mn(K(l.useExisting));else{const p=K(l&&(l.useClass||l.provide));if(!function gR(l){return!!l.deps}(l))return Js(p)||J0(p);h=()=>new p(...Lh(l.deps))}return h}function Zp(l,c,u=!1){return{factory:l,value:c,multi:u?[]:void 0}}function yR(l){return!!l.\u0275providers}function $g(l,c){for(const u of l)Array.isArray(u)?$g(u,c):yR(u)?$g(u.\u0275providers,c):c(u)}class xb{}class bR{resolveComponentFactory(c){throw function Sb(l){const c=Error(`No component factory found for ${re(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let Qg=(()=>{class l{}return l.NULL=new bR,l})();function Ab(){return sf(gi(),Oe())}function sf(l,c){return new jp(ks(l,c))}let jp=(()=>{class l{constructor(u){this.nativeElement=u}}return l.__NG_ELEMENT_ID__=Ab,l})();function Eb(l){return l instanceof jp?l.nativeElement:l}class $0{}let Wg=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function Yx(){const l=Oe(),u=wr(gi().index,l);return(kr(u)?u:l)[11]}(),l})(),vR=(()=>{class l{}return l.\u0275prov=ri({token:l,providedIn:"root",factory:()=>null}),l})();class Jx{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const zx=new Jx("14.3.0"),Q0={};function K0(l){return l.ngOriginalError}class Kg{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&K0(c);for(;u&&K0(u);)u=K0(u);return u||null}}function lc(l){return l instanceof Function?l():l}function Xx(l,c,u){let h=l.length;for(;;){const p=l.indexOf(c,u);if(-1===p)return p;if(0===p||l.charCodeAt(p-1)<=32){const _=c.length;if(p+_===h||l.charCodeAt(p+_)<=32)return p}u=p+1}}const eS="ng-template";function tS(l,c,u){let h=0;for(;h<l.length;){let p=l[h++];if(u&&"class"===p){if(p=l[h],-1!==Xx(p.toLowerCase(),c,0))return!0}else if(1===p){for(;h<l.length&&"string"==typeof(p=l[h++]);)if(p.toLowerCase()===c)return!0;return!1}}return!1}function Ib(l){return 4===l.type&&l.value!==eS}function nS(l,c,u){return c===(4!==l.type||u?l.value:eS)}function iS(l,c,u){let h=4;const p=l.attrs||[],_=function IR(l){for(let c=0;c<l.length;c++)if(nl(l[c]))return c;return l.length}(p);let C=!1;for(let x=0;x<c.length;x++){const S=c[x];if("number"!=typeof S){if(!C)if(4&h){if(h=2|1&h,""!==S&&!nS(l,S,u)||""===S&&1===c.length){if(cc(h))return!1;C=!0}}else{const I=8&h?S:c[++x];if(8&h&&null!==l.attrs){if(!tS(l.attrs,I,u)){if(cc(h))return!1;C=!0}continue}const G=ER(8&h?"class":S,p,Ib(l),u);if(-1===G){if(cc(h))return!1;C=!0;continue}if(""!==I){let te;te=G>_?"":p[G+1].toLowerCase();const he=8&h?te:null;if(he&&-1!==Xx(he,I,0)||2&h&&I!==te){if(cc(h))return!1;C=!0}}}}else{if(!C&&!cc(h)&&!cc(S))return!1;if(C&&cc(S))continue;C=!1,h=S|1&h}}return cc(h)||C}function cc(l){return 0==(1&l)}function ER(l,c,u,h){if(null===c)return-1;let p=0;if(h||!u){let _=!1;for(;p<c.length;){const C=c[p];if(C===l)return p;if(3===C||6===C)_=!0;else{if(1===C||2===C){let x=c[++p];for(;"string"==typeof x;)x=c[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=_?1:2}return-1}return function kb(l,c){let u=l.indexOf(4);if(u>-1)for(u++;u<l.length;){const h=l[u];if("number"==typeof h)return-1;if(h===c)return u;u++}return-1}(c,l)}function rS(l,c,u=!1){for(let h=0;h<c.length;h++)if(iS(l,c[h],u))return!0;return!1}function sS(l,c){e:for(let u=0;u<c.length;u++){const h=c[u];if(l.length===h.length){for(let p=0;p<l.length;p++)if(l[p]!==h[p])continue e;return!0}}return!1}function Rb(l,c){return l?":not("+c.trim()+")":c}function X0(l){let c=l[0],u=1,h=2,p="",_=!1;for(;u<l.length;){let C=l[u];if("string"==typeof C)if(2&h){const x=l[++u];p+="["+C+(x.length>0?'="'+x+'"':"")+"]"}else 8&h?p+="."+C:4&h&&(p+=" "+C);else""!==p&&!cc(C)&&(c+=Rb(_,p),p=""),h=C,_=_||!cc(h);u++}return""!==p&&(c+=Rb(_,p)),c}const cn={};function oS(l){aS(wn(),Oe(),Vn()+l,!1)}function aS(l,c,u,h){if(!h)if(3==(3&c[2])){const _=l.preOrderCheckHooks;null!==_&&tl(c,_,u)}else{const _=l.preOrderHooks;null!==_&&Wu(c,_,0,u)}el(u)}function hS(l,c=null,u=null,h){const p=fS(l,c,u,h);return p.resolveInjectorInitializers(),p}function fS(l,c=null,u=null,h,p=new Set){const _=[u||It,zg(l)];return h=h||("object"==typeof l?void 0:re(l)),new Zx(_,c||lu(),h||null,p)}let Td=(()=>{class l{static create(u,h){if(Array.isArray(u))return hS({name:""},h,u,"");{const p=u.name??"";return hS({name:p},u.parent,u.providers,p)}}}return l.THROW_IF_NOT_FOUND=yo,l.NULL=new ef,l.\u0275prov=ri({token:l,providedIn:"any",factory:()=>mn(q0)}),l.__NG_ELEMENT_ID__=-1,l})();function uf(l,c=tt.Default){const u=Oe();return null===u?mn(l,c):Kl(gi(),u,K(l),c)}function CS(){throw new Error("invalid")}function ci(l,c){return l<<17|c<<2}function wo(l){return l>>17&32767}function c1(l){return 2|l}function cu(l){return(131068&l)>>2}function Lb(l,c){return-131069&l|c<<2}function Bb(l){return 1|l}function Vb(l,c){const u=l.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],_=u[h+1];if(-1!==_){const C=l.data[_];qr(p),C.contentQueries(2,c[_],_)}}}function hf(l,c,u,h,p,_,C,x,S,I,P){const G=c.blueprint.slice();return G[0]=p,G[2]=76|h,(null!==P||l&&1024&l[2])&&(G[2]|=1024),Vl(G),G[3]=G[15]=l,G[8]=u,G[10]=C||l&&l[10],G[11]=x||l&&l[11],G[12]=S||l&&l[12]||null,G[9]=I||l&&l[9]||null,G[6]=_,G[20]=function $t(){return dt++}(),G[21]=P,G[16]=2==c.type?l[16]:G,G}function xd(l,c,u,h,p){let _=l.data[c];if(null===_)_=g1(l,c,u,h,p),function vh(){return Zt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=u,_.value=h,_.attrs=p;const C=kc();_.injectorIndex=null===C?-1:C.injectorIndex}return Ro(_,!0),_}function g1(l,c,u,h,p){const _=bh(),C=Zu(),S=l.data[c]=function v1(l,c,u,h,p,_){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?_:_&&_.parent,u,c,h,p);return null===l.firstChild&&(l.firstChild=S),null!==_&&(C?null==_.child&&null!==S.parent&&(_.child=S):null===_.next&&(_.next=S)),S}function Hp(l,c,u,h){if(0===u)return-1;const p=c.length;for(let _=0;_<u;_++)c.push(h),l.blueprint.push(h),l.data.push(null);return p}function jb(l,c,u){Ka(c);try{const h=l.viewQuery;null!==h&&Qb(1,h,u);const p=l.template;null!==p&&kS(l,c,p,1,u),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Vb(l,c),l.staticViewQueries&&Qb(2,l.viewQuery,u);const _=l.components;null!==_&&function Zb(l,c){for(let u=0;u<c.length;u++)sN(l,c[u])}(c,_)}catch(h){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),h}finally{c[2]&=-5,Xa()}}function Hb(l,c,u,h){const p=c[2];if(128!=(128&p)){Ka(c);try{Vl(c),function No(l){return Zt.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==u&&kS(l,c,u,2,h);const C=3==(3&p);if(C){const I=l.preOrderCheckHooks;null!==I&&tl(c,I,null)}else{const I=l.preOrderHooks;null!==I&&Wu(c,I,0,null),Ku(c,0)}if(function iN(l){for(let c=Hg(l);null!==c;c=cl(c)){if(!c[2])continue;const u=c[9];for(let h=0;h<u.length;h++){const p=u[h],_=p[3];0==(512&p[2])&&za(_,1),p[2]|=512}}}(c),function nN(l){for(let c=Hg(l);null!==c;c=cl(c))for(let u=10;u<c.length;u++){const h=c[u],p=h[1];Rs(h)&&Hb(p,h,p.template,h[8])}}(c),null!==l.contentQueries&&Vb(l,c),C){const I=l.contentCheckHooks;null!==I&&tl(c,I)}else{const I=l.contentHooks;null!==I&&Wu(c,I,1),Ku(c,1)}!function Ub(l,c){const u=l.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)el(~p);else{const _=p,C=u[++h],x=u[++h];wg(C,_),x(2,c[_])}}}finally{el(-1)}}(l,c);const x=l.components;null!==x&&function m1(l,c){for(let u=0;u<c.length;u++)rN(l,c[u])}(c,x);const S=l.viewQuery;if(null!==S&&Qb(2,S,h),C){const I=l.viewCheckHooks;null!==I&&tl(c,I)}else{const I=l.viewHooks;null!==I&&Wu(c,I,2),Ku(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,za(c[3],-1))}finally{Xa()}}}function kS(l,c,u,h,p){const _=Vn(),C=2&h;try{el(-1),C&&c.length>22&&aS(l,c,22,!1),u(h,p)}finally{el(_)}}function qp(l,c,u){if(Gs(c)){const p=c.directiveEnd;for(let _=c.directiveStart;_<p;_++){const C=l.data[_];C.contentQueries&&C.contentQueries(1,u[_],_)}}}function qb(l,c,u){!mp()||(function D1(l,c,u,h){const p=u.directiveStart,_=u.directiveEnd;l.firstCreatePass||Aa(u,c),Tr(h,c);const C=u.initialInputs;for(let x=p;x<_;x++){const S=l.data[x],I=Ys(S);I&&S1(c,u,S);const P=Xl(c,l,x,u);Tr(P,c),null!==C&&LS(0,x-p,P,S,0,C),I&&(wr(u.index,c)[8]=P)}}(l,c,u,ks(u,c)),128==(128&u.flags)&&function XR(l,c,u){const h=u.directiveStart,p=u.directiveEnd,_=u.index,C=function Hu(){return Zt.lFrame.currentDirectiveIndex}();try{el(_);for(let x=h;x<p;x++){const S=l.data[x],I=c[x];Nc(x),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&FS(S,I)}}finally{el(-1),Nc(C)}}(l,c,u))}function Gp(l,c,u=ks){const h=c.localNames;if(null!==h){let p=c.index+1;for(let _=0;_<h.length;_+=2){const C=h[_+1],x=-1===C?u(c,l):l[C];l[p++]=x}}}function _1(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=y1(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function y1(l,c,u,h,p,_,C,x,S,I){const P=22+h,G=P+p,te=function QR(l,c){const u=[];for(let h=0;h<c;h++)u.push(h<l?null:cn);return u}(P,G),he="function"==typeof I?I():I;return te[1]={type:l,blueprint:te,template:u,queries:null,viewQuery:x,declTNode:c,data:te.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:S,consts:he,incompleteFirstPass:!1}}function b1(l,c,u,h){const p=VS(c);null===u?p.push(h):(p.push(u),l.firstCreatePass&&ZS(l).push(h,p.length-1))}function C1(l,c,u){for(let h in l)if(l.hasOwnProperty(h)){const p=l[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(c,p):u[h]=[c,p]}return u}function Gb(l,c){const h=c.directiveEnd,p=l.data,_=c.attrs,C=[];let x=null,S=null;for(let I=c.directiveStart;I<h;I++){const P=p[I],G=P.inputs,te=null===_||Ib(c)?null:Yp(G,_);C.push(te),x=C1(G,I,x),S=C1(P.outputs,I,S)}null!==x&&(x.hasOwnProperty("class")&&(c.flags|=16),x.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=C,c.inputs=x,c.outputs=S}function Fs(l,c,u,h,p,_,C,x){const S=ks(c,u);let P,I=c.inputs;!x&&null!=I&&(P=I[h])?(Wb(l,u,P,h,p),Is(c)&&NS(u,c.index)):3&c.type&&(h=function RS(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(h),p=null!=C?C(p,c.value||"",h):p,_.setProperty(S,h,p))}function NS(l,c){const u=wr(c,l);16&u[2]||(u[2]|=32)}function t_(l,c,u,h){let p=!1;if(mp()){const _=function eN(l,c,u){const h=l.directiveRegistry;let p=null;if(h)for(let _=0;_<h.length;_++){const C=h[_];rS(u,C.selectors,!1)&&(p||(p=[]),Vc(Aa(u,c),l,C.type),Ys(C)?(n_(l,u),p.unshift(C)):p.push(C))}return p}(l,c,u),C=null===h?null:{"":-1};if(null!==_){p=!0,Jb(u,l.data.length,_.length);for(let P=0;P<_.length;P++){const G=_[P];G.providersResolver&&G.providersResolver(G)}let x=!1,S=!1,I=Hp(l,c,_.length,null);for(let P=0;P<_.length;P++){const G=_[P];u.mergedAttrs=Da(u.mergedAttrs,G.hostAttrs),zb(l,u,c,I,G),PS(I,G,C),null!==G.contentQueries&&(u.flags|=8),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(u.flags|=128);const te=G.type.prototype;!x&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(u.index),x=!0),!S&&(te.ngOnChanges||te.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(u.index),S=!0),I++}Gb(l,u)}C&&function x1(l,c,u){if(c){const h=l.localNames=[];for(let p=0;p<c.length;p+=2){const _=u[c[p+1]];if(null==_)throw new Ee(-301,!1);h.push(c[p],_)}}}(u,h,C)}return u.mergedAttrs=Da(u.mergedAttrs,u.attrs),p}function Yb(l,c,u,h,p,_){const C=_.hostBindings;if(C){let x=l.hostBindingOpCodes;null===x&&(x=l.hostBindingOpCodes=[]);const S=~c.index;(function T1(l){let c=l.length;for(;c>0;){const u=l[--c];if("number"==typeof u&&u<0)return u}return 0})(x)!=S&&x.push(S),x.push(h,p,C)}}function FS(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function n_(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function PS(l,c,u){if(u){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)u[c.exportAs[h]]=l;Ys(c)&&(u[""]=l)}}function Jb(l,c,u){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+u,l.providerIndexes=c}function zb(l,c,u,h,p){l.data[h]=p;const _=p.factory||(p.factory=Js(p.type)),C=new Yl(_,Ys(p),uf);l.blueprint[h]=C,u[h]=C,Yb(l,c,0,h,Hp(l,u,p.hostVars,cn),p)}function S1(l,c,u){const h=ks(c,l),p=_1(u),_=l[10],C=$b(l,hf(l,p,null,u.onPush?32:16,h,c,_,_.createRenderer(h,u),null,null,null));l[c.index]=C}function A1(l,c,u,h,p,_,C){if(null==_)l.removeAttribute(c,p,u);else{const x=null==C?ye(_):C(_,h||"",p);l.setAttribute(c,p,x,u)}}function LS(l,c,u,h,p,_){const C=_[c];if(null!==C){const x=h.setInput;for(let S=0;S<C.length;){const I=C[S++],P=C[S++],G=C[S++];null!==x?h.setInput(u,G,I,P):u[P]=G}}}function Yp(l,c){let u=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;l.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,l[p],c[h+1])),h+=2}else h+=2;else h+=4}return u}function BS(l,c,u,h){return new Array(l,!0,!1,c,null,0,h,u,null,null)}function rN(l,c){const u=wr(c,l);if(Rs(u)){const h=u[1];48&u[2]?Hb(h,u,h.template,u[8]):u[5]>0&&E1(u)}}function E1(l){for(let h=Hg(l);null!==h;h=cl(h))for(let p=10;p<h.length;p++){const _=h[p];if(Rs(_))if(512&_[2]){const C=_[1];Hb(C,_,C.template,_[8])}else _[5]>0&&E1(_)}const u=l[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=wr(u[h],l);Rs(p)&&p[5]>0&&E1(p)}}function sN(l,c){const u=wr(c,l),h=u[1];(function oN(l,c){for(let u=c.length;u<l.blueprint.length;u++)c.push(l.blueprint[u])})(h,u),jb(h,u,u[8])}function $b(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function M1(l){for(;l;){l[2]|=32;const c=la(l);if(Mc(l)&&!c)return l;l=c}return null}function ff(l,c,u,h=!0){const p=c[10];p.begin&&p.begin();try{Hb(l,c,l.template,u)}catch(C){throw h&&I1(c,C),C}finally{p.end&&p.end()}}function Qb(l,c,u){qr(0),c(l,u)}function VS(l){return l[7]||(l[7]=[])}function ZS(l){return l.cleanup||(l.cleanup=[])}function jS(l,c,u){return(null===l||Ys(l))&&(u=function _h(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(u[c.index])),u[11]}function I1(l,c){const u=l[9],h=u?u.get(Kg,null):null;h&&h.handleError(c)}function Wb(l,c,u,h,p){for(let _=0;_<u.length;){const C=u[_++],x=u[_++],S=c[C],I=l.data[C];null!==I.setInput?I.setInput(S,p,h,x):S[x]=p}}function hc(l,c,u){const h=ea(c,l);qh(l[11],h,u)}function i_(l,c,u){let h=u?l.styles:null,p=u?l.classes:null,_=0;if(null!==c)for(let C=0;C<c.length;C++){const x=c[C];"number"==typeof x?_=x:1==_?p=se(p,x):2==_&&(h=se(h,x+": "+c[++C]+";"))}u?l.styles=h:l.stylesWithoutHost=h,u?l.classes=p:l.classesWithoutHost=p}function r_(l,c,u,h,p=!1){for(;null!==u;){const _=c[u.index];if(null!==_&&h.push(cr(_)),rs(_))for(let x=10;x<_.length;x++){const S=_[x],I=S[1].firstChild;null!==I&&r_(S[1],S,I,h)}const C=u.type;if(8&C)r_(l,c,u.child,h);else if(32&C){const x=Zg(u,c);let S;for(;S=x();)h.push(S)}else if(16&C){const x=it(c,u);if(Array.isArray(x))h.push(...x);else{const S=la(c[16]);r_(S[1],S,x,h,!0)}}u=p?u.projectionNext:u.next}return h}class Kb{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return r_(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(rs(c)){const u=c[8],h=u?u.indexOf(this):-1;h>-1&&(_d(c,h),sd(u,h))}this._attachedToViewContainer=!1}Gg(this._lView[1],this._lView)}onDestroy(c){b1(this._lView[1],this._lView,null,c)}markForCheck(){M1(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ff(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yh(l,c){Lo(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=c}}class lN extends Kb{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;ff(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class HS extends Qg{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=U(c);return new Xb(u,this.ngModule)}}function cN(l){const c=[];for(let u in l)l.hasOwnProperty(u)&&c.push({propName:l[u],templateName:u});return c}class CB{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,h){const p=this.injector.get(c,Q0,h);return p!==Q0||u===Q0?p:this.parentInjector.get(c,u,h)}}class Xb extends xb{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function kR(l){return l.map(X0).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return cN(this.componentDef.inputs)}get outputs(){return cN(this.componentDef.outputs)}create(c,u,h,p){let _=(p=p||this.ngModule)instanceof rf?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const C=_?new CB(c,_):c,x=C.get($0,null);if(null===x)throw new Ee(407,!1);const S=C.get(vR,null),I=x.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",G=h?function WR(l,c,u){return l.selectRootElement(c,u===St.ShadowDom)}(I,h,this.componentDef.encapsulation):Ep(I,P,function k1(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(P)),te=this.componentDef.onPush?288:272,he=y1(0,null,null,1,0,null,null,null,null,null),Te=hf(null,he,null,te,null,null,x,I,S,C,null);let Ge,$e;Ka(Te);try{const pt=function R1(l,c,u,h,p,_){const C=u[1];u[22]=l;const S=xd(C,22,2,"#host",null),I=S.mergedAttrs=c.hostAttrs;null!==I&&(i_(S,I,!0),null!==l&&(td(p,l,I),null!==S.classes&&bd(p,l,S.classes),null!==S.styles&&Np(p,l,S.styles)));const P=h.createRenderer(l,c),G=hf(u,_1(c),null,c.onPush?32:16,u[22],S,h,P,_||null,null,null);return C.firstCreatePass&&(Vc(Aa(S,u),C,c.type),n_(C,S),Jb(S,u.length,1)),$b(u,G),u[22]=G}(G,this.componentDef,Te,x,I);if(G)if(h)td(I,G,["ng-version",zx.full]);else{const{attrs:At,classes:Pe}=function RR(l){const c=[],u=[];let h=1,p=2;for(;h<l.length;){let _=l[h];if("string"==typeof _)2===p?""!==_&&c.push(_,l[++h]):8===p&&u.push(_);else{if(!cc(p))break;p=_}h++}return{attrs:c,classes:u}}(this.componentDef.selectors[0]);At&&td(I,G,At),Pe&&Pe.length>0&&bd(I,G,Pe.join(" "))}if($e=wa(he,22),void 0!==u){const At=$e.projection=[];for(let Pe=0;Pe<this.ngContentSelectors.length;Pe++){const Qt=u[Pe];At.push(null!=Qt?Array.from(Qt):null)}}Ge=function s_(l,c,u,h){const p=u[1],_=function KR(l,c,u){const h=gi();l.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),zb(l,h,c,Hp(l,c,1,null),u),Gb(l,h));const p=Xl(c,l,h.directiveStart,h);Tr(p,c);const _=ks(h,c);return _&&Tr(_,c),p}(p,u,c);if(l[8]=u[8]=_,null!==h)for(const x of h)x(_,c);if(c.contentQueries){const x=gi();c.contentQueries(1,_,x.directiveStart)}const C=gi();return!p.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(el(C.index),Yb(u[1],C,0,C.directiveStart,C.directiveEnd,c),FS(c,_)),_}(pt,this.componentDef,Te,[wB]),jb(he,Te,null)}finally{Xa()}return new hN(this.componentType,Ge,sf($e,Te),Te,$e)}}class hN extends class qx{}{constructor(c,u,h,p,_){super(),this.location=h,this._rootLView=p,this._tNode=_,this.instance=u,this.hostView=this.changeDetectorRef=new lN(p),this.componentType=c}setInput(c,u){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[c])){const _=this._rootLView;Wb(_[1],_,p,c,u),NS(_,this._tNode.index)}}get injector(){return new jc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function wB(){const l=gi();Pc(Oe()[1],l)}function qS(l){let c=function ev(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),u=!0;const h=[l];for(;c;){let p;if(Ys(l))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Ee(903,!1);p=c.\u0275dir}if(p){if(u){h.push(p);const C=l;C.inputs=GS(l.inputs),C.declaredInputs=GS(l.declaredInputs),C.outputs=GS(l.outputs);const x=p.hostBindings;x&&TB(l,x);const S=p.viewQuery,I=p.contentQueries;if(S&&mN(l,S),I&&gN(l,I),ne(l.inputs,p.inputs),ne(l.declaredInputs,p.declaredInputs),ne(l.outputs,p.outputs),Ys(p)&&p.data.animation){const P=l.data;P.animation=(P.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let C=0;C<_.length;C++){const x=_[C];x&&x.ngInherit&&x(l),x===qS&&(u=!1)}}c=Object.getPrototypeOf(c)}!function pN(l){let c=0,u=null;for(let h=l.length-1;h>=0;h--){const p=l[h];p.hostVars=c+=p.hostVars,p.hostAttrs=Da(p.hostAttrs,u=Da(u,p.hostAttrs))}}(h)}function GS(l){return l===lr?{}:l===It?[]:l}function mN(l,c){const u=l.viewQuery;l.viewQuery=u?(h,p)=>{c(h,p),u(h,p)}:c}function gN(l,c){const u=l.contentQueries;l.contentQueries=u?(h,p,_)=>{c(h,p,_),u(h,p,_)}:c}function TB(l,c){const u=l.hostBindings;l.hostBindings=u?(h,p)=>{c(h,p),u(h,p)}:c}let N1=null;function Jp(){if(!N1){const l=mt.Symbol;if(l&&l.iterator)N1=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const h=c[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(N1=h)}}}return N1}function tv(l){return!!zp(l)&&(Array.isArray(l)||!(l instanceof Map)&&Jp()in l)}function zp(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Na(l,c,u){return l[c]=u}function us(l,c,u){return!Object.is(l[c],u)&&(l[c]=u,!0)}function uu(l,c,u,h){const p=us(l,c,u);return us(l,c+1,h)||p}function nv(l,c,u,h){const p=Oe();return us(p,Rc(),c)&&(wn(),function fl(l,c,u,h,p,_){const C=ks(l,c);A1(c[11],C,_,l.value,u,h,p)}(si(),p,l,c,u,h)),nv}function mf(l,c,u,h){return us(l,Rc(),u)?c+ye(u)+h:cn}function c_(l,c,u,h,p,_,C,x,S,I){const G=function ws(l,c,u,h,p,_){const C=uu(l,c,u,h);return uu(l,c+2,p,_)||C}(l,yi(),u,p,C,S);return Ns(4),G?c+ye(u)+h+ye(p)+_+ye(C)+x+ye(S)+I:cn}function L1(l,c,u,h,p,_,C,x){const S=Oe(),I=wn(),P=l+22,G=I.firstCreatePass?function TN(l,c,u,h,p,_,C,x,S){const I=c.consts,P=xd(c,l,4,C||null,zs(I,x));t_(c,u,P,zs(I,S)),Pc(c,P);const G=P.tViews=y1(2,P,h,p,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,I);return null!==c.queries&&(c.queries.template(c,P),G.queries=c.queries.embeddedTView(P)),P}(P,I,S,c,u,h,p,_,C):I.data[P];Ro(G,!1);const te=S[11].createComment("");Be(I,S,te,G),Tr(te,S),$b(S,S[P]=BS(te,S,te,G)),Ca(G)&&qb(I,S,G),null!=C&&Gp(S,G,x)}function du(l){return ys(function _i(){return Zt.lFrame.contextLView}(),22+l)}function zS(l,c,u){const h=Oe();return us(h,Rc(),c)&&Fs(wn(),si(),h,l,c,h[11],u,!1),zS}function B1(l,c,u,h,p){const C=p?"class":"style";Wb(l,u,c.inputs[C],C,h)}function h_(l,c,u,h){const p=Oe(),_=wn(),C=22+l,x=p[11],S=p[C]=Ep(x,c,function Qu(){return Zt.lFrame.currentNamespace}()),I=_.firstCreatePass?function DN(l,c,u,h,p,_,C){const x=c.consts,I=xd(c,l,2,p,zs(x,_));return t_(c,u,I,zs(x,C)),null!==I.attrs&&i_(I,I.attrs,!1),null!==I.mergedAttrs&&i_(I,I.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,I),I}(C,_,p,0,c,u,h):_.data[C];Ro(I,!0);const P=I.mergedAttrs;null!==P&&td(x,S,P);const G=I.classes;null!==G&&bd(x,S,G);const te=I.styles;return null!==te&&Np(x,S,te),64!=(64&I.flags)&&Be(_,p,S,I),0===function pp(){return Zt.lFrame.elementDepthCount}()&&Tr(S,p),function yh(){Zt.lFrame.elementDepthCount++}(),Ca(I)&&(qb(_,p,I),qp(_,I,p)),null!==h&&Gp(p,I),h_}function f_(){let l=gi();Zu()?Wa():(l=l.parent,Ro(l,!1));const c=l;!function $a(){Zt.lFrame.elementDepthCount--}();const u=wn();return u.firstCreatePass&&(Pc(u,l),Gs(l)&&u.queries.elementEnd(l)),null!=c.classesWithoutHost&&function _p(l){return 0!=(16&l.flags)}(c)&&B1(u,c,Oe(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function xg(l){return 0!=(32&l.flags)}(c)&&B1(u,c,Oe(),c.stylesWithoutHost,!1),f_}function rv(l,c,u,h){return h_(l,c,u,h),f_(),rv}function Ad(l,c,u){const h=Oe(),p=wn(),_=l+22,C=p.firstCreatePass?function xN(l,c,u,h,p){const _=c.consts,C=zs(_,h),x=xd(c,l,8,"ng-container",C);return null!==C&&i_(x,C,!0),t_(c,u,x,zs(_,p)),null!==c.queries&&c.queries.elementStart(c,x),x}(_,p,h,c,u):p.data[_];Ro(C,!0);const x=h[_]=h[11].createComment("");return Be(p,h,x,C),Tr(x,h),Ca(C)&&(qb(p,h,C),qp(p,C,h)),null!=u&&Gp(h,C),Ad}function fr(){let l=gi();const c=wn();return Zu()?Wa():(l=l.parent,Ro(l,!1)),c.firstCreatePass&&(Pc(c,l),Gs(l)&&c.queries.elementEnd(l)),fr}function p_(l,c,u){return Ad(l,c,u),fr(),p_}function sv(){return Oe()}function Xp(l){return!!l&&"function"==typeof l.then}function U1(l){return!!l&&"function"==typeof l.subscribe}const ov=U1;function ca(l,c,u,h){const p=Oe(),_=wn(),C=gi();return QS(_,p,p[11],C,l,c,0,h),ca}function av(l,c){const u=gi(),h=Oe(),p=wn();return QS(p,h,jS(Oc(p.data),u,h),u,l,c),av}function QS(l,c,u,h,p,_,C,x){const S=Ca(h),P=l.firstCreatePass&&ZS(l),G=c[8],te=VS(c);let he=!0;if(3&h.type||x){const $e=ks(h,c),pt=x?x($e):$e,At=te.length,Pe=x?qn=>x(cr(qn[h.index])):h.index;let Qt=null;if(!x&&S&&(Qt=function $S(l,c,u,h){const p=l.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const C=p[_];if(C===u&&p[_+1]===h){const x=c[7],S=p[_+2];return x.length>S?x[S]:null}"string"==typeof C&&(_+=2)}return null}(l,c,p,h.index)),null!==Qt)(Qt.__ngLastListenerFn__||Qt).__ngNextListenerFn__=_,Qt.__ngLastListenerFn__=_,he=!1;else{_=AN(h,c,G,_,!1);const qn=u.listen(pt,p,_);te.push(_,qn),P&&P.push(p,Pe,At,At+1)}}else _=AN(h,c,G,_,!1);const Te=h.outputs;let Ge;if(he&&null!==Te&&(Ge=Te[p])){const $e=Ge.length;if($e)for(let pt=0;pt<$e;pt+=2){const ir=c[Ge[pt]][Ge[pt+1]].subscribe(_),Pf=te.length;te.push(_,ir),P&&P.push(p,h.index,Pf,-(Pf+1))}}}function SN(l,c,u,h){try{return!1!==u(h)}catch(p){return I1(l,p),!1}}function AN(l,c,u,h,p){return function _(C){if(C===Function)return h;M1(2&l.flags?wr(l.index,c):c);let S=SN(c,0,h,C),I=_.__ngNextListenerFn__;for(;I;)S=SN(c,0,I,C)&&S,I=I.__ngNextListenerFn__;return p&&!1===S&&(C.preventDefault(),C.returnValue=!1),S}}function EN(l=1){return function Ju(l){return(Zt.lFrame.contextLView=function Tg(l,c){for(;l>0;)c=c[15],l--;return c}(l,Zt.lFrame.contextLView))[8]}(l)}function SB(l,c){let u=null;const h=function MR(l){const c=l.attrs;if(null!=c){const u=c.indexOf(5);if(0==(1&u))return c[u+1]}return null}(l);for(let p=0;p<c.length;p++){const _=c[p];if("*"!==_){if(null===h?rS(l,_,!0):sS(h,_))return p}else u=p}return u}function MN(l){const c=Oe()[16][6];if(!c.projection){const h=c.projection=od(l?l.length:1,null),p=h.slice();let _=c.child;for(;null!==_;){const C=l?SB(_,l):0;null!==C&&(p[C]?p[C].projectionNext=_:h[C]=_,p[C]=_),_=_.next}}}function IN(l,c=0,u){const h=Oe(),p=wn(),_=xd(p,22+l,16,null,u||null);null===_.projection&&(_.projection=c),Wa(),64!=(64&_.flags)&&function $h(l,c,u){kp(c[11],0,c,u,fb(l,u,c),w(u.parent||c[6],u,c))}(p,h,_)}function WS(l,c,u){return V1(l,"",c,"",u),WS}function V1(l,c,u,h,p){const _=Oe(),C=mf(_,c,u,h);return C!==cn&&Fs(wn(),si(),_,l,C,_[11],p,!1),V1}function NN(l,c,u,h,p){const _=l[u+1],C=null===c;let x=h?wo(_):cu(_),S=!1;for(;0!==x&&(!1===S||C);){const P=l[x+1];ON(l[x],c)&&(S=!0,l[x+1]=h?Bb(P):c1(P)),x=h?wo(P):cu(P)}S&&(l[u+1]=h?c1(_):Bb(_))}function ON(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&$c(l,c)>=0}const ds={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function FN(l){return l.substring(ds.key,ds.keyEnd)}function EB(l){return l.substring(ds.value,ds.valueEnd)}function To(l,c){const u=ds.textEnd;return u===c?-1:(c=ds.keyEnd=function BN(l,c,u){for(;c<u&&l.charCodeAt(c)>32;)c++;return c}(l,ds.key=c,u),em(l,c,u))}function PN(l,c){const u=ds.textEnd;let h=ds.key=em(l,c,u);return u===h?-1:(h=ds.keyEnd=function UN(l,c,u){let h;for(;c<u&&(45===(h=l.charCodeAt(c))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)c++;return c}(l,h,u),h=nA(l,h,u),h=ds.value=em(l,h,u),h=ds.valueEnd=function VN(l,c,u){let h=-1,p=-1,_=-1,C=c,x=C;for(;C<u;){const S=l.charCodeAt(C++);if(59===S)return x;34===S||39===S?x=C=iA(l,S,C,u):c===C-4&&85===_&&82===p&&76===h&&40===S?x=C=iA(l,41,C,u):S>32&&(x=C),_=p,p=h,h=-33&S}return x}(l,h,u),nA(l,h,u))}function LN(l){ds.key=0,ds.keyEnd=0,ds.value=0,ds.valueEnd=0,ds.textEnd=l.length}function em(l,c,u){for(;c<u&&l.charCodeAt(c)<=32;)c++;return c}function nA(l,c,u,h){return(c=em(l,c,u))<u&&c++,c}function iA(l,c,u,h){let p=-1,_=u;for(;_<h;){const C=l.charCodeAt(_++);if(C==c&&92!==p)return _;p=92==C&&92===p?0:C}throw new Error}function Oa(l,c,u){return ml(l,c,u,!1),Oa}function Ed(l,c){return ml(l,c,null,!0),Ed}function ZN(l,c){for(let u=function MB(l){return LN(l),PN(l,em(l,0,ds.textEnd))}(c);u>=0;u=PN(c,u))sA(l,FN(c),EB(c))}function rA(l){gl(bs,Or,l,!0)}function Or(l,c){for(let u=function gf(l){return LN(l),To(l,em(l,0,ds.textEnd))}(c);u>=0;u=To(c,u))bs(l,FN(c),!0)}function ml(l,c,u,h){const p=Oe(),_=wn(),C=Ns(2);_.firstUpdatePass&&uv(_,l,C,h),c!==cn&&us(p,C,c)&&oA(_,_.data[Vn()],p,p[11],l,p[C+1]=function Xs(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=re(oc(l)))),l}(c,u),h,C)}function gl(l,c,u,h){const p=wn(),_=Ns(2);p.firstUpdatePass&&uv(p,null,_,h);const C=Oe();if(u!==cn&&us(C,_,u)){const x=p.data[Vn()];if(g_(x,h)&&!jN(p,_)){let S=h?x.classesWithoutHost:x.stylesWithoutHost;null!==S&&(u=se(S,u||"")),B1(p,x,C,u,h)}else!function q1(l,c,u,h,p,_,C,x){p===cn&&(p=It);let S=0,I=0,P=0<p.length?p[0]:null,G=0<_.length?_[0]:null;for(;null!==P||null!==G;){const te=S<p.length?p[S+1]:void 0,he=I<_.length?_[I+1]:void 0;let Ge,Te=null;P===G?(S+=2,I+=2,te!==he&&(Te=G,Ge=he)):null===G||null!==P&&P<G?(S+=2,Te=P):(I+=2,Te=G,Ge=he),null!==Te&&oA(l,c,u,h,Te,Ge,C,x),P=S<p.length?p[S]:null,G=I<_.length?_[I]:null}}(p,x,C,C[11],C[_+1],C[_+1]=function m_(l,c,u){if(null==u||""===u)return It;const h=[],p=oc(u);if(Array.isArray(p))for(let _=0;_<p.length;_++)l(h,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&l(h,_,p[_]);else"string"==typeof p&&c(h,p);return h}(l,c,u),h,_)}}function jN(l,c){return c>=l.expandoStartIndex}function uv(l,c,u,h){const p=l.data;if(null===p[u+1]){const _=p[Vn()],C=jN(l,u);g_(_,h)&&null===c&&!C&&(c=!1),c=function HN(l,c,u,h){const p=Oc(l);let _=h?c.residualClasses:c.residualStyles;if(null===p)0===(h?c.classBindings:c.styleBindings)&&(u=Md(u=un(null,l,c,u,h),c.attrs,h),_=null);else{const C=c.directiveStylingLast;if(-1===C||l[C]!==p)if(u=un(p,l,c,u,h),null===_){let S=function _l(l,c,u){const h=u?c.classBindings:c.styleBindings;if(0!==cu(h))return l[wo(h)]}(l,c,h);void 0!==S&&Array.isArray(S)&&(S=un(null,l,c,S[1],h),S=Md(S,c.attrs,h),function st(l,c,u,h){l[wo(u?c.classBindings:c.styleBindings)]=h}(l,c,h,S))}else _=function H1(l,c,u){let h;const p=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<p;_++)h=Md(h,l[_].hostAttrs,u);return Md(h,c.attrs,u)}(l,c,h)}return void 0!==_&&(h?c.residualClasses=_:c.residualStyles=_),u}(p,_,c,h),function RN(l,c,u,h,p,_){let C=_?c.classBindings:c.styleBindings,x=wo(C),S=cu(C);l[h]=u;let P,I=!1;if(Array.isArray(u)){const G=u;P=G[1],(null===P||$c(G,P)>0)&&(I=!0)}else P=u;if(p)if(0!==S){const te=wo(l[x+1]);l[h+1]=ci(te,x),0!==te&&(l[te+1]=Lb(l[te+1],h)),l[x+1]=function ZR(l,c){return 131071&l|c<<17}(l[x+1],h)}else l[h+1]=ci(x,0),0!==x&&(l[x+1]=Lb(l[x+1],h)),x=h;else l[h+1]=ci(S,0),0===x?x=h:l[S+1]=Lb(l[S+1],h),S=h;I&&(l[h+1]=c1(l[h+1])),NN(l,P,h,!0),NN(l,P,h,!1),function AB(l,c,u,h,p){const _=p?l.residualClasses:l.residualStyles;null!=_&&"string"==typeof c&&$c(_,c)>=0&&(u[h+1]=Bb(u[h+1]))}(c,P,l,h,_),C=ci(x,S),_?c.classBindings=C:c.styleBindings=C}(p,_,c,u,C,h)}}function un(l,c,u,h,p){let _=null;const C=u.directiveEnd;let x=u.directiveStylingLast;for(-1===x?x=u.directiveStart:x++;x<C&&(_=c[x],h=Md(h,_.hostAttrs,p),_!==l);)x++;return null!==l&&(u.directiveStylingLast=x),h}function Md(l,c,u){const h=u?1:2;let p=-1;if(null!==c)for(let _=0;_<c.length;_++){const C=c[_];"number"==typeof C?p=C:p===h&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),bs(l,C,!!u||c[++_]))}return void 0===l?null:l}function sA(l,c,u){bs(l,c,oc(u))}function oA(l,c,u,h,p,_,C,x){if(!(3&c.type))return;const S=l.data,I=S[x+1];dv(function TS(l){return 1==(1&l)}(I)?aA(S,c,u,p,cu(I),C):void 0)||(dv(_)||function wS(l){return 2==(2&l)}(I)&&(_=aA(S,null,u,p,x,C)),function yd(l,c,u,h,p){if(c)p?l.addClass(u,h):l.removeClass(u,h);else{let _=-1===h.indexOf("-")?void 0:H.DashCase;null==p?l.removeStyle(u,h,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=H.Important),l.setStyle(u,h,p,_))}}(h,C,ea(Vn(),u),p,_))}function aA(l,c,u,h,p,_){const C=null===c;let x;for(;p>0;){const S=l[p],I=Array.isArray(S),P=I?S[1]:S,G=null===P;let te=u[p+1];te===cn&&(te=G?It:void 0);let he=G?tc(te,h):P===h?te:void 0;if(I&&!dv(he)&&(he=tc(S,h)),dv(he)&&(x=he,C))return x;const Te=l[p+1];p=C?wo(Te):cu(Te)}if(null!==c){let S=_?c.residualClasses:c.residualStyles;null!=S&&(x=tc(S,h))}return x}function dv(l){return void 0!==l}function g_(l,c){return 0!=(l.flags&(c?16:32))}function hs(l,c=""){const u=Oe(),h=wn(),p=l+22,_=h.firstCreatePass?xd(h,p,1,c,null):h.data[p],C=u[p]=Hh(u[11],c);Be(h,u,C,_),Ro(_,!1)}function fc(l){return hv("",l,""),fc}function hv(l,c,u){const h=Oe(),p=mf(h,l,c,u);return p!==cn&&hc(h,Vn(),p),hv}function fv(l,c,u,h,p){const _=Oe(),C=function a_(l,c,u,h,p,_){const x=uu(l,yi(),u,p);return Ns(2),x?c+ye(u)+h+ye(p)+_:cn}(_,l,c,u,h,p);return C!==cn&&hc(_,Vn(),C),fv}function mv(l,c,u){gl(bs,Or,mf(Oe(),l,c,u),!0)}function _f(l,c,u,h,p,_,C,x,S){gl(bs,Or,c_(Oe(),l,c,u,h,p,_,C,x,S),!0)}function gv(l,c,u){!function Fa(l){gl(sA,ZN,l,!1)}(mf(Oe(),l,c,u))}function im(l,c,u){const h=Oe();return us(h,Rc(),c)&&Fs(wn(),si(),h,l,c,h[11],u,!0),im}function v_(l,c,u){const h=Oe();if(us(h,Rc(),c)){const _=wn(),C=si();Fs(_,C,h,l,c,jS(Oc(_.data),C,h),u,!0)}return v_}const hu=void 0;var tw=["en",[["a","p"],["AM","PM"],hu],[["AM","PM"],hu,hu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hu,"{1} 'at' {0}",hu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ew(l){const u=Math.floor(Math.abs(l)),h=l.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let yf={};function nw(l){const c=function rw(l){return l.toLowerCase().replace(/_/g,"-")}(l);let u=yv(c);if(u)return u;const h=c.split("-")[0];if(u=yv(h),u)return u;if("en"===h)return tw;throw new Ee(701,!1)}function iw(l){return nw(l)[Yt.PluralCase]}function yv(l){return l in yf||(yf[l]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[l]),yf[l]}var Yt=(()=>((Yt=Yt||{})[Yt.LocaleId=0]="LocaleId",Yt[Yt.DayPeriodsFormat=1]="DayPeriodsFormat",Yt[Yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Yt[Yt.DaysFormat=3]="DaysFormat",Yt[Yt.DaysStandalone=4]="DaysStandalone",Yt[Yt.MonthsFormat=5]="MonthsFormat",Yt[Yt.MonthsStandalone=6]="MonthsStandalone",Yt[Yt.Eras=7]="Eras",Yt[Yt.FirstDayOfWeek=8]="FirstDayOfWeek",Yt[Yt.WeekendRange=9]="WeekendRange",Yt[Yt.DateFormat=10]="DateFormat",Yt[Yt.TimeFormat=11]="TimeFormat",Yt[Yt.DateTimeFormat=12]="DateTimeFormat",Yt[Yt.NumberSymbols=13]="NumberSymbols",Yt[Yt.NumberFormats=14]="NumberFormats",Yt[Yt.CurrencyCode=15]="CurrencyCode",Yt[Yt.CurrencySymbol=16]="CurrencySymbol",Yt[Yt.CurrencyName=17]="CurrencyName",Yt[Yt.Currencies=18]="Currencies",Yt[Yt.Directionality=19]="Directionality",Yt[Yt.PluralCase=20]="PluralCase",Yt[Yt.ExtraData=21]="ExtraData",Yt))();const sw=["zero","one","two","few","many"],pr="en-US",bf={marker:"element"},rm={marker:"ICU"};var Dr=(()=>((Dr=Dr||{})[Dr.SHIFT=2]="SHIFT",Dr[Dr.APPEND_EAGERLY=1]="APPEND_EAGERLY",Dr[Dr.COMMENT=2]="COMMENT",Dr))();let gA=pr;function aw(l){(function Li(l,c){null==l&&Tn(c,l,null,"!=")})(l,"Expected localeId to be defined"),"string"==typeof l&&(gA=l.toLowerCase().replace(/_/g,"-"))}function _A(l,c,u){const h=c.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?M(l,0,u):cr(u[p])}function yA(l,c,u,h,p){const _=c.insertBeforeIndex;if(Array.isArray(_)){let C=h,x=null;if(3&c.type||(x=C,C=p),null!==C&&0==(2&c.flags))for(let S=1;S<_.length;S++)su(l,C,u[_[S]],x,!1)}}function sm(l,c){if(l.push(c),l.length>1)for(let u=l.length-2;u>=0;u--){const h=l[u];om(h)||lw(h,c)&&null===bA(h)&&XN(h,c.index)}}function om(l){return!(64&l.type)}function lw(l,c){return om(c)||l.index>c.index}function bA(l){const c=l.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function XN(l,c){const u=l.insertBeforeIndex;Array.isArray(u)?u[0]=c:(de(_A,yA),l.insertBeforeIndex=c)}function Id(l,c){const u=l.data[c];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function vA(l,c,u){const h=g1(l,u,64,null,null);return sm(c,h),h}function bv(l,c){const u=c[l.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function am(l){return l>>>17}function dw(l){return(131070&l)>>>1}let kd=0,C_=0;function wA(l,c,u,h){const p=u[11];let C,_=null;for(let x=0;x<c.length;x++){const S=c[x];if("string"==typeof S){const I=c[++x];null===u[I]&&(u[I]=Hh(p,S))}else if("number"==typeof S)switch(1&S){case 0:const I=am(S);let P,G;if(null===_&&(_=I,C=m(p,h)),I===_?(P=h,G=C):(P=null,G=cr(u[I])),null!==G){const Ge=dw(S);su(p,G,u[Ge],P,!1);const pt=Id(l,Ge);if(null!==pt&&"object"==typeof pt){const At=bv(pt,u);null!==At&&wA(l,pt.create[At],u,u[pt.anchorIdx])}}break;case 1:const he=c[++x],Te=c[++x];A1(p,ea(S>>>1,u),null,null,he,Te,null)}else switch(S){case rm:const I=c[++x],P=c[++x];null===u[P]&&Tr(u[P]=iu(p,I),u);break;case bf:const G=c[++x],te=c[++x];null===u[te]&&Tr(u[te]=Ep(p,G,null),u)}}}function Rd(l,c,u,h,p){for(let _=0;_<u.length;_++){const C=u[_],x=u[++_];if(C&p){let S="";for(let I=_+1;I<=_+x;I++){const P=u[I];if("string"==typeof P)S+=P;else if("number"==typeof P)if(P<0)S+=ye(c[h-P]);else{const G=P>>>2;switch(3&P){case 1:const te=u[++I],he=u[++I],Te=l.data[G];"string"==typeof Te?A1(c[11],c[G],null,Te,te,S,he):Fs(l,Te,c,te,S,c[11],he,!1);break;case 0:const Ge=c[G];null!==Ge&&qh(c[11],Ge,S);break;case 2:vv(l,Id(l,G),c,S);break;case 3:fw(l,Id(l,G),h,c)}}}}else{const S=u[_+1];if(S>0&&3==(3&S)){const P=Id(l,S>>>2);c[P.currentCaseLViewIndex]<0&&fw(l,P,h,c)}}_+=x}}function fw(l,c,u,h){let p=h[c.currentCaseLViewIndex];if(null!==p){let _=kd;p<0&&(p=h[c.currentCaseLViewIndex]=~p,_=-1),Rd(l,h,c.update[p],u,_)}}function vv(l,c,u,h){const p=function w_(l,c){let u=l.cases.indexOf(c);if(-1===u)switch(l.type){case 1:{const h=function ow(l,c){const u=iw(c)(parseInt(l,10)),h=sw[u];return void 0!==h?h:"other"}(c,function KN(){return gA}());u=l.cases.indexOf(h),-1===u&&"other"!==h&&(u=l.cases.indexOf("other"));break}case 0:u=l.cases.indexOf("other")}return-1===u?null:u}(c,h);if(bv(c,u)!==p&&(pw(l,c,u),u[c.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const C=u[c.anchorIdx];C&&wA(l,c.create[p],u,C)}}function pw(l,c,u){let h=bv(c,u);if(null!==h){const p=c.remove[h];for(let _=0;_<p.length;_++){const C=p[_];if(C>0){const x=ea(C,u);null!==x&&En(u[11],x)}else pw(l,Id(l,~C),u)}}}function TA(){const l=[];let u,h,c=-1;function _(x,S){c=0;const I=bv(x,S);h=null!==I?x.remove[I]:It}function C(){if(c<h.length){const x=h[c++];return x>0?u[x]:(l.push(c,h),_(u[1].data[~x],u),C())}return 0===l.length?null:(h=l.pop(),c=l.pop(),C())}return function p(x,S){for(u=S;l.length;)l.pop();return _(x.value,S),C}}const cm=/\ufffd(\d+):?\d*\ufffd/gi,xA=/\ufffd(\d+)\ufffd/,um=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,_w=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,yw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,wv=/\uE500/g;function AA(l,c,u,h,p,_,C){const x=Hp(l,h,1,null);let S=x<<Dr.SHIFT,I=kc();c===I&&(I=null),null===I&&(S|=Dr.APPEND_EAGERLY),C&&(S|=Dr.COMMENT,function db(l){void 0===gd&&(gd=l())}(TA)),p.push(S,null===_?"":_);const P=g1(l,x,C?32:1,null===_?"":_,null);sm(u,P);const G=P.index;return Ro(P,!1),null!==I&&c!==I&&function uw(l,c){let u=l.insertBeforeIndex;null===u?(de(_A,yA),u=l.insertBeforeIndex=[null,c]):(function _t(l,c,u){l!=c&&Tn(u,l,c,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(c))}(I,G),P}function bw(l,c,u,h,p,_,C){const x=C.match(cm),S=AA(l,c,u,_,h,x?null:C,!1);x&&Cf(p,C,S.index,null,0,null)}function Cf(l,c,u,h,p,_){const C=l.length,x=C+1;l.push(null,null);const S=C+2,I=c.split(cm);let P=0;for(let G=0;G<I.length;G++){const te=I[G];if(1&G){const he=p+parseInt(te,10);l.push(-1-he),P|=vw(he)}else""!==te&&l.push(te)}return l.push(u<<2|(h?1:0)),h&&l.push(h,_),l[C]=P,l[x]=l.length-S,P}function vw(l){return 1<<Math.min(l,31)}function IA(l){let c,_,u="",h=0,p=!1;for(;null!==(c=_w.exec(l));)p?c[0]===`\ufffd/*${_}\ufffd`&&(h=c.index,p=!1):(u+=l.substring(h,c.index+c[0].length),_=c[1],p=!0);return u+=l.slice(h),u}function Cw(l,c,u,h,p,_){let C=0;const x={type:p.type,currentCaseLViewIndex:Hp(l,c,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function RA(l,c,u){l.push(vw(c.mainBinding),2,-1-c.mainBinding,u<<2|2)})(u,p,_),function cw(l,c,u){const h=l.data[c];null===h?l.data[c]=u:h.value=u}(l,_,x);const S=p.values;for(let I=0;I<S.length;I++){const P=S[I],G=[];for(let te=0;te<P.length;te++){const he=P[te];if("string"!=typeof he){const Te=G.push(he)-1;P[te]=`\x3c!--\ufffd${Te}\ufffd--\x3e`}}C=Tf(l,x,c,u,h,p.cases[I],P.join(""),G)|C}C&&function NA(l,c,u){l.push(c,1,u<<2|3)}(u,C,_)}function Dv(l){const c=[],u=[];let h=1,p=0;const _=wf(l=l.replace(um,function(C,x,S){return h="select"===S?0:1,p=parseInt(x.slice(1),10),""}));for(let C=0;C<_.length;){let x=_[C++].trim();1===h&&(x=x.replace(/\s*(?:=)?(\w+)\s*/,"$1")),x.length&&c.push(x);const S=wf(_[C++]);c.length>u.length&&u.push(S)}return{type:h,mainBinding:p,cases:c,values:u}}function wf(l){if(!l)return[];let c=0;const u=[],h=[],p=/[{}]/g;let _;for(p.lastIndex=0;_=p.exec(l);){const x=_.index;if("}"==_[0]){if(u.pop(),0==u.length){const S=l.substring(c,x);um.test(S)?h.push(Dv(S)):h.push(S),c=x+1}}else{if(0==u.length){const S=l.substring(c,x);h.push(S),c=x+1}u.push("{")}}const C=l.substring(c);return h.push(C),h}function Tf(l,c,u,h,p,_,C,x){const S=[],I=[],P=[];c.cases.push(_),c.create.push(S),c.remove.push(I),c.update.push(P);const te=au(bx()).getInertBodyElement(C),he=Rx(te)||te;return he?xv(l,c,u,h,S,I,P,he,p,x,0):0}function xv(l,c,u,h,p,_,C,x,S,I,P){let G=0,te=x.firstChild;for(;te;){const he=Hp(l,u,1,null);switch(te.nodeType){case Node.ELEMENT_NODE:const Te=te,Ge=Te.tagName.toLowerCase();if(vb.hasOwnProperty(Ge)){ww(p,bf,Ge,S,he),l.data[he]=Ge;const Pe=Te.attributes;for(let Qt=0;Qt<Pe.length;Qt++){const qn=Pe.item(Qt),ir=qn.name.toLowerCase();qn.value.match(cm)?Ix.hasOwnProperty(ir)&&Cf(C,qn.value,he,qn.name,0,Cb[ir]?Fp:null):Df(p,he,qn)}G=xv(l,c,u,h,p,_,C,te,he,I,P+1)|G,kA(_,he,P)}break;case Node.TEXT_NODE:const $e=te.textContent||"",pt=$e.match(cm);ww(p,null,pt?"":$e,S,he),kA(_,he,P),pt&&(G=Cf(C,$e,he,null,0,null)|G);break;case Node.COMMENT_NODE:const At=xA.exec(te.textContent||"");if(At){const Qt=I[parseInt(At[1],10)];ww(p,rm,"",S,he),Cw(l,u,h,S,Qt,he),iO(_,he,P)}}te=te.nextSibling}return G}function kA(l,c,u){0===u&&l.push(c)}function iO(l,c,u){0===u&&(l.push(~c),l.push(c))}function ww(l,c,u,h,p){null!==c&&l.push(c),l.push(u,p,function CA(l,c,u){return l|c<<17|u<<1}(0,h,p))}function Df(l,c,u){l.push(c<<1|1,u.name,u.value)}function Tw(l,c,u=-1){const h=wn(),p=Oe(),_=22+l,C=zs(h.consts,c),x=kc();h.firstCreatePass&&function SA(l,c,u,h,p,_){const C=kc(),x=[],S=[],I=[[]];p=function D_(l,c){if(function MA(l){return-1===l}(c))return IA(l);{const u=l.indexOf(`:${c}\ufffd`)+2+c.toString().length,h=l.search(new RegExp(`\ufffd\\/\\*\\d+:${c}\ufffd`));return IA(l.substring(u,h))}}(p,_);const P=function T_(l){return l.replace(wv," ")}(p).split(yw);for(let G=0;G<P.length;G++){let te=P[G];if(0==(1&G)){const he=wf(te);for(let Te=0;Te<he.length;Te++){let Ge=he[Te];if(0==(1&Te)){const $e=Ge;""!==$e&&bw(l,C,I[0],x,S,u,$e)}else{const $e=Ge;if("object"!=typeof $e)throw new Error(`Unable to parse ICU expression in "${p}" message.`);Cw(l,u,S,c,$e,AA(l,C,I[0],u,x,"",!0).index)}}}else{const he=47===te.charCodeAt(0),Ge=(te.charCodeAt(he?1:0),22+Number.parseInt(te.substring(he?2:1)));if(he)I.shift(),Ro(kc(),!1);else{const $e=vA(l,I[0],Ge);I.unshift([]),Ro($e,!0)}}}l.data[h]={create:x,update:S}}(h,null===x?0:x.index,p,_,C,u);const S=h.data[_],P=pb(h,x===p[6]?null:x,p);(function tO(l,c,u,h){const p=l[11];for(let _=0;_<c.length;_++){const C=c[_++],x=c[_],S=(C&Dr.COMMENT)===Dr.COMMENT,I=(C&Dr.APPEND_EAGERLY)===Dr.APPEND_EAGERLY,P=C>>>Dr.SHIFT;let G=l[P];null===G&&(G=l[P]=S?p.createComment(x):Hh(p,x)),I&&null!==u&&su(p,u,G,h,!1)}})(p,S.create,P,x&&8&x.type?p[x.index]:null),Ch(!0)}function PA(l,c,u){Tw(l,c,u),function FA(){Ch(!1)}()}function Dw(l){return function eO(l){l&&(kd|=1<<Math.min(C_,31)),C_++}(us(Oe(),Rc(),l)),Dw}function dm(l){!function lm(l,c,u){if(C_>0){const h=l.data[u];Rd(l,c,Array.isArray(h)?h:h.update,yi()-C_-1,kd)}kd=0,C_=0}(wn(),Oe(),l+22)}function Mv(l,c,u,h,p){if(l=K(l),Array.isArray(l))for(let _=0;_<l.length;_++)Mv(l[_],c,u,h,p);else{const _=wn(),C=Oe();let x=nf(l)?l:K(l.provide),S=jx(l);const I=gi(),P=1048575&I.providerIndexes,G=I.directiveStart,te=I.providerIndexes>>20;if(nf(l)||!l.multi){const he=new Yl(S,p,uf),Te=xw(x,c,p?P:P+te,G);-1===Te?(Vc(Aa(I,C),_,x),Iv(_,l,c.length),c.push(x),I.directiveStart++,I.directiveEnd++,p&&(I.providerIndexes+=1048576),u.push(he),C.push(he)):(u[Te]=he,C[Te]=he)}else{const he=xw(x,c,P+te,G),Te=xw(x,c,P,P+te),Ge=he>=0&&u[he],$e=Te>=0&&u[Te];if(p&&!$e||!p&&!Ge){Vc(Aa(I,C),_,x);const pt=function UA(l,c,u,h,p){const _=new Yl(l,u,uf);return _.multi=[],_.index=c,_.componentProviders=0,xf(_,p,h&&!u),_}(p?BA:oO,u.length,p,h,S);!p&&$e&&(u[Te].providerFactory=pt),Iv(_,l,c.length,0),c.push(x),I.directiveStart++,I.directiveEnd++,p&&(I.providerIndexes+=1048576),u.push(pt),C.push(pt)}else Iv(_,l,he>-1?he:Te,xf(u[p?Te:he],S,!p&&h));!p&&h&&$e&&u[Te].componentProviders++}}}function Iv(l,c,u,h){const p=nf(c),_=function fR(l){return!!l.useClass}(c);if(p||_){const S=(_?K(c.useClass):c).prototype.ngOnDestroy;if(S){const I=l.destroyHooks||(l.destroyHooks=[]);if(!p&&c.multi){const P=I.indexOf(u);-1===P?I.push(u,[h,S]):I[P+1].push(h,S)}else I.push(u,S)}}}function xf(l,c,u){return u&&l.componentProviders++,l.multi.push(c)-1}function xw(l,c,u,h){for(let p=u;p<h;p++)if(c[p]===l)return p;return-1}function oO(l,c,u,h){return Sw(this.multi,[])}function BA(l,c,u,h){const p=this.multi;let _;if(this.providerFactory){const C=this.providerFactory.componentProviders,x=Xl(u,u[1],this.providerFactory.index,h);_=x.slice(0,C),Sw(p,_);for(let S=C;S<x.length;S++)_.push(x[S])}else _=[],Sw(p,_);return _}function Sw(l,c){for(let u=0;u<l.length;u++)c.push((0,l[u])());return c}function Aw(l,c=[]){return u=>{u.providersResolver=(h,p)=>function LA(l,c,u){const h=wn();if(h.firstCreatePass){const p=Ys(l);Mv(u,h.data,h.blueprint,p,!0),Mv(c,h.data,h.blueprint,p,!1)}}(h,p?p(l):l,c)}}class Od{}class kv{}function VA(l,c){return new ZA(l,c??null)}class ZA extends Od{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HS(this);const h=Qe(c);this._bootstrapComponents=lc(h.bootstrap),this._r3Injector=fS(c,u,[{provide:Od,useValue:this},{provide:Qg,useValue:this.componentFactoryResolver}],re(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Ew extends kv{constructor(c){super(),this.moduleType=c}create(c){return new ZA(this.moduleType,c)}}class lO extends Od{constructor(c,u,h){super(),this.componentFactoryResolver=new HS(this),this.instance=null;const p=new Zx([...c,{provide:Od,useValue:this},{provide:Qg,useValue:this.componentFactoryResolver}],u||lu(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Mw(l,c,u=null){return new lO(l,c,u).injector}let Rv=(()=>{class l{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=Px(0,u.type),p=h.length>0?Mw([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,p)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=ri({token:l,providedIn:"environment",factory:()=>new l(mn(rf))}),l})();function hm(l){l.getStandaloneInjector=c=>c.get(Rv).getOrCreateStandaloneInjector(l)}function JA(l,c,u){const h=os()+l,p=Oe();return p[h]===cn?Na(p,h,u?c.call(u):c()):function pf(l,c){return l[c]}(p,h)}function Nw(l,c,u,h){return ym(Oe(),os(),l,c,u,h)}function Ov(l,c,u,h,p){return function Fw(l,c,u,h,p,_,C){const x=c+u;return uu(l,x,p,_)?Na(l,x+2,C?h.call(C,p,_):h(p,_)):_m(l,x+2)}(Oe(),os(),l,c,u,h,p)}function gm(l,c,u,h,p,_){return function Pw(l,c,u,h,p,_,C,x){const S=c+u;return function $p(l,c,u,h,p){const _=uu(l,c,u,h);return us(l,c+2,p)||_}(l,S,p,_,C)?Na(l,S+3,x?h.call(x,p,_,C):h(p,_,C)):_m(l,S+3)}(Oe(),os(),l,c,u,h,p,_)}function _m(l,c){const u=l[c];return u===cn?void 0:u}function ym(l,c,u,h,p,_){const C=c+u;return us(l,C,p)?Na(l,C+1,_?h.call(_,p):h(p)):_m(l,C+1)}function Lw(l,c){const u=wn();let h;const p=l+22;u.firstCreatePass?(h=function Uv(l,c){if(c)for(let u=c.length-1;u>=0;u--){const h=c[u];if(l===h.name)return h}}(c,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const _=h.factory||(h.factory=Js(h.type)),C=Ei(uf);try{const x=il(!1),S=_();return il(x),function iv(l,c,u,h){u>=l.data.length&&(l.data[u]=null,l.blueprint[u]=null),c[u]=h}(u,Oe(),p,S),S}finally{Ei(C)}}function Bw(l,c,u){const h=l+22,p=Oe(),_=ys(p,h);return function bm(l,c){return l[1].data[c].pure}(p,h)?ym(p,os(),c,_.transform,u,_):_.transform(u)}function Do(l){return c=>{setTimeout(l,void 0,c)}}const bl=class Vv extends n.xQ{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,h){let p=c,_=u||(()=>null),C=h;if(c&&"object"==typeof c){const S=c;p=S.next?.bind(S),_=S.error?.bind(S),C=S.complete?.bind(S)}this.__isAsync&&(_=Do(_),p&&(p=Do(p)),C&&(C=Do(C)));const x=super.subscribe({next:p,error:_,complete:C});return c instanceof J.w&&c.add(x),x}};function XA(){return this._results[Jp()]()}class fu{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Jp(),h=fu.prototype;h[u]||(h[u]=XA)}get changes(){return this._changes||(this._changes=new bl)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const h=this;h.dirty=!1;const p=dr(c);(this._changesDetected=!function Ig(l,c,u){if(l.length!==c.length)return!1;for(let h=0;h<l.length;h++){let p=l[h],_=c[h];if(u&&(p=u(p),_=u(_)),_!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let A_=(()=>{class l{}return l.__NG_ELEMENT_ID__=ui,l})();const vl=A_,Uw=class extends vl{constructor(c,u,h){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(c,u){const h=this._declarationTContainer.tViews,p=hf(this._declarationLView,h,c,16,null,h.declTNode,null,null,null,null,u||null);p[17]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[19];return null!==C&&(p[19]=C.createEmbeddedView(h)),jb(h,p,c),new Kb(p)}};function ui(){return Zv(gi(),Oe())}function Zv(l,c){return 4&l.type?new Uw(c,l,sf(l,c)):null}let vm=(()=>{class l{}return l.__NG_ELEMENT_ID__=gc,l})();function gc(){return Vw(gi(),Oe())}const eE=vm,jv=class extends eE{constructor(c,u,h){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=h}get element(){return sf(this._hostTNode,this._hostLView)}get injector(){return new jc(this._hostTNode,this._hostLView)}get parentInjector(){const c=Wl(this._hostTNode,this._hostLView);if(zl(c)){const u=go(c,this._hostLView),h=$l(c);return new jc(u[1].data[h+8],u)}return new jc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=Af(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,h){let p,_;"number"==typeof h?p=h:null!=h&&(p=h.index,_=h.injector);const C=c.createEmbeddedView(u||{},_);return this.insert(C,p),C}createComponent(c,u,h,p,_){const C=c&&!function Qs(l){return"function"==typeof l}(c);let x;if(C)x=u;else{const G=u||{};x=G.index,h=G.injector,p=G.projectableNodes,_=G.environmentInjector||G.ngModuleRef}const S=C?c:new Xb(U(c)),I=h||this.parentInjector;if(!_&&null==S.ngModule){const te=(C?I:this.parentInjector).get(rf,null);te&&(_=te)}const P=S.create(I,p,void 0,_);return this.insert(P.hostView,x),P}insert(c,u){const h=c._lView,p=h[1];if(function fp(l){return rs(l[3])}(h)){const P=this.indexOf(c);if(-1!==P)this.detach(P);else{const G=h[3],te=new jv(G,G[6],G[3]);te.detach(te.indexOf(c))}}const _=this._adjustIndex(u),C=this._lContainer;!function N0(l,c,u,h){const p=10+h,_=u.length;h>0&&(u[p-1][4]=c),h<_-10?(c[4]=u[p],Rh(u,10+h,c)):(u.push(c),c[4]=null),c[3]=u;const C=c[17];null!==C&&u!==C&&function Ip(l,c){const u=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===u?l[9]=[c]:u.push(c)}(C,c);const x=c[19];null!==x&&x.insertView(l),c[2]|=64}(p,h,C,_);const x=nn(_,C),S=h[11],I=m(S,C[7]);return null!==I&&function R0(l,c,u,h,p,_){h[0]=p,h[6]=c,Lo(l,h,u,1,p,_)}(p,C[6],S,h,I,x),c.attachToViewContainerRef(),Rh(E_(C),_,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=Af(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),h=_d(this._lContainer,u);h&&(sd(E_(this._lContainer),u),Gg(h[1],h))}detach(c){const u=this._adjustIndex(c,-1),h=_d(this._lContainer,u);return h&&null!=sd(E_(this._lContainer),u)?new Kb(h):null}_adjustIndex(c,u=0){return c??this.length+u}};function Af(l){return l[8]}function E_(l){return l[8]||(l[8]=[])}function Vw(l,c){let u;const h=c[l.index];if(rs(h))u=h;else{let p;if(8&l.type)p=cr(h);else{const _=c[11];p=_.createComment("");const C=ks(l,c);su(_,m(_,C),p,function y(l,c){return l.nextSibling(c)}(_,C),!1)}c[l.index]=u=BS(h,c,p,l),$b(c,u)}return new jv(u,l,c)}class Cm{constructor(c){this.queryList=c,this.matches=null}clone(){return new Cm(this.queryList)}setDirty(){this.queryList.setDirty()}}class wm{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const h=null!==c.contentQueries?c.contentQueries[0]:u.length,p=[];for(let _=0;_<h;_++){const C=u.getByIndex(_);p.push(this.queries[C.indexInDeclarationView].clone())}return new wm(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==Mf(c,u).matches&&this.queries[u].setDirty()}}class Tm{constructor(c,u,h=null){this.predicate=c,this.flags=u,this.read=h}}class Dm{constructor(c=[]){this.queries=c}elementStart(c,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,_=this.getByIndex(h).embeddedTView(c,p);_&&(_.indexInDeclarationView=h,null!==u?u.push(_):u=[_])}return null!==u?new Dm(u):null}template(c,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Hv{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new Hv(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const _=h[p];this.matchTNodeWithReadOption(c,u,xm(u,_)),this.matchTNodeWithReadOption(c,u,rl(u,c,_,!1,!1))}else h===A_?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,rl(u,c,h,!1,!1))}matchTNodeWithReadOption(c,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===jp||p===vm||p===A_&&4&u.type)this.addMatch(u.index,-2);else{const _=rl(u,c,p,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,h)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function xm(l,c){const u=l.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===c)return u[h+1];return null}function mO(l,c,u,h){return-1===u?function pO(l,c){return 11&l.type?sf(l,c):4&l.type?Zv(l,c):null}(c,l):-2===u?function Zw(l,c,u){return u===jp?sf(c,l):u===A_?Zv(c,l):u===vm?Vw(c,l):void 0}(l,c,h):Xl(l,l[1],u,c)}function tE(l,c,u,h){const p=c[19].queries[h];if(null===p.matches){const _=l.data,C=u.matches,x=[];for(let S=0;S<C.length;S+=2){const I=C[S];x.push(I<0?null:mO(c,_[I],C[S+1],u.metadata.read))}p.matches=x}return p.matches}function jw(l,c,u,h){const p=l.queries.getByIndex(u),_=p.matches;if(null!==_){const C=tE(l,c,p,u);for(let x=0;x<_.length;x+=2){const S=_[x];if(S>0)h.push(C[x/2]);else{const I=_[x+1],P=c[-S];for(let G=10;G<P.length;G++){const te=P[G];te[17]===te[3]&&jw(te[1],te,I,h)}if(null!==P[9]){const G=P[9];for(let te=0;te<G.length;te++){const he=G[te];jw(he[1],he,I,h)}}}}}return h}function Hw(l){const c=Oe(),u=wn(),h=jl();qr(h+1);const p=Mf(u,h);if(l.dirty&&function Xy(l){return 4==(4&l[2])}(c)===(2==(2&p.metadata.flags))){if(null===p.matches)l.reset([]);else{const _=p.crossesNgTemplate?jw(u,c,h,[]):tE(u,c,p,h);l.reset(_,Eb),l.notifyOnChanges()}return!0}return!1}function nE(l,c,u){const h=wn();h.firstCreatePass&&(qw(h,new Tm(l,c,u),-1),2==(2&c)&&(h.staticViewQueries=!0)),Ef(h,Oe(),c)}function M_(l,c,u,h){const p=wn();if(p.firstCreatePass){const _=gi();qw(p,new Tm(c,u,h),_.index),function Ts(l,c){const u=l.contentQueries||(l.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(l.queries.length-1,c)}(p,l),2==(2&u)&&(p.staticContentQueries=!0)}Ef(p,Oe(),u)}function iE(){return function gO(l,c){return l[19].queries[c].queryList}(Oe(),jl())}function Ef(l,c,u){const h=new fu(4==(4&u));b1(l,c,h,h.destroy),null===c[19]&&(c[19]=new wm),c[19].queries.push(new Cm(h))}function qw(l,c,u){null===l.queries&&(l.queries=new Dm),l.queries.track(new Hv(c,u))}function Mf(l,c){return l.queries.getByIndex(c)}function mu(l,c){return Zv(l,c)}function $v(...l){}const Em=new $n("Application Initializer");let Pd=(()=>{class l{constructor(u){this.appInits=u,this.resolve=$v,this.reject=$v,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(Xp(_))u.push(_);else if(ov(_)){const C=new Promise((x,S)=>{_.subscribe({complete:x,error:S})});u.push(C)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return l.\u0275fac=function(u){return new(u||l)(mn(Em,8))},l.\u0275prov=ri({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const Kw=new $n("AppId",{providedIn:"root",factory:function Us(){return`${Qv()}${Qv()}${Qv()}`}});function Qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tl=new $n("Platform Initializer"),pE=new $n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),O_=new $n("appBootstrapListener"),wO=new $n("AnimationModuleType");let TO=(()=>{class l{log(u){console.log(u)}warn(u){console.warn(u)}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=ri({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const Wv=new $n("LocaleId",{providedIn:"root",factory:()=>dd(Wv,tt.Optional|tt.SkipSelf)||function DO(){return typeof $localize<"u"&&$localize.locale||pr}()}),xO=new $n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class SO{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let AO=(()=>{class l{compileModuleSync(u){return new Ew(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),_=lc(Qe(u).declarations).reduce((C,x)=>{const S=U(x);return S&&C.push(new Xb(S)),C},[]);return new SO(h,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=ri({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const _E=(()=>Promise.resolve(0))();function Kv(l){typeof Zone>"u"?_E.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Vo{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bl(!1),this.onMicrotaskEmpty=new bl(!1),this.onStable=new bl(!1),this.onError=new bl(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function kO(){let l=mt.requestAnimationFrame,c=mt.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const u=l[Zone.__symbol__("OriginalDelegate")];u&&(l=u);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function yE(l){const c=()=>{!function Ld(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(mt,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,vi(l),l.isCheckStableRunning=!0,Xv(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),vi(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,_,C,x)=>{try{return F_(l),u.invokeTask(p,_,C,x)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||l.shouldCoalesceRunChangeDetection)&&c(),xs(l)}},onInvoke:(u,h,p,_,C,x,S)=>{try{return F_(l),u.invoke(p,_,C,x,S)}finally{l.shouldCoalesceRunChangeDetection&&c(),xs(l)}},onHasTask:(u,h,p,_)=>{u.hasTask(p,_),h===p&&("microTask"==_.change?(l._hasPendingMicrotasks=_.microTask,vi(l),Xv(l)):"macroTask"==_.change&&(l.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,h,p,_)=>(u.handleError(p,_),l.runOutsideAngular(()=>l.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vo.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(Vo.isInAngularZone())throw new Ee(909,!1)}run(c,u,h){return this._inner.run(c,u,h)}runTask(c,u,h,p){const _=this._inner,C=_.scheduleEventTask("NgZoneEvent: "+p,c,Ds,$v,$v);try{return _.runTask(C,u,h)}finally{_.cancelTask(C)}}runGuarded(c,u,h){return this._inner.runGuarded(c,u,h)}runOutsideAngular(c){return this._outer.run(c)}}const Ds={};function Xv(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function vi(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function F_(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function xs(l){l._nesting--,Xv(l)}class Gi{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bl,this.onMicrotaskEmpty=new bl,this.onStable=new bl,this.onError=new bl}run(c,u,h){return c.apply(u,h)}runGuarded(c,u,h){return c.apply(u,h)}runOutsideAngular(c){return c()}runTask(c,u,h,p){return c.apply(u,h)}}const Xw=new $n(""),kf=new $n("");let Pr,Zo=(()=>{class l{constructor(u,h,p){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Pr||(function RO(l){Pr=l}(p),p.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vo.assertNotInAngularZone(),Kv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==_),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,p){return[]}}return l.\u0275fac=function(u){return new(u||l)(mn(Vo),mn(eT),mn(kf))},l.\u0275prov=ri({token:l,factory:l.\u0275fac}),l})(),eT=(()=>{class l{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Pr?.findTestabilityInTree(this,u,h)??null}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=ri({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})(),Bd=null;const _u=new $n("AllowMultipleToken"),nr=new $n("PlatformDestroyListeners");class NO{constructor(c,u){this.name=c,this.token=u}}function xl(l,c,u=[]){const h=`Platform: ${c}`,p=new $n(h);return(_=[])=>{let C=Zd();if(!C||C.injector.get(_u,!1)){const x=[...u,..._,{provide:p,useValue:!0}];l?l(x):function Ud(l){if(Bd&&!Bd.get(_u,!1))throw new Ee(400,!1);Bd=l;const c=l.get(tC);(function L_(l){const c=l.get(Tl,null);c&&c.forEach(u=>u())})(l)}(function yu(l=[],c){return Td.create({name:c,providers:[{provide:Vx,useValue:"platform"},{provide:nr,useValue:new Set([()=>Bd=null])},...l]})}(x,h))}return function B_(l){const c=Zd();if(!c)throw new Ee(401,!1);return c}()}}function Zd(){return Bd?.get(tC)??null}let tC=(()=>{class l{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const p=function jd(l,c){let u;return u="noop"===l?new Gi:("zone.js"===l?void 0:l)||new Vo(c),u}(h?.ngZone,function U_(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:Vo,useValue:p}];return p.run(()=>{const C=Td.create({providers:_,parent:this.injector,name:u.moduleType.name}),x=u.create(C),S=x.injector.get(Kg,null);if(!S)throw new Ee(402,!1);return p.runOutsideAngular(()=>{const I=p.onError.subscribe({next:P=>{S.handleError(P)}});x.onDestroy(()=>{Z_(this._modules,x),I.unsubscribe()})}),function nC(l,c,u){try{const h=u();return Xp(h)?h.catch(p=>{throw c.runOutsideAngular(()=>l.handleError(p)),p}):h}catch(h){throw c.runOutsideAngular(()=>l.handleError(h)),h}}(S,p,()=>{const I=x.injector.get(Pd);return I.runInitializers(),I.donePromise.then(()=>(aw(x.injector.get(Wv,pr)||pr),this._moduleDoBootstrap(x),x))})})}bootstrapModule(u,h=[]){const p=Mm({},h);return function eC(l,c,u){const h=new Ew(u);return Promise.resolve(h)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(u){const h=u.injector.get(V_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Ee(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(nr,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(u){return new(u||l)(mn(Td))},l.\u0275prov=ri({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function Mm(l,c){return Array.isArray(c)?c.reduce(Mm,l):{...l,...c}}let V_=(()=>{class l{constructor(u,h,p){this._zone=u,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new B.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),C=new B.y(x=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Vo.assertNotInAngularZone(),Kv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{Vo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{S.unsubscribe(),I.unsubscribe()}});this.isStable=(0,ce.T)(_,C.pipe((0,ue.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const p=u instanceof xb;if(!this._injector.get(Pd).done)throw!p&&De(u),new Ee(405,false);let C;C=p?u:this._injector.get(Qg).resolveComponentFactory(u),this.componentTypes.push(C.componentType);const x=function P_(l){return l.isBoundToModule}(C)?void 0:this._injector.get(Od),I=C.create(Td.NULL,[],h||C.selector,x),P=I.location.nativeElement,G=I.injector.get(Xw,null);return G?.registerApplication(P),I.onDestroy(()=>{this.detachView(I.hostView),Z_(this.components,I),G?.unregisterApplication(P)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Z_(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(O_,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Z_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ee(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(u){return new(u||l)(mn(Vo),mn(rf),mn(Kg))},l.\u0275prov=ri({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function Z_(l,c){const u=l.indexOf(c);u>-1&&l.splice(u,1)}let nT=!0,bE=!1;function FO(){return bE=!0,nT}function vE(){if(bE)throw new Error("Cannot enable prod mode after platform setup.");nT=!1}let Yi=(()=>{class l{}return l.__NG_ELEMENT_ID__=Hd,l})();function Hd(l){return function CE(l,c,u){if(Is(l)&&!u){const h=wr(l.index,c);return new Kb(h,h)}return 47&l.type?new Kb(c[16],c):null}(gi(),Oe(),16==(16&l))}class wE{constructor(){}supports(c){return tv(c)}create(c){return new Nf(c)}}const uT=(l,c)=>c;class Nf{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||uT}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,h=this._removalsHead,p=0,_=null;for(;u||h;){const C=!h||u&&u.currentIndex<dT(h,p,_)?u:h,x=dT(C,p,_),S=C.currentIndex;if(C===h)p--,h=h._nextRemoved;else if(u=u._next,null==C.previousIndex)p++;else{_||(_=[]);const I=x-p,P=S-p;if(I!=P){for(let te=0;te<I;te++){const he=te<_.length?_[te]:_[te]=0,Te=he+te;P<=Te&&Te<I&&(_[te]=he+1)}_[C.previousIndex]=P-I}}x!==S&&c(C,x,S)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!tv(c))throw new Ee(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,_,C,u=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let x=0;x<this.length;x++)_=c[x],C=this._trackByFn(x,_),null!==u&&Object.is(u.trackById,C)?(h&&(u=this._verifyReinsertion(u,_,C,x)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,C,x),h=!0),u=u._next}else p=0,function yN(l,c){if(Array.isArray(l))for(let u=0;u<l.length;u++)c(l[u]);else{const u=l[Jp()]();let h;for(;!(h=u.next()).done;)c(h.value)}}(c,x=>{C=this._trackByFn(p,x),null!==u&&Object.is(u.trackById,C)?(h&&(u=this._verifyReinsertion(u,x,C,p)),Object.is(u.item,x)||this._addIdentityChange(u,x)):(u=this._mismatch(u,x,C,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,h,p){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,_,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,_,p)):c=this._addAfter(new Y_(u,h),_,p),c}_verifyReinsertion(c,u,h,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?c=this._reinsertAfter(_,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,_=c._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(c,u,h),this._addToMoves(c,h),c}_moveAfter(c,u,h){return this._unlink(c),this._insertAfter(c,u,h),this._addToMoves(c,h),c}_addAfter(c,u,h){return this._insertAfter(c,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,h){const p=null===u?this._itHead:u._next;return c._next=p,c._prev=u,null===p?this._itTail=c:p._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new J_),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,h=c._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J_),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class Y_{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sC{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const u=c._prevDup,h=c._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class J_{constructor(){this.map=new Map}put(c){const u=c.trackById;let h=this.map.get(u);h||(h=new sC,this.map.set(u,h)),h.add(c)}get(c,u){const p=this.map.get(c);return p?p.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dT(l,c,u){const h=l.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+c+p}class hT{constructor(){}supports(c){return c instanceof Map||zp(c)}create(){return new Cu}}class Cu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||zp(c)))throw new Ee(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const h=c._prev;return u._next=c,u._prev=h,c._prev=u,h&&(h._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,u);const _=p._prev,C=p._next;return _&&(_._next=C),C&&(C._prev=_),p._next=null,p._prev=null,p}const h=new TE(c);return this._records.set(c,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(h=>u(c[h],h))}}class TE{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Of(){return new oC([new wE])}let oC=(()=>{class l{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new l(u)}static extend(u){return{provide:l,useFactory:h=>l.create(u,h||Of()),deps:[[l,new Co,new vo]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new Ee(901,!1)}}return l.\u0275prov=ri({token:l,providedIn:"root",factory:Of}),l})();function z_(){return new $_([new hT])}let $_=(()=>{class l{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new l(u)}static extend(u){return{provide:l,useFactory:h=>l.create(u,h||z_()),deps:[[l,new Co,new vo]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new Ee(901,!1)}}return l.\u0275prov=ri({token:l,providedIn:"root",factory:z_}),l})();const Q_=xl(null,"core",[]);let SE=(()=>{class l{constructor(u){}}return l.\u0275fac=function(u){return new(u||l)(mn(V_))},l.\u0275mod=Xi({type:l}),l.\u0275inj=Bi({}),l})();function pT(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},3942:(ht,Se,j)=>{j.d(Se,{Z:()=>Ee});var n=j(2090),J=j(4859),B=j(6881),ce=j(1877);class ue{constructor(ye,Ae){this._delegate=ye,this.firebase=Ae,(0,B._addComponent)(ye,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(ye,Ae=B._DEFAULT_ENTRY_NAME){var Dt;this._delegate.checkDestroyed();const Mt=this._delegate.container.getProvider(ye);return!Mt.isInitialized()&&"EXPLICIT"===(null===(Dt=Mt.getComponent())||void 0===Dt?void 0:Dt.instantiationMode)&&Mt.initialize(),Mt.getImmediate({identifier:Ae})}_removeServiceInstance(ye,Ae=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Ae)}_addComponent(ye){(0,B._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,B._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new n.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function se(){const Ie=function re(Ie){const ye={},Ae={__esModule:!0,initializeApp:function sn(Vt,Mn={}){const _t=B.initializeApp(Vt,Mn);if((0,n.r3)(ye,_t.name))return ye[_t.name];const pn=new Ie(_t,Ae);return ye[_t.name]=pn,pn},app:Mt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function bn(Vt){const Mn=Vt.name,_t=Mn.replace("-compat","");if(B._registerComponent(Vt)&&"PUBLIC"===Vt.type){const pn=(xt=Mt())=>{if("function"!=typeof xt[_t])throw ne.create("invalid-app-argument",{appName:Mn});return xt[_t]()};void 0!==Vt.serviceProps&&(0,n.ZB)(pn,Vt.serviceProps),Ae[_t]=pn,Ie.prototype[_t]=function(...xt){return this._getService.bind(this,Mn).apply(this,Vt.multipleInstances?xt:[])}}return"PUBLIC"===Vt.type?Ae[_t]:null},removeApp:function Dt(Vt){delete ye[Vt]},useAsService:function ai(Vt,Mn){return"serverAuth"===Mn?null:Mn},modularAPIs:B}};function Mt(Vt){if(!(0,n.r3)(ye,Vt=Vt||B._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:Vt});return ye[Vt]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ii(){return Object.keys(ye).map(Vt=>ye[Vt])}}),Mt.App=Ie,Ae}(ue);return Ie.INTERNAL=Object.assign(Object.assign({},Ie.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function ye(Ae){(0,n.ZB)(Ie,Ae)},createSubscribe:n.ne,ErrorFactory:n.LL,deepExtend:n.ZB}),Ie}(),z=new ce.Yd("@firebase/app-compat");if((0,n.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ie=self.firebase.SDK_VERSION;Ie&&Ie.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=q;!function Ce(Ie){(0,B.registerVersion)("@firebase/app-compat","0.2.13",Ie)}()},6881:(ht,Se,j)=>{j.r(Se),j.d(Se,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>qs,_DEFAULT_ENTRY_NAME:()=>Hs,_addComponent:()=>ft,_addOrOverwriteComponent:()=>St,_apps:()=>Wn,_clearComponents:()=>lr,_components:()=>Nn,_getProvider:()=>On,_registerComponent:()=>mt,_removeServiceInstance:()=>Ir,deleteApp:()=>ts,getApp:()=>fi,getApps:()=>pi,initializeApp:()=>An,onLog:()=>fo,registerVersion:()=>ns,setLogLevel:()=>is});var n=j(5861),J=j(4859),B=j(1877),ce=j(2090);let ae,ne;const q=new WeakMap,z=new WeakMap,K=new WeakMap,ge=new WeakMap,Ce=new WeakMap;let ye={get(pe,fe,Le){if(pe instanceof IDBTransaction){if("done"===fe)return z.get(pe);if("objectStoreNames"===fe)return pe.objectStoreNames||K.get(pe);if("store"===fe)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return sn(pe[fe])},set:(pe,fe,Le)=>(pe[fe]=Le,!0),has:(pe,fe)=>pe instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in pe};function Mt(pe){return"function"==typeof pe?function Dt(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...fe){return pe.apply(ii(this),fe),sn(q.get(this))}:function(...fe){return sn(pe.apply(ii(this),fe))}:function(fe,...Le){const Ue=pe.call(ii(this),fe,...Le);return K.set(Ue,fe.sort?fe.sort():[fe]),sn(Ue)}}(pe):(pe instanceof IDBTransaction&&function Ie(pe){if(z.has(pe))return;const fe=new Promise((Le,Ue)=>{const yt=()=>{pe.removeEventListener("complete",an),pe.removeEventListener("error",_n),pe.removeEventListener("abort",_n)},an=()=>{Le(),yt()},_n=()=>{Ue(pe.error||new DOMException("AbortError","AbortError")),yt()};pe.addEventListener("complete",an),pe.addEventListener("error",_n),pe.addEventListener("abort",_n)});z.set(pe,fe)}(pe),((pe,fe)=>fe.some(Le=>pe instanceof Le))(pe,function re(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,ye):pe)}function sn(pe){if(pe instanceof IDBRequest)return function Ee(pe){const fe=new Promise((Le,Ue)=>{const yt=()=>{pe.removeEventListener("success",an),pe.removeEventListener("error",_n)},an=()=>{Le(sn(pe.result)),yt()},_n=()=>{Ue(pe.error),yt()};pe.addEventListener("success",an),pe.addEventListener("error",_n)});return fe.then(Le=>{Le instanceof IDBCursor&&q.set(Le,pe)}).catch(()=>{}),Ce.set(fe,pe),fe}(pe);if(ge.has(pe))return ge.get(pe);const fe=Mt(pe);return fe!==pe&&(ge.set(pe,fe),Ce.set(fe,pe)),fe}const ii=pe=>Ce.get(pe),Vt=["get","getKey","getAll","getAllKeys","count"],Mn=["put","add","delete","clear"],_t=new Map;function pn(pe,fe){if(!(pe instanceof IDBDatabase)||fe in pe||"string"!=typeof fe)return;if(_t.get(fe))return _t.get(fe);const Le=fe.replace(/FromIndex$/,""),Ue=fe!==Le,yt=Mn.includes(Le);if(!(Le in(Ue?IDBIndex:IDBObjectStore).prototype)||!yt&&!Vt.includes(Le))return;const an=function(){var _n=(0,n.Z)(function*(Vi,...Cn){const Cr=this.transaction(Vi,yt?"readwrite":"readonly");let Hr=Cr.store;return Ue&&(Hr=Hr.index(Cn.shift())),(yield Promise.all([Hr[Le](...Cn),yt&&Cr.done]))[0]});return function(Cn){return _n.apply(this,arguments)}}();return _t.set(fe,an),an}!function Ae(pe){ye=pe(ye)}(pe=>({...pe,get:(fe,Le,Ue)=>pn(fe,Le)||pe.get(fe,Le,Ue),has:(fe,Le)=>!!pn(fe,Le)||pe.has(fe,Le)}));class xt{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function Sn(pe){return"VERSION"===pe.getComponent()?.type}(Le)){const Ue=Le.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(Le=>Le).join(" ")}}const ut="@firebase/app",Wr=new B.Yd("@firebase/app"),Hs="[DEFAULT]",hi={[ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wn=new Map,Nn=new Map;function ft(pe,fe){try{pe.container.addComponent(fe)}catch(Le){Wr.debug(`Component ${fe.name} failed to register with FirebaseApp ${pe.name}`,Le)}}function St(pe,fe){pe.container.addOrOverwriteComponent(fe)}function mt(pe){const fe=pe.name;if(Nn.has(fe))return Wr.debug(`There were multiple attempts to register component ${fe}.`),!1;Nn.set(fe,pe);for(const Le of Wn.values())ft(Le,pe);return!0}function On(pe,fe){const Le=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),pe.container.getProvider(fe)}function Ir(pe,fe,Le=Hs){On(pe,fe).clearInstance(Le)}function lr(){Nn.clear()}const Kn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class on{constructor(fe,Le,Ue){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const qs="9.23.0";function An(pe,fe={}){let Le=pe;"object"!=typeof fe&&(fe={name:fe});const Ue=Object.assign({name:Hs,automaticDataCollectionEnabled:!1},fe),yt=Ue.name;if("string"!=typeof yt||!yt)throw Kn.create("bad-app-name",{appName:String(yt)});if(Le||(Le=(0,ce.aH)()),!Le)throw Kn.create("no-options");const an=Wn.get(yt);if(an){if((0,ce.vZ)(Le,an.options)&&(0,ce.vZ)(Ue,an.config))return an;throw Kn.create("duplicate-app",{appName:yt})}const _n=new J.H0(yt);for(const Cn of Nn.values())_n.addComponent(Cn);const Vi=new on(Le,Ue,_n);return Wn.set(yt,Vi),Vi}function fi(pe=Hs){const fe=Wn.get(pe);if(!fe&&pe===Hs&&(0,ce.aH)())return An();if(!fe)throw Kn.create("no-app",{appName:pe});return fe}function pi(){return Array.from(Wn.values())}function ts(pe){return vr.apply(this,arguments)}function vr(){return(vr=(0,n.Z)(function*(pe){const fe=pe.name;Wn.has(fe)&&(Wn.delete(fe),yield Promise.all(pe.container.getProviders().map(Le=>Le.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function ns(pe,fe,Le){var Ue;let yt=null!==(Ue=hi[pe])&&void 0!==Ue?Ue:pe;Le&&(yt+=`-${Le}`);const an=yt.match(/\s|\//),_n=fe.match(/\s|\//);if(an||_n){const Vi=[`Unable to register library "${yt}" with version "${fe}":`];return an&&Vi.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),an&&_n&&Vi.push("and"),_n&&Vi.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void Wr.warn(Vi.join(" "))}mt(new J.wA(`${yt}-version`,()=>({library:yt,version:fe}),"VERSION"))}function fo(pe,fe){if(null!==pe&&"function"!=typeof pe)throw Kn.create("invalid-log-argument");(0,B.Am)(pe,fe)}function is(pe){(0,B.Ub)(pe)}const X="firebase-heartbeat-store";let $=null;function V(){return $||($=function bn(pe,fe,{blocked:Le,upgrade:Ue,blocking:yt,terminated:an}={}){const _n=indexedDB.open(pe,fe),Vi=sn(_n);return Ue&&_n.addEventListener("upgradeneeded",Cn=>{Ue(sn(_n.result),Cn.oldVersion,Cn.newVersion,sn(_n.transaction),Cn)}),Le&&_n.addEventListener("blocked",Cn=>Le(Cn.oldVersion,Cn.newVersion,Cn)),Vi.then(Cn=>{an&&Cn.addEventListener("close",()=>an()),yt&&Cn.addEventListener("versionchange",Cr=>yt(Cr.oldVersion,Cr.newVersion,Cr))}).catch(()=>{}),Vi}("firebase-heartbeat-database",1,{upgrade:(pe,fe)=>{0===fe&&pe.createObjectStore(X)}}).catch(pe=>{throw Kn.create("idb-open",{originalErrorMessage:pe.message})})),$}function F(){return(F=(0,n.Z)(function*(pe){try{return yield(yield V()).transaction(X).objectStore(X).get(Qe(pe))}catch(fe){if(fe instanceof ce.ZR)Wr.warn(fe.message);else{const Le=Kn.create("idb-get",{originalErrorMessage:fe?.message});Wr.warn(Le.message)}}})).apply(this,arguments)}function ie(pe,fe){return De.apply(this,arguments)}function De(){return(De=(0,n.Z)(function*(pe,fe){try{const Ue=(yield V()).transaction(X,"readwrite");yield Ue.objectStore(X).put(fe,Qe(pe)),yield Ue.done}catch(Le){if(Le instanceof ce.ZR)Wr.warn(Le.message);else{const Ue=Kn.create("idb-set",{originalErrorMessage:Le?.message});Wr.warn(Ue.message)}}})).apply(this,arguments)}function Qe(pe){return`${pe.name}!${pe.options.appId}`}class Ke{constructor(fe){this.container=fe,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new qt(Le),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var fe=this;return(0,n.Z)(function*(){const Ue=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=ot();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==yt&&!fe._heartbeatsCache.heartbeats.some(an=>an.date===yt))return fe._heartbeatsCache.heartbeats.push({date:yt,agent:Ue}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(an=>{const _n=new Date(an.date).valueOf();return Date.now()-_n<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,n.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const Le=ot(),{heartbeatsToSend:Ue,unsentEntries:yt}=function vn(pe,fe=1024){const Le=[];let Ue=pe.slice();for(const yt of pe){const an=Le.find(_n=>_n.agent===yt.agent);if(an){if(an.dates.push(yt.date),In(Le)>fe){an.dates.pop();break}}else if(Le.push({agent:yt.agent,dates:[yt.date]}),In(Le)>fe){Le.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:Le,unsentEntries:Ue}}(fe._heartbeatsCache.heartbeats),an=(0,ce.L)(JSON.stringify({version:2,heartbeats:Ue}));return fe._heartbeatsCache.lastSentHeartbeatDate=Le,yt.length>0?(fe._heartbeatsCache.heartbeats=yt,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),an})()}}function ot(){return(new Date).toISOString().substring(0,10)}class qt{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,n.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,n.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function U(pe){return F.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var Le=this;return(0,n.Z)(function*(){var Ue;if(yield Le._canUseIndexedDBPromise){const an=yield Le.read();return ie(Le.app,{lastSentHeartbeatDate:null!==(Ue=fe.lastSentHeartbeatDate)&&void 0!==Ue?Ue:an.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var Le=this;return(0,n.Z)(function*(){var Ue;if(yield Le._canUseIndexedDBPromise){const an=yield Le.read();return ie(Le.app,{lastSentHeartbeatDate:null!==(Ue=fe.lastSentHeartbeatDate)&&void 0!==Ue?Ue:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...fe.heartbeats]})}})()}}function In(pe){return(0,ce.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function ms(pe){mt(new J.wA("platform-logger",fe=>new xt(fe),"PRIVATE")),mt(new J.wA("heartbeat",fe=>new Ke(fe),"PRIVATE")),ns(ut,"0.9.13",pe),ns(ut,"0.9.13","esm2017"),ns("fire-js","")}("")},4859:(ht,Se,j)=>{j.d(Se,{H0:()=>re,wA:()=>B,zt:()=>ue});var n=j(5861),J=j(2090);class B{constructor(q,z,K){this.name=q,this.instanceFactory=z,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ce="[DEFAULT]";class ue{constructor(q,z){this.name=q,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const z=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(z)){const K=new J.BH;if(this.instancesDeferred.set(z,K),this.isInitialized(z)||this.shouldAutoInitialize())try{const ge=this.getOrInitializeService({instanceIdentifier:z});ge&&K.resolve(ge)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(q){var z;const K=this.normalizeInstanceIdentifier(q?.identifier),ge=null!==(z=q?.optional)&&void 0!==z&&z;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ce){if(ge)return null;throw Ce}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ne(se){return"EAGER"===se.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[z,K]of this.instancesDeferred.entries()){const ge=this.normalizeInstanceIdentifier(z);try{const Ce=this.getOrInitializeService({instanceIdentifier:ge});K.resolve(Ce)}catch{}}}}clearInstance(q=ce){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,n.Z)(function*(){const z=Array.from(q.instances.values());yield Promise.all([...z.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...z.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ce){return this.instances.has(q)}getOptions(q=ce){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:z={}}=q,K=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ge=this.getOrInitializeService({instanceIdentifier:K,options:z});for(const[Ce,Ee]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ce)&&Ee.resolve(ge);return ge}onInit(q,z){var K;const ge=this.normalizeInstanceIdentifier(z),Ce=null!==(K=this.onInitCallbacks.get(ge))&&void 0!==K?K:new Set;Ce.add(q),this.onInitCallbacks.set(ge,Ce);const Ee=this.instances.get(ge);return Ee&&q(Ee,ge),()=>{Ce.delete(q)}}invokeOnInitCallbacks(q,z){const K=this.onInitCallbacks.get(z);if(K)for(const ge of K)try{ge(q,z)}catch{}}getOrInitializeService({instanceIdentifier:q,options:z={}}){let K=this.instances.get(q);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(se=q,se===ce?void 0:se),options:z}),this.instances.set(q,K),this.instancesOptions.set(q,z),this.invokeOnInitCallbacks(K,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,K)}catch{}var se;return K||null}normalizeInstanceIdentifier(q=ce){return this.component?this.component.multipleInstances?q:ce:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const z=this.getProvider(q.name);if(z.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);z.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const z=new ue(q,this);return this.providers.set(q,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Se,j)=>{j.d(Se,{Am:()=>se,Ub:()=>re,Yd:()=>ne,in:()=>J});const n=[];var J=(()=>{return(q=J||(J={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",J;var q})();const B={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ce=J.INFO,ue={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ae=(q,z,...K)=>{if(z<q.logLevel)return;const ge=(new Date).toISOString(),Ce=ue[z];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Ce](`[${ge}]  ${q.name}:`,...K)};class ne{constructor(z){this.name=z,this._logLevel=ce,this._logHandler=ae,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in J))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?B[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...z),this._logHandler(this,J.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...z),this._logHandler(this,J.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,J.INFO,...z),this._logHandler(this,J.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,J.WARN,...z),this._logHandler(this,J.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...z),this._logHandler(this,J.ERROR,...z)}}function re(q){n.forEach(z=>{z.setLogLevel(q)})}function se(q,z){for(const K of n){let ge=null;z&&z.level&&(ge=B[z.level]),K.userLogHandler=null===q?null:(Ce,Ee,...Ie)=>{const ye=Ie.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Ee>=(ge??Ce.logLevel)&&q({level:J[Ee].toLowerCase(),message:ye,args:Ie,type:Ce.name})}}}},259:(ht,Se,j)=>{j.d(Se,{C6:()=>n.getApps,Mq:()=>n.getApp});var n=j(6881);(0,n.registerVersion)("firebase","9.23.0","app")},9260:(ht,Se,j)=>{j.d(Se,{Z:()=>n.Z});var n=j(3942);n.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(ht,Se,j)=>{j.r(Se);var n=j(5861),J=j(3942),B=j(9781),ce=j(2090),ne=(j(6881),j(1877),j(4859));function re(){return window}function z(){return(z=(0,n.Z)(function*(V,U,F){var ie;const{BuildInfo:De}=re();(0,B.as)(U.sessionId,"AuthEvent did not contain a session ID");const Qe=yield Ae(U.sessionId),gt={};return(0,B.at)()?gt.ibi=De.packageName:(0,B.au)()?gt.apn=De.packageName:(0,B.av)(V,"operation-not-supported-in-this-environment"),De.displayName&&(gt.appDisplayName=De.displayName),gt.sessionId=Qe,(0,B.aw)(V,F,U.type,void 0,null!==(ie=U.eventId)&&void 0!==ie?ie:void 0,gt)})).apply(this,arguments)}function ge(){return(ge=(0,n.Z)(function*(V){const{BuildInfo:U}=re(),F={};(0,B.at)()?F.iosBundleId=U.packageName:(0,B.au)()?F.androidPackageName=U.packageName:(0,B.av)(V,"operation-not-supported-in-this-environment"),yield(0,B.ax)(V,F)})).apply(this,arguments)}function Ie(){return(Ie=(0,n.Z)(function*(V,U,F){const{cordova:ie}=re();let De=()=>{};try{yield new Promise((Qe,gt)=>{let xe=null;function Ke(){var qt;Qe();const In=null===(qt=ie.plugins.browsertab)||void 0===qt?void 0:qt.close;"function"==typeof In&&In(),"function"==typeof F?.close&&F.close()}function ot(){xe||(xe=window.setTimeout(()=>{gt((0,B.az)(V,"redirect-cancelled-by-user"))},2e3))}function vn(){"visible"===document?.visibilityState&&ot()}U.addPassiveListener(Ke),document.addEventListener("resume",ot,!1),(0,B.au)()&&document.addEventListener("visibilitychange",vn,!1),De=()=>{U.removePassiveListener(Ke),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",vn,!1),xe&&window.clearTimeout(xe)}})}finally{De()}})).apply(this,arguments)}function Ae(V){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,n.Z)(function*(V){const U=Mt(V),F=yield crypto.subtle.digest("SHA-256",U);return Array.from(new Uint8Array(F)).map(De=>De.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Mt(V){if((0,B.as)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const U=new ArrayBuffer(V.length),F=new Uint8Array(U);for(let ie=0;ie<V.length;ie++)F[ie]=V.charCodeAt(ie);return F}class ii extends B.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(U=>{this.resolveInialized=U})}addPassiveListener(U){this.passiveListeners.add(U)}removePassiveListener(U){this.passiveListeners.delete(U)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(U){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(U)),super.onEvent(U)}initialized(){var U=this;return(0,n.Z)(function*(){yield U.initPromise})()}}function Vt(V){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,n.Z)(function*(V){const U=yield xt()._get(Sn(V));return U&&(yield xt()._remove(Sn(V))),U})).apply(this,arguments)}function pn(){const V=[],U="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<20;F++){const ie=Math.floor(Math.random()*U.length);V.push(U.charAt(ie))}return V.join("")}function xt(){return(0,B.aC)(B.b)}function Sn(V){return(0,B.aD)("authEvent",V.config.apiKey,V.name)}function Wr(V){if(!V?.includes("?"))return{};const[U,...F]=V.split("?");return(0,ce.zd)(F.join("?"))}function Tn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.az)("no-auth-event")}}function Ai(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function Qi(V=(0,ce.z$)()){return!("file:"!==Ai()&&"ionic:"!==Ai()&&"capacitor:"!==Ai()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function ho(){try{const V=self.localStorage,U=B.aL();if(V)return V.setItem(U,"1"),V.removeItem(U),!function Wi(V=(0,ce.z$)()){return function Kr(){return(0,ce.w1)()&&11===document?.documentMode}()||function Ui(V=(0,ce.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,ce.hl)()}catch{return Ki()&&(0,ce.hl)()}return!1}function Ki(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xr(){return(function Bi(){return"http:"===Ai()||"https:"===Ai()}()||(0,ce.ru)()||Qi())&&!function Ha(){return(0,ce.b$)()||(0,ce.UG)()}()&&ho()&&!Ki()}function qe(){return Qi()&&typeof document<"u"}function tt(){return(tt=(0,n.Z)(function*(){return!!qe()&&new Promise(V=>{const U=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(U),V(!0)})})})).apply(this,arguments)}const wi={LOCAL:"local",NONE:"none",SESSION:"session"},Ei=B.aA,Xo="persistence";function hi(V){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,n.Z)(function*(V){yield V._initializationPromise;const U=ft(),F=B.aD(Xo,V.config.apiKey,V.name);U&&U.setItem(F,V._getPersistence())})).apply(this,arguments)}function ft(){var V;try{return(null===(V=function br(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const St=B.aA;class mt{constructor(){this.browserResolver=B.aC(B.k),this.cordovaResolver=B.aC(class ja{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(U){var F=this;return(0,n.Z)(function*(){const ie=U._key();let De=F.eventManagers.get(ie);return De||(De=new ii(U),F.eventManagers.set(ie,De),F.attachCallbackListeners(U,De)),De})()}_openPopup(U){(0,B.av)(U,"operation-not-supported-in-this-environment")}_openRedirect(U,F,ie,De){var Qe=this;return(0,n.Z)(function*(){!function ye(V){var U,F,ie,De,Qe,gt,xe,Ke,ot,vn;const qt=re();(0,B.aA)("function"==typeof(null===(U=qt?.universalLinks)||void 0===U?void 0:U.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aA)(typeof(null===(F=qt?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aA)("function"==typeof(null===(Qe=null===(De=null===(ie=qt?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===De?void 0:De.browsertab)||void 0===Qe?void 0:Qe.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(Ke=null===(xe=null===(gt=qt?.cordova)||void 0===gt?void 0:gt.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===Ke?void 0:Ke.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(vn=null===(ot=qt?.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===vn?void 0:vn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(U);const gt=yield Qe._initialize(U);yield gt.initialized(),gt.resetRedirect(),(0,B.aG)(),yield Qe._originValidation(U);const xe=function bn(V,U,F=null){return{type:U,eventId:F,urlResponse:null,sessionId:pn(),postBody:null,tenantId:V.tenantId,error:(0,B.az)(V,"no-auth-event")}}(U,ie,De);yield function ai(V,U){return xt()._set(Sn(V),U)}(U,xe);const Ke=yield function q(V,U,F){return z.apply(this,arguments)}(U,xe,F),ot=yield function Ce(V){const{cordova:U}=re();return new Promise(F=>{U.plugins.browsertab.isAvailable(ie=>{let De=null;ie?U.plugins.browsertab.openUrl(V):De=U.InAppBrowser.open(V,(0,B.ay)()?"_blank":"_system","location=yes"),F(De)})})}(Ke);return function Ee(V,U,F){return Ie.apply(this,arguments)}(U,gt,ot)})()}_isIframeWebStorageSupported(U,F){throw new Error("Method not implemented.")}_originValidation(U){const F=U._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function K(V){return ge.apply(this,arguments)}(U)),this.originValidationPromises[F]}attachCallbackListeners(U,F){const{universalLinks:ie,handleOpenURL:De,BuildInfo:Qe}=re(),gt=setTimeout((0,n.Z)(function*(){yield Vt(U),F.onEvent(Tn())}),500),xe=function(){var vn=(0,n.Z)(function*(qt){clearTimeout(gt);const In=yield Vt(U);let ms=null;In&&qt?.url&&(ms=function _t(V,U){var F,ie;const De=function Wo(V){const U=Wr(V),F=U.link?decodeURIComponent(U.link):void 0,ie=Wr(F).link,De=U.deep_link_id?decodeURIComponent(U.deep_link_id):void 0;return Wr(De).link||De||ie||F||V}(U);if(De.includes("/__/auth/callback")){const Qe=Wr(De),gt=Qe.firebaseError?function ut(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(Qe.firebaseError)):null,xe=null===(ie=null===(F=gt?.code)||void 0===F?void 0:F.split("auth/"))||void 0===ie?void 0:ie[1],Ke=xe?(0,B.az)(xe):null;return Ke?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Ke,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:De,postBody:null}}return null}(In,qt.url)),F.onEvent(ms||Tn())});return function(In){return vn.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,xe);const Ke=De,ot=`${Qe.packageName.toLowerCase()}://`;re().handleOpenURL=function(){var vn=(0,n.Z)(function*(qt){if(qt.toLowerCase().startsWith(ot)&&xe({url:qt}),"function"==typeof Ke)try{Ke(qt)}catch(In){console.error(In)}});return function(qt){return vn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(U){var F=this;return(0,n.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(U)})()}_openPopup(U,F,ie,De){var Qe=this;return(0,n.Z)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openPopup(U,F,ie,De)})()}_openRedirect(U,F,ie,De){var Qe=this;return(0,n.Z)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openRedirect(U,F,ie,De)})()}_isIframeWebStorageSupported(U,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(U,F)}_originValidation(U){return this.assertedUnderlyingResolver._originValidation(U)}get _shouldInitProactively(){return qe()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return St(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var U=this;return(0,n.Z)(function*(){if(U.underlyingResolver)return;const F=yield function es(){return tt.apply(this,arguments)}();U.underlyingResolver=F?U.cordovaResolver:U.browserResolver})()}}function On(V){return V.unwrap()}function lr(V){return Kn(V)}function Kn(V){const{_tokenResponse:U}=V instanceof ce.ZR?V.customData:V;if(!U)return null;if(!(V instanceof ce.ZR)&&"temporaryProof"in U&&"phoneNumber"in U)return B.P.credentialFromResult(V);const F=U.providerId;if(!F||F===B.p.PASSWORD)return null;let ie;switch(F){case B.p.GOOGLE:ie=B.V;break;case B.p.FACEBOOK:ie=B.U;break;case B.p.GITHUB:ie=B.W;break;case B.p.TWITTER:ie=B.Z;break;default:const{oauthIdToken:De,oauthAccessToken:Qe,oauthTokenSecret:gt,pendingToken:xe,nonce:Ke}=U;return Qe||gt||De||xe?xe?F.startsWith("saml.")?B.aO._create(F,xe):B.L._fromParams({providerId:F,signInMethod:F,pendingToken:xe,idToken:De,accessToken:Qe}):new B.X(F).credential({idToken:De,accessToken:Qe,rawNonce:Ke}):null}return V instanceof ce.ZR?ie.credentialFromError(V):ie.credentialFromResult(V)}function on(V,U){return U.catch(F=>{throw F instanceof ce.ZR&&function It(V,U){var F;const ie=null===(F=U.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===U?.code)U.resolver=new fi(V,B.aq(V,U));else if(ie){const De=Kn(U),Qe=U;De&&(Qe.credential=De,Qe.tenantId=ie.tenantId||void 0,Qe.email=ie.email||void 0,Qe.phoneNumber=ie.phoneNumber||void 0)}}(V,F),F}).then(F=>{const De=F.user;return{operationType:F.operationType,credential:lr(F),additionalUserInfo:B.ao(F),user:pi.getOrCreate(De)}})}function qs(V,U){return An.apply(this,arguments)}function An(){return(An=(0,n.Z)(function*(V,U){const F=yield U;return{verificationId:F.verificationId,confirm:ie=>on(V,F.confirm(ie))}})).apply(this,arguments)}class fi{constructor(U,F){this.resolver=F,this.auth=function Ir(V){return V.wrapped()}(U)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(U){return on(On(this.auth),this.resolver.resolveSignIn(U))}}class pi{constructor(U){this._delegate=U,this.multiFactor=B.ar(U)}static getOrCreate(U){return pi.USER_MAP.has(U)||pi.USER_MAP.set(U,new pi(U)),pi.USER_MAP.get(U)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(U){return this._delegate.getIdTokenResult(U)}getIdToken(U){return this._delegate.getIdToken(U)}linkAndRetrieveDataWithCredential(U){return this.linkWithCredential(U)}linkWithCredential(U){var F=this;return(0,n.Z)(function*(){return on(F.auth,B.a0(F._delegate,U))})()}linkWithPhoneNumber(U,F){var ie=this;return(0,n.Z)(function*(){return qs(ie.auth,B.l(ie._delegate,U,F))})()}linkWithPopup(U){var F=this;return(0,n.Z)(function*(){return on(F.auth,B.d(F._delegate,U,mt))})()}linkWithRedirect(U){var F=this;return(0,n.Z)(function*(){return yield hi(B.aH(F.auth)),B.g(F._delegate,U,mt)})()}reauthenticateAndRetrieveDataWithCredential(U){return this.reauthenticateWithCredential(U)}reauthenticateWithCredential(U){var F=this;return(0,n.Z)(function*(){return on(F.auth,B.a1(F._delegate,U))})()}reauthenticateWithPhoneNumber(U,F){return qs(this.auth,B.r(this._delegate,U,F))}reauthenticateWithPopup(U){return on(this.auth,B.e(this._delegate,U,mt))}reauthenticateWithRedirect(U){var F=this;return(0,n.Z)(function*(){return yield hi(B.aH(F.auth)),B.h(F._delegate,U,mt)})()}sendEmailVerification(U){return B.ae(this._delegate,U)}unlink(U){var F=this;return(0,n.Z)(function*(){return yield B.an(F._delegate,U),F})()}updateEmail(U){return B.aj(this._delegate,U)}updatePassword(U){return B.ak(this._delegate,U)}updatePhoneNumber(U){return B.u(this._delegate,U)}updateProfile(U){return B.ai(this._delegate,U)}verifyBeforeUpdateEmail(U,F){return B.af(this._delegate,U,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pi.USER_MAP=new WeakMap;const ts=B.aA;let vr=(()=>{class V{constructor(F,ie){if(this.app=F,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:De}=F.options;ts(De,"invalid-api-key",{appName:F.name}),ts(De,"invalid-api-key",{appName:F.name});const Qe=typeof window<"u"?mt:void 0;this._delegate=ie.initialize({options:{persistence:fo(De,F.name),popupRedirectResolver:Qe}}),this._delegate._updateErrorMap(B.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,ie){B.I(this._delegate,F,ie)}applyActionCode(F){return B.a5(this._delegate,F)}checkActionCode(F){return B.a6(this._delegate,F)}confirmPasswordReset(F,ie){return B.a4(this._delegate,F,ie)}createUserWithEmailAndPassword(F,ie){var De=this;return(0,n.Z)(function*(){return on(De._delegate,B.a8(De._delegate,F,ie))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return B.ad(this._delegate,F)}isSignInWithEmailLink(F){return B.ab(this._delegate,F)}getRedirectResult(){var F=this;return(0,n.Z)(function*(){ts(Xr(),F._delegate,"operation-not-supported-in-this-environment");const ie=yield B.j(F._delegate,mt);return ie?on(F._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Ec(V,U){(0,B.aH)(V)._logFramework(U)}(this._delegate,F)}onAuthStateChanged(F,ie,De){const{next:Qe,error:gt,complete:xe}=ns(F,ie,De);return this._delegate.onAuthStateChanged(Qe,gt,xe)}onIdTokenChanged(F,ie,De){const{next:Qe,error:gt,complete:xe}=ns(F,ie,De);return this._delegate.onIdTokenChanged(Qe,gt,xe)}sendSignInLinkToEmail(F,ie){return B.aa(this._delegate,F,ie)}sendPasswordResetEmail(F,ie){return B.a3(this._delegate,F,ie||void 0)}setPersistence(F){var ie=this;return(0,n.Z)(function*(){let De;switch(function Hs(V,U){Ei(Object.values(wi).includes(U),V,"invalid-persistence-type"),(0,ce.b$)()?Ei(U!==wi.SESSION,V,"unsupported-persistence-type"):(0,ce.UG)()?Ei(U===wi.NONE,V,"unsupported-persistence-type"):Ki()?Ei(U===wi.NONE||U===wi.LOCAL&&(0,ce.hl)(),V,"unsupported-persistence-type"):Ei(U===wi.NONE||ho(),V,"unsupported-persistence-type")}(ie._delegate,F),F){case wi.SESSION:De=B.a;break;case wi.LOCAL:De=(yield B.aC(B.i)._isAvailable())?B.i:B.b;break;case wi.NONE:De=B.N;break;default:return B.av("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(De)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return on(this._delegate,B._(this._delegate))}signInWithCredential(F){return on(this._delegate,B.$(this._delegate,F))}signInWithCustomToken(F){return on(this._delegate,B.a2(this._delegate,F))}signInWithEmailAndPassword(F,ie){return on(this._delegate,B.a9(this._delegate,F,ie))}signInWithEmailLink(F,ie){return on(this._delegate,B.ac(this._delegate,F,ie))}signInWithPhoneNumber(F,ie){return qs(this._delegate,B.s(this._delegate,F,ie))}signInWithPopup(F){var ie=this;return(0,n.Z)(function*(){return ts(Xr(),ie._delegate,"operation-not-supported-in-this-environment"),on(ie._delegate,B.c(ie._delegate,F,mt))})()}signInWithRedirect(F){var ie=this;return(0,n.Z)(function*(){return ts(Xr(),ie._delegate,"operation-not-supported-in-this-environment"),yield hi(ie._delegate),B.f(ie._delegate,F,mt)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return B.a7(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=wi,V})();function ns(V,U,F){let ie=V;"function"!=typeof V&&({next:ie,error:U,complete:F}=V);const De=ie;return{next:gt=>De(gt&&pi.getOrCreate(gt)),error:U,complete:F}}function fo(V,U){const F=function Nn(V,U){const F=ft();if(!F)return[];const ie=B.aD(Xo,V,U);switch(F.getItem(ie)){case wi.NONE:return[B.N];case wi.LOCAL:return[B.i,B.a];case wi.SESSION:return[B.a];default:return[]}}(V,U);if(typeof self<"u"&&!F.includes(B.i)&&F.push(B.i),typeof window<"u")for(const ie of[B.b,B.a])F.includes(ie)||F.push(ie);return F.includes(B.N)||F.push(B.N),F}class is{constructor(){this.providerId="phone",this._delegate=new B.P(On(J.Z.auth()))}static credential(U,F){return B.P.credential(U,F)}verifyPhoneNumber(U,F){return this._delegate.verifyPhoneNumber(U,F)}unwrap(){return this._delegate}}is.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,is.PROVIDER_ID=B.P.PROVIDER_ID;const Xi=B.aA;class po{constructor(U,F,ie=J.Z.app()){var De;Xi(null===(De=ie.options)||void 0===De?void 0:De.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new B.R(U,F,ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(V){V.INTERNAL.registerComponent(new ne.wA("auth-compat",U=>{const F=U.getProvider("app-compat").getImmediate(),ie=U.getProvider("auth");return new vr(F,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.Q,FacebookAuthProvider:B.U,GithubAuthProvider:B.W,GoogleAuthProvider:B.V,OAuthProvider:B.X,SAMLAuthProvider:B.Y,PhoneAuthProvider:is,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:po,TwitterAuthProvider:B.Z,Auth:vr,AuthCredential:B.J,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.4.2")}(J.Z)},5861:(ht,Se,j)=>{function n(B,ce,ue,ae,ne,re,se){try{var q=B[re](se),z=q.value}catch(K){return void ue(K)}q.done?ce(z):Promise.resolve(z).then(ae,ne)}function J(B){return function(){var ce=this,ue=arguments;return new Promise(function(ae,ne){var re=B.apply(ce,ue);function se(z){n(re,ae,ne,se,q,"next",z)}function q(z){n(re,ae,ne,se,q,"throw",z)}se(void 0)})}}j.d(Se,{Z:()=>J})}},ht=>{ht(ht.s=1502)}]);